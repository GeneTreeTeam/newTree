/**
 * Handle toggle online/offline
 * @function line
 * @param {function} handler - Event handler
 */
'use strict';

var debug = require('debug');

var get = require('./get');
/** @lends line */


function line(handler) {
  var window = get('window');

  if (!window) {
    return;
  }

  var handlerWrap = function handlerWrap(connected) {
    debug('onLine', connected);
    handler(connected);
  };

  window.addEventListener('offline', function () {
    return handlerWrap(false);
  });
  window.addEventListener('online', function () {
    return handlerWrap(true);
  });
  handlerWrap(get('navigator.onLine'));
}

module.exports = line;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpbmUuanMiXSwibmFtZXMiOlsiZGVidWciLCJyZXF1aXJlIiwiZ2V0IiwibGluZSIsImhhbmRsZXIiLCJ3aW5kb3ciLCJoYW5kbGVyV3JhcCIsImNvbm5lY3RlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7QUFLQTs7QUFFQSxJQUFNQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLElBQU1DLEdBQUcsR0FBR0QsT0FBTyxDQUFDLE9BQUQsQ0FBbkI7QUFFQTs7O0FBQ0EsU0FBU0UsSUFBVCxDQUFlQyxPQUFmLEVBQXdCO0FBQ3RCLE1BQU1DLE1BQU0sR0FBR0gsR0FBRyxDQUFDLFFBQUQsQ0FBbEI7O0FBQ0EsTUFBSSxDQUFDRyxNQUFMLEVBQWE7QUFDWDtBQUNEOztBQUNELE1BQU1DLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQUNDLFNBQUQsRUFBZTtBQUNqQ1AsSUFBQUEsS0FBSyxDQUFDLFFBQUQsRUFBV08sU0FBWCxDQUFMO0FBQ0FILElBQUFBLE9BQU8sQ0FBQ0csU0FBRCxDQUFQO0FBQ0QsR0FIRDs7QUFJQUYsRUFBQUEsTUFBTSxDQUFDRyxnQkFBUCxDQUF3QixTQUF4QixFQUFtQztBQUFBLFdBQU1GLFdBQVcsQ0FBQyxLQUFELENBQWpCO0FBQUEsR0FBbkM7QUFDQUQsRUFBQUEsTUFBTSxDQUFDRyxnQkFBUCxDQUF3QixRQUF4QixFQUFrQztBQUFBLFdBQU1GLFdBQVcsQ0FBQyxJQUFELENBQWpCO0FBQUEsR0FBbEM7QUFDQUEsRUFBQUEsV0FBVyxDQUFDSixHQUFHLENBQUMsa0JBQUQsQ0FBSixDQUFYO0FBQ0Q7O0FBRURPLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlAsSUFBakIiLCJzb3VyY2VSb290IjoiLi4vbGliIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBIYW5kbGUgdG9nZ2xlIG9ubGluZS9vZmZsaW5lXG4gKiBAZnVuY3Rpb24gbGluZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIEV2ZW50IGhhbmRsZXJcbiAqL1xuJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKVxuY29uc3QgZ2V0ID0gcmVxdWlyZSgnLi9nZXQnKVxuXG4vKiogQGxlbmRzIGxpbmUgKi9cbmZ1bmN0aW9uIGxpbmUgKGhhbmRsZXIpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0KCd3aW5kb3cnKVxuICBpZiAoIXdpbmRvdykge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IGhhbmRsZXJXcmFwID0gKGNvbm5lY3RlZCkgPT4ge1xuICAgIGRlYnVnKCdvbkxpbmUnLCBjb25uZWN0ZWQpXG4gICAgaGFuZGxlcihjb25uZWN0ZWQpXG4gIH1cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCAoKSA9PiBoYW5kbGVyV3JhcChmYWxzZSkpXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCAoKSA9PiBoYW5kbGVyV3JhcCh0cnVlKSlcbiAgaGFuZGxlcldyYXAoZ2V0KCduYXZpZ2F0b3Iub25MaW5lJykpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGluZVxuIl19