/**
 * Handle event one on document
 * @function one
 * @param {string} event - Name of event
 * @param {function} handler - Event handler
 */
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var get = require('./get');
/** @lends on */


function on(event, handler) {
  var window = get('window');

  var handlerWrap =
  /*#__PURE__*/
  function () {
    var _ref = (0, _asyncToGenerator2.default)(
    /*#__PURE__*/
    _regenerator.default.mark(function _callee() {
      var _args = arguments;
      return _regenerator.default.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              _context.next = 3;
              return handler.apply(void 0, _args);

            case 3:
              _context.next = 8;
              break;

            case 5:
              _context.prev = 5;
              _context.t0 = _context["catch"](0);
              throw _context.t0;

            case 8:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, this, [[0, 5]]);
    }));

    return function handlerWrap() {
      return _ref.apply(this, arguments);
    };
  }();

  window.addEventListener(event, handlerWrap);
}

module.exports = on;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9uLmpzIl0sIm5hbWVzIjpbImdldCIsInJlcXVpcmUiLCJvbiIsImV2ZW50IiwiaGFuZGxlciIsIndpbmRvdyIsImhhbmRsZXJXcmFwIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFNQTs7Ozs7Ozs7QUFFQSxJQUFNQSxNQUFNQyxRQUFRLE9BQVIsQ0FBWjtBQUVBOzs7QUFDQSxTQUFTQyxFQUFULENBQWFDLEtBQWIsRUFBb0JDLE9BQXBCLEVBQTZCO0FBQzNCLE1BQU1DLFNBQVNMLElBQUksUUFBSixDQUFmOztBQUNBLE1BQU1NO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSw4QkFBYztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEscUJBRVZGLDRCQUZVOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQUFkOztBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQU47O0FBT0FDLFNBQU9FLGdCQUFQLENBQXdCSixLQUF4QixFQUErQkcsV0FBL0I7QUFDRDs7QUFFREUsT0FBT0MsT0FBUCxHQUFpQlAsRUFBakIiLCJzb3VyY2VSb290IjoiLi4vbGliIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBIYW5kbGUgZXZlbnQgb25lIG9uIGRvY3VtZW50XG4gKiBAZnVuY3Rpb24gb25lXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBOYW1lIG9mIGV2ZW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIC0gRXZlbnQgaGFuZGxlclxuICovXG4ndXNlIHN0cmljdCdcblxuY29uc3QgZ2V0ID0gcmVxdWlyZSgnLi9nZXQnKVxuXG4vKiogQGxlbmRzIG9uICovXG5mdW5jdGlvbiBvbiAoZXZlbnQsIGhhbmRsZXIpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0KCd3aW5kb3cnKVxuICBjb25zdCBoYW5kbGVyV3JhcCA9IGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGhhbmRsZXIoLi4uYXJncylcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBlXG4gICAgfVxuICB9XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyV3JhcClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvblxuIl19