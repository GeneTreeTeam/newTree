/**
 * Mount element on DOM
 * @function mount
 * @param {*} element - React element
 * @param {string} containerId - Id of container dom
 * @param {object} [options] - Optional settings
 * @returns {Promise}
 */
'use strict';

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var get = require('./get');

var _require = require('the-router'),
    TheRouter = _require.TheRouter;

var _require2 = require('react'),
    c = _require2.createElement;

var _require3 = require('react-dom'),
    render = _require3.render;

var history = require('./history');

/** @lends mount */
function mount(element, containerId) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var _options$router = options.router,
      router = _options$router === undefined ? false : _options$router;

  var document = get('window.document');
  var container = document && document.getElementById(containerId);
  if (!container) {
    throw new Error('[the-window] Container not found with id: "' + containerId + '"');
  }
  if (router) {
    element = c(TheRouter, {
      history: options.history || history()
    }, element);
  }
  return new _promise2.default(function (resolve) {
    render(element, container, function () {
      resolve({});
    });
  });
}

module.exports = mount;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vdW50LmpzIl0sIm5hbWVzIjpbImdldCIsInJlcXVpcmUiLCJUaGVSb3V0ZXIiLCJjIiwiY3JlYXRlRWxlbWVudCIsInJlbmRlciIsImhpc3RvcnkiLCJtb3VudCIsImVsZW1lbnQiLCJjb250YWluZXJJZCIsIm9wdGlvbnMiLCJyb3V0ZXIiLCJkb2N1bWVudCIsImNvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiRXJyb3IiLCJyZXNvbHZlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0FBUUE7Ozs7Ozs7O0FBRUEsSUFBTUEsTUFBTUMsUUFBUSxPQUFSLENBQVo7O2VBQ29CQSxRQUFRLFlBQVIsQztJQUFiQyxTLFlBQUFBLFM7O2dCQUNvQkQsUUFBUSxPQUFSLEM7SUFBTEUsQyxhQUFmQyxhOztnQkFDVUgsUUFBUSxXQUFSLEM7SUFBVkksTSxhQUFBQSxNOztBQUNQLElBQU1DLFVBQVVMLFFBQVEsV0FBUixDQUFoQjs7QUFFQTtBQUNBLFNBQVNNLEtBQVQsQ0FBZ0JDLE9BQWhCLEVBQXlCQyxXQUF6QixFQUFvRDtBQUFBLE1BQWRDLE9BQWMsdUVBQUosRUFBSTtBQUFBLHdCQUN6QkEsT0FEeUIsQ0FDM0NDLE1BRDJDO0FBQUEsTUFDM0NBLE1BRDJDLG1DQUNsQyxLQURrQzs7QUFFbEQsTUFBTUMsV0FBV1osSUFBSSxpQkFBSixDQUFqQjtBQUNBLE1BQU1hLFlBQVlELFlBQVlBLFNBQVNFLGNBQVQsQ0FBd0JMLFdBQXhCLENBQTlCO0FBQ0EsTUFBSSxDQUFDSSxTQUFMLEVBQWdCO0FBQ2QsVUFBTSxJQUFJRSxLQUFKLGlEQUF3RE4sV0FBeEQsT0FBTjtBQUNEO0FBQ0QsTUFBSUUsTUFBSixFQUFZO0FBQ1ZILGNBQVVMLEVBQUVELFNBQUYsRUFBYTtBQUNyQkksZUFBU0ksUUFBUUosT0FBUixJQUFtQkE7QUFEUCxLQUFiLEVBRVBFLE9BRk8sQ0FBVjtBQUdEO0FBQ0QsU0FBTyxzQkFBWSxVQUFDUSxPQUFELEVBQWE7QUFDOUJYLFdBQU9HLE9BQVAsRUFBZ0JLLFNBQWhCLEVBQTJCLFlBQWE7QUFDdENHLGNBQVEsRUFBUjtBQUNELEtBRkQ7QUFHRCxHQUpNLENBQVA7QUFLRDs7QUFFREMsT0FBT0MsT0FBUCxHQUFpQlgsS0FBakIiLCJmaWxlIjoibW91bnQuanMiLCJzb3VyY2VSb290IjoibGliIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNb3VudCBlbGVtZW50IG9uIERPTVxuICogQGZ1bmN0aW9uIG1vdW50XG4gKiBAcGFyYW0geyp9IGVsZW1lbnQgLSBSZWFjdCBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGFpbmVySWQgLSBJZCBvZiBjb250YWluZXIgZG9tXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uYWwgc2V0dGluZ3NcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG4ndXNlIHN0cmljdCdcblxuY29uc3QgZ2V0ID0gcmVxdWlyZSgnLi9nZXQnKVxuY29uc3Qge1RoZVJvdXRlcn0gPSByZXF1aXJlKCd0aGUtcm91dGVyJylcbmNvbnN0IHtjcmVhdGVFbGVtZW50OiBjfSA9IHJlcXVpcmUoJ3JlYWN0JylcbmNvbnN0IHtyZW5kZXJ9ID0gcmVxdWlyZSgncmVhY3QtZG9tJylcbmNvbnN0IGhpc3RvcnkgPSByZXF1aXJlKCcuL2hpc3RvcnknKVxuXG4vKiogQGxlbmRzIG1vdW50ICovXG5mdW5jdGlvbiBtb3VudCAoZWxlbWVudCwgY29udGFpbmVySWQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7cm91dGVyID0gZmFsc2V9ID0gb3B0aW9uc1xuICBjb25zdCBkb2N1bWVudCA9IGdldCgnd2luZG93LmRvY3VtZW50JylcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpXG4gIGlmICghY29udGFpbmVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBbdGhlLXdpbmRvd10gQ29udGFpbmVyIG5vdCBmb3VuZCB3aXRoIGlkOiBcIiR7Y29udGFpbmVySWR9XCJgKVxuICB9XG4gIGlmIChyb3V0ZXIpIHtcbiAgICBlbGVtZW50ID0gYyhUaGVSb3V0ZXIsIHtcbiAgICAgIGhpc3Rvcnk6IG9wdGlvbnMuaGlzdG9yeSB8fCBoaXN0b3J5KClcbiAgICB9LCBlbGVtZW50KVxuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHJlbmRlcihlbGVtZW50LCBjb250YWluZXIsICguLi5hcmdzKSA9PiB7XG4gICAgICByZXNvbHZlKHt9KVxuICAgIH0pXG4gIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0gbW91bnRcbiJdfQ==