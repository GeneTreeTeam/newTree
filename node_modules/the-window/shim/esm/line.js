/**
 * Handle toggle online/offline
 * @function line
 * @param {function} handler - Event handler
 */
'use strict';

import debug from 'debug';
import get from './get';
/** @lends line */

function line(handler) {
  var window = get('window');

  if (!window) {
    return;
  }

  var handlerWrap = function handlerWrap(connected) {
    debug('onLine', connected);
    handler(connected);
  };

  window.addEventListener('offline', function () {
    return handlerWrap(false);
  });
  window.addEventListener('online', function () {
    return handlerWrap(true);
  });
  handlerWrap(get('navigator.onLine'));
}

export default line;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpbmUuanMiXSwibmFtZXMiOlsiZGVidWciLCJnZXQiLCJsaW5lIiwiaGFuZGxlciIsIndpbmRvdyIsImhhbmRsZXJXcmFwIiwiY29ubmVjdGVkIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0FBS0E7O0FBRUEsT0FBT0EsS0FBUCxNQUFrQixPQUFsQjtBQUNBLE9BQU9DLEdBQVAsTUFBZ0IsT0FBaEI7QUFFQTs7QUFDQSxTQUFTQyxJQUFULENBQWVDLE9BQWYsRUFBd0I7QUFDdEIsTUFBTUMsTUFBTSxHQUFHSCxHQUFHLENBQUMsUUFBRCxDQUFsQjs7QUFDQSxNQUFJLENBQUNHLE1BQUwsRUFBYTtBQUNYO0FBQ0Q7O0FBQ0QsTUFBTUMsV0FBVyxHQUFHLFNBQWRBLFdBQWMsQ0FBQ0MsU0FBRCxFQUFlO0FBQ2pDTixJQUFBQSxLQUFLLENBQUMsUUFBRCxFQUFXTSxTQUFYLENBQUw7QUFDQUgsSUFBQUEsT0FBTyxDQUFDRyxTQUFELENBQVA7QUFDRCxHQUhEOztBQUlBRixFQUFBQSxNQUFNLENBQUNHLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DO0FBQUEsV0FBTUYsV0FBVyxDQUFDLEtBQUQsQ0FBakI7QUFBQSxHQUFuQztBQUNBRCxFQUFBQSxNQUFNLENBQUNHLGdCQUFQLENBQXdCLFFBQXhCLEVBQWtDO0FBQUEsV0FBTUYsV0FBVyxDQUFDLElBQUQsQ0FBakI7QUFBQSxHQUFsQztBQUNBQSxFQUFBQSxXQUFXLENBQUNKLEdBQUcsQ0FBQyxrQkFBRCxDQUFKLENBQVg7QUFDRDs7QUFFRCxlQUFlQyxJQUFmIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSGFuZGxlIHRvZ2dsZSBvbmxpbmUvb2ZmbGluZVxuICogQGZ1bmN0aW9uIGxpbmVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgLSBFdmVudCBoYW5kbGVyXG4gKi9cbid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IGdldCBmcm9tICcuL2dldCc7XG5cbi8qKiBAbGVuZHMgbGluZSAqL1xuZnVuY3Rpb24gbGluZSAoaGFuZGxlcikge1xuICBjb25zdCB3aW5kb3cgPSBnZXQoJ3dpbmRvdycpXG4gIGlmICghd2luZG93KSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3QgaGFuZGxlcldyYXAgPSAoY29ubmVjdGVkKSA9PiB7XG4gICAgZGVidWcoJ29uTGluZScsIGNvbm5lY3RlZClcbiAgICBoYW5kbGVyKGNvbm5lY3RlZClcbiAgfVxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsICgpID0+IGhhbmRsZXJXcmFwKGZhbHNlKSlcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsICgpID0+IGhhbmRsZXJXcmFwKHRydWUpKVxuICBoYW5kbGVyV3JhcChnZXQoJ25hdmlnYXRvci5vbkxpbmUnKSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgbGluZTtcbiJdfQ==