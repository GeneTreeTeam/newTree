/**
 * Read file as data url
 * @deprecated
 * @function readFileAsDataURL
 * @param {File} - File to read
 * @returns {Promise.<string>} Data url
 */
'use strict';

import _regeneratorRuntime from "@babel/runtime/regenerator";
import _asyncToGenerator from "@babel/runtime/helpers/asyncToGenerator";
import { get } from 'the-window';
/** @lends readFileAsDataURL */

function readFileAsDataURL(_x) {
  return _readFileAsDataURL.apply(this, arguments);
}

function _readFileAsDataURL() {
  _readFileAsDataURL = _asyncToGenerator(
  /*#__PURE__*/
  _regeneratorRuntime.mark(function _callee(file) {
    var FileReader;
    return _regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            FileReader = get('FileReader');
            return _context.abrupt("return", new Promise(function (resolve, reject) {
              var reader = new FileReader();

              reader.onerror = function (err) {
                return reject(err);
              };

              reader.onload = function (ev) {
                return resolve(ev.target.result);
              };

              reader.readAsDataURL(file);
            }));

          case 2:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, this);
  }));
  return _readFileAsDataURL.apply(this, arguments);
}

export default readFileAsDataURL;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlYWRGaWxlQXNEYXRhVVJMLmpzIl0sIm5hbWVzIjpbImdldCIsInJlYWRGaWxlQXNEYXRhVVJMIiwiZmlsZSIsIkZpbGVSZWFkZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlYWRlciIsIm9uZXJyb3IiLCJlcnIiLCJvbmxvYWQiLCJldiIsInRhcmdldCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FBT0E7Ozs7QUFFQSxTQUFRQSxHQUFSLFFBQWtCLFlBQWxCO0FBRUE7O1NBQ2VDLGlCOzs7Ozs7OzJCQUFmLGlCQUFrQ0MsSUFBbEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ1FDLFlBQUFBLFVBRFIsR0FDcUJILEdBQUcsQ0FBQyxZQUFELENBRHhCO0FBQUEsNkNBRVMsSUFBSUksT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtBQUN0QyxrQkFBTUMsTUFBTSxHQUFHLElBQUlKLFVBQUosRUFBZjs7QUFDQUksY0FBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFVBQUNDLEdBQUQ7QUFBQSx1QkFBU0gsTUFBTSxDQUFDRyxHQUFELENBQWY7QUFBQSxlQUFqQjs7QUFDQUYsY0FBQUEsTUFBTSxDQUFDRyxNQUFQLEdBQWdCLFVBQUNDLEVBQUQ7QUFBQSx1QkFBUU4sT0FBTyxDQUFDTSxFQUFFLENBQUNDLE1BQUgsQ0FBVUMsTUFBWCxDQUFmO0FBQUEsZUFBaEI7O0FBQ0FOLGNBQUFBLE1BQU0sQ0FBQ08sYUFBUCxDQUFxQlosSUFBckI7QUFDRCxhQUxNLENBRlQ7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRzs7OztBQVVBLGVBQWVELGlCQUFmIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmVhZCBmaWxlIGFzIGRhdGEgdXJsXG4gKiBAZGVwcmVjYXRlZFxuICogQGZ1bmN0aW9uIHJlYWRGaWxlQXNEYXRhVVJMXG4gKiBAcGFyYW0ge0ZpbGV9IC0gRmlsZSB0byByZWFkXG4gKiBAcmV0dXJucyB7UHJvbWlzZS48c3RyaW5nPn0gRGF0YSB1cmxcbiAqL1xuJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCB7Z2V0fSBmcm9tICd0aGUtd2luZG93JztcblxuLyoqIEBsZW5kcyByZWFkRmlsZUFzRGF0YVVSTCAqL1xuYXN5bmMgZnVuY3Rpb24gcmVhZEZpbGVBc0RhdGFVUkwgKGZpbGUpIHtcbiAgY29uc3QgRmlsZVJlYWRlciA9IGdldCgnRmlsZVJlYWRlcicpXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXJcbiAgICByZWFkZXIub25lcnJvciA9IChlcnIpID0+IHJlamVjdChlcnIpXG4gICAgcmVhZGVyLm9ubG9hZCA9IChldikgPT4gcmVzb2x2ZShldi50YXJnZXQucmVzdWx0KVxuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpXG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlYWRGaWxlQXNEYXRhVVJMXG4iXX0=