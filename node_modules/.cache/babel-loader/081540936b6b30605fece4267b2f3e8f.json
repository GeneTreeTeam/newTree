{"ast":null,"code":"/*\n * GoJS v1.8.34 JavaScript Library for HTML Diagrams\n * Northwoods Software, https://www.nwoods.com/\n * GoJS and Northwoods Software are registered trademarks of Northwoods Software Corporation.\n * Copyright (C) 1998-2018 by Northwoods Software Corporation.  All Rights Reserved.\n * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: https://gojs.net/1.8.34/license.html.\n */\n(function (window) {\n  var g,\n      ca = {};\n  if (!window.document || void 0 === window.document.createElement(\"canvas\").getContext) throw window.console && window.console.log(\"The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.\"), Error(\"The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.\");\n  if (!Object.defineProperty) throw Error(\"GoJS requires a newer version of JavaScript\");\n  Function.prototype.bind || (Function.prototype.bind = function (a) {\n    function b() {\n      return f.apply(a, e.concat(d.call(arguments)));\n    }\n\n    function c() {}\n\n    var d = Array.prototype.slice,\n        e = d.call(arguments, 1),\n        f = this;\n    c.prototype = this.prototype;\n    b.prototype = new c();\n    return b;\n  });\n\n  (function () {\n    for (var a = 0, b = [\"ms\", \"moz\", \"webkit\", \"o\"], c = 0; c < b.length && !window.requestAnimationFrame; ++c) {\n      window.requestAnimationFrame = window[b[c] + \"RequestAnimationFrame\"], window.cancelAnimationFrame = window[b[c] + \"CancelAnimationFrame\"] || window[b[c] + \"CancelRequestAnimationFrame\"];\n    }\n\n    window.requestAnimationFrame || (window.requestAnimationFrame = function (b) {\n      var c = new Date().getTime(),\n          f = Math.max(8, 16 - (c - a)),\n          h = window.setTimeout(function () {\n        b(c + f);\n      }, f);\n      a = c + f;\n      return h;\n    });\n    window.cancelAnimationFrame || (window.cancelAnimationFrame = function (a) {\n      window.clearTimeout(a);\n    });\n  })();\n\n  ca.Debug = null;\n  var w = {\n    pd: 1,\n    Uc: 2,\n    fd: 4,\n    ed: 8,\n    In: void 0 !== window.navigator && 0 < window.navigator.userAgent.indexOf(\"534.30\") && 0 < window.navigator.userAgent.indexOf(\"Android\"),\n    xu: void 0 !== window.navigator && 0 < window.navigator.userAgent.indexOf(\"MSIE 9.0\"),\n    fq: void 0 !== window.navigator && 0 < window.navigator.userAgent.indexOf(\"MSIE 10.0\"),\n    gq: void 0 !== window.navigator && 0 < window.navigator.userAgent.indexOf(\"Trident/7\"),\n    UA: void 0 !== window.navigator && 0 < window.navigator.userAgent.indexOf(\"Edge/\"),\n    zh: void 0 !== window.navigator && void 0 !== window.navigator.platform && 0 <= window.navigator.platform.toUpperCase().indexOf(\"MAC\"),\n    CF: void 0 !== window.navigator && void 0 !== window.navigator.platform && null !== window.navigator.platform.match(/(iPhone|iPod|iPad)/i),\n    OE: function OE(a, b, c) {\n      var d = -1;\n      return function () {\n        var e = this,\n            f = arguments;\n        -1 !== d && w.clearTimeout(d);\n        d = w.setTimeout(function () {\n          d = -1;\n          c || a.apply(e, f);\n        }, b);\n        c && !d && a.apply(e, f);\n      };\n    },\n    setTimeout: function setTimeout(a, b) {\n      return window.setTimeout(a, b);\n    },\n    clearTimeout: function clearTimeout(a) {\n      window.clearTimeout(a);\n    },\n    createElement: function createElement(a) {\n      return window.document.createElement(a);\n    },\n    k: function k(a) {\n      throw Error(a);\n    },\n    ma: function ma(a, b) {\n      var c = \"The object is frozen, so its properties cannot be set: \" + a.toString();\n      void 0 !== b && (c += \"  to value: \" + b);\n      w.k(c);\n    },\n    G: function G(a, b, c, d) {\n      a instanceof b || (c = w.getTypeName(c), void 0 !== d && (c += \".\" + d), w.Gd(a, b, c));\n    },\n    j: function j(a, b, c, d) {\n      typeof a !== b && (c = w.getTypeName(c), void 0 !== d && (c += \".\" + d), w.Gd(a, b, c));\n    },\n    Bd: function Bd(a, b, c) {\n      \"number\" === typeof a && isFinite(a) || (b = w.getTypeName(b), void 0 !== c && (b += \".\" + c), w.k(b + \" must be a real number type, and not NaN or Infinity: \" + a));\n    },\n    ob: function ob(a, b, c, d) {\n      a instanceof da && a.Je === b || (c = w.getTypeName(c), void 0 !== d && (c += \".\" + d), w.Gd(a, \"a constant of class \" + w.pf(b), c));\n    },\n    GK: function GK(a, b) {\n      \"string\" === typeof a ? fa(a) || w.k('Color \"' + a + '\" is not a valid color string for ' + b) : a instanceof ga || w.k(\"Value for \" + b + \" must be a color string or a Brush, not \" + a);\n    },\n    Gd: function Gd(a, b, c, d) {\n      b = w.getTypeName(b);\n      c = w.getTypeName(c);\n      void 0 !== d && (c += \".\" + d);\n      \"string\" === typeof a ? w.k(c + \" value is not an instance of \" + b + ': \"' + a + '\"') : w.k(c + \" value is not an instance of \" + b + \": \" + a);\n    },\n    Fa: function Fa(a, b, c, d) {\n      c = w.getTypeName(c);\n      void 0 !== d && (c += \".\" + d);\n      w.k(c + \" is not in the range \" + b + \": \" + a);\n    },\n    od: function od(a) {\n      w.k(w.pf(a) + \" constructor cannot take any arguments.\");\n    },\n    Na: function Na(a) {\n      w.k(\"Collection was modified during iteration: \" + a.toString() + \"\\n  Perhaps you should iterate over a copy of the collection,\\n  or you could collect items to be removed from the collection after the iteration.\");\n    },\n    Lj: function Lj(a, b) {\n      w.k(\"No property to set for this enum value: \" + b + \" on \" + a.toString());\n    },\n    trace: function trace(a) {\n      window.console && window.console.log(a);\n    },\n    ux: {},\n    Yt: function Yt(a, b) {\n      !0 !== w.ux[a] && (w.ux[a] = !0, window.console && window.console.log(a + \" is deprecated in \" + b + \", see the GoJS change log for more information.\"));\n    },\n    Pa: function Pa(a) {\n      return \"object\" === typeof a && null !== a;\n    },\n    isArray: function isArray(a) {\n      return Array.isArray(a) || a instanceof NodeList || a instanceof HTMLCollection;\n    },\n    AI: function AI(a) {\n      return Array.isArray(a);\n    },\n    mA: function mA(a, b, c) {\n      w.isArray(a) || w.Gd(a, \"Array or NodeList or HTMLCollection\", b, c);\n    },\n    cb: function cb(a) {\n      return a.length;\n    },\n    Vl: function Vl(a) {\n      return Array.prototype.slice.call(a);\n    },\n    Ba: function Ba(a, b) {\n      Array.isArray(a);\n      return a[b];\n    },\n    EE: function EE(a, b, c) {\n      Array.isArray(a) ? a[b] = c : w.k(\"Cannot replace an object in an HTMLCollection or NodeList at \" + b);\n    },\n    Sl: function Sl(a, b) {\n      if (Array.isArray(a)) return a.indexOf(b);\n\n      for (var c = a.length, d = 0; d < c; d++) {\n        if (a[d] === b) return d;\n      }\n\n      return -1;\n    },\n    sh: function sh(a, b, c) {\n      Array.isArray(a) ? b >= a.length ? a.push(c) : a.splice(b, 0, c) : w.k(\"Cannot insert an object into an HTMLCollection or NodeList: \" + c + \" at \" + b);\n    },\n    Jg: function Jg(a, b) {\n      Array.isArray(a) ? b >= a.length ? a.pop() : a.splice(b, 1) : w.k(\"Cannot remove an object from an HTMLCollection or NodeList at \" + b);\n    },\n    Ny: [],\n    K: function K() {\n      var a = w.Ny.pop();\n      return void 0 === a ? new z() : a;\n    },\n    wb: function wb(a, b) {\n      var c = w.Ny.pop();\n      if (void 0 === c) return new z(a, b);\n      c.x = a;\n      c.y = b;\n      return c;\n    },\n    v: function v(a) {\n      w.Ny.push(a);\n    },\n    dC: [],\n    tm: function tm() {\n      var a = w.dC.pop();\n      return void 0 === a ? new ia() : a;\n    },\n    Lk: function Lk(a) {\n      w.dC.push(a);\n    },\n    Oy: [],\n    vf: function vf() {\n      var a = w.Oy.pop();\n      return void 0 === a ? new B() : a;\n    },\n    lg: function lg(a, b, c, d) {\n      var e = w.Oy.pop();\n      if (void 0 === e) return new B(a, b, c, d);\n      e.x = a;\n      e.y = b;\n      e.width = c;\n      e.height = d;\n      return e;\n    },\n    Bb: function Bb(a) {\n      w.Oy.push(a);\n    },\n    eC: [],\n    Wg: function Wg() {\n      var a = w.eC.pop();\n      return void 0 === a ? new ka() : a;\n    },\n    bf: function bf(a) {\n      w.eC.push(a);\n    },\n    Py: null,\n    s: function s() {\n      var a = w.Py;\n      return null !== a ? (w.Py = null, a) : new la();\n    },\n    q: function q(a) {\n      a.reset();\n      w.Py = a;\n    },\n    My: [],\n    Za: function Za() {\n      var a = w.My.pop();\n      return void 0 === a ? [] : a;\n    },\n    ra: function ra(a) {\n      a.length = 0;\n      w.My.push(a);\n    },\n    mo: Object.freeze([]),\n    wm: 1,\n    oc: function oc(a) {\n      a.__gohashid = w.wm++;\n    },\n    aq: function aq(a) {\n      var b = a.__gohashid;\n      void 0 === b && (b = w.wm++, a.__gohashid = b);\n      return b;\n    },\n    Qd: function Qd(a) {\n      return a.__gohashid;\n    },\n    ga: function ga(a, b) {\n      b.Zy = a;\n      ca[a] = b;\n    },\n    La: function La(a, b) {\n      function c() {}\n\n      c.prototype = b.prototype;\n      a.prototype = new c();\n      a.prototype.constructor = a;\n    },\n    ni: function ni(a) {\n      a.dH = !0;\n    },\n    defineProperty: function defineProperty(a, b, c, d, e) {\n      w.j(a, \"function\", \"Util.defineProperty:classfunc\");\n      w.j(b, \"object\", \"Util.defineProperty:propobj\");\n      w.j(c, \"function\", \"Util.defineProperty:getter\");\n      w.j(d, \"function\", \"Util.defineProperty:setter\");\n\n      for (var f in b) {\n        b = b[f];\n        c = {\n          get: c,\n          set: d,\n          enumerable: !0\n        };\n        if (void 0 !== e) for (var h in e) {\n          c[h] = e[h];\n        }\n        Object.defineProperty(a.prototype, f, c);\n        e = Object.getOwnPropertyDescriptor(a.prototype, f);\n        b && e && Object.defineProperty(a.prototype, b, e);\n        break;\n      }\n    },\n    dK: !1,\n    u: function u(a, b, c, d) {\n      w.j(a, \"function\", \"Util.defineReadOnlyProperty:classfunc\");\n      w.j(b, \"object\", \"Util.defineReadOnlyProperty:propobj\");\n      w.j(c, \"function\", \"Util.defineReadOnlyProperty:getter\");\n\n      for (var e in b) {\n        var f = b[e];\n        b = {\n          get: c,\n          set: function set(a) {\n            w.k('The property \"' + f + '\" is read-only and cannot be set to ' + a);\n          },\n          enumerable: !0\n        };\n        if (void 0 !== d) for (var h in d) {\n          b[h] = d[h];\n        }\n        Object.defineProperty(a.prototype, e, b);\n        d = Object.getOwnPropertyDescriptor(a.prototype, e);\n        f && d && Object.defineProperty(a.prototype, f, d);\n        break;\n      }\n    },\n    ce: function ce(a, b) {\n      for (var c in b) {\n        b[c] = !0;\n      }\n\n      a.prototype.$G = b;\n    },\n    getTypeName: function getTypeName(a) {\n      return void 0 === a ? \"\" : \"string\" === typeof a ? a : \"function\" === typeof a ? w.pf(a) : null === a ? \"*\" : \"\";\n    },\n    pf: function pf(a) {\n      if (\"function\" === typeof a) {\n        if (a.Zy) return a.Zy;\n        if (a.name) return a.name;\n        var b = a.toString(),\n            c = b.indexOf(\"(\"),\n            b = b.substring(9, c).trim();\n        if (\"\" !== b) return a.Zy = b;\n      } else if (w.Pa(a) && a.constructor) return w.pf(a.constructor);\n\n      return typeof a;\n    },\n    p: function p(a, b, c) {\n      w.j(a, \"function\", \"Util.defineEnumValue:classfunc\");\n      w.j(b, \"string\", \"Util.defineEnumValue:name\");\n      w.j(c, \"number\", \"Util.defineEnumValue:num\");\n      c = new da(a, b, c);\n      Object.freeze(c);\n      a[b] = c;\n      var d = a.iv;\n      d instanceof ma || (d = new ma(\"string\", da), a.iv = d);\n      d.add(b, c);\n      return c;\n    },\n    vb: function vb(a, b) {\n      if (!a || !b) return null;\n      var c = void 0;\n\n      try {\n        \"function\" === typeof b ? c = b(a) : \"function\" === typeof a.getAttribute ? (c = a.getAttribute(b), null === c && (c = void 0)) : c = a[b];\n      } catch (d) {}\n\n      return c;\n    },\n    Ma: function Ma(a, b, c) {\n      if (a && b) try {\n        \"function\" === typeof b ? b(a, c) : \"function\" === typeof a.setAttribute ? a.setAttribute(b, c) : a[b] = c;\n      } catch (d) {}\n    },\n    Zu: function Zu(a, b) {\n      w.j(a, \"object\", \"Setting properties requires Objects as arguments\");\n      w.j(b, \"object\", \"Setting properties requires Objects as arguments\");\n      var c = a instanceof D,\n          d = a instanceof E,\n          e;\n\n      for (e in b) {\n        \"\" === e && w.k(\"Setting properties requires non-empty property names\");\n        var f = a,\n            h = e;\n\n        if (c || d) {\n          var k = e.indexOf(\".\");\n\n          if (0 < k) {\n            var l = e.substring(0, k);\n            if (c) f = a.Dd(l);else if (f = a[l], void 0 === f || null === f) f = a.Va[l];\n            w.Pa(f) ? h = e.substr(k + 1) : w.k(\"Unable to find object named: \" + l + \" in \" + a.toString() + \" when trying to set property: \" + e);\n          }\n        }\n\n        if (\"_\" !== h[0] && !w.sF(f, h)) if (d && \"ModelChanged\" === h) {\n          a.nH(b[h]);\n          continue;\n        } else if (d && \"Changed\" === h) {\n          a.mn(b[h]);\n          continue;\n        } else if (d && w.sF(a.Va, h)) f = a.Va;else if (d && oa(a, h)) {\n          a.$w(h, b[h]);\n          continue;\n        } else if (a instanceof F && \"Changed\" === h) {\n          a.mn(b[h]);\n          continue;\n        } else w.k('Trying to set undefined property \"' + h + '\" on object: ' + f.toString());\n        f[h] = b[e];\n        \"_\" === h[0] && f instanceof G && f.kH(h);\n      }\n    },\n    sF: function sF(a, b) {\n      if (a.hasOwnProperty(b)) return !0;\n\n      for (var c = Object.getPrototypeOf(a); c && c !== Function;) {\n        if (c.hasOwnProperty(b)) return !0;\n        var d = c.$G;\n        if (d && d[b]) return !0;\n        c = Object.getPrototypeOf(c);\n      }\n\n      return !1;\n    },\n    nJ: function nJ(a) {\n      for (var b = [], c = 0; 256 > c; c++) {\n        b[c] = c;\n      }\n\n      for (var d = 0, e = 0, c = 0; 256 > c; c++) {\n        d = (d + b[c] + 119) % 256, e = b[c], b[c] = b[d], b[d] = e;\n      }\n\n      for (var d = c = 0, f = \"\", h = 0; h < a.length; h++) {\n        c = (c + 1) % 256, d = (d + b[c]) % 256, e = b[c], b[c] = b[d], b[d] = e, f += String.fromCharCode(a.charCodeAt(h) ^ b[(b[c] + b[d]) % 256]);\n      }\n\n      return f;\n    },\n    oI: function oI(a) {\n      for (var b = {}, c = 0; 256 > c; c++) {\n        b[\"0123456789abcdef\".charAt(c >> 4) + \"0123456789abcdef\".charAt(c & 15)] = String.fromCharCode(c);\n      }\n\n      a.length % 2 && (a = \"0\" + a);\n\n      for (var d = [], e = 0, c = 0; c < a.length; c += 2) {\n        d[e++] = b[a.substr(c, 2)];\n      }\n\n      a = d.join(\"\");\n      return \"\" === a ? \"0\" : a;\n    },\n    Kg: function Kg(a) {\n      return w.nJ(w.oI(a));\n    },\n    vm: null,\n    adym: \"7da71ca0ad381e90\",\n    vfo: \"2be64efdb062\",\n    IK: \"@COLOR1\",\n    JK: \"@COLOR2\",\n    PE: !1,\n    Vt: null,\n    Wt: null\n  };\n\n  w.vm = function () {\n    var a = window.document.createElement(\"canvas\"),\n        b = a.getContext(\"2d\");\n    b[w.Kg(\"7ca11abfd022028846\")] = w.Kg(\"398c3597c01238\");\n\n    for (var c = [\"5da73c80a36755dc038e4972187c3cae51fd22\", \"32ab5ff3b26f42dc0ed90f224c2913b54ae6247590da4bb21c324ba3a84e385776\", \"54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387\", \"74bf19bce72555874c86\"], d = 1; 5 > d; d++) {\n      b[w.Kg(\"7ca11abfd7330390\")](w.Kg(c[d - 1]), 10, 15 * d + 0);\n    }\n\n    b[w.Kg(\"7ca11abfd022028846\")] = w.Kg(\"39f046ebb36e4b\");\n\n    for (d = 1; 5 > d; d++) {\n      b[w.Kg(\"7ca11abfd7330390\")](w.Kg(c[d - 1]), 10, 15 * d + 0);\n    }\n\n    if (4 !== c.length || \"5\" !== c[0][0] || \"7\" !== c[3][0]) w.p = function (a, b) {\n      var c = new da(a, b, 2);\n      Object.freeze(c);\n      a[b] = c;\n      var d = a.iv;\n      d instanceof ma || (d = new ma(\"string\", da), a.iv = d);\n      d.add(b, c);\n      return c;\n    };\n    return a;\n  }();\n\n  function da(a, b, c) {\n    w.oc(this);\n    this.sC = a;\n    this.Sb = b;\n    this.hH = c;\n  }\n\n  w.ga(\"EnumValue\", da);\n\n  da.prototype.toString = function () {\n    return w.pf(this.sC) + \".\" + this.Sb;\n  };\n\n  w.u(da, {\n    Je: \"classType\"\n  }, function () {\n    return this.sC;\n  });\n  w.u(da, {\n    name: \"name\"\n  }, function () {\n    return this.Sb;\n  });\n  w.u(da, {\n    value: \"value\"\n  }, function () {\n    return this.hH;\n  });\n  var pa;\n\n  da.findName = pa = function pa(a, b) {\n    if (void 0 === b || null === b || \"\" === b) return null;\n    w.j(a, \"function\", \"findName:classfunc\");\n    w.j(b, \"string\", \"EnumValue.findName:name\");\n    var c = a.iv;\n    return c instanceof ma ? c.ka(b) : null;\n  };\n\n  function qa() {\n    this.qC = [];\n  }\n\n  qa.prototype.toString = function () {\n    return this.qC.join(\"\");\n  };\n\n  qa.prototype.add = function (a) {\n    \"\" !== a && this.qC.push(a);\n  };\n\n  function ra() {}\n\n  function sa(a) {\n    void 0 === a && (a = 42);\n    this.seed = a;\n    this.Iy = 48271;\n    this.hv = 2147483647;\n    this.cC = this.hv / this.Iy;\n    this.PG = this.hv % this.Iy;\n    this.OG = 1 / this.hv;\n    this.random();\n  }\n\n  sa.prototype.random = function () {\n    var a = this.seed % this.cC * this.Iy - this.seed / this.cC * this.PG;\n    this.seed = 0 < a ? a : a + this.hv;\n    return this.seed * this.OG;\n  };\n\n  function ta() {}\n\n  w.u(ta, {\n    i: \"iterator\"\n  }, function () {\n    return this;\n  });\n\n  ta.prototype.reset = ta.prototype.reset = function () {};\n\n  ta.prototype.next = ta.prototype.next = function () {\n    return !1;\n  };\n\n  ta.prototype.hasNext = function () {\n    return !1;\n  };\n\n  ta.prototype.first = ta.prototype.first = function () {\n    return null;\n  };\n\n  ta.prototype.any = function () {\n    return !1;\n  };\n\n  ta.prototype.all = function () {\n    return !0;\n  };\n\n  ta.prototype.each = function () {\n    return this;\n  };\n\n  ta.prototype.map = function () {\n    return this;\n  };\n\n  ta.prototype.filter = function () {\n    return this;\n  };\n\n  ta.prototype.concat = function (a) {\n    return a.i;\n  };\n\n  w.u(ta, {\n    count: \"count\"\n  }, function () {\n    return 0;\n  });\n\n  ta.prototype.Nf = function () {};\n\n  ta.prototype.toString = function () {\n    return \"EmptyIterator\";\n  };\n\n  var ua = new ta();\n\n  function wa(a) {\n    this.key = -1;\n    this.value = a;\n  }\n\n  w.ce(wa, {\n    key: !0,\n    value: !0\n  });\n  w.u(wa, {\n    i: \"iterator\"\n  }, function () {\n    return this;\n  });\n\n  wa.prototype.reset = wa.prototype.reset = function () {\n    this.key = -1;\n  };\n\n  wa.prototype.next = wa.prototype.next = function () {\n    return -1 === this.key ? (this.key = 0, !0) : !1;\n  };\n\n  wa.prototype.hasNext = function () {\n    return this.next();\n  };\n\n  wa.prototype.first = wa.prototype.first = function () {\n    this.key = 0;\n    return this.value;\n  };\n\n  wa.prototype.any = function (a) {\n    this.key = -1;\n    return a(this.value);\n  };\n\n  wa.prototype.all = function (a) {\n    this.key = -1;\n    return a(this.value);\n  };\n\n  wa.prototype.each = function (a) {\n    this.key = -1;\n    a(this.value);\n    return this;\n  };\n\n  wa.prototype.map = function (a) {\n    return new wa(a(this.value));\n  };\n\n  wa.prototype.filter = function (a) {\n    return a(this.value) ? new wa(this.value) : ua;\n  };\n\n  wa.prototype.concat = function (a) {\n    return new xa(this, a.i);\n  };\n\n  w.u(wa, {\n    count: \"count\"\n  }, function () {\n    return 1;\n  });\n\n  wa.prototype.Nf = function () {\n    this.value = null;\n  };\n\n  wa.prototype.toString = function () {\n    return \"SingletonIterator(\" + this.value + \")\";\n  };\n\n  function xa(a, b) {\n    this.xl = a;\n    this.yl = b;\n    this.jv = !1;\n  }\n\n  w.ce(xa, {\n    key: !0,\n    value: !0\n  });\n  w.u(xa, {\n    i: \"iterator\"\n  }, function () {\n    return this;\n  });\n\n  xa.prototype.reset = xa.prototype.reset = function () {\n    this.xl.reset();\n    this.yl.reset();\n    this.jv = !1;\n  };\n\n  xa.prototype.next = xa.prototype.next = function () {\n    if (!this.jv) {\n      var a = this.xl;\n      if (a.next()) return this.key = a.key, this.value = a.value, !0;\n      this.jv = !0;\n    }\n\n    return this.jv && (a = this.yl, a.next()) ? (this.key = a.key, this.value = a.value, !0) : !1;\n  };\n\n  xa.prototype.hasNext = function () {\n    return this.next();\n  };\n\n  xa.prototype.first = xa.prototype.first = function () {\n    this.reset();\n    return this.next() ? this.value : null;\n  };\n\n  xa.prototype.any = function (a) {\n    return this.xl.any(a) || this.yl.any(a) ? !0 : !1;\n  };\n\n  xa.prototype.all = function (a) {\n    return this.xl.all(a) && this.yl.all(a) ? !0 : !1;\n  };\n\n  xa.prototype.each = function (a) {\n    this.xl.each(a);\n    this.yl.each(a);\n    return this;\n  };\n\n  xa.prototype.map = function (a) {\n    return new xa(this.xl.map(a), this.yl.map(a));\n  };\n\n  xa.prototype.filter = function (a) {\n    return new xa(this.xl.filter(a), this.yl.filter(a));\n  };\n\n  xa.prototype.concat = function (a) {\n    return new xa(this, a.i);\n  };\n\n  w.u(xa, {\n    count: \"count\"\n  }, function () {\n    return this.xl.count + this.yl.count;\n  });\n\n  xa.prototype.Nf = function () {\n    this.value = this.key = null;\n  };\n\n  xa.prototype.toString = function () {\n    return \"ConcatIterator()\";\n  };\n\n  function za(a) {\n    this.Cc = a;\n    this.$h = null;\n    a.Gb = null;\n    this.Ta = a.F;\n    this.Bc = -1;\n  }\n\n  w.ce(za, {\n    key: !0,\n    value: !0\n  });\n  w.u(za, {\n    i: \"iterator\"\n  }, function () {\n    return this;\n  });\n  w.defineProperty(za, {\n    uq: \"predicate\"\n  }, function () {\n    return this.$h;\n  }, function (a) {\n    this.$h = a;\n  });\n\n  za.prototype.reset = za.prototype.reset = function () {\n    var a = this.Cc;\n    a.Gb = null;\n    this.Ta = a.F;\n    this.Bc = -1;\n  };\n\n  za.prototype.next = za.prototype.next = function () {\n    var a = this.Cc;\n\n    if (a.F !== this.Ta) {\n      if (0 > this.key) return !1;\n      w.Na(a);\n    }\n\n    var a = a.n,\n        b = a.length,\n        c = ++this.Bc,\n        d = this.$h;\n    if (null !== d) for (; c < b;) {\n      var e = a[c];\n      if (d(e)) return this.key = this.Bc = c, this.value = e, !0;\n      c++;\n    } else {\n      if (c < b) return this.key = c, this.value = a[c], !0;\n      this.Nf();\n    }\n    return !1;\n  };\n\n  za.prototype.hasNext = function () {\n    return this.next();\n  };\n\n  za.prototype.first = za.prototype.first = function () {\n    var a = this.Cc;\n    this.Ta = a.F;\n    this.Bc = 0;\n    var a = a.n,\n        b = a.length,\n        c = this.$h;\n\n    if (null !== c) {\n      for (var d = 0; d < b;) {\n        var e = a[d];\n        if (c(e)) return this.key = this.Bc = d, this.value = e;\n        d++;\n      }\n\n      return null;\n    }\n\n    return 0 < b ? (e = a[0], this.key = 0, this.value = e) : null;\n  };\n\n  za.prototype.any = function (a) {\n    var b = this.Cc;\n    b.Gb = null;\n    var c = b.F;\n    this.Bc = -1;\n\n    for (var d = b.n, e = d.length, f = this.$h, h = 0; h < e; h++) {\n      var k = d[h];\n\n      if (null === f || f(k)) {\n        if (a(k)) return !0;\n        b.F !== c && w.Na(b);\n      }\n    }\n\n    return !1;\n  };\n\n  za.prototype.all = function (a) {\n    var b = this.Cc;\n    b.Gb = null;\n    var c = b.F;\n    this.Bc = -1;\n\n    for (var d = b.n, e = d.length, f = this.$h, h = 0; h < e; h++) {\n      var k = d[h];\n\n      if (null === f || f(k)) {\n        if (!a(k)) return !1;\n        b.F !== c && w.Na(b);\n      }\n    }\n\n    return !0;\n  };\n\n  za.prototype.each = function (a) {\n    var b = this.Cc;\n    b.Gb = null;\n    var c = b.F;\n    this.Bc = -1;\n\n    for (var d = b.n, e = d.length, f = this.$h, h = 0; h < e; h++) {\n      var k = d[h];\n      if (null === f || f(k)) a(k), b.F !== c && w.Na(b);\n    }\n\n    return this;\n  };\n\n  za.prototype.map = function (a) {\n    var b = this.Cc;\n    b.Gb = null;\n    var c = b.F;\n    this.Bc = -1;\n\n    for (var d = [], e = b.n, f = e.length, h = this.$h, k = 0; k < f; k++) {\n      var l = e[k];\n      if (null === h || h(l)) d.push(a(l)), b.F !== c && w.Na(b);\n    }\n\n    a = new H();\n    a.n = d;\n    a.Mc();\n    return a.i;\n  };\n\n  za.prototype.filter = function (a) {\n    var b = this.Cc;\n    b.Gb = null;\n    var c = b.F;\n    this.Bc = -1;\n\n    for (var d = [], e = b.n, f = e.length, h = this.$h, k = 0; k < f; k++) {\n      var l = e[k];\n      if (null === h || h(l)) a(l) && d.push(l), b.F !== c && w.Na(b);\n    }\n\n    a = new H(b.na);\n    a.n = d;\n    a.Mc();\n    return a.i;\n  };\n\n  za.prototype.concat = function (a) {\n    this.Cc.Gb = null;\n    return new xa(this, a.i);\n  };\n\n  w.u(za, {\n    count: \"count\"\n  }, function () {\n    var a = this.$h;\n\n    if (null !== a) {\n      for (var b = 0, c = this.Cc.n, d = c.length, e = 0; e < d; e++) {\n        a(c[e]) && b++;\n      }\n\n      return b;\n    }\n\n    return this.Cc.n.length;\n  });\n\n  za.prototype.Nf = function () {\n    this.key = -1;\n    this.value = null;\n    this.Ta = -1;\n    this.$h = null;\n    this.Cc.Gb = this;\n  };\n\n  za.prototype.toString = function () {\n    return \"ListIterator@\" + this.Bc + \"/\" + this.Cc.count;\n  };\n\n  function Aa(a) {\n    this.Cc = a;\n    a.Ti = null;\n    this.Ta = a.F;\n    this.Bc = a.n.length;\n  }\n\n  w.ce(Aa, {\n    key: !0,\n    value: !0\n  });\n  w.u(Aa, {\n    i: \"iterator\"\n  }, function () {\n    return this;\n  });\n\n  Aa.prototype.reset = Aa.prototype.reset = function () {\n    var a = this.Cc;\n    a.Ti = null;\n    this.Ta = a.F;\n    this.Bc = a.n.length;\n  };\n\n  Aa.prototype.next = Aa.prototype.next = function () {\n    var a = this.Cc;\n\n    if (a.F !== this.Ta) {\n      if (0 > this.key) return !1;\n      w.Na(a);\n    }\n\n    var b = --this.Bc;\n    if (0 <= b) return this.key = b, this.value = a.n[b], !0;\n    this.Nf();\n    return !1;\n  };\n\n  Aa.prototype.hasNext = function () {\n    return this.next();\n  };\n\n  Aa.prototype.first = Aa.prototype.first = function () {\n    var a = this.Cc;\n    this.Ta = a.F;\n    var b = a.n;\n    this.Bc = a = b.length - 1;\n    return 0 <= a ? (b = b[a], this.key = a, this.value = b) : null;\n  };\n\n  Aa.prototype.any = function (a) {\n    var b = this.Cc;\n    b.Ti = null;\n    var c = b.F,\n        d = b.n,\n        e = d.length;\n    this.Bc = e;\n\n    for (e -= 1; 0 <= e; e--) {\n      if (a(d[e])) return !0;\n      b.F !== c && w.Na(b);\n    }\n\n    return !1;\n  };\n\n  Aa.prototype.all = function (a) {\n    var b = this.Cc;\n    b.Ti = null;\n    var c = b.F,\n        d = b.n,\n        e = d.length;\n    this.Bc = e;\n\n    for (e -= 1; 0 <= e; e--) {\n      if (!a(d[e])) return !1;\n      b.F !== c && w.Na(b);\n    }\n\n    return !0;\n  };\n\n  Aa.prototype.each = function (a) {\n    var b = this.Cc;\n    b.Ti = null;\n    var c = b.F,\n        d = b.n,\n        e = d.length;\n    this.Bc = e;\n\n    for (e -= 1; 0 <= e; e--) {\n      a(d[e]), b.F !== c && w.Na(b);\n    }\n\n    return this;\n  };\n\n  Aa.prototype.map = function (a) {\n    var b = this.Cc;\n    b.Ti = null;\n    var c = b.F,\n        d = [],\n        e = b.n,\n        f = e.length;\n    this.Bc = f;\n\n    for (f -= 1; 0 <= f; f--) {\n      d.push(a(e[f])), b.F !== c && w.Na(b);\n    }\n\n    a = new H();\n    a.n = d;\n    a.Mc();\n    return a.i;\n  };\n\n  Aa.prototype.filter = function (a) {\n    var b = this.Cc;\n    b.Ti = null;\n    var c = b.F,\n        d = [],\n        e = b.n,\n        f = e.length;\n    this.Bc = f;\n\n    for (f -= 1; 0 <= f; f--) {\n      var h = e[f];\n      a(h) && d.push(h);\n      b.F !== c && w.Na(b);\n    }\n\n    a = new H(b.na);\n    a.n = d;\n    a.Mc();\n    return a.i;\n  };\n\n  Aa.prototype.concat = function (a) {\n    this.Cc.Ti = null;\n    return new xa(this, a.i);\n  };\n\n  w.u(Aa, {\n    count: \"count\"\n  }, function () {\n    return this.Cc.n.length;\n  });\n\n  Aa.prototype.Nf = function () {\n    this.key = -1;\n    this.value = null;\n    this.Ta = -1;\n    this.Cc.Ti = this;\n  };\n\n  Aa.prototype.toString = function () {\n    return \"ListIteratorBackwards(\" + this.Bc + \"/\" + this.Cc.count + \")\";\n  };\n\n  function H(a) {\n    w.oc(this);\n    this.O = !1;\n    this.n = [];\n    this.F = 0;\n    this.Ti = this.Gb = null;\n    void 0 === a || null === a ? this.na = null : \"string\" === typeof a ? \"object\" === a || \"string\" === a || \"number\" === a || \"boolean\" === a || \"function\" === a ? this.na = a : w.Fa(a, \"the string 'object', 'number', 'string', 'boolean', or 'function'\", \"List constructor: type\") : \"function\" === typeof a ? this.na = a === Object ? \"object\" : a === String ? \"string\" : a === Number ? \"number\" : a === Boolean ? \"boolean\" : a === Function ? \"function\" : a : w.Fa(a, \"null, a primitive type name, or a class type\", \"List constructor: type\");\n  }\n\n  w.ga(\"List\", H);\n\n  H.prototype.Mc = function () {\n    var a = this.F;\n    a++;\n    999999999 < a && (a = 0);\n    this.F = a;\n  };\n\n  H.prototype.freeze = H.prototype.freeze = function () {\n    this.O = !0;\n    return this;\n  };\n\n  H.prototype.thaw = H.prototype.Qa = function () {\n    this.O = !1;\n    return this;\n  };\n\n  H.prototype.toString = function () {\n    return \"List(\" + w.getTypeName(this.na) + \")#\" + w.Qd(this);\n  };\n\n  H.prototype.add = H.prototype.add = function (a) {\n    null !== a && (this.O && w.ma(this, a), this.n.push(a), this.Mc());\n  };\n\n  H.prototype.push = H.prototype.push = function (a) {\n    this.add(a);\n  };\n\n  H.prototype.addAll = H.prototype.Pc = function (a) {\n    if (null === a) return this;\n    this.O && w.ma(this);\n    var b = this.n;\n    if (w.isArray(a)) for (var c = w.cb(a), d = 0; d < c; d++) {\n      var e = w.Ba(a, d);\n      b.push(e);\n    } else for (a = a.i; a.next();) {\n      e = a.value, b.push(e);\n    }\n    this.Mc();\n    return this;\n  };\n\n  H.prototype.clear = H.prototype.clear = function () {\n    this.O && w.ma(this);\n    this.n.length = 0;\n    this.Mc();\n  };\n\n  H.prototype.contains = H.prototype.contains = function (a) {\n    return null === a ? !1 : -1 !== this.n.indexOf(a);\n  };\n\n  H.prototype.has = H.prototype.has = function (a) {\n    return this.contains(a);\n  };\n\n  H.prototype.indexOf = H.prototype.indexOf = function (a) {\n    return null === a ? -1 : this.n.indexOf(a);\n  };\n\n  H.prototype.elt = H.prototype.fa = function (a) {\n    var b = this.n;\n    (0 > a || a >= b.length) && w.Fa(a, \"0 <= i < length\", H, \"elt:i\");\n    return b[a];\n  };\n\n  H.prototype.get = H.prototype.get = function (a) {\n    return this.fa(a);\n  };\n\n  H.prototype.setElt = H.prototype.kg = function (a, b) {\n    var c = this.n;\n    (0 > a || a >= c.length) && w.Fa(a, \"0 <= i < length\", H, \"setElt:i\");\n    this.O && w.ma(this, a);\n    c[a] = b;\n  };\n\n  H.prototype.set = H.prototype.set = function (a, b) {\n    this.kg(a, b);\n  };\n\n  H.prototype.first = H.prototype.first = function () {\n    var a = this.n;\n    return 0 === a.length ? null : a[0];\n  };\n\n  H.prototype.last = H.prototype.ie = function () {\n    var a = this.n,\n        b = a.length;\n    return 0 < b ? a[b - 1] : null;\n  };\n\n  H.prototype.pop = H.prototype.pop = function () {\n    this.O && w.ma(this);\n    var a = this.n;\n    return 0 < a.length ? a.pop() : null;\n  };\n\n  H.prototype.any = function (a) {\n    for (var b = this.n, c = this.F, d = b.length, e = 0; e < d; e++) {\n      if (a(b[e])) return !0;\n      this.F !== c && w.Na(this);\n    }\n\n    return !1;\n  };\n\n  H.prototype.all = function (a) {\n    for (var b = this.n, c = this.F, d = b.length, e = 0; e < d; e++) {\n      if (!a(b[e])) return !1;\n      this.F !== c && w.Na(this);\n    }\n\n    return !0;\n  };\n\n  H.prototype.each = function (a) {\n    for (var b = this.n, c = this.F, d = b.length, e = 0; e < d; e++) {\n      a(b[e]), this.F !== c && w.Na(this);\n    }\n\n    return this;\n  };\n\n  H.prototype.map = function (a) {\n    for (var b = new H(), c = [], d = this.n, e = this.F, f = d.length, h = 0; h < f; h++) {\n      c.push(a(d[h])), this.F !== e && w.Na(this);\n    }\n\n    b.n = c;\n    b.Mc();\n    return b;\n  };\n\n  H.prototype.filter = function (a) {\n    for (var b = new H(this.na), c = [], d = this.n, e = this.F, f = d.length, h = 0; h < f; h++) {\n      var k = d[h];\n      a(k) && c.push(k);\n      this.F !== e && w.Na(this);\n    }\n\n    b.n = c;\n    b.Mc();\n    return b;\n  };\n\n  H.prototype.concat = function (a) {\n    return this.copy().Pc(a);\n  };\n\n  H.prototype.insertAt = H.prototype.Sd = function (a, b) {\n    0 > a && w.Fa(a, \">= 0\", H, \"insertAt:i\");\n    this.O && w.ma(this, a);\n    var c = this.n;\n    a >= c.length ? c.push(b) : c.splice(a, 0, b);\n    this.Mc();\n    return !0;\n  };\n\n  H.prototype.remove = H.prototype[\"delete\"] = H.prototype.remove = function (a) {\n    if (null === a) return !1;\n    this.O && w.ma(this, a);\n    var b = this.n;\n    a = b.indexOf(a);\n    if (-1 === a) return !1;\n    a === b.length - 1 ? b.pop() : b.splice(a, 1);\n    this.Mc();\n    return !0;\n  };\n\n  H.prototype.removeAt = H.prototype.dd = function (a) {\n    var b = this.n;\n    (0 > a || a >= b.length) && w.Fa(a, \"0 <= i < length\", H, \"removeAt:i\");\n    this.O && w.ma(this, a);\n    a === b.length - 1 ? b.pop() : b.splice(a, 1);\n    this.Mc();\n  };\n\n  H.prototype.removeRange = H.prototype.removeRange = function (a, b) {\n    var c = this.n,\n        d = c.length;\n    if (0 > a) a = 0;else if (a >= d) return this;\n    if (0 > b) return this;\n    b >= d && (b = d - 1);\n    if (a > b) return this;\n    this.O && w.ma(this);\n\n    for (var e = a, f = b + 1; f < d;) {\n      c[e++] = c[f++];\n    }\n\n    c.length = d - (b - a + 1);\n    this.Mc();\n    return this;\n  };\n\n  H.prototype.copy = function () {\n    var a = new H(this.na),\n        b = this.n;\n    0 < b.length && (a.n = Array.prototype.slice.call(b));\n    return a;\n  };\n\n  H.prototype.toArray = H.prototype.yc = function () {\n    for (var a = this.n, b = this.count, c = Array(b), d = 0; d < b; d++) {\n      c[d] = a[d];\n    }\n\n    return c;\n  };\n\n  H.prototype.toSet = H.prototype.EG = function () {\n    for (var a = new I(this.na), b = this.n, c = this.count, d = 0; d < c; d++) {\n      a.add(b[d]);\n    }\n\n    return a;\n  };\n\n  H.prototype.sort = H.prototype.sort = function (a) {\n    this.O && w.ma(this);\n    this.n.sort(a);\n    this.Mc();\n    return this;\n  };\n\n  H.prototype.sortRange = H.prototype.Iq = function (a, b, c) {\n    var d = this.n,\n        e = d.length;\n    void 0 === b && (b = 0);\n    void 0 === c && (c = e);\n    this.O && w.ma(this);\n    var f = c - b;\n    if (1 >= f) return this;\n    (0 > b || b >= e - 1) && w.Fa(b, \"0 <= from < length\", H, \"sortRange:from\");\n    if (2 === f) return c = d[b], e = d[b + 1], 0 < a(c, e) && (d[b] = e, d[b + 1] = c, this.Mc()), this;\n    if (0 === b) {\n      if (c >= e) d.sort(a);else for (f = d.slice(0, c), f.sort(a), a = 0; a < c; a++) {\n        d[a] = f[a];\n      }\n    } else if (c >= e) for (f = d.slice(b), f.sort(a), a = b; a < e; a++) {\n      d[a] = f[a - b];\n    } else for (f = d.slice(b, c), f.sort(a), a = b; a < c; a++) {\n      d[a] = f[a - b];\n    }\n    this.Mc();\n    return this;\n  };\n\n  H.prototype.reverse = H.prototype.reverse = function () {\n    this.O && w.ma(this);\n    this.n.reverse();\n    this.Mc();\n    return this;\n  };\n\n  w.u(H, {\n    count: \"count\"\n  }, function () {\n    return this.n.length;\n  });\n  w.u(H, {\n    size: \"size\"\n  }, function () {\n    return this.n.length;\n  });\n  w.u(H, {\n    length: \"length\"\n  }, function () {\n    return this.n.length;\n  });\n  w.u(H, {\n    i: \"iterator\"\n  }, function () {\n    if (0 >= this.n.length) return ua;\n    var a = this.Gb;\n    return null !== a ? (a.reset(), a) : new za(this);\n  });\n  w.u(H, {\n    Ln: \"iteratorBackwards\"\n  }, function () {\n    if (0 >= this.n.length) return ua;\n    var a = this.Ti;\n    return null !== a ? (a.reset(), a) : new Aa(this);\n  });\n\n  function Ba(a) {\n    this.bi = a;\n    a.Gb = null;\n    this.Ta = a.F;\n    this.Wa = null;\n  }\n\n  w.ce(Ba, {\n    key: !0,\n    value: !0\n  });\n  w.u(Ba, {\n    i: \"iterator\"\n  }, function () {\n    return this;\n  });\n\n  Ba.prototype.reset = Ba.prototype.reset = function () {\n    var a = this.bi;\n    a.Gb = null;\n    this.Ta = a.F;\n    this.Wa = null;\n  };\n\n  Ba.prototype.next = Ba.prototype.next = function () {\n    var a = this.bi;\n\n    if (a.F !== this.Ta) {\n      if (null === this.key) return !1;\n      w.Na(a);\n    }\n\n    var b = this.Wa,\n        b = null === b ? a.Ea : b.$a;\n    if (null !== b) return this.Wa = b, this.value = b.value, this.key = b.key, !0;\n    this.Nf();\n    return !1;\n  };\n\n  Ba.prototype.hasNext = function () {\n    return this.next();\n  };\n\n  Ba.prototype.first = Ba.prototype.first = function () {\n    var a = this.bi;\n    this.Ta = a.F;\n    a = a.Ea;\n\n    if (null !== a) {\n      this.Wa = a;\n      var b = a.value;\n      this.key = a.key;\n      return this.value = b;\n    }\n\n    return null;\n  };\n\n  Ba.prototype.any = function (a) {\n    var b = this.bi;\n    b.Gb = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      if (a(d.value)) return !0;\n      b.F !== c && w.Na(b);\n      d = d.$a;\n    }\n\n    return !1;\n  };\n\n  Ba.prototype.all = function (a) {\n    var b = this.bi;\n    b.Gb = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      if (!a(d.value)) return !1;\n      b.F !== c && w.Na(b);\n      d = d.$a;\n    }\n\n    return !0;\n  };\n\n  Ba.prototype.each = function (a) {\n    var b = this.bi;\n    b.Gb = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      a(d.value), b.F !== c && w.Na(b), d = d.$a;\n    }\n\n    return this;\n  };\n\n  Ba.prototype.map = function (a) {\n    var b = this.bi;\n    b.Gb = null;\n\n    for (var c = new H(), d = b.F, e = b.Ea; null !== e;) {\n      c.add(a(e.value)), b.F !== d && w.Na(b), e = e.$a;\n    }\n\n    return c.i;\n  };\n\n  Ba.prototype.filter = function (a) {\n    var b = this.bi;\n    b.Gb = null;\n\n    for (var c = new H(b.na), d = b.F, e = b.Ea; null !== e;) {\n      var f = e.value;\n      a(f) && c.add(f);\n      b.F !== d && w.Na(b);\n      e = e.$a;\n    }\n\n    return c.i;\n  };\n\n  Ba.prototype.concat = function (a) {\n    this.bi.Gb = null;\n    return new xa(this, a.i);\n  };\n\n  w.u(Ba, {\n    count: \"count\"\n  }, function () {\n    return this.bi.sd;\n  });\n\n  Ba.prototype.Nf = function () {\n    this.value = this.key = null;\n    this.Ta = -1;\n    this.bi.Gb = this;\n  };\n\n  Ba.prototype.toString = function () {\n    return null !== this.Wa ? \"SetIterator@\" + this.Wa.value : \"SetIterator\";\n  };\n\n  function I(a) {\n    w.oc(this);\n    this.O = !1;\n    void 0 === a || null === a ? this.na = null : \"string\" === typeof a ? \"object\" === a || \"string\" === a || \"number\" === a ? this.na = a : w.Fa(a, \"the string 'object', 'number' or 'string'\", \"Set constructor: type\") : \"function\" === typeof a ? this.na = a === Object ? \"object\" : a === String ? \"string\" : a === Number ? \"number\" : a : w.Fa(a, \"null, a primitive type name, or a class type\", \"Set constructor: type\");\n    this.td = {};\n    this.sd = 0;\n    this.Gb = null;\n    this.F = 0;\n    this.Uh = this.Ea = null;\n  }\n\n  w.ga(\"Set\", I);\n\n  I.prototype.Mc = function () {\n    var a = this.F;\n    a++;\n    999999999 < a && (a = 0);\n    this.F = a;\n  };\n\n  I.prototype.freeze = I.prototype.freeze = function () {\n    this.O = !0;\n    return this;\n  };\n\n  I.prototype.thaw = I.prototype.Qa = function () {\n    this.O = !1;\n    return this;\n  };\n\n  I.prototype.toString = function () {\n    return \"Set(\" + w.getTypeName(this.na) + \")#\" + w.Qd(this);\n  };\n\n  I.prototype.add = I.prototype.add = function (a) {\n    if (null === a) return !1;\n    this.O && w.ma(this, a);\n    var b = a;\n    w.Pa(a) && (b = w.aq(a));\n    return void 0 === this.td[b] ? (this.sd++, a = new Ca(a, a), this.td[b] = a, b = this.Uh, null === b ? this.Ea = a : (a.kp = b, b.$a = a), this.Uh = a, this.Mc(), !0) : !1;\n  };\n\n  I.prototype.addAll = I.prototype.Pc = function (a) {\n    if (null === a) return this;\n    this.O && w.ma(this);\n    if (w.isArray(a)) for (var b = w.cb(a), c = 0; c < b; c++) {\n      this.add(w.Ba(a, c));\n    } else for (a = a.i; a.next();) {\n      this.add(a.value);\n    }\n    return this;\n  };\n\n  I.prototype.contains = I.prototype.contains = function (a) {\n    if (null === a) return !1;\n    var b = a;\n    return w.Pa(a) && (b = w.Qd(a), void 0 === b) ? !1 : void 0 !== this.td[b];\n  };\n\n  I.prototype.has = I.prototype.has = function (a) {\n    return this.contains(a);\n  };\n\n  I.prototype.containsAll = function (a) {\n    if (null === a) return !0;\n\n    for (a = a.i; a.next();) {\n      if (!this.contains(a.value)) return !1;\n    }\n\n    return !0;\n  };\n\n  I.prototype.containsAny = function (a) {\n    if (null === a) return !0;\n\n    for (a = a.i; a.next();) {\n      if (this.contains(a.value)) return !0;\n    }\n\n    return !1;\n  };\n\n  I.prototype.first = I.prototype.first = function () {\n    var a = this.Ea;\n    return null === a ? null : a.value;\n  };\n\n  I.prototype.any = function (a) {\n    for (var b = this.F, c = this.Ea; null !== c;) {\n      if (a(c.value)) return !0;\n      this.F !== b && w.Na(this);\n      c = c.$a;\n    }\n\n    return !1;\n  };\n\n  I.prototype.all = function (a) {\n    for (var b = this.F, c = this.Ea; null !== c;) {\n      if (!a(c.value)) return !1;\n      this.F !== b && w.Na(this);\n      c = c.$a;\n    }\n\n    return !0;\n  };\n\n  I.prototype.each = function (a) {\n    for (var b = this.F, c = this.Ea; null !== c;) {\n      a(c.value), this.F !== b && w.Na(this), c = c.$a;\n    }\n\n    return this;\n  };\n\n  I.prototype.map = function (a) {\n    for (var b = new I(), c = this.F, d = this.Ea; null !== d;) {\n      b.add(a(d.value)), this.F !== c && w.Na(this), d = d.$a;\n    }\n\n    return b;\n  };\n\n  I.prototype.filter = function (a) {\n    for (var b = new I(this.na), c = this.F, d = this.Ea; null !== d;) {\n      var e = d.value;\n      a(e) && b.add(e);\n      this.F !== c && w.Na(this);\n      d = d.$a;\n    }\n\n    return b;\n  };\n\n  I.prototype.concat = function (a) {\n    return this.copy().Pc(a);\n  };\n\n  I.prototype.remove = I.prototype[\"delete\"] = I.prototype.remove = function (a) {\n    if (null === a) return !1;\n    this.O && w.ma(this, a);\n    var b = a;\n    if (w.Pa(a) && (b = w.Qd(a), void 0 === b)) return !1;\n    a = this.td[b];\n    if (void 0 === a) return !1;\n    var c = a.$a,\n        d = a.kp;\n    null !== c && (c.kp = d);\n    null !== d && (d.$a = c);\n    this.Ea === a && (this.Ea = c);\n    this.Uh === a && (this.Uh = d);\n    delete this.td[b];\n    this.sd--;\n    this.Mc();\n    return !0;\n  };\n\n  I.prototype.removeAll = I.prototype.ny = function (a) {\n    if (null === a) return this;\n    this.O && w.ma(this);\n    if (w.isArray(a)) for (var b = w.cb(a), c = 0; c < b; c++) {\n      this.remove(w.Ba(a, c));\n    } else for (a = a.i; a.next();) {\n      this.remove(a.value);\n    }\n    return this;\n  };\n\n  I.prototype.retainAll = function (a) {\n    if (null === a || 0 === this.count) return this;\n    this.O && w.ma(this);\n    var b = new I(this.na);\n    b.Pc(a);\n    a = [];\n\n    for (var c = this.i; c.next();) {\n      var d = c.value;\n      b.contains(d) || a.push(d);\n    }\n\n    this.ny(a);\n    return this;\n  };\n\n  I.prototype.clear = I.prototype.clear = function () {\n    this.O && w.ma(this);\n    this.td = {};\n    this.sd = 0;\n    null !== this.Gb && this.Gb.reset();\n    this.Uh = this.Ea = null;\n    this.Mc();\n  };\n\n  I.prototype.copy = function () {\n    var a = new I(this.na),\n        b = this.td,\n        c;\n\n    for (c in b) {\n      a.add(b[c].value);\n    }\n\n    return a;\n  };\n\n  I.prototype.toArray = I.prototype.yc = function () {\n    var a = Array(this.sd),\n        b = this.td,\n        c = 0,\n        d;\n\n    for (d in b) {\n      a[c] = b[d].value, c++;\n    }\n\n    return a;\n  };\n\n  I.prototype.toList = function () {\n    var a = new H(this.na),\n        b = this.td,\n        c;\n\n    for (c in b) {\n      a.add(b[c].value);\n    }\n\n    return a;\n  };\n\n  w.u(I, {\n    count: \"count\"\n  }, function () {\n    return this.sd;\n  });\n  w.u(I, {\n    size: \"size\"\n  }, function () {\n    return this.sd;\n  });\n  w.u(I, {\n    i: \"iterator\"\n  }, function () {\n    if (0 >= this.sd) return ua;\n    var a = this.Gb;\n    return null !== a ? (a.reset(), a) : new Ba(this);\n  });\n\n  function Da(a) {\n    this.Ga = a;\n    this.Ta = a.F;\n    this.Wa = null;\n  }\n\n  w.ce(Da, {\n    key: !0,\n    value: !0\n  });\n  w.u(Da, {\n    i: \"iterator\"\n  }, function () {\n    return this;\n  });\n\n  Da.prototype.reset = Da.prototype.reset = function () {\n    this.Ta = this.Ga.F;\n    this.Wa = null;\n  };\n\n  Da.prototype.next = Da.prototype.next = function () {\n    var a = this.Ga;\n\n    if (a.F !== this.Ta) {\n      if (null === this.key) return !1;\n      w.Na(a);\n    }\n\n    var b = this.Wa,\n        b = null === b ? a.Ea : b.$a;\n    if (null !== b) return this.Wa = b, this.value = this.key = a = b.key, !0;\n    this.Nf();\n    return !1;\n  };\n\n  Da.prototype.hasNext = function () {\n    return this.next();\n  };\n\n  Da.prototype.first = Da.prototype.first = function () {\n    var a = this.Ga;\n    this.Ta = a.F;\n    a = a.Ea;\n    return null !== a ? (this.Wa = a, this.value = this.key = a = a.key) : null;\n  };\n\n  Da.prototype.any = function (a) {\n    var b = this.Ga,\n        c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      if (a(d.key)) return !0;\n      b.F !== c && w.Na(b);\n      d = d.$a;\n    }\n\n    return !1;\n  };\n\n  Da.prototype.all = function (a) {\n    var b = this.Ga,\n        c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      if (!a(d.key)) return !1;\n      b.F !== c && w.Na(b);\n      d = d.$a;\n    }\n\n    return !0;\n  };\n\n  Da.prototype.each = function (a) {\n    var b = this.Ga,\n        c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      a(d.key), b.F !== c && w.Na(b), d = d.$a;\n    }\n\n    return this;\n  };\n\n  Da.prototype.map = function (a) {\n    var b = this.Ga,\n        c = b.F;\n    this.Wa = null;\n\n    for (var d = new H(), e = b.Ea; null !== e;) {\n      d.add(a(e.key)), b.F !== c && w.Na(b), e = e.$a;\n    }\n\n    return d.i;\n  };\n\n  Da.prototype.filter = function (a) {\n    var b = this.Ga,\n        c = b.F;\n    this.Wa = null;\n\n    for (var d = new H(b.Th), e = b.Ea; null !== e;) {\n      var f = e.key;\n      a(f) && d.add(f);\n      b.F !== c && w.Na(b);\n      e = e.$a;\n    }\n\n    return d.i;\n  };\n\n  Da.prototype.concat = function (a) {\n    return new xa(this, a.i);\n  };\n\n  w.u(Da, {\n    count: \"count\"\n  }, function () {\n    return this.Ga.sd;\n  });\n\n  Da.prototype.Nf = function () {\n    this.value = this.key = null;\n    this.Ta = -1;\n  };\n\n  Da.prototype.toString = function () {\n    return null !== this.Wa ? \"MapKeySetIterator@\" + this.Wa.value : \"MapKeySetIterator\";\n  };\n\n  function Ea(a) {\n    w.oc(this);\n    this.O = !0;\n    this.Ga = a;\n  }\n\n  w.La(Ea, I);\n\n  Ea.prototype.freeze = function () {\n    return this;\n  };\n\n  Ea.prototype.Qa = function () {\n    return this;\n  };\n\n  Ea.prototype.toString = function () {\n    return \"MapKeySet(\" + this.Ga.toString() + \")\";\n  };\n\n  Ea.prototype.add = Ea.prototype.add = function () {\n    w.k(\"This Set is read-only: \" + this.toString());\n    return !1;\n  };\n\n  Ea.prototype.set = Ea.prototype.set = function () {\n    w.k(\"This Set is read-only: \" + this.toString());\n    return !1;\n  };\n\n  Ea.prototype.contains = Ea.prototype.contains = function (a) {\n    return this.Ga.contains(a);\n  };\n\n  Ea.prototype.has = Ea.prototype.has = function (a) {\n    return this.contains(a);\n  };\n\n  Ea.prototype.remove = Ea.prototype[\"delete\"] = Ea.prototype.remove = function () {\n    w.k(\"This Set is read-only: \" + this.toString());\n    return !1;\n  };\n\n  Ea.prototype.clear = Ea.prototype.clear = function () {\n    w.k(\"This Set is read-only: \" + this.toString());\n  };\n\n  Ea.prototype.first = Ea.prototype.first = function () {\n    var a = this.Ga.Ea;\n    return null !== a ? a.key : null;\n  };\n\n  Ea.prototype.any = function (a) {\n    for (var b = this.Ga.Ea; null !== b;) {\n      if (a(b.key)) return !0;\n      b = b.$a;\n    }\n\n    return !1;\n  };\n\n  Ea.prototype.all = function (a) {\n    for (var b = this.Ga.Ea; null !== b;) {\n      if (!a(b.key)) return !1;\n      b = b.$a;\n    }\n\n    return !0;\n  };\n\n  Ea.prototype.each = function (a) {\n    for (var b = this.Ga.Ea; null !== b;) {\n      a(b.key), b = b.$a;\n    }\n\n    return this;\n  };\n\n  Ea.prototype.map = function (a) {\n    for (var b = new I(), c = this.Ga.Ea; null !== c;) {\n      b.add(a(c.key)), c = c.$a;\n    }\n\n    return b;\n  };\n\n  Ea.prototype.filter = function (a) {\n    for (var b = new I(this.Ga.Th), c = this.Ga.Ea; null !== c;) {\n      var d = c.key;\n      a(d) && b.add(d);\n      c = c.$a;\n    }\n\n    return b;\n  };\n\n  Ea.prototype.concat = function (a) {\n    return this.EG().Pc(a);\n  };\n\n  Ea.prototype.copy = function () {\n    return new Ea(this.Ga);\n  };\n\n  Ea.prototype.toSet = Ea.prototype.EG = function () {\n    var a = new I(this.Ga.Th),\n        b = this.Ga.td,\n        c;\n\n    for (c in b) {\n      a.add(b[c].key);\n    }\n\n    return a;\n  };\n\n  Ea.prototype.toArray = Ea.prototype.yc = function () {\n    var a = this.Ga.td,\n        b = Array(this.Ga.sd),\n        c = 0,\n        d;\n\n    for (d in a) {\n      b[c] = a[d].key, c++;\n    }\n\n    return b;\n  };\n\n  Ea.prototype.toList = function () {\n    var a = new H(this.Ga.Th),\n        b = this.Ga.td,\n        c;\n\n    for (c in b) {\n      a.add(b[c].key);\n    }\n\n    return a;\n  };\n\n  w.u(Ea, {\n    count: \"count\"\n  }, function () {\n    return this.Ga.sd;\n  });\n  w.u(Ea, {\n    size: \"size\"\n  }, function () {\n    return this.Ga.sd;\n  });\n  w.u(Ea, {\n    i: \"iterator\"\n  }, function () {\n    return 0 >= this.Ga.sd ? ua : new Da(this.Ga);\n  });\n\n  function Fa(a) {\n    this.Ga = a;\n    a.hh = null;\n    this.Ta = a.F;\n    this.Wa = null;\n  }\n\n  w.ce(Fa, {\n    key: !0,\n    value: !0\n  });\n  w.u(Fa, {\n    i: \"iterator\"\n  }, function () {\n    return this;\n  });\n\n  Fa.prototype.reset = Fa.prototype.reset = function () {\n    var a = this.Ga;\n    a.hh = null;\n    this.Ta = a.F;\n    this.Wa = null;\n  };\n\n  Fa.prototype.next = Fa.prototype.next = function () {\n    var a = this.Ga;\n\n    if (a.F !== this.Ta) {\n      if (null === this.key) return !1;\n      w.Na(a);\n    }\n\n    var b = this.Wa,\n        b = null === b ? a.Ea : b.$a;\n    if (null !== b) return this.Wa = b, this.value = b.value, this.key = b.key, !0;\n    this.Nf();\n    return !1;\n  };\n\n  Fa.prototype.hasNext = function () {\n    return this.next();\n  };\n\n  Fa.prototype.first = Fa.prototype.first = function () {\n    var a = this.Ga;\n    this.Ta = a.F;\n    a = a.Ea;\n\n    if (null !== a) {\n      this.Wa = a;\n      var b = a.value;\n      this.key = a.key;\n      return this.value = b;\n    }\n\n    return null;\n  };\n\n  Fa.prototype.any = function (a) {\n    var b = this.Ga;\n    b.hh = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      if (a(d.value)) return !0;\n      b.F !== c && w.Na(b);\n      d = d.$a;\n    }\n\n    return !1;\n  };\n\n  Fa.prototype.all = function (a) {\n    var b = this.Ga;\n    b.hh = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      if (!a(d.value)) return !1;\n      b.F !== c && w.Na(b);\n      d = d.$a;\n    }\n\n    return !0;\n  };\n\n  Fa.prototype.each = function (a) {\n    var b = this.Ga;\n    b.hh = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      a(d.value), b.F !== c && w.Na(b), d = d.$a;\n    }\n\n    return this;\n  };\n\n  Fa.prototype.map = function (a) {\n    var b = this.Ga;\n    b.hh = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = new H(), e = b.Ea; null !== e;) {\n      d.add(a(e.value)), b.F !== c && w.Na(b), e = e.$a;\n    }\n\n    return d.i;\n  };\n\n  Fa.prototype.filter = function (a) {\n    var b = this.Ga;\n    b.hh = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = new H(b.Th), e = b.Ea; null !== e;) {\n      var f = e.value;\n      a(f) && d.add(f);\n      b.F !== c && w.Na(b);\n      e = e.$a;\n    }\n\n    return d.i;\n  };\n\n  Fa.prototype.concat = function (a) {\n    this.Ga.hh = null;\n    return new xa(this, a.i);\n  };\n\n  w.u(Fa, {\n    count: \"count\"\n  }, function () {\n    return this.Ga.sd;\n  });\n\n  Fa.prototype.Nf = function () {\n    this.value = this.key = null;\n    this.Ta = -1;\n    this.Ga.hh = this;\n  };\n\n  Fa.prototype.toString = function () {\n    return null !== this.Wa ? \"MapValueSetIterator@\" + this.Wa.value : \"MapValueSetIterator\";\n  };\n\n  function Ca(a, b) {\n    this.key = a;\n    this.value = b;\n    this.kp = this.$a = null;\n  }\n\n  w.ce(Ca, {\n    key: !0,\n    value: !0\n  });\n\n  Ca.prototype.toString = function () {\n    return \"{\" + this.key + \":\" + this.value + \"}\";\n  };\n\n  function Ha(a) {\n    this.Ga = a;\n    a.Gb = null;\n    this.Ta = a.F;\n    this.Wa = null;\n  }\n\n  w.ce(Ha, {\n    key: !0,\n    value: !0\n  });\n  w.u(Ha, {\n    i: \"iterator\"\n  }, function () {\n    return this;\n  });\n\n  Ha.prototype.reset = Ha.prototype.reset = function () {\n    var a = this.Ga;\n    a.Gb = null;\n    this.Ta = a.F;\n    this.Wa = null;\n  };\n\n  Ha.prototype.next = Ha.prototype.next = function () {\n    var a = this.Ga;\n\n    if (a.F !== this.Ta) {\n      if (null === this.key) return !1;\n      w.Na(a);\n    }\n\n    var b = this.Wa,\n        b = null === b ? a.Ea : b.$a;\n    if (null !== b) return this.Wa = b, this.key = b.key, this.value = b.value, !0;\n    this.Nf();\n    return !1;\n  };\n\n  Ha.prototype.hasNext = function () {\n    return this.next();\n  };\n\n  Ha.prototype.first = Ha.prototype.first = function () {\n    var a = this.Ga;\n    this.Ta = a.F;\n    a = a.Ea;\n    return null !== a ? (this.Wa = a, this.key = a.key, this.value = a.value, a) : null;\n  };\n\n  Ha.prototype.any = function (a) {\n    var b = this.Ga;\n    b.Gb = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      if (a(d)) return !0;\n      b.F !== c && w.Na(b);\n      d = d.$a;\n    }\n\n    return !1;\n  };\n\n  Ha.prototype.all = function (a) {\n    var b = this.Ga;\n    b.Gb = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      if (!a(d)) return !1;\n      b.F !== c && w.Na(b);\n      d = d.$a;\n    }\n\n    return !0;\n  };\n\n  Ha.prototype.each = function (a) {\n    var b = this.Ga;\n    b.Gb = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = b.Ea; null !== d;) {\n      a(d), b.F !== c && w.Na(b), d = d.$a;\n    }\n\n    return this;\n  };\n\n  Ha.prototype.map = function (a) {\n    var b = this.Ga;\n    b.Gb = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = new H(), e = b.Ea; null !== e;) {\n      d.add(a(e)), b.F !== c && w.Na(b), e = e.$a;\n    }\n\n    return d.i;\n  };\n\n  Ha.prototype.filter = function (a) {\n    var b = this.Ga;\n    b.Gb = null;\n    var c = b.F;\n    this.Wa = null;\n\n    for (var d = new H(), e = b.Ea; null !== e;) {\n      a(e) && d.add(e), b.F !== c && w.Na(b), e = e.$a;\n    }\n\n    return d.i;\n  };\n\n  Ha.prototype.concat = function (a) {\n    this.Ga.Gb = null;\n    return new xa(this, a.i);\n  };\n\n  w.u(Ha, {\n    count: \"count\"\n  }, function () {\n    return this.Ga.sd;\n  });\n\n  Ha.prototype.Nf = function () {\n    this.value = this.key = null;\n    this.Ta = -1;\n    this.Ga.Gb = this;\n  };\n\n  Ha.prototype.toString = function () {\n    return null !== this.Wa ? \"MapIterator@\" + this.Wa : \"MapIterator\";\n  };\n\n  function ma(a, b) {\n    w.oc(this);\n    this.O = !1;\n    void 0 === a || null === a ? this.Th = null : \"string\" === typeof a ? \"object\" === a || \"string\" === a || \"number\" === a ? this.Th = a : w.Fa(a, \"the string 'object', 'number' or 'string'\", \"Map constructor: keytype\") : \"function\" === typeof a ? this.Th = a === Object ? \"object\" : a === String ? \"string\" : a === Number ? \"number\" : a : w.Fa(a, \"null, a primitive type name, or a class type\", \"Map constructor: keytype\");\n    void 0 === b || null === b ? this.Jt = null : \"string\" === typeof b ? \"object\" === b || \"string\" === b || \"boolean\" === b || \"number\" === b || \"function\" === b ? this.Jt = b : w.Fa(b, \"the string 'object', 'number', 'string', 'boolean', or 'function'\", \"Map constructor: valtype\") : \"function\" === typeof b ? this.Jt = b === Object ? \"object\" : b === String ? \"string\" : b === Number ? \"number\" : b === Boolean ? \"boolean\" : b === Function ? \"function\" : b : w.Fa(b, \"null, a primitive type name, or a class type\", \"Map constructor: valtype\");\n    this.td = {};\n    this.sd = 0;\n    this.hh = this.Gb = null;\n    this.F = 0;\n    this.Uh = this.Ea = null;\n  }\n\n  w.ga(\"Map\", ma);\n\n  ma.prototype.Mc = function () {\n    var a = this.F;\n    a++;\n    999999999 < a && (a = 0);\n    this.F = a;\n  };\n\n  ma.prototype.freeze = ma.prototype.freeze = function () {\n    this.O = !0;\n    return this;\n  };\n\n  ma.prototype.thaw = ma.prototype.Qa = function () {\n    this.O = !1;\n    return this;\n  };\n\n  ma.prototype.toString = function () {\n    return \"Map(\" + w.getTypeName(this.Th) + \",\" + w.getTypeName(this.Jt) + \")#\" + w.Qd(this);\n  };\n\n  ma.prototype.add = ma.prototype.add = function (a, b) {\n    this.O && w.ma(this, a);\n    var c = a;\n    w.Pa(a) && (c = w.aq(a));\n    var d = this.td[c];\n    if (void 0 === d) return this.sd++, d = new Ca(a, b), this.td[c] = d, c = this.Uh, null === c ? this.Ea = d : (d.kp = c, c.$a = d), this.Uh = d, this.Mc(), !0;\n    d.value = b;\n    return !1;\n  };\n\n  ma.prototype.set = ma.prototype.set = function (a, b) {\n    return this.add(a, b);\n  };\n\n  ma.prototype.addAll = ma.prototype.Pc = function (a) {\n    if (null === a) return this;\n    if (w.isArray(a)) for (var b = w.cb(a), c = 0; c < b; c++) {\n      var d = w.Ba(a, c);\n      this.add(d.key, d.value);\n    } else for (a = a.i; a.next();) {\n      this.add(a.key, a.value);\n    }\n    return this;\n  };\n\n  ma.prototype.first = ma.prototype.first = function () {\n    return this.Ea;\n  };\n\n  ma.prototype.any = function (a) {\n    for (var b = this.F, c = this.Ea; null !== c;) {\n      if (a(c)) return !0;\n      this.F !== b && w.Na(this);\n      c = c.$a;\n    }\n\n    return !1;\n  };\n\n  ma.prototype.all = function (a) {\n    for (var b = this.F, c = this.Ea; null !== c;) {\n      if (!a(c)) return !1;\n      this.F !== b && w.Na(this);\n      c = c.$a;\n    }\n\n    return !0;\n  };\n\n  ma.prototype.each = function (a) {\n    for (var b = this.F, c = this.Ea; null !== c;) {\n      a(c), this.F !== b && w.Na(this), c = c.$a;\n    }\n\n    return this;\n  };\n\n  ma.prototype.map = function (a) {\n    for (var b = new ma(this.Th), c = this.F, d = this.Ea; null !== d;) {\n      b.add(d.key, a(d)), this.F !== c && w.Na(this), d = d.$a;\n    }\n\n    return b;\n  };\n\n  ma.prototype.filter = function (a) {\n    for (var b = new ma(this.Th, this.Jt), c = this.F, d = this.Ea; null !== d;) {\n      a(d) && b.add(d.key, d.value), this.F !== c && w.Na(this), d = d.$a;\n    }\n\n    return b;\n  };\n\n  ma.prototype.concat = function (a) {\n    return this.copy().Pc(a);\n  };\n\n  ma.prototype.contains = ma.prototype.contains = function (a) {\n    var b = a;\n    return w.Pa(a) && (b = w.Qd(a), void 0 === b) ? !1 : void 0 !== this.td[b];\n  };\n\n  ma.prototype.has = ma.prototype.has = function (a) {\n    return this.contains(a);\n  };\n\n  ma.prototype.getValue = ma.prototype.ka = function (a) {\n    var b = a;\n    if (w.Pa(a) && (b = w.Qd(a), void 0 === b)) return null;\n    a = this.td[b];\n    return void 0 === a ? null : a.value;\n  };\n\n  ma.prototype.get = ma.prototype.get = function (a) {\n    return this.ka(a);\n  };\n\n  ma.prototype.remove = ma.prototype[\"delete\"] = ma.prototype.remove = function (a) {\n    if (null === a) return !1;\n    this.O && w.ma(this, a);\n    var b = a;\n    if (w.Pa(a) && (b = w.Qd(a), void 0 === b)) return !1;\n    a = this.td[b];\n    if (void 0 === a) return !1;\n    var c = a.$a,\n        d = a.kp;\n    null !== c && (c.kp = d);\n    null !== d && (d.$a = c);\n    this.Ea === a && (this.Ea = c);\n    this.Uh === a && (this.Uh = d);\n    delete this.td[b];\n    this.sd--;\n    this.Mc();\n    return !0;\n  };\n\n  ma.prototype.clear = ma.prototype.clear = function () {\n    this.O && w.ma(this);\n    this.td = {};\n    this.sd = 0;\n    null !== this.Gb && this.Gb.reset();\n    null !== this.hh && this.hh.reset();\n    this.Uh = this.Ea = null;\n    this.Mc();\n  };\n\n  ma.prototype.copy = function () {\n    var a = new ma(this.Th, this.Jt),\n        b = this.td,\n        c;\n\n    for (c in b) {\n      var d = b[c];\n      a.add(d.key, d.value);\n    }\n\n    return a;\n  };\n\n  ma.prototype.toArray = ma.prototype.yc = function () {\n    var a = this.td,\n        b = Array(this.sd),\n        c = 0,\n        d;\n\n    for (d in a) {\n      var e = a[d];\n      b[c] = new Ca(e.key, e.value);\n      c++;\n    }\n\n    return b;\n  };\n\n  ma.prototype.toKeySet = ma.prototype.Mj = function () {\n    return new Ea(this);\n  };\n\n  w.u(ma, {\n    count: \"count\"\n  }, function () {\n    return this.sd;\n  });\n  w.u(ma, {\n    size: \"size\"\n  }, function () {\n    return this.sd;\n  });\n  w.u(ma, {\n    i: \"iterator\"\n  }, function () {\n    if (0 >= this.count) return ua;\n    var a = this.Gb;\n    return null !== a ? (a.reset(), a) : new Ha(this);\n  });\n  w.u(ma, {\n    JF: \"iteratorKeys\"\n  }, function () {\n    return 0 >= this.count ? ua : new Da(this);\n  });\n  w.u(ma, {\n    KF: \"iteratorValues\"\n  }, function () {\n    if (0 >= this.count) return ua;\n    var a = this.hh;\n    return null !== a ? (a.reset(), a) : new Fa(this);\n  });\n\n  function z(a, b) {\n    void 0 === a ? this.y = this.x = 0 : (this.x = a, this.y = b);\n  }\n\n  w.ga(\"Point\", z);\n  w.ni(z);\n  w.ce(z, {\n    x: !0,\n    y: !0\n  });\n\n  z.prototype.assign = function (a) {\n    this.x = a.x;\n    this.y = a.y;\n  };\n\n  z.prototype.setTo = z.prototype.m = function (a, b) {\n    this.x = a;\n    this.y = b;\n    return this;\n  };\n\n  z.prototype.set = z.prototype.set = function (a) {\n    this.x = a.x;\n    this.y = a.y;\n    return this;\n  };\n\n  z.prototype.copy = function () {\n    var a = new z();\n    a.x = this.x;\n    a.y = this.y;\n    return a;\n  };\n\n  z.prototype.Ha = function () {\n    Object.freeze(this);\n    return this;\n  };\n\n  z.prototype.S = function () {\n    return Object.isFrozen(this) ? this : this.copy().freeze();\n  };\n\n  z.prototype.freeze = function () {\n    return this;\n  };\n\n  z.prototype.Qa = function () {\n    Object.isFrozen(this) && w.k(\"cannot thaw constant: \" + this);\n    return this;\n  };\n\n  z.parse = function (a) {\n    if (\"string\" === typeof a) {\n      a = a.split(\" \");\n\n      for (var b = 0, c = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      var d = a[b++];\n      d && (c = parseFloat(d));\n\n      for (var e = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      (d = a[b++]) && (e = parseFloat(d));\n      return new z(c, e);\n    }\n\n    return new z();\n  };\n\n  z.stringify = function (a) {\n    return a.x.toString() + \" \" + a.y.toString();\n  };\n\n  z.prototype.toString = function () {\n    return \"Point(\" + this.x + \",\" + this.y + \")\";\n  };\n\n  z.prototype.equals = z.prototype.L = function (a) {\n    return a instanceof z ? this.x === a.x && this.y === a.y : !1;\n  };\n\n  z.prototype.equalTo = z.prototype.Ax = function (a, b) {\n    return this.x === a && this.y === b;\n  };\n\n  z.prototype.equalsApprox = z.prototype.Qc = function (a) {\n    return J(this.x, a.x) && J(this.y, a.y);\n  };\n\n  z.prototype.add = z.prototype.add = function (a) {\n    this.x += a.x;\n    this.y += a.y;\n    return this;\n  };\n\n  z.prototype.subtract = z.prototype.ui = function (a) {\n    this.x -= a.x;\n    this.y -= a.y;\n    return this;\n  };\n\n  z.prototype.offset = z.prototype.offset = function (a, b) {\n    this.x += a;\n    this.y += b;\n    return this;\n  };\n\n  z.prototype.rotate = z.prototype.rotate = function (a) {\n    if (0 === a) return this;\n    var b = this.x,\n        c = this.y;\n    if (0 === b && 0 === c) return this;\n    var d = 0,\n        e = 0;\n    360 <= a ? a -= 360 : 0 > a && (a += 360);\n    90 === a ? (d = 0, e = 1) : 180 === a ? (d = -1, e = 0) : 270 === a ? (d = 0, e = -1) : (a = a * Math.PI / 180, d = Math.cos(a), e = Math.sin(a));\n    this.x = d * b - e * c;\n    this.y = e * b + d * c;\n    return this;\n  };\n\n  z.prototype.scale = z.prototype.scale = function (a, b) {\n    this.x *= a;\n    this.y *= b;\n    return this;\n  };\n\n  z.prototype.distanceSquaredPoint = z.prototype.Cf = function (a) {\n    var b = a.x - this.x;\n    a = a.y - this.y;\n    return b * b + a * a;\n  };\n\n  z.prototype.distanceSquared = z.prototype.Xf = function (a, b) {\n    var c = a - this.x,\n        d = b - this.y;\n    return c * c + d * d;\n  };\n\n  z.prototype.normalize = z.prototype.normalize = function () {\n    var a = this.x,\n        b = this.y,\n        c = Math.sqrt(a * a + b * b);\n    0 < c && (this.x = a / c, this.y = b / c);\n    return this;\n  };\n\n  z.prototype.directionPoint = z.prototype.Qb = function (a) {\n    return Ka(a.x - this.x, a.y - this.y);\n  };\n\n  z.prototype.direction = z.prototype.direction = function (a, b) {\n    return Ka(a - this.x, b - this.y);\n  };\n\n  function Ka(a, b) {\n    if (0 === a) return 0 < b ? 90 : 0 > b ? 270 : 0;\n    if (0 === b) return 0 < a ? 0 : 180;\n    if (isNaN(a) || isNaN(b)) return 0;\n    var c = 180 * Math.atan(Math.abs(b / a)) / Math.PI;\n    0 > a ? c = 0 > b ? c + 180 : 180 - c : 0 > b && (c = 360 - c);\n    return c;\n  }\n\n  z.prototype.projectOntoLineSegment = function (a, b, c, d) {\n    La(a, b, c, d, this.x, this.y, this);\n    return this;\n  };\n\n  z.prototype.projectOntoLineSegmentPoint = function (a, b) {\n    La(a.x, a.y, b.x, b.y, this.x, this.y, this);\n    return this;\n  };\n\n  z.prototype.snapToGrid = function (a, b, c, d) {\n    Na(this.x, this.y, a, b, c, d, this);\n    return this;\n  };\n\n  z.prototype.snapToGridPoint = function (a, b) {\n    Na(this.x, this.y, a.x, a.y, b.width, b.height, this);\n    return this;\n  };\n\n  z.prototype.setRectSpot = z.prototype.ao = function (a, b) {\n    this.x = a.x + b.x * a.width + b.offsetX;\n    this.y = a.y + b.y * a.height + b.offsetY;\n    return this;\n  };\n\n  z.prototype.setSpot = z.prototype.av = function (a, b, c, d, e) {\n    this.x = a + e.x * c + e.offsetX;\n    this.y = b + e.y * d + e.offsetY;\n    return this;\n  };\n\n  z.prototype.transform = function (a) {\n    a.nb(this);\n    return this;\n  };\n\n  function Pa(a, b) {\n    b.xh(a);\n    return a;\n  }\n\n  var Ra;\n\n  z.distanceLineSegmentSquared = Ra = function Ra(a, b, c, d, e, f) {\n    var h = e - c,\n        k = f - d,\n        l = h * h + k * k;\n    c -= a;\n    d -= b;\n    var m = -c * h - d * k;\n    if (0 >= m || m >= l) return h = e - a, k = f - b, Math.min(c * c + d * d, h * h + k * k);\n    a = h * d - k * c;\n    return a * a / l;\n  };\n\n  var Sa;\n\n  z.distanceSquared = Sa = function Sa(a, b, c, d) {\n    a = c - a;\n    b = d - b;\n    return a * a + b * b;\n  };\n\n  var Ta;\n\n  z.direction = Ta = function Ta(a, b, c, d) {\n    a = c - a;\n    b = d - b;\n    if (0 === a) return 0 < b ? 90 : 0 > b ? 270 : 0;\n    if (0 === b) return 0 < a ? 0 : 180;\n    if (isNaN(a) || isNaN(b)) return 0;\n    d = 180 * Math.atan(Math.abs(b / a)) / Math.PI;\n    0 > a ? d = 0 > b ? d + 180 : 180 - d : 0 > b && (d = 360 - d);\n    return d;\n  };\n\n  z.prototype.isReal = z.prototype.I = function () {\n    return isFinite(this.x) && isFinite(this.y);\n  };\n\n  function ia(a, b) {\n    void 0 === a ? this.height = this.width = 0 : (this.width = a, this.height = b);\n  }\n\n  w.ga(\"Size\", ia);\n  w.ni(ia);\n  w.ce(ia, {\n    width: !0,\n    height: !0\n  });\n\n  ia.prototype.assign = function (a) {\n    this.width = a.width;\n    this.height = a.height;\n  };\n\n  ia.prototype.setTo = ia.prototype.m = function (a, b) {\n    this.width = a;\n    this.height = b;\n    return this;\n  };\n\n  ia.prototype.set = ia.prototype.set = function (a) {\n    this.width = a.width;\n    this.height = a.height;\n    return this;\n  };\n\n  ia.prototype.copy = function () {\n    var a = new ia();\n    a.width = this.width;\n    a.height = this.height;\n    return a;\n  };\n\n  ia.prototype.Ha = function () {\n    Object.freeze(this);\n    return this;\n  };\n\n  ia.prototype.S = function () {\n    return Object.isFrozen(this) ? this : this.copy().freeze();\n  };\n\n  ia.prototype.freeze = function () {\n    return this;\n  };\n\n  ia.prototype.Qa = function () {\n    Object.isFrozen(this) && w.k(\"cannot thaw constant: \" + this);\n    return this;\n  };\n\n  ia.parse = function (a) {\n    if (\"string\" === typeof a) {\n      a = a.split(\" \");\n\n      for (var b = 0, c = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      var d = a[b++];\n      d && (c = parseFloat(d));\n\n      for (var e = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      (d = a[b++]) && (e = parseFloat(d));\n      return new ia(c, e);\n    }\n\n    return new ia();\n  };\n\n  ia.stringify = function (a) {\n    return a.width.toString() + \" \" + a.height.toString();\n  };\n\n  ia.prototype.toString = function () {\n    return \"Size(\" + this.width + \",\" + this.height + \")\";\n  };\n\n  ia.prototype.equals = ia.prototype.L = function (a) {\n    return a instanceof ia ? this.width === a.width && this.height === a.height : !1;\n  };\n\n  ia.prototype.equalTo = ia.prototype.Ax = function (a, b) {\n    return this.width === a && this.height === b;\n  };\n\n  ia.prototype.equalsApprox = ia.prototype.Qc = function (a) {\n    return J(this.width, a.width) && J(this.height, a.height);\n  };\n\n  ia.prototype.isReal = ia.prototype.I = function () {\n    return isFinite(this.width) && isFinite(this.height);\n  };\n\n  function B(a, b, c, d) {\n    void 0 === a ? this.height = this.width = this.y = this.x = 0 : a instanceof z ? b instanceof z ? (this.x = Math.min(a.x, b.x), this.y = Math.min(a.y, b.y), this.width = Math.abs(a.x - b.x), this.height = Math.abs(a.y - b.y)) : b instanceof ia ? (this.x = a.x, this.y = a.y, this.width = b.width, this.height = b.height) : w.k(\"Incorrect arguments supplied to Rect constructor\") : (this.x = a, this.y = b, this.width = c, this.height = d);\n  }\n\n  w.ga(\"Rect\", B);\n  w.ni(B);\n  w.ce(B, {\n    x: !0,\n    y: !0,\n    width: !0,\n    height: !0\n  });\n\n  B.prototype.assign = function (a) {\n    this.x = a.x;\n    this.y = a.y;\n    this.width = a.width;\n    this.height = a.height;\n  };\n\n  function Ua(a, b, c) {\n    a.width = b;\n    a.height = c;\n  }\n\n  B.prototype.setTo = B.prototype.m = function (a, b, c, d) {\n    this.x = a;\n    this.y = b;\n    this.width = c;\n    this.height = d;\n    return this;\n  };\n\n  B.prototype.set = B.prototype.set = function (a) {\n    this.x = a.x;\n    this.y = a.y;\n    this.width = a.width;\n    this.height = a.height;\n    return this;\n  };\n\n  B.prototype.setPoint = B.prototype.Vg = function (a) {\n    this.x = a.x;\n    this.y = a.y;\n    return this;\n  };\n\n  B.prototype.setSize = function (a) {\n    this.width = a.width;\n    this.height = a.height;\n    return this;\n  };\n\n  B.prototype.copy = function () {\n    var a = new B();\n    a.x = this.x;\n    a.y = this.y;\n    a.width = this.width;\n    a.height = this.height;\n    return a;\n  };\n\n  B.prototype.Ha = function () {\n    Object.freeze(this);\n    return this;\n  };\n\n  B.prototype.S = function () {\n    return Object.isFrozen(this) ? this : this.copy().freeze();\n  };\n\n  B.prototype.freeze = function () {\n    return this;\n  };\n\n  B.prototype.Qa = function () {\n    Object.isFrozen(this) && w.k(\"cannot thaw constant: \" + this);\n    return this;\n  };\n\n  B.parse = function (a) {\n    if (\"string\" === typeof a) {\n      a = a.split(\" \");\n\n      for (var b = 0, c = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      var d = a[b++];\n      d && (c = parseFloat(d));\n\n      for (var e = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      (d = a[b++]) && (e = parseFloat(d));\n\n      for (var f = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      (d = a[b++]) && (f = parseFloat(d));\n\n      for (var h = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      (d = a[b++]) && (h = parseFloat(d));\n      return new B(c, e, f, h);\n    }\n\n    return new B();\n  };\n\n  B.stringify = function (a) {\n    return a.x.toString() + \" \" + a.y.toString() + \" \" + a.width.toString() + \" \" + a.height.toString();\n  };\n\n  B.prototype.toString = function () {\n    return \"Rect(\" + this.x + \",\" + this.y + \",\" + this.width + \",\" + this.height + \")\";\n  };\n\n  B.prototype.equals = B.prototype.L = function (a) {\n    return a instanceof B ? this.x === a.x && this.y === a.y && this.width === a.width && this.height === a.height : !1;\n  };\n\n  B.prototype.equalTo = B.prototype.Ax = function (a, b, c, d) {\n    return this.x === a && this.y === b && this.width === c && this.height === d;\n  };\n\n  B.prototype.equalsApprox = B.prototype.Qc = function (a) {\n    return J(this.x, a.x) && J(this.y, a.y) && J(this.width, a.width) && J(this.height, a.height);\n  };\n\n  function Va(a, b) {\n    return Wa(a.x, b.x) && Wa(a.y, b.y) && Wa(a.width, b.width) && Wa(a.height, b.height);\n  }\n\n  B.prototype.containsPoint = B.prototype.Ia = function (a) {\n    return this.x <= a.x && this.x + this.width >= a.x && this.y <= a.y && this.y + this.height >= a.y;\n  };\n\n  B.prototype.containsRect = B.prototype.Fk = function (a) {\n    return this.x <= a.x && a.x + a.width <= this.x + this.width && this.y <= a.y && a.y + a.height <= this.y + this.height;\n  };\n\n  B.prototype.contains = B.prototype.contains = function (a, b, c, d) {\n    void 0 === c && (c = 0);\n    void 0 === d && (d = 0);\n    return this.x <= a && a + c <= this.x + this.width && this.y <= b && b + d <= this.y + this.height;\n  };\n\n  B.prototype.reset = function () {\n    this.height = this.width = this.y = this.x = 0;\n  };\n\n  B.prototype.offset = B.prototype.offset = function (a, b) {\n    this.x += a;\n    this.y += b;\n    return this;\n  };\n\n  B.prototype.inflate = B.prototype.Zf = function (a, b) {\n    return Xa(this, b, a, b, a);\n  };\n\n  B.prototype.addMargin = B.prototype.ax = function (a) {\n    return Xa(this, a.top, a.right, a.bottom, a.left);\n  };\n\n  B.prototype.subtractMargin = B.prototype.zG = function (a) {\n    return Xa(this, -a.top, -a.right, -a.bottom, -a.left);\n  };\n\n  B.prototype.grow = function (a, b, c, d) {\n    return Xa(this, a, b, c, d);\n  };\n\n  function Xa(a, b, c, d, e) {\n    var f = a.width;\n    c + e <= -f ? (a.x += f / 2, a.width = 0) : (a.x -= e, a.width += c + e);\n    c = a.height;\n    b + d <= -c ? (a.y += c / 2, a.height = 0) : (a.y -= b, a.height += b + d);\n    return a;\n  }\n\n  B.prototype.intersectRect = function (a) {\n    return Ya(this, a.x, a.y, a.width, a.height);\n  };\n\n  B.prototype.intersect = B.prototype.uF = function (a, b, c, d) {\n    return Ya(this, a, b, c, d);\n  };\n\n  function Ya(a, b, c, d, e) {\n    var f = Math.max(a.x, b),\n        h = Math.max(a.y, c);\n    b = Math.min(a.x + a.width, b + d);\n    c = Math.min(a.y + a.height, c + e);\n    a.x = f;\n    a.y = h;\n    a.width = Math.max(0, b - f);\n    a.height = Math.max(0, c - h);\n    return a;\n  }\n\n  B.prototype.intersectsRect = B.prototype.$f = function (a) {\n    return this.vF(a.x, a.y, a.width, a.height);\n  };\n\n  B.prototype.intersects = B.prototype.vF = function (a, b, c, d) {\n    var e = this.width,\n        f = this.x;\n    if (Infinity !== e && Infinity !== c && (e += f, c += a, isNaN(c) || isNaN(e) || f > c || a > e)) return !1;\n    a = this.height;\n    c = this.y;\n    return Infinity !== a && Infinity !== d && (a += c, d += b, isNaN(d) || isNaN(a) || c > d || b > a) ? !1 : !0;\n  };\n\n  function $a(a, b) {\n    var c = a.width,\n        d = b.width + 10 + 10,\n        e = a.x,\n        f = b.x - 10;\n    if (e > d + f || f > c + e) return !1;\n    c = a.height;\n    d = b.height + 10 + 10;\n    e = a.y;\n    f = b.y - 10;\n    return e > d + f || f > c + e ? !1 : !0;\n  }\n\n  B.prototype.unionPoint = B.prototype.yi = function (a) {\n    return ab(this, a.x, a.y, 0, 0);\n  };\n\n  B.prototype.unionRect = B.prototype.Zg = function (a) {\n    return ab(this, a.x, a.y, a.width, a.height);\n  };\n\n  B.prototype.union = B.prototype.IG = function (a, b, c, d) {\n    void 0 === c && (c = 0);\n    void 0 === d && (d = 0);\n    return ab(this, a, b, c, d);\n  };\n\n  function ab(a, b, c, d, e) {\n    var f = Math.min(a.x, b),\n        h = Math.min(a.y, c);\n    b = Math.max(a.x + a.width, b + d);\n    c = Math.max(a.y + a.height, c + e);\n    a.x = f;\n    a.y = h;\n    a.width = b - f;\n    a.height = c - h;\n    return a;\n  }\n\n  B.prototype.setSpot = B.prototype.av = function (a, b, c) {\n    this.x = a - c.offsetX - c.x * this.width;\n    this.y = b - c.offsetY - c.y * this.height;\n    return this;\n  };\n\n  var db;\n\n  B.contains = db = function db(a, b, c, d, e, f, h, k) {\n    void 0 === h && (h = 0);\n    void 0 === k && (k = 0);\n    return a <= e && e + h <= a + c && b <= f && f + k <= b + d;\n  };\n\n  B.intersects = function (a, b, c, d, e, f, h, k) {\n    c += a;\n    h += e;\n    if (a > h || e > c) return !1;\n    a = d + b;\n    k += f;\n    return b > k || f > a ? !1 : !0;\n  };\n\n  w.defineProperty(B, {\n    left: \"left\"\n  }, function () {\n    return this.x;\n  }, function (a) {\n    this.x = a;\n  });\n  w.defineProperty(B, {\n    top: \"top\"\n  }, function () {\n    return this.y;\n  }, function (a) {\n    this.y = a;\n  });\n  w.defineProperty(B, {\n    right: \"right\"\n  }, function () {\n    return this.x + this.width;\n  }, function (a) {\n    this.x += a - (this.x + this.width);\n  });\n  w.defineProperty(B, {\n    bottom: \"bottom\"\n  }, function () {\n    return this.y + this.height;\n  }, function (a) {\n    this.y += a - (this.y + this.height);\n  });\n  w.defineProperty(B, {\n    position: \"position\"\n  }, function () {\n    return new z(this.x, this.y);\n  }, function (a) {\n    this.x = a.x;\n    this.y = a.y;\n  });\n  w.defineProperty(B, {\n    size: \"size\"\n  }, function () {\n    return new ia(this.width, this.height);\n  }, function (a) {\n    this.width = a.width;\n    this.height = a.height;\n  });\n  w.defineProperty(B, {\n    Ul: \"center\"\n  }, function () {\n    return new z(this.x + this.width / 2, this.y + this.height / 2);\n  }, function (a) {\n    this.x = a.x - this.width / 2;\n    this.y = a.y - this.height / 2;\n  });\n  w.defineProperty(B, {\n    la: \"centerX\"\n  }, function () {\n    return this.x + this.width / 2;\n  }, function (a) {\n    this.x = a - this.width / 2;\n  });\n  w.defineProperty(B, {\n    sa: \"centerY\"\n  }, function () {\n    return this.y + this.height / 2;\n  }, function (a) {\n    this.y = a - this.height / 2;\n  });\n\n  B.prototype.isReal = B.prototype.I = function () {\n    return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);\n  };\n\n  B.prototype.isEmpty = function () {\n    return 0 === this.width && 0 === this.height;\n  };\n\n  function hb(a, b, c, d) {\n    void 0 === a ? this.left = this.bottom = this.right = this.top = 0 : void 0 === b ? this.left = this.bottom = this.right = this.top = a : void 0 === c ? (d = b, this.top = a, this.right = b, this.bottom = a, this.left = d) : void 0 !== d ? (this.top = a, this.right = b, this.bottom = c, this.left = d) : w.k(\"Invalid arguments to Margin constructor\");\n  }\n\n  w.ga(\"Margin\", hb);\n  w.ni(hb);\n  w.ce(hb, {\n    top: !0,\n    right: !0,\n    bottom: !0,\n    left: !0\n  });\n\n  hb.prototype.assign = function (a) {\n    this.top = a.top;\n    this.right = a.right;\n    this.bottom = a.bottom;\n    this.left = a.left;\n  };\n\n  hb.prototype.setTo = hb.prototype.m = function (a, b, c, d) {\n    this.top = a;\n    this.right = b;\n    this.bottom = c;\n    this.left = d;\n    return this;\n  };\n\n  hb.prototype.set = hb.prototype.set = function (a) {\n    this.top = a.top;\n    this.right = a.right;\n    this.bottom = a.bottom;\n    this.left = a.left;\n    return this;\n  };\n\n  hb.prototype.copy = function () {\n    var a = new hb();\n    a.top = this.top;\n    a.right = this.right;\n    a.bottom = this.bottom;\n    a.left = this.left;\n    return a;\n  };\n\n  hb.prototype.Ha = function () {\n    Object.freeze(this);\n    return this;\n  };\n\n  hb.prototype.S = function () {\n    return Object.isFrozen(this) ? this : this.copy().freeze();\n  };\n\n  hb.prototype.freeze = function () {\n    return this;\n  };\n\n  hb.prototype.Qa = function () {\n    Object.isFrozen(this) && w.k(\"cannot thaw constant: \" + this);\n    return this;\n  };\n\n  hb.parse = function (a) {\n    if (\"string\" === typeof a) {\n      a = a.split(\" \");\n\n      for (var b = 0, c = NaN; \"\" === a[b];) {\n        b++;\n      }\n\n      var d = a[b++];\n      d && (c = parseFloat(d));\n      if (isNaN(c)) return new hb();\n\n      for (var e = NaN; \"\" === a[b];) {\n        b++;\n      }\n\n      (d = a[b++]) && (e = parseFloat(d));\n      if (isNaN(e)) return new hb(c);\n\n      for (var f = NaN; \"\" === a[b];) {\n        b++;\n      }\n\n      (d = a[b++]) && (f = parseFloat(d));\n      if (isNaN(f)) return new hb(c, e);\n\n      for (var h = NaN; \"\" === a[b];) {\n        b++;\n      }\n\n      (d = a[b++]) && (h = parseFloat(d));\n      return isNaN(h) ? new hb(c, e) : new hb(c, e, f, h);\n    }\n\n    return new hb();\n  };\n\n  hb.stringify = function (a) {\n    return a.top.toString() + \" \" + a.right.toString() + \" \" + a.bottom.toString() + \" \" + a.left.toString();\n  };\n\n  hb.prototype.toString = function () {\n    return \"Margin(\" + this.top + \",\" + this.right + \",\" + this.bottom + \",\" + this.left + \")\";\n  };\n\n  hb.prototype.equals = hb.prototype.L = function (a) {\n    return a instanceof hb ? this.top === a.top && this.right === a.right && this.bottom === a.bottom && this.left === a.left : !1;\n  };\n\n  hb.prototype.equalTo = hb.prototype.Ax = function (a, b, c, d) {\n    return this.top === a && this.right === b && this.bottom === c && this.left === d;\n  };\n\n  hb.prototype.equalsApprox = hb.prototype.Qc = function (a) {\n    return J(this.top, a.top) && J(this.right, a.right) && J(this.bottom, a.bottom) && J(this.left, a.left);\n  };\n\n  hb.prototype.isReal = hb.prototype.I = function () {\n    return isFinite(this.top) && isFinite(this.right) && isFinite(this.bottom) && isFinite(this.left);\n  };\n\n  function ka() {\n    this.m11 = 1;\n    this.m21 = this.m12 = 0;\n    this.m22 = 1;\n    this.dy = this.dx = 0;\n  }\n\n  w.ni(ka);\n  w.ce(ka, {\n    m11: !0,\n    m12: !0,\n    m21: !0,\n    m22: !0,\n    dx: !0,\n    dy: !0\n  });\n\n  ka.prototype.set = ka.prototype.set = function (a) {\n    this.m11 = a.m11;\n    this.m12 = a.m12;\n    this.m21 = a.m21;\n    this.m22 = a.m22;\n    this.dx = a.dx;\n    this.dy = a.dy;\n    return this;\n  };\n\n  ka.prototype.copy = function () {\n    var a = new ka();\n    a.m11 = this.m11;\n    a.m12 = this.m12;\n    a.m21 = this.m21;\n    a.m22 = this.m22;\n    a.dx = this.dx;\n    a.dy = this.dy;\n    return a;\n  };\n\n  ka.prototype.toString = function () {\n    return \"Transform(\" + this.m11 + \",\" + this.m12 + \",\" + this.m21 + \",\" + this.m22 + \",\" + this.dx + \",\" + this.dy + \")\";\n  };\n\n  ka.prototype.equals = ka.prototype.L = function (a) {\n    return a instanceof ka ? this.m11 === a.m11 && this.m12 === a.m12 && this.m21 === a.m21 && this.m22 === a.m22 && this.dx === a.dx && this.dy === a.dy : !1;\n  };\n\n  ka.prototype.isIdentity = ka.prototype.yu = function () {\n    return 1 === this.m11 && 0 === this.m12 && 0 === this.m21 && 1 === this.m22 && 0 === this.dx && 0 === this.dy;\n  };\n\n  ka.prototype.reset = ka.prototype.reset = function () {\n    this.m11 = 1;\n    this.m21 = this.m12 = 0;\n    this.m22 = 1;\n    this.dy = this.dx = 0;\n    return this;\n  };\n\n  ka.prototype.multiply = ka.prototype.multiply = function (a) {\n    var b = this.m12 * a.m11 + this.m22 * a.m12,\n        c = this.m11 * a.m21 + this.m21 * a.m22,\n        d = this.m12 * a.m21 + this.m22 * a.m22,\n        e = this.m11 * a.dx + this.m21 * a.dy + this.dx,\n        f = this.m12 * a.dx + this.m22 * a.dy + this.dy;\n    this.m11 = this.m11 * a.m11 + this.m21 * a.m12;\n    this.m12 = b;\n    this.m21 = c;\n    this.m22 = d;\n    this.dx = e;\n    this.dy = f;\n    return this;\n  };\n\n  ka.prototype.multiplyInverted = ka.prototype.SF = function (a) {\n    var b = 1 / (a.m11 * a.m22 - a.m12 * a.m21),\n        c = a.m22 * b,\n        d = -a.m12 * b,\n        e = -a.m21 * b,\n        f = a.m11 * b,\n        h = b * (a.m21 * a.dy - a.m22 * a.dx),\n        k = b * (a.m12 * a.dx - a.m11 * a.dy);\n    a = this.m12 * c + this.m22 * d;\n    b = this.m11 * e + this.m21 * f;\n    e = this.m12 * e + this.m22 * f;\n    f = this.m11 * h + this.m21 * k + this.dx;\n    h = this.m12 * h + this.m22 * k + this.dy;\n    this.m11 = this.m11 * c + this.m21 * d;\n    this.m12 = a;\n    this.m21 = b;\n    this.m22 = e;\n    this.dx = f;\n    this.dy = h;\n    return this;\n  };\n\n  ka.prototype.invert = ka.prototype.SA = function () {\n    var a = 1 / (this.m11 * this.m22 - this.m12 * this.m21),\n        b = -this.m12 * a,\n        c = -this.m21 * a,\n        d = this.m11 * a,\n        e = a * (this.m21 * this.dy - this.m22 * this.dx),\n        f = a * (this.m12 * this.dx - this.m11 * this.dy);\n    this.m11 = this.m22 * a;\n    this.m12 = b;\n    this.m21 = c;\n    this.m22 = d;\n    this.dx = e;\n    this.dy = f;\n    return this;\n  };\n\n  ka.prototype.rotate = ka.prototype.rotate = function (a, b, c) {\n    360 <= a ? a -= 360 : 0 > a && (a += 360);\n    if (0 === a) return this;\n    this.translate(b, c);\n    var d = 0,\n        e = 0;\n    90 === a ? (d = 0, e = 1) : 180 === a ? (d = -1, e = 0) : 270 === a ? (d = 0, e = -1) : (e = a * Math.PI / 180, d = Math.cos(e), e = Math.sin(e));\n    a = this.m12 * d + this.m22 * e;\n    var f = this.m11 * -e + this.m21 * d,\n        h = this.m12 * -e + this.m22 * d;\n    this.m11 = this.m11 * d + this.m21 * e;\n    this.m12 = a;\n    this.m21 = f;\n    this.m22 = h;\n    this.translate(-b, -c);\n    return this;\n  };\n\n  ka.prototype.translate = ka.prototype.translate = function (a, b) {\n    this.dx += this.m11 * a + this.m21 * b;\n    this.dy += this.m12 * a + this.m22 * b;\n    return this;\n  };\n\n  ka.prototype.scale = ka.prototype.scale = function (a, b) {\n    void 0 === b && (b = a);\n    this.m11 *= a;\n    this.m12 *= a;\n    this.m21 *= b;\n    this.m22 *= b;\n    return this;\n  };\n\n  ka.prototype.transformPoint = ka.prototype.nb = function (a) {\n    var b = a.x,\n        c = a.y;\n    a.x = b * this.m11 + c * this.m21 + this.dx;\n    a.y = b * this.m12 + c * this.m22 + this.dy;\n    return a;\n  };\n\n  ka.prototype.invertedTransformPoint = ka.prototype.xh = function (a) {\n    var b = 1 / (this.m11 * this.m22 - this.m12 * this.m21),\n        c = -this.m12 * b,\n        d = this.m11 * b,\n        e = b * (this.m12 * this.dx - this.m11 * this.dy),\n        f = a.x,\n        h = a.y;\n    a.x = f * this.m22 * b + h * -this.m21 * b + b * (this.m21 * this.dy - this.m22 * this.dx);\n    a.y = f * c + h * d + e;\n    return a;\n  };\n\n  ka.prototype.transformRect = ka.prototype.HG = function (a) {\n    var b = a.x,\n        c = a.y,\n        d = b + a.width,\n        e = c + a.height,\n        f = this.m11,\n        h = this.m12,\n        k = this.m21,\n        l = this.m22,\n        m = this.dx,\n        n = this.dy,\n        p = b * f + c * k + m,\n        q = b * h + c * l + n,\n        r = d * f + c * k + m,\n        c = d * h + c * l + n,\n        s = b * f + e * k + m,\n        b = b * h + e * l + n,\n        f = d * f + e * k + m,\n        d = d * h + e * l + n,\n        e = p,\n        h = q,\n        p = Math.min(p, r),\n        e = Math.max(e, r),\n        h = Math.min(h, c),\n        q = Math.max(q, c),\n        p = Math.min(p, s),\n        e = Math.max(e, s),\n        h = Math.min(h, b),\n        q = Math.max(q, b),\n        p = Math.min(p, f),\n        e = Math.max(e, f),\n        h = Math.min(h, d),\n        q = Math.max(q, d);\n    a.x = p;\n    a.y = h;\n    a.width = e - p;\n    a.height = q - h;\n    return a;\n  };\n\n  function K(a, b, c, d) {\n    void 0 === a ? this.offsetY = this.offsetX = this.y = this.x = 0 : (void 0 === b && (b = 0), void 0 === c && (c = 0), void 0 === d && (d = 0), this.x = a, this.y = b, this.offsetX = c, this.offsetY = d);\n  }\n\n  w.ga(\"Spot\", K);\n  w.ni(K);\n  w.ce(K, {\n    x: !0,\n    y: !0,\n    offsetX: !0,\n    offsetY: !0\n  });\n\n  K.prototype.assign = function (a) {\n    this.x = a.x;\n    this.y = a.y;\n    this.offsetX = a.offsetX;\n    this.offsetY = a.offsetY;\n  };\n\n  K.prototype.setTo = K.prototype.m = function (a, b, c, d) {\n    this.x = a;\n    this.y = b;\n    this.offsetX = c;\n    this.offsetY = d;\n    return this;\n  };\n\n  K.prototype.set = K.prototype.set = function (a) {\n    this.x = a.x;\n    this.y = a.y;\n    this.offsetX = a.offsetX;\n    this.offsetY = a.offsetY;\n    return this;\n  };\n\n  K.prototype.copy = function () {\n    var a = new K();\n    a.x = this.x;\n    a.y = this.y;\n    a.offsetX = this.offsetX;\n    a.offsetY = this.offsetY;\n    return a;\n  };\n\n  K.prototype.Ha = function () {\n    Object.freeze(this);\n    return this;\n  };\n\n  K.prototype.S = function () {\n    return Object.isFrozen(this) ? this : this.copy().freeze();\n  };\n\n  K.prototype.freeze = function () {\n    return this;\n  };\n\n  K.prototype.Qa = function () {\n    Object.isFrozen(this) && w.k(\"cannot thaw constant: \" + this);\n    return this;\n  };\n\n  function ib(a, b) {\n    a.x = NaN;\n    a.y = NaN;\n    a.offsetX = b;\n    return a;\n  }\n\n  var xb;\n\n  K.parse = xb = function xb(a) {\n    if (\"string\" === typeof a) {\n      a = a.trim();\n      if (\"None\" === a) return yb;\n      if (\"TopLeft\" === a) return zb;\n      if (\"Top\" === a || \"TopCenter\" === a || \"MiddleTop\" === a) return Bb;\n      if (\"TopRight\" === a) return Gb;\n      if (\"Left\" === a || \"LeftCenter\" === a || \"MiddleLeft\" === a) return Ib;\n      if (\"Center\" === a) return Jb;\n      if (\"Right\" === a || \"RightCenter\" === a || \"MiddleRight\" === a) return Pb;\n      if (\"BottomLeft\" === a) return Qb;\n      if (\"Bottom\" === a || \"BottomCenter\" === a || \"MiddleBottom\" === a) return Rb;\n      if (\"BottomRight\" === a) return Wb;\n      if (\"TopSide\" === a) return Xb;\n      if (\"LeftSide\" === a) return Yb;\n      if (\"RightSide\" === a) return Zb;\n      if (\"BottomSide\" === a) return $b;\n      if (\"TopBottomSides\" === a) return ac;\n      if (\"LeftRightSides\" === a) return dc;\n      if (\"TopLeftSides\" === a) return ec;\n      if (\"TopRightSides\" === a) return fc;\n      if (\"BottomLeftSides\" === a) return gc;\n      if (\"BottomRightSides\" === a) return hc;\n      if (\"NotTopSide\" === a) return ic;\n      if (\"NotLeftSide\" === a) return mc;\n      if (\"NotRightSide\" === a) return nc;\n      if (\"NotBottomSide\" === a) return oc;\n      if (\"AllSides\" === a) return pc;\n      if (\"Default\" === a) return qc;\n      a = a.split(\" \");\n\n      for (var b = 0, c = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      var d = a[b++];\n      void 0 !== d && 0 < d.length && (c = parseFloat(d));\n\n      for (var e = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      d = a[b++];\n      void 0 !== d && 0 < d.length && (e = parseFloat(d));\n\n      for (var f = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      d = a[b++];\n      void 0 !== d && 0 < d.length && (f = parseFloat(d));\n\n      for (var h = 0; \"\" === a[b];) {\n        b++;\n      }\n\n      d = a[b++];\n      void 0 !== d && 0 < d.length && (h = parseFloat(d));\n      return new K(c, e, f, h);\n    }\n\n    return new K();\n  };\n\n  K.stringify = function (a) {\n    return a.$c() ? a.x.toString() + \" \" + a.y.toString() + \" \" + a.offsetX.toString() + \" \" + a.offsetY.toString() : a.toString();\n  };\n\n  K.prototype.toString = function () {\n    return this.$c() ? 0 === this.offsetX && 0 === this.offsetY ? \"Spot(\" + this.x + \",\" + this.y + \")\" : \"Spot(\" + this.x + \",\" + this.y + \",\" + this.offsetX + \",\" + this.offsetY + \")\" : this.L(yb) ? \"None\" : this.L(zb) ? \"TopLeft\" : this.L(Bb) ? \"Top\" : this.L(Gb) ? \"TopRight\" : this.L(Ib) ? \"Left\" : this.L(Jb) ? \"Center\" : this.L(Pb) ? \"Right\" : this.L(Qb) ? \"BottomLeft\" : this.L(Rb) ? \"Bottom\" : this.L(Wb) ? \"BottomRight\" : this.L(Xb) ? \"TopSide\" : this.L(Yb) ? \"LeftSide\" : this.L(Zb) ? \"RightSide\" : this.L($b) ? \"BottomSide\" : this.L(ac) ? \"TopBottomSides\" : this.L(dc) ? \"LeftRightSides\" : this.L(ec) ? \"TopLeftSides\" : this.L(fc) ? \"TopRightSides\" : this.L(gc) ? \"BottomLeftSides\" : this.L(hc) ? \"BottomRightSides\" : this.L(ic) ? \"NotTopSide\" : this.L(mc) ? \"NotLeftSide\" : this.L(nc) ? \"NotRightSide\" : this.L(oc) ? \"NotBottomSide\" : this.L(pc) ? \"AllSides\" : this.L(qc) ? \"Default\" : \"None\";\n  };\n\n  K.prototype.equals = K.prototype.L = function (a) {\n    return a instanceof K ? (this.x === a.x || isNaN(this.x) && isNaN(a.x)) && (this.y === a.y || isNaN(this.y) && isNaN(a.y)) && this.offsetX === a.offsetX && this.offsetY === a.offsetY : !1;\n  };\n\n  K.prototype.opposite = K.prototype.WF = function () {\n    return new K(.5 - (this.x - .5), .5 - (this.y - .5), -this.offsetX, -this.offsetY);\n  };\n\n  K.prototype.includesSide = K.prototype.xj = function (a) {\n    if (!this.zj()) return !1;\n    if (!a.zj()) if (a.L(rc)) a = Yb;else if (a.L(xc)) a = Zb;else if (a.L(yc)) a = Xb;else if (a.L(zc)) a = $b;else return !1;\n    a = a.offsetY;\n    return (this.offsetY & a) === a;\n  };\n\n  K.prototype.isSpot = K.prototype.$c = function () {\n    return !isNaN(this.x) && !isNaN(this.y);\n  };\n\n  K.prototype.isNoSpot = K.prototype.Vd = function () {\n    return isNaN(this.x) || isNaN(this.y);\n  };\n\n  K.prototype.isSide = K.prototype.zj = function () {\n    return isNaN(this.x) && isNaN(this.y) && 1 === this.offsetX && 0 !== this.offsetY;\n  };\n\n  K.prototype.isNone = K.prototype.CI = function () {\n    return isNaN(this.x) && isNaN(this.y) && 0 === this.offsetX && 0 === this.offsetY;\n  };\n\n  K.prototype.isDefault = K.prototype.Zc = function () {\n    return isNaN(this.x) && isNaN(this.y) && -1 === this.offsetX && 0 === this.offsetY;\n  };\n\n  var yb;\n  K.None = yb = ib(new K(0, 0, 0, 0), 0).Ha();\n  var qc;\n  K.Default = qc = ib(new K(0, 0, -1, 0), -1).Ha();\n  var zb;\n  K.TopLeft = zb = new K(0, 0, 0, 0).Ha();\n  var Bb;\n  K.TopCenter = Bb = new K(.5, 0, 0, 0).Ha();\n  var Gb;\n  K.TopRight = Gb = new K(1, 0, 0, 0).Ha();\n  var Ib;\n  K.LeftCenter = Ib = new K(0, .5, 0, 0).Ha();\n  var Jb;\n  K.Center = Jb = new K(.5, .5, 0, 0).Ha();\n  var Pb;\n  K.RightCenter = Pb = new K(1, .5, 0, 0).Ha();\n  var Qb;\n  K.BottomLeft = Qb = new K(0, 1, 0, 0).Ha();\n  var Rb;\n  K.BottomCenter = Rb = new K(.5, 1, 0, 0).Ha();\n  var Wb;\n  K.BottomRight = Wb = new K(1, 1, 0, 0).Ha();\n  var Gc;\n  K.MiddleTop = Gc = Bb;\n  var Hc;\n  K.MiddleLeft = Hc = Ib;\n  var Ic;\n  K.MiddleRight = Ic = Pb;\n  var Jc;\n  K.MiddleBottom = Jc = Rb;\n  var yc;\n  K.Top = yc = Bb;\n  var rc;\n  K.Left = rc = Ib;\n  var xc;\n  K.Right = xc = Pb;\n  var zc;\n  K.Bottom = zc = Rb;\n  var Xb;\n  K.TopSide = Xb = ib(new K(0, 0, 1, w.pd), 1).Ha();\n  var Yb;\n  K.LeftSide = Yb = ib(new K(0, 0, 1, w.Uc), 1).Ha();\n  var Zb;\n  K.RightSide = Zb = ib(new K(0, 0, 1, w.fd), 1).Ha();\n  var $b;\n  K.BottomSide = $b = ib(new K(0, 0, 1, w.ed), 1).Ha();\n  var ac;\n  K.TopBottomSides = ac = ib(new K(0, 0, 1, w.pd | w.ed), 1).Ha();\n  var dc;\n  K.LeftRightSides = dc = ib(new K(0, 0, 1, w.Uc | w.fd), 1).Ha();\n  var ec;\n  K.TopLeftSides = ec = ib(new K(0, 0, 1, w.pd | w.Uc), 1).Ha();\n  var fc;\n  K.TopRightSides = fc = ib(new K(0, 0, 1, w.pd | w.fd), 1).Ha();\n  var gc;\n  K.BottomLeftSides = gc = ib(new K(0, 0, 1, w.ed | w.Uc), 1).Ha();\n  var hc;\n  K.BottomRightSides = hc = ib(new K(0, 0, 1, w.ed | w.fd), 1).Ha();\n  var ic;\n  K.NotTopSide = ic = ib(new K(0, 0, 1, w.Uc | w.fd | w.ed), 1).Ha();\n  var mc;\n  K.NotLeftSide = mc = ib(new K(0, 0, 1, w.pd | w.fd | w.ed), 1).Ha();\n  var nc;\n  K.NotRightSide = nc = ib(new K(0, 0, 1, w.pd | w.Uc | w.ed), 1).Ha();\n  var oc;\n  K.NotBottomSide = oc = ib(new K(0, 0, 1, w.pd | w.Uc | w.fd), 1).Ha();\n  var pc;\n  K.AllSides = pc = ib(new K(0, 0, 1, w.pd | w.Uc | w.fd | w.ed), 1).Ha();\n\n  function Kc() {\n    this.Vb = [1, 0, 0, 1, 0, 0];\n  }\n\n  Kc.prototype.copy = function () {\n    var a = new Kc();\n    a.Vb[0] = this.Vb[0];\n    a.Vb[1] = this.Vb[1];\n    a.Vb[2] = this.Vb[2];\n    a.Vb[3] = this.Vb[3];\n    a.Vb[4] = this.Vb[4];\n    a.Vb[5] = this.Vb[5];\n    return a;\n  };\n\n  Kc.prototype.translate = function (a, b) {\n    this.Vb[4] += this.Vb[0] * a + this.Vb[2] * b;\n    this.Vb[5] += this.Vb[1] * a + this.Vb[3] * b;\n  };\n\n  Kc.prototype.scale = function (a, b) {\n    this.Vb[0] *= a;\n    this.Vb[1] *= a;\n    this.Vb[2] *= b;\n    this.Vb[3] *= b;\n  };\n\n  function Nc(a) {\n    this.type = a;\n    this.r2 = this.y2 = this.x2 = this.r1 = this.y1 = this.x1 = 0;\n    this.IE = [];\n    this.pattern = null;\n  }\n\n  Nc.prototype.addColorStop = function (a, b) {\n    this.IE.push({\n      offset: a,\n      color: b\n    });\n  };\n\n  function Oc(a, b, c) {\n    this.fillStyle = \"#000000\";\n    this.font = \"10px sans-serif\";\n    this.globalAlpha = 1;\n    this.lineCap = \"butt\";\n    this.Mn = 0;\n    this.lineJoin = \"miter\";\n    this.lineWidth = 1;\n    this.miterLimit = 10;\n    this.shadowBlur = 0;\n    this.shadowColor = \"rgba(0, 0, 0, 0)\";\n    this.shadowOffsetY = this.shadowOffsetX = 0;\n    this.strokeStyle = \"#000000\";\n    this.textAlign = \"start\";\n    this.Op = !1;\n    this.Eg = this.st = this.rt = 0;\n    this.document = b || document;\n    this.VE = c;\n    this.Qx = null;\n    this.path = [];\n    this.vh = new Kc();\n    this.stack = [];\n    this.qf = [];\n    this.xx = a;\n    this.iJ = \"http://www.w3.org/2000/svg\";\n    this.width = this.xx.width;\n    this.height = this.xx.height;\n    this.rm = Pc(this, \"svg\", {\n      width: this.width + \"px\",\n      height: this.height + \"px\",\n      viewBox: \"0 0 \" + this.xx.width + \" \" + this.xx.height\n    });\n    this.rm.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns\", \"http://www.w3.org/2000/svg\");\n    this.rm.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n    Qc(this, 1, 0, 0, 1, 0, 0);\n    a = w.wm++;\n    b = Pc(this, \"clipPath\", {\n      id: \"mainClip\" + a\n    });\n    b.appendChild(Pc(this, \"rect\", {\n      x: 0,\n      y: 0,\n      width: this.width,\n      height: this.height\n    }));\n    this.rm.appendChild(b);\n    this.qf[0].setAttributeNS(null, \"clip-path\", \"url(#mainClip\" + a + \")\");\n  }\n\n  g = Oc.prototype;\n\n  g.arc = function (a, b, c, d, e, f, h, k) {\n    var l = 2 * Math.PI,\n        m = l - 1E-6,\n        n = c * Math.cos(d),\n        p = c * Math.sin(d),\n        q = a + n,\n        r = b + p,\n        s = f ? 0 : 1;\n    d = f ? d - e : e - d;\n    (1E-6 < Math.abs(h - q) || 1E-6 < Math.abs(k - r)) && this.path.push([\"L\", q, +r]);\n    0 > d && (d = d % l + l);\n    d > m ? (this.path.push([\"A\", c, c, 0, 1, s, a - n, b - p]), this.path.push([\"A\", c, c, 0, 1, s, q, r])) : 1E-6 < d && this.path.push([\"A\", c, c, 0, +(d >= Math.PI), s, a + c * Math.cos(e), b + c * Math.sin(e)]);\n  };\n\n  g.beginPath = function () {\n    this.path = [];\n  };\n\n  g.bezierCurveTo = function (a, b, c, d, e, f) {\n    this.path.push([\"C\", a, b, c, d, e, f]);\n  };\n\n  g.clearRect = function () {};\n\n  g.clip = function () {\n    Rc(this, \"clipPath\", this.path, new Kc());\n  };\n\n  g.closePath = function () {\n    this.path.push([\"z\"]);\n  };\n\n  g.createLinearGradient = function (a, b, c, d) {\n    var e = new Nc(\"linear\");\n    e.x1 = a;\n    e.y1 = b;\n    e.x2 = c;\n    e.y2 = d;\n    return e;\n  };\n\n  g.createPattern = function () {\n    return null;\n  };\n\n  g.createRadialGradient = function (a, b, c, d, e, f) {\n    var h = new Nc(\"radial\");\n    h.x1 = a;\n    h.y1 = b;\n    h.r1 = c;\n    h.x2 = d;\n    h.y2 = e;\n    h.r2 = f;\n    return h;\n  };\n\n  g.drawImage = function (a, b, c, d, e, f, h, k, l) {\n    var m = \"\";\n    a instanceof HTMLCanvasElement && (m = a.toDataURL());\n    a instanceof HTMLImageElement && (m = a.src);\n    void 0 === d && (f = b, h = c, k = d = a.naturalWidth, l = e = a.naturalHeight);\n    d = d || 0;\n    e = e || 0;\n    f = f || 0;\n    h = h || 0;\n    k = k || 0;\n    l = l || 0;\n    m = {\n      x: 0,\n      y: 0,\n      width: a.naturalWidth,\n      height: a.naturalHeight,\n      href: m,\n      preserveAspectRatio: \"xMidYMid slice\"\n    };\n    Wa(d, k) && Wa(e, l) || (m.preserveAspectRatio = \"none\");\n    var n = \"\";\n    k /= d;\n    l /= e;\n    if (0 !== f || 0 !== h) n += \" translate(\" + f + \", \" + h + \")\";\n    if (1 !== k || 1 !== l) n += \" scale(\" + k + \", \" + l + \")\";\n    if (0 !== b || 0 !== c) n += \" translate(\" + -b + \", \" + -c + \")\";\n    if (0 !== b || 0 !== c || d !== a.naturalWidth || e !== a.naturalHeight) a = \"CLIP\" + w.wm++, f = Pc(this, \"clipPath\", {\n      id: a\n    }), f.appendChild(Pc(this, \"rect\", {\n      x: b,\n      y: c,\n      width: d,\n      height: e\n    })), this.rm.appendChild(f), m[\"clip-path\"] = \"url(#\" + a + \")\";\n    Sc(this, \"image\", m, this.vh, n);\n    this.addElement(\"image\", m);\n  };\n\n  g.fill = function () {\n    Rc(this, \"fill\", this.path, this.vh);\n  };\n\n  g.Lg = function () {\n    this.Op ? this.clip() : this.fill();\n  };\n\n  g.fillRect = function (a, b, c, d) {\n    Tc(this, \"fill\", [a, b, c, d], this.vh);\n  };\n\n  g.fillText = function (a, b, c) {\n    a = [a, b, c];\n    b = this.textAlign;\n    \"left\" === b ? b = \"start\" : \"right\" === b ? b = \"end\" : \"center\" === b && (b = \"middle\");\n    b = {\n      x: a[1],\n      y: a[2],\n      style: \"font: \" + this.font,\n      \"text-anchor\": b\n    };\n    Sc(this, \"fill\", b, this.vh);\n    this.addElement(\"text\", b, a[0]);\n  };\n\n  g.lineTo = function (a, b) {\n    this.path.push([\"L\", a, b]);\n  };\n\n  g.moveTo = function (a, b) {\n    this.path.push([\"M\", a, b]);\n  };\n\n  g.quadraticCurveTo = function (a, b, c, d) {\n    this.path.push([\"Q\", a, b, c, d]);\n  };\n\n  g.rect = function (a, b, c, d) {\n    this.path.push([\"M\", a, b], [\"L\", a + c, b], [\"L\", a + c, b + d], [\"L\", a, b + d], [\"z\"]);\n  };\n\n  g.restore = function () {\n    this.vh = this.stack.pop();\n    this.path = this.stack.pop();\n    var a = this.stack.pop();\n    this.fillStyle = a.fillStyle;\n    this.font = a.font;\n    this.globalAlpha = a.globalAlpha;\n    this.lineCap = a.lineCap;\n    this.Mn = a.Mn;\n    this.lineJoin = a.lineJoin;\n    this.lineWidth = a.lineWidth;\n    this.miterLimit = a.miterLimit;\n    this.shadowBlur = a.shadowBlur;\n    this.shadowColor = a.shadowColor;\n    this.shadowOffsetX = a.shadowOffsetX;\n    this.shadowOffsetY = a.shadowOffsetY;\n    this.strokeStyle = a.strokeStyle;\n    this.textAlign = a.textAlign;\n  };\n\n  g.save = function () {\n    this.stack.push({\n      fillStyle: this.fillStyle,\n      font: this.font,\n      globalAlpha: this.globalAlpha,\n      lineCap: this.lineCap,\n      Mn: this.Mn,\n      lineJoin: this.lineJoin,\n      lineWidth: this.lineWidth,\n      miterLimit: this.miterLimit,\n      shadowBlur: this.shadowBlur,\n      shadowColor: this.shadowColor,\n      shadowOffsetX: this.shadowOffsetX,\n      shadowOffsetY: this.shadowOffsetY,\n      strokeStyle: this.strokeStyle,\n      textAlign: this.textAlign\n    });\n\n    for (var a = [], b = 0; b < this.path.length; b++) {\n      a.push(this.path[b]);\n    }\n\n    this.stack.push(a);\n    this.stack.push(this.vh.copy());\n  };\n\n  g.setTransform = function (a, b, c, d, e, f) {\n    1 === a && 0 === b && 0 === c && 1 === d && 0 === e && 0 === f || Qc(this, a, b, c, d, e, f);\n  };\n\n  g.scale = function (a, b) {\n    this.vh.scale(a, b);\n  };\n\n  g.translate = function (a, b) {\n    this.vh.translate(a, b);\n  };\n\n  g.transform = function () {};\n\n  g.stroke = function () {\n    Rc(this, \"stroke\", this.path, this.vh);\n  };\n\n  g.Kj = function () {\n    this.Op || this.stroke();\n  };\n\n  g.strokeRect = function (a, b, c, d) {\n    Tc(this, \"stroke\", [a, b, c, d], this.vh);\n  };\n\n  function Pc(a, b, c, d) {\n    a = a.document.createElementNS(a.iJ, b);\n    if (w.Pa(c)) for (var e in c) {\n      a.setAttributeNS(\"href\" === e ? \"http://www.w3.org/1999/xlink\" : \"\", e, c[e]);\n    }\n    void 0 !== d && (a.textContent = d);\n    return a;\n  }\n\n  g.addElement = function (a, b, c) {\n    a = Pc(this, a, b, c);\n    0 < this.qf.length ? this.qf[this.qf.length - 1].appendChild(a) : this.rm.appendChild(a);\n    return this.Qx = a;\n  };\n\n  function Sc(a, b, c, d, e) {\n    1 !== a.globalAlpha && (c.opacity = a.globalAlpha);\n    \"fill\" === b ? (a.fillStyle instanceof Nc ? c.fill = Uc(a, a.fillStyle) : (/^rgba\\(/.test(a.fillStyle) && (b = /^\\s*rgba\\s*\\(([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\)\\s*$/i.exec(a.fillStyle), c.fill = \"rgb(\" + b[1] + \",\" + b[2] + \",\" + b[3] + \")\", c[\"fill-opacity\"] = b[4]), c.fill = a.fillStyle), c.stroke = \"none\") : \"stroke\" === b && (c.fill = \"none\", a.strokeStyle instanceof Nc ? c.stroke = Uc(a, a.strokeStyle) : (/^rgba\\(/.test(a.strokeStyle) && (b = /^\\s*rgba\\s*\\(([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\)\\s*$/i.exec(a.strokeStyle), c.stroke = \"rgb(\" + b[1] + \",\" + b[2] + \",\" + b[3] + \")\", c[\"stroke-opacity\"] = b[4]), c.stroke = a.strokeStyle), c[\"stroke-width\"] = a.lineWidth, c[\"stroke-linecap\"] = a.lineCap, c[\"stroke-linejoin\"] = a.lineJoin, c[\"stroke-miterlimit\"] = a.miterLimit);\n    a = d.Vb;\n    a = \"matrix(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n    void 0 !== e && (a += e);\n    c.transform = a;\n  }\n\n  function Uc(a, b) {\n    var c = \"GRAD\" + w.wm++,\n        d;\n    if (\"linear\" === b.type) d = Pc(a, \"linearGradient\", {\n      x1: b.x1,\n      x2: b.x2,\n      y1: b.y1,\n      y2: b.y2,\n      id: c,\n      gradientUnits: \"userSpaceOnUse\"\n    });else if (\"radial\" === b.type) d = Pc(a, \"radialGradient\", {\n      x1: b.x1,\n      x2: b.x2,\n      y1: b.y1,\n      y2: b.y2,\n      r1: b.r1,\n      r2: b.r2,\n      id: c\n    });else if (\"pattern\" === b.type) {\n      var e = b.pattern;\n      d = {\n        width: e.width,\n        height: e.height,\n        id: c,\n        patternUnits: \"userSpaceOnUse\"\n      };\n      var f = \"\";\n      e instanceof HTMLCanvasElement && (f = e.toDataURL());\n      e instanceof HTMLImageElement && (f = e.src);\n      e = {\n        x: 0,\n        y: 0,\n        width: e.width,\n        height: e.height,\n        href: f\n      };\n      d = Pc(a, \"pattern\", d);\n      d.appendChild(Pc(a, \"image\", e));\n    } else throw Error(\"invalid gradient\");\n\n    for (var e = b.IE, f = e.length, h = [], k = 0; k < f; k++) {\n      var l = e[k],\n          m = l.color,\n          l = {\n        offset: l.offset,\n        \"stop-color\": m\n      };\n      /^rgba\\(/.test(m) && (m = /^\\s*rgba\\s*\\(([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\s*,\\s*([^,\\s]+)\\)\\s*$/i.exec(m), l[\"stop-color\"] = \"rgb(\" + m[1] + \",\" + m[2] + \",\" + m[3] + \")\", l[\"stop-opacity\"] = m[4]);\n      h.push(l);\n    }\n\n    h.sort(function (a, b) {\n      return a.offset > b.offset ? 1 : -1;\n    });\n\n    for (k = 0; k < f; k++) {\n      d.appendChild(Pc(a, \"stop\", h[k]));\n    }\n\n    a.rm.appendChild(d);\n    return \"url(#\" + c + \")\";\n  }\n\n  function Tc(a, b, c, d) {\n    c = {\n      x: c[0],\n      y: c[1],\n      width: c[2],\n      height: c[3]\n    };\n    Sc(a, b, c, d);\n    a.addElement(\"rect\", c);\n  }\n\n  function Rc(a, b, c, d) {\n    for (var e = [], f = 0; f < c.length; f++) {\n      var h = w.Vl(c[f]),\n          k = [h.shift()];\n      if (\"A\" === k[0]) k.push(h.shift() + \",\" + h.shift(), h.shift(), h.shift() + \",\" + h.shift(), h.shift() + \",\" + h.shift());else for (; h.length;) {\n        k.push(h.shift() + \",\" + h.shift());\n      }\n      e.push(k.join(\" \"));\n    }\n\n    c = {\n      d: e.join(\" \")\n    };\n    Sc(a, b, c, d);\n    \"clipPath\" === b ? (b = \"CLIP\" + w.wm++, d = Pc(a, \"clipPath\", {\n      id: b\n    }), d.appendChild(Pc(a, \"path\", c)), a.rm.appendChild(d), 0 < a.qf.length && a.qf[a.qf.length - 1].setAttributeNS(null, \"clip-path\", \"url(#\" + b + \")\")) : a.addElement(\"path\", c);\n  }\n\n  function Qc(a, b, c, d, e, f, h) {\n    var k = new Kc();\n    k.Vb = [b, c, d, e, f, h];\n    b = {};\n    Sc(a, \"g\", b, k);\n    k = a.addElement(\"g\", b);\n    a.qf.push(k);\n  }\n\n  g.fb = function () {\n    if (0 !== this.shadowOffsetX || 0 !== this.shadowOffsetY || 0 !== this.shadowBlur) {\n      var a = \"SHADOW\" + w.wm++,\n          b = this.addElement(\"filter\", {\n        id: a,\n        x: \"-100%\",\n        y: \"-100%\",\n        width: \"300%\",\n        height: \"300%\"\n      }, null),\n          c,\n          d,\n          e,\n          f,\n          h;\n      c = Pc(this, \"feGaussianBlur\", {\n        \"in\": \"SourceAlpha\",\n        result: \"blur\",\n        SL: this.shadowBlur / 2\n      });\n      d = Pc(this, \"feFlood\", {\n        \"in\": \"blur\",\n        result: \"flood\",\n        \"flood-color\": this.shadowColor\n      });\n      e = Pc(this, \"feComposite\", {\n        \"in\": \"flood\",\n        in2: \"blur\",\n        operator: \"in\",\n        result: \"comp\"\n      });\n      f = Pc(this, \"feOffset\", {\n        \"in\": \"comp\",\n        result: \"offsetBlur\",\n        dx: this.shadowOffsetX,\n        dy: this.shadowOffsetY\n      });\n      h = Pc(this, \"feMerge\", {});\n      h.appendChild(Pc(this, \"feMergeNode\", {\n        \"in\": \"offsetBlur\"\n      }));\n      h.appendChild(Pc(this, \"feMergeNode\", {\n        \"in\": \"SourceGraphic\"\n      }));\n      b.appendChild(c);\n      b.appendChild(d);\n      b.appendChild(e);\n      b.appendChild(f);\n      b.appendChild(h);\n      0 < this.qf.length && this.qf[this.qf.length - 1].setAttributeNS(null, \"filter\", \"url(#\" + a + \")\");\n    }\n  };\n\n  g.IB = function (a, b, c) {\n    this.rt = a;\n    this.st = b;\n    this.Eg = c;\n  };\n\n  g.pm = function () {\n    this.shadowBlur = this.shadowOffsetY = this.shadowOffsetX = 0;\n  };\n\n  g.co = function () {\n    this.shadowOffsetX = this.rt;\n    this.shadowOffsetY = this.st;\n    this.shadowBlur = this.Eg;\n  };\n\n  g.yx = function () {\n    return !1;\n  };\n\n  g.vx = function () {};\n\n  g.Ke = function () {};\n\n  g.yy = function () {};\n\n  Oc.prototype.rotate = function () {};\n\n  function Vc(a, b) {\n    this.ownerDocument = void 0 === b ? document : b;\n    var c = this.ownerDocument.createElement(\"canvas\");\n    c.tabIndex = 0;\n    this.Pd = c;\n    this.Gk = new Wc(c);\n    c.aa = a;\n    Object.seal(this);\n  }\n\n  g = Vc.prototype;\n\n  g.toDataURL = function (a, b) {\n    return this.Pd.toDataURL(a, b);\n  };\n\n  g.getBoundingClientRect = function () {\n    return this.Pd.getBoundingClientRect();\n  };\n\n  g.focus = function () {\n    return this.Pd.focus();\n  };\n\n  g.addEventListener = function (a, b, c) {\n    this.Pd.addEventListener(a, b, c);\n  };\n\n  g.removeEventListener = function (a, b, c) {\n    this.Pd.removeEventListener(a, b, c);\n  };\n\n  w.defineProperty(Vc, {\n    width: \"width\"\n  }, function () {\n    return this.Pd.width;\n  }, function (a) {\n    this.Pd.width = a;\n  });\n  w.defineProperty(Vc, {\n    height: \"height\"\n  }, function () {\n    return this.Pd.height;\n  }, function (a) {\n    this.Pd.height = a;\n  });\n  w.u(Vc, {\n    style: \"style\"\n  }, function () {\n    return this.Pd.style;\n  });\n\n  function Wc(a) {\n    a.getContext && a.getContext(\"2d\") || w.k(\"Browser does not support HTML Canvas Element\");\n    this.ua = a.getContext(\"2d\");\n    this.Wy = this.Yy = this.Xy = \"\";\n    this.er = !1;\n    this.Eg = this.st = this.rt = 0;\n    Object.seal(this);\n  }\n\n  Wc.prototype.yy = function (a) {\n    this.ua.OA = a;\n  };\n\n  w.defineProperty(Wc, {\n    fillStyle: \"fillStyle\"\n  }, function () {\n    return this.ua.fillStyle;\n  }, function (a) {\n    this.Wy !== a && (this.Wy = this.ua.fillStyle = a);\n  });\n  w.defineProperty(Wc, {\n    font: \"font\"\n  }, function () {\n    return this.ua.font;\n  }, function (a) {\n    this.Xy !== a && (this.Xy = this.ua.font = a);\n  });\n  w.defineProperty(Wc, {\n    globalAlpha: \"globalAlpha\"\n  }, function () {\n    return this.ua.globalAlpha;\n  }, function (a) {\n    this.ua.globalAlpha = a;\n  });\n  w.defineProperty(Wc, {\n    lineCap: \"lineCap\"\n  }, function () {\n    return this.ua.lineCap;\n  }, function (a) {\n    this.ua.lineCap = a;\n  });\n  w.defineProperty(Wc, {\n    Mn: \"lineDashOffset\"\n  }, function () {\n    return this.ua.Mn;\n  }, function (a) {\n    this.ua.Mn = a;\n  });\n  w.defineProperty(Wc, {\n    lineJoin: \"lineJoin\"\n  }, function () {\n    return this.ua.lineJoin;\n  }, function (a) {\n    this.ua.lineJoin = a;\n  });\n  w.defineProperty(Wc, {\n    lineWidth: \"lineWidth\"\n  }, function () {\n    return this.ua.lineWidth;\n  }, function (a) {\n    this.ua.lineWidth = a;\n  });\n  w.defineProperty(Wc, {\n    miterLimit: \"miterLimit\"\n  }, function () {\n    return this.ua.miterLimit;\n  }, function (a) {\n    this.ua.miterLimit = a;\n  });\n  w.defineProperty(Wc, {\n    shadowBlur: \"shadowBlur\"\n  }, function () {\n    return this.ua.shadowBlur;\n  }, function (a) {\n    this.ua.shadowBlur = a;\n  });\n  w.defineProperty(Wc, {\n    shadowColor: \"shadowColor\"\n  }, function () {\n    return this.ua.shadowColor;\n  }, function (a) {\n    this.ua.shadowColor = a;\n  });\n  w.defineProperty(Wc, {\n    shadowOffsetX: \"shadowOffsetX\"\n  }, function () {\n    return this.ua.shadowOffsetX;\n  }, function (a) {\n    this.ua.shadowOffsetX = a;\n  });\n  w.defineProperty(Wc, {\n    shadowOffsetY: \"shadowOffsetY\"\n  }, function () {\n    return this.ua.shadowOffsetY;\n  }, function (a) {\n    this.ua.shadowOffsetY = a;\n  });\n  w.defineProperty(Wc, {\n    strokeStyle: \"strokeStyle\"\n  }, function () {\n    return this.ua.strokeStyle;\n  }, function (a) {\n    this.Yy !== a && (this.Yy = this.ua.strokeStyle = a);\n  });\n  w.defineProperty(Wc, {\n    textAlign: \"textAlign\"\n  }, function () {\n    return this.ua.textAlign;\n  }, function (a) {\n    this.ua.textAlign = a;\n  });\n  w.defineProperty(Wc, {\n    OA: \"imageSmoothingEnabled\"\n  }, function () {\n    return this.ua.OA;\n  }, function (a) {\n    this.ua.OA = a;\n  });\n  g = Wc.prototype;\n\n  g.arc = function (a, b, c, d, e, f) {\n    this.ua.arc(a, b, c, d, e, f);\n  };\n\n  g.beginPath = function () {\n    this.ua.beginPath();\n  };\n\n  g.bezierCurveTo = function (a, b, c, d, e, f) {\n    this.ua.bezierCurveTo(a, b, c, d, e, f);\n  };\n\n  g.clearRect = function (a, b, c, d) {\n    this.ua.clearRect(a, b, c, d);\n  };\n\n  g.clip = function () {\n    this.ua.clip();\n  };\n\n  g.closePath = function () {\n    this.ua.closePath();\n  };\n\n  g.createLinearGradient = function (a, b, c, d) {\n    return this.ua.createLinearGradient(a, b, c, d);\n  };\n\n  g.createPattern = function (a, b) {\n    return this.ua.createPattern(a, b);\n  };\n\n  g.createRadialGradient = function (a, b, c, d, e, f) {\n    return this.ua.createRadialGradient(a, b, c, d, e, f);\n  };\n\n  g.drawImage = function (a, b, c, d, e, f, h, k, l) {\n    void 0 === d ? this.ua.drawImage(a, b, c) : this.ua.drawImage(a, b, c, d, e, f, h, k, l);\n  };\n\n  g.fill = function () {\n    this.ua.fill();\n  };\n\n  g.fillRect = function (a, b, c, d) {\n    this.ua.fillRect(a, b, c, d);\n  };\n\n  g.fillText = function (a, b, c) {\n    this.ua.fillText(a, b, c);\n  };\n\n  g.getImageData = function (a, b, c, d) {\n    return this.ua.getImageData(a, b, c, d);\n  };\n\n  g.lineTo = function (a, b) {\n    this.ua.lineTo(a, b);\n  };\n\n  g.measureText = function (a) {\n    return this.ua.measureText(a);\n  };\n\n  g.moveTo = function (a, b) {\n    this.ua.moveTo(a, b);\n  };\n\n  g.quadraticCurveTo = function (a, b, c, d) {\n    this.ua.quadraticCurveTo(a, b, c, d);\n  };\n\n  g.rect = function (a, b, c, d) {\n    this.ua.rect(a, b, c, d);\n  };\n\n  g.restore = function () {\n    this.ua.restore();\n  };\n\n  Wc.prototype.rotate = function (a) {\n    this.ua.rotate(a);\n  };\n\n  g = Wc.prototype;\n\n  g.save = function () {\n    this.ua.save();\n  };\n\n  g.setTransform = function (a, b, c, d, e, f) {\n    this.ua.setTransform(a, b, c, d, e, f);\n  };\n\n  g.scale = function (a, b) {\n    this.ua.scale(a, b);\n  };\n\n  g.stroke = function () {\n    this.ua.stroke();\n  };\n\n  g.transform = function (a, b, c, d, e, f) {\n    1 === a && 0 === b && 0 === c && 1 === d && 0 === e && 0 === f || this.ua.transform(a, b, c, d, e, f);\n  };\n\n  g.translate = function (a, b) {\n    this.ua.translate(a, b);\n  };\n\n  g.Lg = function (a) {\n    if (a instanceof ga && a.type === Xc) {\n      var b = a.vo;\n      a = a.az;\n      a > b ? (this.scale(b / a, 1), this.translate((a - b) / 2, 0)) : b > a && (this.scale(1, a / b), this.translate(0, (b - a) / 2));\n      this.er ? this.clip() : this.fill();\n      a > b ? (this.translate(-(a - b) / 2, 0), this.scale(1 / (b / a), 1)) : b > a && (this.translate(0, -(b - a) / 2), this.scale(1, 1 / (a / b)));\n    } else this.er ? this.clip() : this.fill();\n  };\n\n  g.Kj = function () {\n    this.er || this.stroke();\n  };\n\n  w.defineProperty(Wc, {\n    Op: \"clipInsteadOfFill\"\n  }, function () {\n    return this.er;\n  }, function (a) {\n    this.er = a;\n  });\n  g = Wc.prototype;\n\n  g.IB = function (a, b, c) {\n    this.rt = a;\n    this.st = b;\n    this.Eg = c;\n  };\n\n  g.pm = function () {\n    this.shadowBlur = this.shadowOffsetY = this.shadowOffsetX = 0;\n  };\n\n  g.co = function () {\n    this.shadowOffsetX = this.rt;\n    this.shadowOffsetY = this.st;\n    this.shadowBlur = this.Eg;\n  };\n\n  g.yx = function (a, b) {\n    var c = this.ua;\n    if (void 0 !== c.setLineDash) c.setLineDash(a), c.lineDashOffset = b;else if (void 0 !== c.webkitLineDash) c.webkitLineDash = a, c.webkitLineDashOffset = b;else return !1;\n    return !0;\n  };\n\n  g.vx = function () {\n    var a = this.ua;\n    void 0 !== a.setLineDash ? (a.setLineDash(w.mo), a.lineDashOffset = 0) : void 0 !== a.webkitLineDash && (a.webkitLineDash = w.mo, a.webkitLineDashOffset = 0);\n  };\n\n  g.Ke = function (a) {\n    a && (this.Xy = \"\");\n    this.Wy = this.Yy = \"\";\n  };\n\n  var bd = (Math.sqrt(2) - 1) / 3 * 4,\n      cd = new z(0, 0).Ha(),\n      dd = new B(0, 0, 0, 0).Ha(),\n      ed = new hb(0, 0, 0, 0).Ha(),\n      fd = new hb(2, 2, 2, 2).Ha(),\n      nd = new z(6, 6).Ha(),\n      od = new z(-Infinity, -Infinity).Ha(),\n      pd = new z(Infinity, Infinity).Ha(),\n      qd = new ia(0, 0).Ha(),\n      rd = new ia(1, 1).Ha(),\n      sd = new ia(6, 6).Ha(),\n      Bd = new ia(8, 8).Ha(),\n      Cd = new ia(10, 10).Ha(),\n      Dd = new ia(Infinity, Infinity).Ha(),\n      Ed = new z(NaN, NaN).Ha(),\n      Fd = new ia(NaN, NaN).Ha(),\n      Gd = new B(NaN, NaN, NaN, NaN).Ha(),\n      Hd = new K(.156, .156).Ha(),\n      Od = new K(.844, .844).Ha(),\n      Pd = new ra(),\n      Qd = new ra(),\n      Rd = null;\n\n  function Sd(a) {\n    if (0 >= a) return 0;\n    var b = Rd;\n\n    if (null === b) {\n      for (var b = [], c = 0; 2E3 >= c; c++) {\n        b[c] = Math.sqrt(c);\n      }\n\n      Rd = b;\n    }\n\n    return 1 > a ? (c = 1 / a, 2E3 >= c ? 1 / b[c | 0] : Math.sqrt(a)) : 2E3 >= a ? b[a | 0] : Math.sqrt(a);\n  }\n\n  function J(a, b) {\n    var c = a - b;\n    return .5 > c && -.5 < c;\n  }\n\n  function Wa(a, b) {\n    var c = a - b;\n    return 5E-8 > c && -5E-8 < c;\n  }\n\n  function Td(a, b, c, d, e, f, h) {\n    0 >= e && (e = 1E-6);\n    var k = 0,\n        l = 0,\n        m = 0,\n        n = 0;\n    a < c ? (l = a, k = c) : (l = c, k = a);\n    b < d ? (n = b, m = d) : (n = d, m = b);\n    if (a === c) return n <= h && h <= m && a - e <= f && f <= a + e;\n    if (b === d) return l <= f && f <= k && b - e <= h && h <= b + e;\n    k += e;\n    l -= e;\n    if (l <= f && f <= k && (m += e, n -= e, n <= h && h <= m)) if (k - l > m - n) {\n      if (a - c > e || c - a > e) {\n        if (f = (d - b) / (c - a) * (f - a) + b, f - e <= h && h <= f + e) return !0;\n      } else return !0;\n    } else if (b - d > e || d - b > e) {\n      if (h = (c - a) / (d - b) * (h - b) + a, h - e <= f && f <= h + e) return !0;\n    } else return !0;\n    return !1;\n  }\n\n  function Ud(a, b, c, d, e, f, h, k, l, m, n, p) {\n    if (Td(a, b, h, k, p, c, d) && Td(a, b, h, k, p, e, f)) return Td(a, b, h, k, p, m, n);\n    var q = (a + c) / 2,\n        r = (b + d) / 2,\n        s = (c + e) / 2,\n        t = (d + f) / 2;\n    e = (e + h) / 2;\n    f = (f + k) / 2;\n    d = (q + s) / 2;\n    c = (r + t) / 2;\n    var s = (s + e) / 2,\n        t = (t + f) / 2,\n        u = (d + s) / 2,\n        y = (c + t) / 2;\n    return Ud(a, b, q, r, d, c, u, y, l, m, n, p) || Ud(u, y, s, t, e, f, h, k, l, m, n, p);\n  }\n\n  function Vd(a, b, c, d, e, f, h, k, l, m) {\n    if (Td(a, b, h, k, l, c, d) && Td(a, b, h, k, l, e, f)) ab(m, a, b, 0, 0), ab(m, h, k, 0, 0);else {\n      var n = (a + c) / 2,\n          p = (b + d) / 2,\n          q = (c + e) / 2,\n          r = (d + f) / 2;\n      e = (e + h) / 2;\n      f = (f + k) / 2;\n      d = (n + q) / 2;\n      c = (p + r) / 2;\n      var q = (q + e) / 2,\n          r = (r + f) / 2,\n          s = (d + q) / 2,\n          t = (c + r) / 2;\n      Vd(a, b, n, p, d, c, s, t, l, m);\n      Vd(s, t, q, r, e, f, h, k, l, m);\n    }\n  }\n\n  function Wd(a, b, c, d, e, f, h, k, l, m) {\n    if (Td(a, b, h, k, l, c, d) && Td(a, b, h, k, l, e, f)) 0 === m.length && (m.push(a), m.push(b)), m.push(h), m.push(k);else {\n      var n = (a + c) / 2,\n          p = (b + d) / 2,\n          q = (c + e) / 2,\n          r = (d + f) / 2;\n      e = (e + h) / 2;\n      f = (f + k) / 2;\n      d = (n + q) / 2;\n      c = (p + r) / 2;\n      var q = (q + e) / 2,\n          r = (r + f) / 2,\n          s = (d + q) / 2,\n          t = (c + r) / 2;\n      Wd(a, b, n, p, d, c, s, t, l, m);\n      Wd(s, t, q, r, e, f, h, k, l, m);\n    }\n  }\n\n  function Xd(a, b, c, d, e, f, h, k, l, m, n, p, q, r) {\n    var s = 1 - l;\n    a = a * s + c * l;\n    b = b * s + d * l;\n    c = c * s + e * l;\n    d = d * s + f * l;\n    e = e * s + h * l;\n    f = f * s + k * l;\n    k = a * s + c * l;\n    h = b * s + d * l;\n    c = c * s + e * l;\n    d = d * s + f * l;\n    m.x = a;\n    m.y = b;\n    n.x = k;\n    n.y = h;\n    p.x = k * s + c * l;\n    p.y = h * s + d * l;\n    q.x = c;\n    q.y = d;\n    r.x = e;\n    r.y = f;\n  }\n\n  function Yd(a, b, c, d, e, f, h, k, l, m) {\n    if (Td(a, b, e, f, m, c, d)) return Td(a, b, e, f, m, k, l);\n    var n = (a + c) / 2,\n        p = (b + d) / 2;\n    c = (c + e) / 2;\n    d = (d + f) / 2;\n    var q = (n + c) / 2,\n        r = (p + d) / 2;\n    return Yd(a, b, n, p, q, r, h, k, l, m) || Yd(q, r, c, d, e, f, h, k, l, m);\n  }\n\n  function Zd(a, b, c, d, e, f, h, k) {\n    if (Td(a, b, e, f, h, c, d)) ab(k, a, b, 0, 0), ab(k, e, f, 0, 0);else {\n      var l = (a + c) / 2,\n          m = (b + d) / 2;\n      c = (c + e) / 2;\n      d = (d + f) / 2;\n      var n = (l + c) / 2,\n          p = (m + d) / 2;\n      Zd(a, b, l, m, n, p, h, k);\n      Zd(n, p, c, d, e, f, h, k);\n    }\n  }\n\n  function ge(a, b, c, d, e, f, h, k) {\n    if (Td(a, b, e, f, h, c, d)) 0 === k.length && (k.push(a), k.push(b)), k.push(e), k.push(f);else {\n      var l = (a + c) / 2,\n          m = (b + d) / 2;\n      c = (c + e) / 2;\n      d = (d + f) / 2;\n      var n = (l + c) / 2,\n          p = (m + d) / 2;\n      ge(a, b, l, m, n, p, h, k);\n      ge(n, p, c, d, e, f, h, k);\n    }\n  }\n\n  function he(a, b, c, d, e, f, h, k, l, m, n, p, q, r) {\n    0 >= q && (q = 1E-6);\n\n    if (Td(a, b, h, k, q, c, d) && Td(a, b, h, k, q, e, f)) {\n      var s = (a - h) * (m - p) - (b - k) * (l - n);\n      if (0 === s) return !1;\n      q = ((a * k - b * h) * (l - n) - (a - h) * (l * p - m * n)) / s;\n      s = ((a * k - b * h) * (m - p) - (b - k) * (l * p - m * n)) / s;\n\n      if ((l > n ? l - n : n - l) < (m > p ? m - p : p - m)) {\n        if (h = l = 0, b < k ? (l = b, h = k) : (l = k, h = b), s < l || s > h) return !1;\n      } else if (a < h ? l = a : (l = h, h = a), q < l || q > h) return !1;\n\n      r.x = q;\n      r.y = s;\n      return !0;\n    }\n\n    var s = (a + c) / 2,\n        t = (b + d) / 2;\n    c = (c + e) / 2;\n    d = (d + f) / 2;\n    e = (e + h) / 2;\n    f = (f + k) / 2;\n    var u = (s + c) / 2,\n        y = (t + d) / 2;\n    c = (c + e) / 2;\n    d = (d + f) / 2;\n    var v = (u + c) / 2,\n        x = (y + d) / 2,\n        A = (n - l) * (n - l) + (p - m) * (p - m),\n        L = !1;\n    he(a, b, s, t, u, y, v, x, l, m, n, p, q, r) && (b = (r.x - l) * (r.x - l) + (r.y - m) * (r.y - m), b < A && (A = b, L = !0));\n    a = r.x;\n    s = r.y;\n    he(v, x, c, d, e, f, h, k, l, m, n, p, q, r) && (b = (r.x - l) * (r.x - l) + (r.y - m) * (r.y - m), b < A ? L = !0 : (r.x = a, r.y = s));\n    return L;\n  }\n\n  function ie(a, b, c, d, e, f, h, k, l, m, n, p, q) {\n    var r = 0;\n    0 >= q && (q = 1E-6);\n\n    if (Td(a, b, h, k, q, c, d) && Td(a, b, h, k, q, e, f)) {\n      q = (a - h) * (m - p) - (b - k) * (l - n);\n      if (0 === q) return r;\n      var s = ((a * k - b * h) * (l - n) - (a - h) * (l * p - m * n)) / q,\n          t = ((a * k - b * h) * (m - p) - (b - k) * (l * p - m * n)) / q;\n      if (s >= n) return r;\n\n      if ((l > n ? l - n : n - l) < (m > p ? m - p : p - m)) {\n        if (a = l = 0, b < k ? (l = b, a = k) : (l = k, a = b), t < l || t > a) return r;\n      } else if (a < h ? (l = a, a = h) : l = h, s < l || s > a) return r;\n\n      0 < q ? r++ : 0 > q && r--;\n    } else {\n      var s = (a + c) / 2,\n          t = (b + d) / 2,\n          u = (c + e) / 2,\n          y = (d + f) / 2;\n      e = (e + h) / 2;\n      f = (f + k) / 2;\n      d = (s + u) / 2;\n      c = (t + y) / 2;\n      var u = (u + e) / 2,\n          y = (y + f) / 2,\n          v = (d + u) / 2,\n          x = (c + y) / 2,\n          r = r + ie(a, b, s, t, d, c, v, x, l, m, n, p, q),\n          r = r + ie(v, x, u, y, e, f, h, k, l, m, n, p, q);\n    }\n\n    return r;\n  }\n\n  function La(a, b, c, d, e, f, h) {\n    if (Wa(a, c)) {\n      var k = 0;\n      c = 0;\n      b < d ? (k = b, c = d) : (k = d, c = b);\n      d = f;\n      if (d < k) return h.x = a, h.y = k, !1;\n      if (d > c) return h.x = a, h.y = c, !1;\n      h.x = a;\n      h.y = d;\n      return !0;\n    }\n\n    if (Wa(b, d)) {\n      a < c ? k = a : (k = c, c = a);\n      d = e;\n      if (d < k) return h.x = k, h.y = b, !1;\n      if (d > c) return h.x = c, h.y = b, !1;\n      h.x = d;\n      h.y = b;\n      return !0;\n    }\n\n    k = ((a - e) * (a - c) + (b - f) * (b - d)) / ((c - a) * (c - a) + (d - b) * (d - b));\n    if (-5E-6 > k) return h.x = a, h.y = b, !1;\n    if (1.000005 < k) return h.x = c, h.y = d, !1;\n    h.x = a + k * (c - a);\n    h.y = b + k * (d - b);\n    return !0;\n  }\n\n  function je(a, b, c, d, e, f, h, k, l) {\n    if (J(a, c) && J(b, d)) return l.x = a, l.y = b, !1;\n\n    if (Wa(e, h)) {\n      if (Wa(a, c)) return La(a, b, c, d, e, f, l), !1;\n      f = (d - b) / (c - a) * (e - a) + b;\n      return La(a, b, c, d, e, f, l);\n    }\n\n    k = (k - f) / (h - e);\n\n    if (Wa(a, c)) {\n      f = k * (a - e) + f;\n      c = h = 0;\n      b < d ? (h = b, c = d) : (h = d, c = b);\n      if (f < h) return l.x = a, l.y = h, !1;\n      if (f > c) return l.x = a, l.y = c, !1;\n      l.x = a;\n      l.y = f;\n      return !0;\n    }\n\n    h = (d - b) / (c - a);\n    if (Wa(k, h)) return La(a, b, c, d, e, f, l), !1;\n    e = (h * a - k * e + f - b) / (h - k);\n\n    if (Wa(h, 0)) {\n      a < c ? h = a : (h = c, c = a);\n      if (e < h) return l.x = h, l.y = b, !1;\n      if (e > c) return l.x = c, l.y = b, !1;\n      l.x = e;\n      l.y = b;\n      return !0;\n    }\n\n    f = h * (e - a) + b;\n    return La(a, b, c, d, e, f, l);\n  }\n\n  function ke(a, b, c, d, e, f, h, k, l) {\n    var m = 1E21,\n        n = a,\n        p = b;\n\n    if (je(a, b, a, d, e, f, h, k, l)) {\n      var q = (l.x - e) * (l.x - e) + (l.y - f) * (l.y - f);\n      q < m && (m = q, n = l.x, p = l.y);\n    }\n\n    je(c, b, c, d, e, f, h, k, l) && (q = (l.x - e) * (l.x - e) + (l.y - f) * (l.y - f), q < m && (m = q, n = l.x, p = l.y));\n    je(a, b, c, b, e, f, h, k, l) && (q = (l.x - e) * (l.x - e) + (l.y - f) * (l.y - f), q < m && (m = q, n = l.x, p = l.y));\n    je(a, d, c, d, e, f, h, k, l) && (q = (l.x - e) * (l.x - e) + (l.y - f) * (l.y - f), q < m && (m = q, n = l.x, p = l.y));\n    l.x = n;\n    l.y = p;\n    return 1E21 > m;\n  }\n\n  function le(a, b, c, d, e, f, h, k, l) {\n    c = a - c;\n    var m = e - h,\n        n = h = 0;\n    0 === c || 0 === m ? 0 === c ? (k = (f - k) / m, h = a, n = k * h + (f - k * e)) : (d = (b - d) / c, h = e, n = d * h + (b - d * a)) : (d = (b - d) / c, k = (f - k) / m, a = b - d * a, h = (f - k * e - a) / (d - k), n = d * h + a);\n    l.m(h, n);\n    return l;\n  }\n\n  function me(a, b, c) {\n    var d = b.x,\n        e = b.y,\n        f = c.x,\n        h = c.y,\n        k = a.left,\n        l = a.right,\n        m = a.top,\n        n = a.bottom;\n    return d === f ? (f = a = 0, e < h ? (a = e, f = h) : (a = h, f = e), k <= d && d <= l && a <= n && f >= m) : e === h ? (d < f ? a = d : (a = f, f = d), m <= e && e <= n && a <= l && f >= k) : a.Ia(b) || a.Ia(c) || ne(k, m, l, m, d, e, f, h) || ne(l, m, l, n, d, e, f, h) || ne(l, n, k, n, d, e, f, h) || ne(k, n, k, m, d, e, f, h) ? !0 : !1;\n  }\n\n  function ne(a, b, c, d, e, f, h, k) {\n    return 0 >= oe(a, b, c, d, e, f) * oe(a, b, c, d, h, k) && 0 >= oe(e, f, h, k, a, b) * oe(e, f, h, k, c, d);\n  }\n\n  function oe(a, b, c, d, e, f) {\n    c -= a;\n    d -= b;\n    a = e - a;\n    b = f - b;\n    f = a * d - b * c;\n    0 === f && (f = a * c + b * d, 0 < f && (f = (a - c) * c + (b - d) * d, 0 > f && (f = 0)));\n    return 0 > f ? -1 : 0 < f ? 1 : 0;\n  }\n\n  function pe(a) {\n    0 > a && (a += 360);\n    360 <= a && (a -= 360);\n    return a;\n  }\n\n  function qe(a, b, c, d) {\n    var e = Math.PI;\n    d || (b *= e / 180, c *= e / 180);\n    var f = b > c ? -1 : 1;\n    d = [];\n    var h = e / 2,\n        k = b;\n    c = Math.min(2 * e, Math.abs(c - b));\n    if (1E-5 > c) return b = k + f * Math.min(c, h), f = 0 + a * Math.cos(k), k = 0 + a * Math.sin(k), h = 0 + a * Math.cos(b), a = 0 + a * Math.sin(b), b = (f + h) / 2, c = (k + a) / 2, d.push([f, k, b, c, b, c, h, a]), d;\n\n    for (; 1E-5 < c;) {\n      b = k + f * Math.min(c, h);\n      var e = (b - k) / 2,\n          l = a * Math.cos(e),\n          m = a * Math.sin(e),\n          n = -m,\n          p = l * l + n * n,\n          q = p + l * l + n * m,\n          p = 4 / 3 * (Math.sqrt(2 * p * q) - q) / (l * m - n * l),\n          m = l - p * n,\n          l = n + p * l,\n          n = -l,\n          p = e + k,\n          e = Math.cos(p),\n          p = Math.sin(p);\n      d.push([0 + a * Math.cos(k), 0 + a * Math.sin(k), 0 + m * e - l * p, 0 + m * p + l * e, 0 + m * e - n * p, 0 + m * p + n * e, 0 + a * Math.cos(b), 0 + a * Math.sin(b)]);\n      c -= Math.abs(b - k);\n      k = b;\n    }\n\n    return d;\n  }\n\n  function Na(a, b, c, d, e, f, h) {\n    c = Math.floor((a - c) / e) * e + c;\n    d = Math.floor((b - d) / f) * f + d;\n    var k = c;\n    c + e - a < e / 2 && (k = c + e);\n    a = d;\n    d + f - b < f / 2 && (a = d + f);\n    h.m(k, a);\n  }\n\n  function re(a, b) {\n    var c = Math.max(a, b),\n        d = Math.min(a, b),\n        e = 1,\n        f = 1;\n\n    do {\n      e = c % d, c = f = d, d = e;\n    } while (0 < e);\n\n    return f;\n  }\n\n  function Ae(a, b, c, d) {\n    var e = 0 > c,\n        f = 0 > d,\n        h = 0,\n        k = h = 0;\n    a < b ? (h = 1, k = 0) : (h = 0, k = 1);\n    var l = 0,\n        m = 0,\n        n = 0,\n        p = 0,\n        l = 0 === h ? a : b,\n        n = 0 === h ? c : d;\n    if (0 === h ? e : f) n = -n;\n    h = k;\n    m = 0 === h ? a : b;\n    p = 0 === h ? c : d;\n    if (0 === h ? e : f) p = -p;\n    a = a = 0;\n    if (0 < p) {\n      if (0 < n) {\n        b = l * l;\n        a = m * m;\n        l *= n;\n        c = m * p;\n        d = -a + c;\n        e = -a + Math.sqrt(l * l + c * c);\n        m = d;\n\n        for (f = 0; 9999999999 > f; ++f) {\n          m = .5 * (d + e);\n          if (m === d || m === e) break;\n          k = l / (m + b);\n          h = c / (m + a);\n          k = k * k + h * h - 1;\n          if (0 < k) d = m;else if (0 > k) e = m;else break;\n        }\n\n        n = b * n / (m + b) - n;\n        p = a * p / (m + a) - p;\n        a = Math.sqrt(n * n + p * p);\n      } else a = Math.abs(p - m);\n    } else p = l * l - m * m, a = l * n, a < p ? (p = a / p, a = m * Math.sqrt(Math.abs(1 - p * p)), n = l * p - n, a = Math.sqrt(n * n + a * a)) : a = Math.abs(n - l);\n    return a;\n  }\n\n  function Be(a) {\n    1 < arguments.length && w.k(\"Geometry constructor can take at most one optional argument, the Geometry type.\");\n    w.oc(this);\n    this.O = !1;\n    void 0 === a && (a = Ce);\n    this.na = a;\n    this.Jb = this.Ab = this.Oc = this.Ec = 0;\n    this.Vj = new H(De);\n    this.Nv = this.Vj.F;\n    this.yv = new B().freeze();\n    this.hb = !0;\n    this.Uq = this.po = null;\n    this.Vq = NaN;\n    this.hi = zb;\n    this.ii = Wb;\n    this.Qo = this.So = NaN;\n    this.Ki = Ee;\n  }\n\n  w.ga(\"Geometry\", Be);\n  w.ni(Be);\n\n  Be.prototype.copy = function () {\n    var a = new Be();\n    a.na = this.na;\n    a.Ec = this.Ec;\n    a.Oc = this.Oc;\n    a.Ab = this.Ab;\n    a.Jb = this.Jb;\n\n    for (var b = this.Vj.n, c = b.length, d = a.Vj, e = 0; e < c; e++) {\n      var f = b[e].copy();\n      d.add(f);\n    }\n\n    a.Nv = this.Nv;\n    a.yv.assign(this.yv);\n    a.hb = this.hb;\n    a.po = this.po;\n    a.Uq = this.Uq;\n    a.Vq = this.Vq;\n    a.hi = this.hi.S();\n    a.ii = this.ii.S();\n    a.So = this.So;\n    a.Qo = this.Qo;\n    a.Ki = this.Ki;\n    return a;\n  };\n\n  var Fe;\n  Be.Line = Fe = w.p(Be, \"Line\", 0);\n  var Ge;\n  Be.Rectangle = Ge = w.p(Be, \"Rectangle\", 1);\n  var He;\n  Be.Ellipse = He = w.p(Be, \"Ellipse\", 2);\n  var Ce;\n  Be.Path = Ce = w.p(Be, \"Path\", 3);\n\n  Be.prototype.Ha = function () {\n    this.freeze();\n    Object.freeze(this);\n    return this;\n  };\n\n  Be.prototype.freeze = function () {\n    this.O = !0;\n    var a = this.fc;\n    a.freeze();\n\n    for (var a = a.n, b = a.length, c = 0; c < b; c++) {\n      a[c].freeze();\n    }\n\n    return this;\n  };\n\n  Be.prototype.Qa = function () {\n    Object.isFrozen(this) && w.k(\"cannot thaw constant: \" + this);\n    this.O = !1;\n    var a = this.fc;\n    a.Qa();\n\n    for (var a = a.n, b = a.length, c = 0; c < b; c++) {\n      a[c].Qa();\n    }\n\n    return this;\n  };\n\n  Be.prototype.equalsApprox = Be.prototype.Qc = function (a) {\n    if (!(a instanceof Be)) return !1;\n    if (this.type !== a.type) return this.type === Fe && a.type === Ce ? Ie(this, a) : a.type === Fe && this.type === Ce ? Ie(a, this) : !1;\n\n    if (this.type === Ce) {\n      var b = this.fc.n;\n      a = a.fc.n;\n      var c = b.length;\n      if (c !== a.length) return !1;\n\n      for (var d = 0; d < c; d++) {\n        if (!b[d].Qc(a[d])) return !1;\n      }\n\n      return !0;\n    }\n\n    return J(this.ha, a.ha) && J(this.da, a.da) && J(this.C, a.C) && J(this.D, a.D);\n  };\n\n  function Ie(a, b) {\n    if (a.type !== Fe || b.type !== Ce) return !1;\n\n    if (1 === b.fc.count) {\n      var c = b.fc.fa(0);\n      if (1 === c.yb.count && J(a.ha, c.ha) && J(a.da, c.da) && (c = c.yb.fa(0), c.type === Je && J(a.C, c.C) && J(a.D, c.D))) return !0;\n    }\n\n    return !1;\n  }\n\n  var Ke;\n\n  Be.stringify = Ke = function Ke(a) {\n    return a.toString();\n  };\n\n  Be.prototype.ic = function (a) {\n    a.Je === Be ? this.type = a : w.Lj(this, a);\n  };\n\n  Be.prototype.toString = function (a) {\n    void 0 === a && (a = -1);\n\n    switch (this.type) {\n      case Fe:\n        return 0 > a ? \"M\" + this.ha.toString() + \" \" + this.da.toString() + \"L\" + this.C.toString() + \" \" + this.D.toString() : \"M\" + this.ha.toFixed(a) + \" \" + this.da.toFixed(a) + \"L\" + this.C.toFixed(a) + \" \" + this.D.toFixed(a);\n\n      case Ge:\n        var b = new B(this.ha, this.da, 0, 0);\n        b.IG(this.C, this.D, 0, 0);\n        return 0 > a ? \"M\" + b.x.toString() + \" \" + b.y.toString() + \"H\" + b.right.toString() + \"V\" + b.bottom.toString() + \"H\" + b.left.toString() + \"z\" : \"M\" + b.x.toFixed(a) + \" \" + b.y.toFixed(a) + \"H\" + b.right.toFixed(a) + \"V\" + b.bottom.toFixed(a) + \"H\" + b.left.toFixed(a) + \"z\";\n\n      case He:\n        b = new B(this.ha, this.da, 0, 0);\n        b.IG(this.C, this.D, 0, 0);\n\n        if (0 > a) {\n          var c = b.left.toString() + \" \" + (b.y + b.height / 2).toString(),\n              d = b.right.toString() + \" \" + (b.y + b.height / 2).toString();\n          return \"M\" + c + \"A\" + (b.width / 2).toString() + \" \" + (b.height / 2).toString() + \" 0 0 1 \" + d + \"A\" + (b.width / 2).toString() + \" \" + (b.height / 2).toString() + \" 0 0 1 \" + c;\n        }\n\n        c = b.left.toFixed(a) + \" \" + (b.y + b.height / 2).toFixed(a);\n        d = b.right.toFixed(a) + \" \" + (b.y + b.height / 2).toFixed(a);\n        return \"M\" + c + \"A\" + (b.width / 2).toFixed(a) + \" \" + (b.height / 2).toFixed(a) + \" 0 0 1 \" + d + \"A\" + (b.width / 2).toFixed(a) + \" \" + (b.height / 2).toFixed(a) + \" 0 0 1 \" + c;\n\n      case Ce:\n        for (var b = \"\", c = this.fc.n, d = c.length, e = 0; e < d; e++) {\n          var f = c[e];\n          0 < e && (b += \" x \");\n          f.wu && (b += \"F \");\n          b += f.toString(a);\n        }\n\n        return b;\n\n      default:\n        return this.type.toString();\n    }\n  };\n\n  Be.fillPath = function (a) {\n    \"string\" !== typeof a && w.Gd(a, \"string\", Be, \"fillPath:str\");\n    a = a.split(/[Xx]/);\n\n    for (var b = a.length, c = \"\", d = 0; d < b; d++) {\n      var e = a[d],\n          c = null !== e.match(/[Ff]/) ? 0 === d ? c + e : c + (\"X\" + (\" \" === e[0] ? \"\" : \" \") + e) : c + ((0 === d ? \"\" : \"X \") + \"F\" + (\" \" === e[0] ? \"\" : \" \") + e);\n    }\n\n    return c;\n  };\n\n  var Oe;\n\n  Be.parse = Oe = function Oe(a, b) {\n    function c() {\n      return u >= L - 1 ? !0 : null !== l[u + 1].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/);\n    }\n\n    function d() {\n      u++;\n      return l[u];\n    }\n\n    function e() {\n      var a = new z(parseFloat(d()), parseFloat(d()));\n      y === y.toLowerCase() && (a.x = A.x + a.x, a.y = A.y + a.y);\n      return a;\n    }\n\n    function f() {\n      return A = e();\n    }\n\n    function h() {\n      return x = e();\n    }\n\n    function k() {\n      var a = v.toLowerCase();\n      return \"c\" !== a && \"s\" !== a && \"q\" !== a && \"t\" !== a ? A : new z(2 * A.x - x.x, 2 * A.y - x.y);\n    }\n\n    void 0 === b && (b = !1);\n    \"string\" !== typeof a && w.Gd(a, \"string\", Be, \"parse:str\");\n    a = a.replace(/,/gm, \" \");\n    a = a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm, \"$1 $2\");\n    a = a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm, \"$1 $2\");\n    a = a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^\\s])/gm, \"$1 $2\");\n    a = a.replace(/([^\\s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm, \"$1 $2\");\n    a = a.replace(/([0-9])([+\\-])/gm, \"$1 $2\");\n    a = a.replace(/([Aa](\\s+[0-9]+){3})\\s+([01])\\s*([01])/gm, \"$1 $3 $4 \");\n    a = a.replace(/[\\s\\r\\t\\n]+/gm, \" \");\n    a = a.replace(/^\\s+|\\s+$/g, \"\");\n\n    for (var l = a.split(\" \"), m = 0; m < l.length; m++) {\n      var n = l[m];\n\n      if (null !== n.match(/(\\.[0-9]*)(\\.)/gm)) {\n        for (var p = [], q = \"\", r = !1, s = 0; s < n.length; s++) {\n          var t = n[s];\n          \".\" !== t || r ? \".\" === t ? (p.push(q), q = \".\") : q += t : (r = !0, q += t);\n        }\n\n        p.push(q);\n        l.splice(m, 1);\n\n        for (n = 0; n < p.length; n++) {\n          l.splice(m + n, 0, p[n]);\n        }\n\n        m += p.length - 1;\n      }\n    }\n\n    for (var u = -1, y = \"\", v = \"\", n = new z(0, 0), x = new z(0, 0), A = new z(0, 0), L = l.length, p = w.s(), r = q = !1, s = !0, m = null; !(u >= L - 1);) {\n      if (v = y, y = d(), \"\" !== y) switch (y.toUpperCase()) {\n        case \"X\":\n          s = !0;\n          r = q = !1;\n          break;\n\n        case \"M\":\n          m = f();\n          null === p.Yb || !0 === s ? (M(p, m.x, m.y, q, !1, !r), s = !1) : p.moveTo(m.x, m.y);\n\n          for (n = A; !c();) {\n            m = f(), p.lineTo(m.x, m.y);\n          }\n\n          break;\n\n        case \"L\":\n          for (; !c();) {\n            m = f(), p.lineTo(m.x, m.y);\n          }\n\n          break;\n\n        case \"H\":\n          for (; !c();) {\n            A = m = new z((y === y.toLowerCase() ? A.x : 0) + parseFloat(d()), A.y), p.lineTo(A.x, A.y);\n          }\n\n          break;\n\n        case \"V\":\n          for (; !c();) {\n            A = m = new z(A.x, (y === y.toLowerCase() ? A.y : 0) + parseFloat(d())), p.lineTo(A.x, A.y);\n          }\n\n          break;\n\n        case \"C\":\n          for (; !c();) {\n            var t = e(),\n                C = h(),\n                m = f();\n            N(p, t.x, t.y, C.x, C.y, m.x, m.y);\n          }\n\n          break;\n\n        case \"S\":\n          for (; !c();) {\n            t = k(), C = h(), m = f(), N(p, t.x, t.y, C.x, C.y, m.x, m.y);\n          }\n\n          break;\n\n        case \"Q\":\n          for (; !c();) {\n            C = h(), m = f(), Pe(p, C.x, C.y, m.x, m.y);\n          }\n\n          break;\n\n        case \"T\":\n          for (; !c();) {\n            x = C = k(), m = f(), Pe(p, C.x, C.y, m.x, m.y);\n          }\n\n          break;\n\n        case \"B\":\n          for (; !c();) {\n            var m = parseFloat(d()),\n                t = parseFloat(d()),\n                C = parseFloat(d()),\n                O = parseFloat(d()),\n                X = parseFloat(d()),\n                S = X,\n                ba = !1;\n            c() || (S = parseFloat(d()), c() || (ba = 0 !== parseFloat(d())));\n            y === y.toLowerCase() && (C += A.x, O += A.y);\n            p.arcTo(m, t, C, O, X, S, ba);\n          }\n\n          break;\n\n        case \"A\":\n          for (; !c();) {\n            t = Math.abs(parseFloat(d())), C = Math.abs(parseFloat(d())), O = parseFloat(d()), X = !!parseFloat(d()), S = !!parseFloat(d()), m = f(), Qe(p, t, C, O, X, S, m.x, m.y);\n          }\n\n          break;\n\n        case \"Z\":\n          m = p.o.fc.n[p.o.fc.length - 1];\n          P(p);\n          A = n;\n          break;\n\n        case \"F\":\n          t = \"\";\n\n          for (m = 1; l[u + m];) {\n            if (null !== l[u + m].match(/[Uu]/)) m++;else if (null === l[u + m].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)) m++;else {\n              t = l[u + m];\n              break;\n            }\n          }\n\n          t.match(/[Mm]/) ? q = !0 : Re(p);\n          break;\n\n        case \"U\":\n          t = \"\";\n\n          for (m = 1; l[u + m];) {\n            if (null !== l[u + m].match(/[Ff]/)) m++;else if (null === l[u + m].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)) m++;else {\n              t = l[u + m];\n              break;\n            }\n          }\n\n          t.match(/[Mm]/) ? r = !0 : p.fb(!1);\n      }\n    }\n\n    n = p.o;\n    w.q(p);\n    if (b) for (p = n.fc.i; p.next();) {\n      m = p.value, m.wu = !0;\n    }\n    return n;\n  };\n\n  function Se(a, b) {\n    for (var c = a.length, d = w.K(), e = 0; e < c; e++) {\n      var f = a[e];\n      d.x = f[0];\n      d.y = f[1];\n      b.nb(d);\n      f[0] = d.x;\n      f[1] = d.y;\n      d.x = f[2];\n      d.y = f[3];\n      b.nb(d);\n      f[2] = d.x;\n      f[3] = d.y;\n      d.x = f[4];\n      d.y = f[5];\n      b.nb(d);\n      f[4] = d.x;\n      f[5] = d.y;\n      d.x = f[6];\n      d.y = f[7];\n      b.nb(d);\n      f[6] = d.x;\n      f[7] = d.y;\n    }\n\n    w.v(d);\n  }\n\n  Be.prototype.XA = function () {\n    if (this.hb || this.Nv !== this.fc.F) return !0;\n\n    for (var a = this.fc.n, b = a.length, c = 0; c < b; c++) {\n      if (a[c].XA()) return !0;\n    }\n\n    return !1;\n  };\n\n  Be.prototype.computeBounds = function () {\n    this.hb = !1;\n    this.Uq = this.po = null;\n    this.Vq = NaN;\n    this.Nv = this.fc.F;\n\n    for (var a = this.fc.n, b = a.length, c = 0; c < b; c++) {\n      var d = a[c];\n      d.hb = !1;\n      var e = d.yb;\n      d.Lw = e.F;\n\n      for (var d = e.n, e = d.length, f = 0; f < e; f++) {\n        var h = d[f];\n        h.hb = !1;\n        h.Kh = null;\n      }\n    }\n\n    a = this.yv;\n    a.Qa();\n    isNaN(this.So) || isNaN(this.Qo) ? a.m(0, 0, 0, 0) : a.m(0, 0, this.So, this.Qo);\n    Te(this, a, !1);\n    ab(a, 0, 0, 0, 0);\n    a.freeze();\n  };\n\n  Be.prototype.computeBoundsWithoutOrigin = Be.prototype.BH = function () {\n    var a = new B();\n    Te(this, a, !0);\n    return a;\n  };\n\n  function Te(a, b, c) {\n    switch (a.type) {\n      case Fe:\n      case Ge:\n      case He:\n        c ? b.m(a.Ec, a.Oc, 0, 0) : ab(b, a.Ec, a.Oc, 0, 0);\n        ab(b, a.Ab, a.Jb, 0, 0);\n        break;\n\n      case Ce:\n        var d = a.fc;\n        a = d.n;\n\n        for (var d = d.length, e = 0; e < d; e++) {\n          var f = a[e];\n          c && 0 === e ? b.m(f.ha, f.da, 0, 0) : ab(b, f.ha, f.da, 0, 0);\n\n          for (var h = f.yb.n, k = h.length, l = f.ha, m = f.da, n = 0; n < k; n++) {\n            var p = h[n];\n\n            switch (p.type) {\n              case Je:\n              case Ue:\n                l = p.C;\n                m = p.D;\n                ab(b, l, m, 0, 0);\n                break;\n\n              case Ve:\n                Vd(l, m, p.xc, p.Sc, p.Eh, p.Fh, p.C, p.D, .5, b);\n                l = p.C;\n                m = p.D;\n                break;\n\n              case We:\n                Zd(l, m, p.xc, p.Sc, p.C, p.D, .5, b);\n                l = p.C;\n                m = p.D;\n                break;\n\n              case pf:\n              case qf:\n                var q = p.type === pf ? rf(p, f) : sf(p, f, l, m),\n                    r = q.length;\n\n                if (0 === r) {\n                  l = p.la;\n                  m = p.sa;\n                  ab(b, l, m, 0, 0);\n                  break;\n                }\n\n                for (var p = null, s = 0; s < r; s++) {\n                  p = q[s], Vd(p[0], p[1], p[2], p[3], p[4], p[5], p[6], p[7], .5, b);\n                }\n\n                null !== p && (l = p[6], m = p[7]);\n                break;\n\n              default:\n                w.k(\"Unknown Segment type: \" + p.type);\n            }\n          }\n        }\n\n        break;\n\n      default:\n        w.k(\"Unknown Geometry type: \" + a.type);\n    }\n  }\n\n  Be.prototype.normalize = Be.prototype.normalize = function () {\n    this.O && w.ma(this);\n    var a = this.BH();\n    this.offset(-a.x, -a.y);\n    return new z(-a.x, -a.y);\n  };\n\n  Be.prototype.offset = Be.prototype.offset = function (a, b) {\n    this.O && w.ma(this);\n    this.transform(1, 0, 0, 1, a, b);\n    return this;\n  };\n\n  Be.prototype.scale = Be.prototype.scale = function (a, b) {\n    this.O && w.ma(this);\n    this.transform(a, 0, 0, b, 0, 0);\n    return this;\n  };\n\n  Be.prototype.rotate = Be.prototype.rotate = function (a, b, c) {\n    this.O && w.ma(this);\n    void 0 === b && (b = 0);\n    void 0 === c && (c = 0);\n    var d = w.Wg();\n    d.reset();\n    d.rotate(a, b, c);\n    this.transform(d.m11, d.m12, d.m21, d.m22, d.dx, d.dy);\n    w.bf(d);\n    return this;\n  };\n\n  Be.prototype.transform = Be.prototype.transform = function (a, b, c, d, e, f) {\n    var h = 0,\n        k = 0;\n\n    switch (this.type) {\n      case Fe:\n      case Ge:\n      case He:\n        h = this.Ec;\n        k = this.Oc;\n        this.Ec = h * a + k * c + e;\n        this.Oc = h * b + k * d + f;\n        h = this.Ab;\n        k = this.Jb;\n        this.Ab = h * a + k * c + e;\n        this.Jb = h * b + k * d + f;\n        break;\n\n      case Ce:\n        for (var l = this.fc.n, m = l.length, n = 0; n < m; n++) {\n          var p = l[n],\n              h = p.ha,\n              k = p.da;\n          p.ha = h * a + k * c + e;\n          p.da = h * b + k * d + f;\n\n          for (var p = p.yb.n, q = p.length, r = 0; r < q; r++) {\n            var s = p[r];\n\n            switch (s.type) {\n              case Je:\n              case Ue:\n                h = s.C;\n                k = s.D;\n                s.C = h * a + k * c + e;\n                s.D = h * b + k * d + f;\n                break;\n\n              case Ve:\n                h = s.xc;\n                k = s.Sc;\n                s.xc = h * a + k * c + e;\n                s.Sc = h * b + k * d + f;\n                h = s.Eh;\n                k = s.Fh;\n                s.Eh = h * a + k * c + e;\n                s.Fh = h * b + k * d + f;\n                h = s.C;\n                k = s.D;\n                s.C = h * a + k * c + e;\n                s.D = h * b + k * d + f;\n                break;\n\n              case We:\n                h = s.xc;\n                k = s.Sc;\n                s.xc = h * a + k * c + e;\n                s.Sc = h * b + k * d + f;\n                h = s.C;\n                k = s.D;\n                s.C = h * a + k * c + e;\n                s.D = h * b + k * d + f;\n                break;\n\n              case pf:\n                h = s.la;\n                k = s.sa;\n                s.la = h * a + k * c + e;\n                s.sa = h * b + k * d + f;\n                0 !== b && (h = 180 * Math.atan2(b, a) / Math.PI, 0 > h && (h += 360), s.Ae += h);\n                0 > a && (s.Ae = 180 - s.Ae, s.uf = -s.uf);\n                0 > d && (s.Ae = -s.Ae, s.uf = -s.uf);\n                s.radiusX *= Math.sqrt(a * a + c * c);\n                void 0 !== s.radiusY && (s.radiusY *= Math.sqrt(b * b + d * d));\n                break;\n\n              case qf:\n                h = s.C;\n                k = s.D;\n                s.C = h * a + k * c + e;\n                s.D = h * b + k * d + f;\n                0 !== b && (h = 180 * Math.atan2(b, a) / Math.PI, 0 > h && (h += 360), s.Nj += h);\n                0 > a && (s.Nj = 180 - s.Nj, s.gm = !s.gm);\n                0 > d && (s.Nj = -s.Nj, s.gm = !s.gm);\n                s.radiusX *= Math.sqrt(a * a + c * c);\n                s.radiusY *= Math.sqrt(b * b + d * d);\n                break;\n\n              default:\n                w.k(\"Unknown Segment type: \" + s.type);\n            }\n          }\n        }\n\n    }\n\n    this.hb = !0;\n    return this;\n  };\n\n  Be.prototype.Ia = function (a, b, c, d) {\n    var e = a.x,\n        f = a.y,\n        h = this.eb.x - 20;\n    a = a.y;\n\n    for (var k = 0, l = 0, m = 0, n = 0, p = 0, q = 0, r = this.fc.n, s = r.length, t = 0; t < s; t++) {\n      var u = r[t];\n\n      if (u.wu) {\n        if (c && u.Ia(e, f, b)) return !0;\n\n        for (var y = u.yb, l = u.ha, m = u.da, v = l, x = m, A = y.n, L = 0; L <= y.length; L++) {\n          var C, O;\n          L !== y.length ? (C = A[L], O = C.type, p = C.C, q = C.D) : (O = Je, p = v, q = x);\n\n          switch (O) {\n            case Ue:\n              n = tf(e, f, h, a, l, m, v, x);\n              if (isNaN(n)) return !0;\n              k += n;\n              v = p;\n              x = q;\n              break;\n\n            case Je:\n              n = tf(e, f, h, a, l, m, p, q);\n              if (isNaN(n)) return !0;\n              k += n;\n              break;\n\n            case Ve:\n              n = ie(l, m, C.xc, C.Sc, C.Eh, C.Fh, p, q, h, a, e, f, .5);\n              k += n;\n              break;\n\n            case We:\n              n = ie(l, m, (l + 2 * C.xc) / 3, (m + 2 * C.Sc) / 3, (2 * C.xc + p) / 3, (2 * C.Sc + q) / 3, p, q, h, a, e, f, .5);\n              k += n;\n              break;\n\n            case pf:\n            case qf:\n              O = C.type === pf ? rf(C, u) : sf(C, u, l, m);\n              var X = O.length;\n\n              if (0 === X) {\n                n = tf(e, f, h, a, l, m, C.la, C.sa);\n                if (isNaN(n)) return !0;\n                k += n;\n                break;\n              }\n\n              for (var S = null, ba = 0; ba < X; ba++) {\n                S = O[ba];\n\n                if (0 === ba) {\n                  n = tf(e, f, h, a, l, m, S[0], S[1]);\n                  if (isNaN(n)) return !0;\n                  k += n;\n                }\n\n                n = ie(S[0], S[1], S[2], S[3], S[4], S[5], S[6], S[7], h, a, e, f, .5);\n                k += n;\n              }\n\n              null !== S && (p = S[6], q = S[7]);\n              break;\n\n            default:\n              w.k(\"Unknown Segment type: \" + C.type);\n          }\n\n          l = p;\n          m = q;\n        }\n\n        if (0 !== k) return !0;\n        k = 0;\n      } else if (u.Ia(e, f, d ? b : b + 2)) return !0;\n    }\n\n    return 0 !== k;\n  };\n\n  function tf(a, b, c, d, e, f, h, k) {\n    if (Td(e, f, h, k, .05, a, b)) return NaN;\n    var l = (a - c) * (f - k);\n    if (0 === l) return 0;\n    var m = ((a * d - b * c) * (e - h) - (a - c) * (e * k - f * h)) / l;\n    b = (a * d - b * c) * (f - k) / l;\n    if (m >= a) return 0;\n\n    if ((e > h ? e - h : h - e) < (f > k ? f - k : k - f)) {\n      if (e = a = 0, f < k ? (a = f, e = k) : (a = k, e = f), b < a || b > e) return 0;\n    } else if (e < h ? (a = e, e = h) : a = h, m < a || m > e) return 0;\n\n    return 0 < l ? 1 : -1;\n  }\n\n  function uf(a, b, c, d) {\n    a = a.fc.n;\n\n    for (var e = a.length, f = 0; f < e; f++) {\n      if (a[f].Ia(b, c, d)) return !0;\n    }\n\n    return !1;\n  }\n\n  Be.prototype.getPointAlongPath = Be.prototype.gI = function (a, b) {\n    0 > a ? a = 0 : 1 < a && (a = 1);\n    void 0 === b && (b = new z());\n    if (this.type === Fe) return b.m(this.ha + a * (this.C - this.ha), this.da + a * (this.D - this.da)), b;\n\n    for (var c = this.Gx, d = this.gu, e = c.length, f = this.hu * a, h = 0, k = 0; k < e; k++) {\n      for (var l = d[k], m = l.length, n = 0; n < m; n++) {\n        var p = l[n];\n        if (h + p >= f) return d = (f - h) / p, c = c[k], k = c[2 * n], e = c[2 * n + 1], b.m(k + (c[2 * n + 2] - k) * d, e + (c[2 * n + 3] - e) * d), b;\n        h += p;\n      }\n    }\n\n    b.m(NaN, NaN);\n    return b;\n  };\n\n  Be.prototype.getAngleAlongPath = Be.prototype.hF = function (a) {\n    0 > a ? a = 0 : 1 < a && (a = 1);\n    var b = 0;\n    if (this.type === Fe) return b = 180 * Math.atan2(this.D - this.da, this.C - this.ha) / Math.PI;\n\n    for (var b = this.Gx, c = this.gu, d = b.length, e = this.hu * a, f = 0, h = 0; h < d; h++) {\n      var k = c[h],\n          l = k.length;\n\n      for (a = 0; a < l; a++) {\n        var m = k[a];\n        if (f + m >= e) return b = b[h], b = 180 * Math.atan2(b[2 * a + 3] - b[2 * a + 1], b[2 * a + 2] - b[2 * a]) / Math.PI;\n        f += m;\n      }\n    }\n\n    return NaN;\n  };\n\n  Be.prototype.getFractionForPoint = Be.prototype.cI = function (a) {\n    if (this.type === Fe) {\n      var b = this.ha,\n          c = this.da,\n          d = this.C,\n          e = this.D;\n\n      if (b !== d || c !== e) {\n        var f = a.x;\n        a = a.y;\n        var h = 0,\n            k = 0;\n        return b === d ? (c < e ? (h = c, k = e) : (h = e, k = c), a <= h ? h === c ? 0 : 1 : a >= k ? k === c ? 0 : 1 : Math.abs(a - c) / (k - h)) : c === e ? (b < d ? (h = b, k = d) : (h = d, k = b), f <= h ? h === b ? 0 : 1 : f >= k ? k === b ? 0 : 1 : Math.abs(f - b) / (k - h)) : ((f - b) * (f - b) + (a - c) * (a - c)) / ((d - b) * (d - b) + (e - c) * (e - c));\n      }\n    } else if (this.type === Ge) {\n      if (b = this.ha, c = this.da, d = this.C, e = this.D, b !== d || c !== e) {\n        var h = d - b,\n            k = e - c,\n            l = 2 * h + 2 * k,\n            f = a.x;\n        a = a.y;\n        f = Math.min(Math.max(f, b), d);\n        a = Math.min(Math.max(a, c), e);\n        var b = Math.abs(f - b),\n            d = Math.abs(f - d),\n            c = Math.abs(a - c),\n            e = Math.abs(a - e),\n            m = Math.min(b, d, c, e);\n        if (m === c) return f / l;\n        if (m === d) return (h + a) / l;\n        if (m === e) return (2 * h + k - f) / l;\n        if (m === b) return (2 * h + 2 * k - a) / l;\n      }\n    } else {\n      for (var e = this.Gx, h = this.gu, k = this.hu, l = w.K(), c = Infinity, b = d = 0, f = e.length, n = m = 0, p = 0; p < f; p++) {\n        for (var q = e[p], r = h[p], s = q.length, t = 0; t < s; t += 2) {\n          var u = q[t],\n              y = q[t + 1];\n\n          if (0 !== t) {\n            La(m, n, u, y, a.x, a.y, l);\n            var v = (l.x - a.x) * (l.x - a.x) + (l.y - a.y) * (l.y - a.y);\n            v < c && (c = v, d = b, d += Math.sqrt((l.x - m) * (l.x - m) + (l.y - n) * (l.y - n)));\n            b += r[(t - 2) / 2];\n          }\n\n          m = u;\n          n = y;\n        }\n      }\n\n      w.v(l);\n      a = d / k;\n      return 0 > a ? 0 : 1 < a ? 1 : a;\n    }\n\n    return 0;\n  };\n\n  w.u(Be, {\n    Gx: \"flattenedSegments\"\n  }, function () {\n    vf(this);\n    return this.po;\n  });\n\n  function vf(a) {\n    if (null === a.po) {\n      var b = a.po = [],\n          c = a.Uq = [],\n          d = [],\n          e = [];\n      if (a.type === Fe) d.push(a.ha), d.push(a.da), d.push(a.C), d.push(a.D), b.push(d), e.push(Math.sqrt((a.ha - a.C) * (a.ha - a.C) + (a.da - a.D) * (a.da - a.D))), c.push(e);else if (a.type === Ge) d.push(a.ha), d.push(a.da), d.push(a.C), d.push(a.da), d.push(a.C), d.push(a.D), d.push(a.ha), d.push(a.D), d.push(a.ha), d.push(a.da), b.push(d), e.push(Math.abs(a.ha - a.C)), e.push(Math.abs(a.da - a.D)), e.push(Math.abs(a.ha - a.C)), e.push(Math.abs(a.da - a.D)), c.push(e);else if (a.type === He) {\n        var f = new De();\n        f.ha = a.C;\n        f.da = (a.da + a.D) / 2;\n        var h = new wf(pf);\n        h.Ae = 0;\n        h.uf = 360;\n        h.la = (a.ha + a.C) / 2;\n        h.sa = (a.da + a.D) / 2;\n        h.radiusX = Math.abs(a.ha - a.C) / 2;\n        h.radiusY = Math.abs(a.da - a.D) / 2;\n        f.add(h);\n        a = rf(h, f);\n        e = a.length;\n        if (0 === e) d.push(h.la), d.push(h.sa);else for (var h = f.ha, f = f.da, k = 0; k < e; k++) {\n          var l = a[k];\n          Wd(h, f, l[2], l[3], l[4], l[5], l[6], l[7], .5, d);\n          h = l[6];\n          f = l[7];\n        }\n        b.push(d);\n        c.push(xf(d));\n      } else for (var m = a.fc.i; m.next();) {\n        var n = m.value,\n            d = [];\n        d.push(n.ha);\n        d.push(n.da);\n\n        for (var h = n.ha, f = n.da, p = h, q = f, r = n.yb.n, s = r.length, t = 0; t < s; t++) {\n          var u = r[t];\n\n          switch (u.na) {\n            case Ue:\n              4 <= d.length && (b.push(d), c.push(xf(d)));\n              d = [];\n              d.push(u.C);\n              d.push(u.D);\n              h = u.C;\n              f = u.D;\n              p = h;\n              q = f;\n              break;\n\n            case Je:\n              d.push(u.C);\n              d.push(u.D);\n              h = u.C;\n              f = u.D;\n              break;\n\n            case Ve:\n              Wd(h, f, u.Kd, u.Ye, u.oh, u.Dg, u.Ab, u.Jb, .5, d);\n              h = u.C;\n              f = u.D;\n              break;\n\n            case We:\n              ge(h, f, u.Kd, u.Ye, u.Ab, u.Jb, .5, d);\n              h = u.C;\n              f = u.D;\n              break;\n\n            case pf:\n              a = rf(u, n);\n              e = a.length;\n\n              if (0 === e) {\n                d.push(u.la);\n                d.push(u.sa);\n                h = u.la;\n                f = u.sa;\n                break;\n              }\n\n              for (k = 0; k < e; k++) {\n                l = a[k], Wd(h, f, l[2], l[3], l[4], l[5], l[6], l[7], .5, d), h = l[6], f = l[7];\n              }\n\n              break;\n\n            case qf:\n              a = sf(u, n, h, f);\n              e = a.length;\n\n              if (0 === e) {\n                d.push(u.la);\n                d.push(u.sa);\n                h = u.la;\n                f = u.sa;\n                break;\n              }\n\n              for (k = 0; k < e; k++) {\n                l = a[k], Wd(h, f, l[2], l[3], l[4], l[5], l[6], l[7], .5, d), h = l[6], f = l[7];\n              }\n\n              break;\n\n            default:\n              w.k(\"Segment not of valid type: \" + u.na);\n          }\n\n          u.Sh && (d.push(p), d.push(q));\n        }\n\n        4 <= d.length && (b.push(d), c.push(xf(d)));\n      }\n    }\n  }\n\n  w.u(Be, {\n    gu: \"flattenedLengths\"\n  }, function () {\n    vf(this);\n    return this.Uq;\n  });\n  w.u(Be, {\n    hu: \"flattenedTotalLength\"\n  }, function () {\n    var a = this.Vq;\n\n    if (isNaN(a)) {\n      if (this.type === Fe) var a = Math.abs(this.C - this.ha),\n          b = Math.abs(this.D - this.da),\n          a = Math.sqrt(a * a + b * b);else if (this.type === Ge) a = Math.abs(this.C - this.ha), b = Math.abs(this.D - this.da), a = 2 * a + 2 * b;else for (var b = this.gu, c = b.length, d = a = 0; d < c; d++) {\n        for (var e = b[d], f = e.length, h = 0; h < f; h++) {\n          a += e[h];\n        }\n      }\n      this.Vq = a;\n    }\n\n    return a;\n  });\n\n  function xf(a) {\n    for (var b = [], c = 0, d = 0, e = a.length, f = 0; f < e; f += 2) {\n      var h = a[f],\n          k = a[f + 1];\n      0 !== f && (c = Math.sqrt(Sa(c, d, h, k)), b.push(c));\n      c = h;\n      d = k;\n    }\n\n    return b;\n  }\n\n  w.defineProperty(Be, {\n    type: \"type\"\n  }, function () {\n    return this.na;\n  }, function (a) {\n    this.na !== a && (this.O && w.ma(this, a), this.na = a, this.hb = !0);\n  });\n  w.defineProperty(Be, {\n    ha: \"startX\"\n  }, function () {\n    return this.Ec;\n  }, function (a) {\n    this.Ec !== a && (this.O && w.ma(this, a), this.Ec = a, this.hb = !0);\n  });\n  w.defineProperty(Be, {\n    da: \"startY\"\n  }, function () {\n    return this.Oc;\n  }, function (a) {\n    this.Oc !== a && (this.O && w.ma(this, a), this.Oc = a, this.hb = !0);\n  });\n  w.defineProperty(Be, {\n    C: \"endX\"\n  }, function () {\n    return this.Ab;\n  }, function (a) {\n    this.Ab !== a && (this.O && w.ma(this, a), this.Ab = a, this.hb = !0);\n  });\n  w.defineProperty(Be, {\n    D: \"endY\"\n  }, function () {\n    return this.Jb;\n  }, function (a) {\n    this.Jb !== a && (this.O && w.ma(this, a), this.Jb = a, this.hb = !0);\n  });\n  w.defineProperty(Be, {\n    fc: \"figures\"\n  }, function () {\n    return this.Vj;\n  }, function (a) {\n    this.Vj !== a && (this.O && w.ma(this, a), this.Vj = a, this.hb = !0);\n  });\n\n  Be.prototype.add = Be.prototype.add = function (a) {\n    this.Vj.add(a);\n    return this;\n  };\n\n  Be.prototype.setSpots = function (a, b, c, d, e, f, h, k) {\n    this.O && w.ma(this);\n    this.hi = new K(a, b, e, f).freeze();\n    this.ii = new K(c, d, h, k).freeze();\n    return this;\n  };\n\n  w.defineProperty(Be, {\n    A: \"spot1\"\n  }, function () {\n    return this.hi;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.hi = a.S();\n  });\n  w.defineProperty(Be, {\n    B: \"spot2\"\n  }, function () {\n    return this.ii;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.ii = a.S();\n  });\n  w.defineProperty(Be, {\n    be: \"defaultStretch\"\n  }, function () {\n    return this.Ki;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Ki = a;\n  });\n  w.u(Be, {\n    eb: \"bounds\"\n  }, function () {\n    this.XA() && this.computeBounds();\n    return this.yv;\n  });\n\n  function De(a, b, c, d) {\n    w.oc(this);\n    this.O = !1;\n    void 0 === c && (c = !0);\n    this.Km = c;\n    void 0 === d && (d = !0);\n    this.To = d;\n    this.Ec = void 0 !== a ? a : 0;\n    this.Oc = void 0 !== b ? b : 0;\n    this.op = new H(wf);\n    this.Lw = this.op.F;\n    this.hb = !0;\n  }\n\n  w.ga(\"PathFigure\", De);\n  w.ni(De);\n\n  De.prototype.copy = function () {\n    var a = new De();\n    a.Km = this.Km;\n    a.To = this.To;\n    a.Ec = this.Ec;\n    a.Oc = this.Oc;\n\n    for (var b = this.op.n, c = b.length, d = a.op, e = 0; e < c; e++) {\n      var f = b[e].copy();\n      d.add(f);\n    }\n\n    a.Lw = this.Lw;\n    a.hb = this.hb;\n    return a;\n  };\n\n  De.prototype.equalsApprox = De.prototype.Qc = function (a) {\n    if (!(a instanceof De && J(this.ha, a.ha) && J(this.da, a.da))) return !1;\n    var b = this.yb.n;\n    a = a.yb.n;\n    var c = b.length;\n    if (c !== a.length) return !1;\n\n    for (var d = 0; d < c; d++) {\n      if (!b[d].Qc(a[d])) return !1;\n    }\n\n    return !0;\n  };\n\n  De.prototype.toString = function (a) {\n    void 0 === a && (a = -1);\n\n    for (var b = 0 > a ? \"M\" + this.ha.toString() + \" \" + this.da.toString() : \"M\" + this.ha.toFixed(a) + \" \" + this.da.toFixed(a), c = this.yb.n, d = c.length, e = 0; e < d; e++) {\n      b += \" \" + c[e].toString(a);\n    }\n\n    return b;\n  };\n\n  De.prototype.freeze = function () {\n    this.O = !0;\n    var a = this.yb;\n    a.freeze();\n\n    for (var b = a.n, a = a.length, c = 0; c < a; c++) {\n      b[c].freeze();\n    }\n\n    return this;\n  };\n\n  De.prototype.Qa = function () {\n    this.O = !1;\n    var a = this.yb;\n    a.Qa();\n\n    for (var a = a.n, b = a.length, c = 0; c < b; c++) {\n      a[c].Qa();\n    }\n\n    return this;\n  };\n\n  De.prototype.XA = function () {\n    if (this.hb) return !0;\n    var a = this.yb;\n    if (this.Lw !== a.F) return !0;\n\n    for (var a = a.n, b = a.length, c = 0; c < b; c++) {\n      if (a[c].hb) return !0;\n    }\n\n    return !1;\n  };\n\n  w.defineProperty(De, {\n    wu: \"isFilled\"\n  }, function () {\n    return this.Km;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Km = a;\n  });\n  w.defineProperty(De, {\n    jm: \"isShadowed\"\n  }, function () {\n    return this.To;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.To = a;\n  });\n  w.defineProperty(De, {\n    ha: \"startX\"\n  }, function () {\n    return this.Ec;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Ec = a;\n    this.hb = !0;\n  });\n  w.defineProperty(De, {\n    da: \"startY\"\n  }, function () {\n    return this.Oc;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Oc = a;\n    this.hb = !0;\n  });\n  w.defineProperty(De, {\n    yb: \"segments\"\n  }, function () {\n    return this.op;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.op = a;\n    this.hb = !0;\n  });\n\n  De.prototype.add = De.prototype.add = function (a) {\n    this.op.add(a);\n    return this;\n  };\n\n  De.prototype.Ia = function (a, b, c) {\n    for (var d = this.ha, e = this.da, f = d, h = e, k = this.yb.n, l = k.length, m = 0; m < l; m++) {\n      var n = k[m];\n\n      switch (n.type) {\n        case Ue:\n          f = n.C;\n          h = n.D;\n          d = n.C;\n          e = n.D;\n          break;\n\n        case Je:\n          if (Td(d, e, n.C, n.D, c, a, b)) return !0;\n          d = n.C;\n          e = n.D;\n          break;\n\n        case Ve:\n          if (Ud(d, e, n.xc, n.Sc, n.Eh, n.Fh, n.C, n.D, .5, a, b, c)) return !0;\n          d = n.C;\n          e = n.D;\n          break;\n\n        case We:\n          if (Yd(d, e, n.xc, n.Sc, n.C, n.D, .5, a, b, c)) return !0;\n          d = n.C;\n          e = n.D;\n          break;\n\n        case pf:\n        case qf:\n          var p = n.type === pf ? rf(n, this) : sf(n, this, d, e),\n              q = p.length;\n\n          if (0 === q) {\n            if (Td(d, e, n.la, n.sa, c, a, b)) return !0;\n            d = n.la;\n            e = n.sa;\n            break;\n          }\n\n          for (var r = null, s = 0; s < q; s++) {\n            if (r = p[s], 0 === s && Td(d, e, r[0], r[1], c, a, b) || Ud(r[0], r[1], r[2], r[3], r[4], r[5], r[6], r[7], .5, a, b, c)) return !0;\n          }\n\n          null !== r && (d = r[6], e = r[7]);\n          break;\n\n        default:\n          w.k(\"Unknown Segment type: \" + n.type);\n      }\n\n      if (n.Kx && (d !== f || e !== h) && Td(d, e, f, h, c, a, b)) return !0;\n    }\n\n    return !1;\n  };\n\n  function wf(a, b, c, d, e, f, h, k) {\n    w.oc(this);\n    this.O = !1;\n    void 0 === a && (a = Je);\n    this.na = a;\n    this.Ab = void 0 !== b ? b : 0;\n    this.Jb = void 0 !== c ? c : 0;\n    void 0 === d && (d = 0);\n    void 0 === e && (e = 0);\n    void 0 === f && (f = 0);\n    void 0 === h && (h = 0);\n    a === qf ? (a = f % 360, 0 > a && (a += 360), this.Kd = a, this.Ye = 0, this.oh = Math.max(d, 0), this.Dg = Math.max(e, 0), this.Xo = \"boolean\" === typeof h ? !!h : !1, this.to = !!k) : (this.Kd = d, this.Ye = e, a === pf && (f = Math.max(f, 0)), this.oh = f, \"number\" === typeof h ? (a === pf && (h = Math.max(h, 0)), this.Dg = h) : this.Dg = 0, this.to = this.Xo = !1);\n    this.Sh = !1;\n    this.hb = !0;\n    this.Kh = null;\n  }\n\n  w.ga(\"PathSegment\", wf);\n  w.ni(wf);\n\n  wf.prototype.copy = function () {\n    var a = new wf();\n    a.na = this.na;\n    a.Ab = this.Ab;\n    a.Jb = this.Jb;\n    a.Kd = this.Kd;\n    a.Ye = this.Ye;\n    a.oh = this.oh;\n    a.Dg = this.Dg;\n    a.Xo = this.Xo;\n    a.to = this.to;\n    a.Sh = this.Sh;\n    a.hb = this.hb;\n    return a;\n  };\n\n  wf.prototype.equalsApprox = wf.prototype.Qc = function (a) {\n    if (!(a instanceof wf) || this.type !== a.type || this.Kx !== a.Kx) return !1;\n\n    switch (this.type) {\n      case Ue:\n      case Je:\n        return J(this.C, a.C) && J(this.D, a.D);\n\n      case Ve:\n        return J(this.C, a.C) && J(this.D, a.D) && J(this.xc, a.xc) && J(this.Sc, a.Sc) && J(this.Eh, a.Eh) && J(this.Fh, a.Fh);\n\n      case We:\n        return J(this.C, a.C) && J(this.D, a.D) && J(this.xc, a.xc) && J(this.Sc, a.Sc);\n\n      case pf:\n        return J(this.Ae, a.Ae) && J(this.uf, a.uf) && J(this.la, a.la) && J(this.sa, a.sa) && J(this.radiusX, a.radiusX) && J(this.radiusY, a.radiusY);\n\n      case qf:\n        return this.gm === a.gm && this.Mx === a.Mx && J(this.Nj, a.Nj) && J(this.C, a.C) && J(this.D, a.D) && J(this.radiusX, a.radiusX) && J(this.radiusY, a.radiusY);\n\n      default:\n        return !1;\n    }\n  };\n\n  wf.prototype.ic = function (a) {\n    a.Je === wf ? this.type = a : w.Lj(this, a);\n  };\n\n  wf.prototype.toString = function (a) {\n    void 0 === a && (a = -1);\n    var b = \"\";\n\n    switch (this.type) {\n      case Ue:\n        b = 0 > a ? \"M\" + this.C.toString() + \" \" + this.D.toString() : \"M\" + this.C.toFixed(a) + \" \" + this.D.toFixed(a);\n        break;\n\n      case Je:\n        b = 0 > a ? \"L\" + this.C.toString() + \" \" + this.D.toString() : \"L\" + this.C.toFixed(a) + \" \" + this.D.toFixed(a);\n        break;\n\n      case Ve:\n        b = 0 > a ? \"C\" + this.xc.toString() + \" \" + this.Sc.toString() + \" \" + this.Eh.toString() + \" \" + this.Fh.toString() + \" \" + this.C.toString() + \" \" + this.D.toString() : \"C\" + this.xc.toFixed(a) + \" \" + this.Sc.toFixed(a) + \" \" + this.Eh.toFixed(a) + \" \" + this.Fh.toFixed(a) + \" \" + this.C.toFixed(a) + \" \" + this.D.toFixed(a);\n        break;\n\n      case We:\n        b = 0 > a ? \"Q\" + this.xc.toString() + \" \" + this.Sc.toString() + \" \" + this.C.toString() + \" \" + this.D.toString() : \"Q\" + this.xc.toFixed(a) + \" \" + this.Sc.toFixed(a) + \" \" + this.C.toFixed(a) + \" \" + this.D.toFixed(a);\n        break;\n\n      case pf:\n        b = 0 > a ? \"B\" + this.Ae.toString() + \" \" + this.uf.toString() + \" \" + this.la.toString() + \" \" + this.sa.toString() + \" \" + this.radiusX.toString() + \" \" + this.radiusY.toString() : \"B\" + this.Ae.toFixed(a) + \" \" + this.uf.toFixed(a) + \" \" + this.la.toFixed(a) + \" \" + this.sa.toFixed(a) + \" \" + this.radiusX.toFixed(a) + \" \" + this.radiusY.toFixed(a);\n        break;\n\n      case qf:\n        b = 0 > a ? \"A\" + this.radiusX.toString() + \" \" + this.radiusY.toString() + \" \" + this.Nj.toString() + \" \" + (this.Mx ? 1 : 0) + \" \" + (this.gm ? 1 : 0) + \" \" + this.C.toString() + \" \" + this.D.toString() : \"A\" + this.radiusX.toFixed(a) + \" \" + this.radiusY.toFixed(a) + \" \" + this.Nj.toFixed(a) + \" \" + (this.Mx ? 1 : 0) + \" \" + (this.gm ? 1 : 0) + \" \" + this.C.toFixed(a) + \" \" + this.D.toFixed(a);\n        break;\n\n      default:\n        b = this.type.toString();\n    }\n\n    return b + (this.Sh ? \"z\" : \"\");\n  };\n\n  var Ue;\n  wf.Move = Ue = w.p(wf, \"Move\", 0);\n  var Je;\n  wf.Line = Je = w.p(wf, \"Line\", 1);\n  var Ve;\n  wf.Bezier = Ve = w.p(wf, \"Bezier\", 2);\n  var We;\n  wf.QuadraticBezier = We = w.p(wf, \"QuadraticBezier\", 3);\n  var pf;\n  wf.Arc = pf = w.p(wf, \"Arc\", 4);\n  var qf;\n  wf.SvgArc = qf = w.p(wf, \"SvgArc\", 4);\n\n  wf.prototype.freeze = function () {\n    this.O = !0;\n    return this;\n  };\n\n  wf.prototype.Qa = function () {\n    this.O = !1;\n    return this;\n  };\n\n  wf.prototype.close = wf.prototype.close = function () {\n    this.Sh = !0;\n    return this;\n  };\n\n  function rf(a, b) {\n    if (null !== a.Kh && !1 === b.hb) return a.Kh;\n    var c = a.radiusX,\n        d = a.radiusY;\n    void 0 === d && (d = c);\n    if (0 === c || 0 === d) return a.Kh = [], a.Kh;\n    var e = a.Kd,\n        f = a.Ye,\n        h = qe(c < d ? c : d, a.Ae, a.Ae + a.uf, !1);\n\n    if (c !== d) {\n      var k = w.Wg();\n      k.reset();\n      c < d ? k.scale(1, d / c) : k.scale(c / d, 1);\n      Se(h, k);\n      w.bf(k);\n    }\n\n    c = h.length;\n\n    for (d = 0; d < c; d++) {\n      k = h[d], k[0] += e, k[1] += f, k[2] += e, k[3] += f, k[4] += e, k[5] += f, k[6] += e, k[7] += f;\n    }\n\n    a.Kh = h;\n    return a.Kh;\n  }\n\n  function sf(a, b, c, d) {\n    function e(a, b, c, d) {\n      return (a * d < b * c ? -1 : 1) * Math.acos((a * c + b * d) / (Math.sqrt(a * a + b * b) * Math.sqrt(c * c + d * d)));\n    }\n\n    if (null !== a.Kh && !1 === b.hb) return a.Kh;\n    b = a.oh;\n    var f = a.Dg;\n    0 === b && (b = 1E-4);\n    0 === f && (f = 1E-4);\n    var h = Math.PI / 180 * a.Kd,\n        k = a.Xo,\n        l = a.to,\n        m = a.Ab,\n        n = a.Jb,\n        p = Math.cos(h),\n        q = Math.sin(h),\n        r = p * (c - m) / 2 + q * (d - n) / 2,\n        h = -q * (c - m) / 2 + p * (d - n) / 2,\n        s = r * r / (b * b) + h * h / (f * f);\n    1 < s && (b *= Math.sqrt(s), f *= Math.sqrt(s));\n    s = (k === l ? -1 : 1) * Math.sqrt((b * b * f * f - b * b * h * h - f * f * r * r) / (b * b * h * h + f * f * r * r));\n    isNaN(s) && (s = 0);\n    k = s * b * h / f;\n    s = s * -f * r / b;\n    isNaN(k) && (k = 0);\n    isNaN(s) && (s = 0);\n    c = (c + m) / 2 + p * k - q * s;\n    d = (d + n) / 2 + q * k + p * s;\n    n = e(1, 0, (r - k) / b, (h - s) / f);\n    p = (r - k) / b;\n    m = (h - s) / f;\n    r = (-r - k) / b;\n    k = (-h - s) / f;\n    h = e(p, m, r, k);\n    r = (p * r + m * k) / (Math.sqrt(p * p + m * m) * Math.sqrt(r * r + k * k));\n    -1 >= r ? h = Math.PI : 1 <= r && (h = 0);\n    !l && 0 < h && (h -= 2 * Math.PI);\n    l && 0 > h && (h += 2 * Math.PI);\n    l = b > f ? 1 : b / f;\n    r = b > f ? f / b : 1;\n    b = qe(b > f ? b : f, n, n + h, !0);\n    f = w.Wg();\n    f.reset();\n    f.translate(c, d);\n    f.rotate(a.Kd, 0, 0);\n    f.scale(l, r);\n    Se(b, f);\n    w.bf(f);\n    a.Kh = b;\n    return a.Kh;\n  }\n\n  w.defineProperty(wf, {\n    Kx: \"isClosed\"\n  }, function () {\n    return this.Sh;\n  }, function (a) {\n    this.Sh !== a && (this.Sh = a, this.hb = !0);\n  });\n  w.defineProperty(wf, {\n    type: \"type\"\n  }, function () {\n    return this.na;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.na = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    C: \"endX\"\n  }, function () {\n    return this.Ab;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Ab = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    D: \"endY\"\n  }, function () {\n    return this.Jb;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Jb = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    xc: \"point1X\"\n  }, function () {\n    return this.Kd;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Kd = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    Sc: \"point1Y\"\n  }, function () {\n    return this.Ye;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Ye = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    Eh: \"point2X\"\n  }, function () {\n    return this.oh;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.oh = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    Fh: \"point2Y\"\n  }, function () {\n    return this.Dg;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Dg = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    la: \"centerX\"\n  }, function () {\n    return this.Kd;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Kd = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    sa: \"centerY\"\n  }, function () {\n    return this.Ye;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Ye = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    radiusX: \"radiusX\"\n  }, function () {\n    return this.oh;\n  }, function (a) {\n    0 > a && w.Fa(a, \">= zero\", wf, \"radiusX\");\n    this.O && w.ma(this, a);\n    this.oh = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    radiusY: \"radiusY\"\n  }, function () {\n    return this.Dg;\n  }, function (a) {\n    0 > a && w.Fa(a, \">= zero\", wf, \"radiusY\");\n    this.O && w.ma(this, a);\n    this.Dg = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    Ae: \"startAngle\"\n  }, function () {\n    return this.Ab;\n  }, function (a) {\n    this.Ab !== a && (this.O && w.ma(this, a), a %= 360, 0 > a && (a += 360), this.Ab = a, this.hb = !0);\n  });\n  w.defineProperty(wf, {\n    uf: \"sweepAngle\"\n  }, function () {\n    return this.Jb;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    360 < a && (a = 360);\n    -360 > a && (a = -360);\n    this.Jb = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    gm: \"isClockwiseArc\"\n  }, function () {\n    return this.to;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.to = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    Mx: \"isLargeArc\"\n  }, function () {\n    return this.Xo;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Xo = a;\n    this.hb = !0;\n  });\n  w.defineProperty(wf, {\n    Nj: \"xAxisRotation\"\n  }, function () {\n    return this.Kd;\n  }, function (a) {\n    a %= 360;\n    0 > a && (a += 360);\n    this.O && w.ma(this, a);\n    this.Kd = a;\n    this.hb = !0;\n  });\n\n  function yf() {\n    this.aa = null;\n    this.dA = new z(0, 0).freeze();\n    this.jz = new z(0, 0).freeze();\n    this.vv = this.rw = 0;\n    this.wv = 1;\n    this.fw = \"\";\n    this.Vw = this.Jv = !1;\n    this.Hv = this.xv = 0;\n    this.Qj = this.Sv = this.bw = !1;\n    this.Ir = null;\n    this.Tw = 0;\n    this.Gg = this.Sw = null;\n  }\n\n  w.ga(\"InputEvent\", yf);\n\n  yf.prototype.copy = function () {\n    var a = new yf();\n    a.aa = this.aa;\n    a.dA.assign(this.Ce);\n    a.jz.assign(this.ea);\n    a.rw = this.rw;\n    a.vv = this.vv;\n    a.wv = this.wv;\n    a.fw = this.fw;\n    a.Jv = this.Jv;\n    a.Vw = this.Vw;\n    a.xv = this.xv;\n    a.Hv = this.Hv;\n    a.bw = this.bw;\n    a.Sv = this.Sv;\n    a.Qj = this.Qj;\n    a.Ir = this.Ir;\n    a.Tw = this.Tw;\n    a.Sw = this.Sw;\n    a.Gg = this.Gg;\n    return a;\n  };\n\n  yf.prototype.toString = function () {\n    var a = \"^\";\n    0 !== this.nd && (a += \"M:\" + this.nd);\n    0 !== this.button && (a += \"B:\" + this.button);\n    \"\" !== this.key && (a += \"K:\" + this.key);\n    0 !== this.te && (a += \"C:\" + this.te);\n    0 !== this.oi && (a += \"D:\" + this.oi);\n    this.vc && (a += \"h\");\n    this.bubbles && (a += \"b\");\n    null !== this.ea && (a += \"@\" + this.ea.toString());\n    return a;\n  };\n\n  w.defineProperty(yf, {\n    g: \"diagram\"\n  }, function () {\n    return this.aa;\n  }, function (a) {\n    this.aa = a;\n  });\n  w.defineProperty(yf, {\n    Ce: \"viewPoint\"\n  }, function () {\n    return this.dA;\n  }, function (a) {\n    w.G(a, z, yf, \"viewPoint\");\n    this.dA.assign(a);\n  });\n  w.defineProperty(yf, {\n    ea: \"documentPoint\"\n  }, function () {\n    return this.jz;\n  }, function (a) {\n    w.G(a, z, yf, \"documentPoint\");\n    this.jz.assign(a);\n  });\n\n  yf.prototype.getMultiTouchViewPoint = yf.prototype.Hx = function (a, b) {\n    var c = this.g;\n    if (null === c) return b;\n    zf(c, this.event, a, b);\n    return b;\n  };\n\n  yf.prototype.getMultiTouchDocumentPoint = function (a, b) {\n    var c = this.g;\n    if (null === c) return b;\n    zf(c, this.event, a, b);\n    b.assign(c.SB(b));\n    return b;\n  };\n\n  w.defineProperty(yf, {\n    nd: \"modifiers\"\n  }, function () {\n    return this.rw;\n  }, function (a) {\n    this.rw = a;\n  });\n  w.defineProperty(yf, {\n    button: \"button\"\n  }, function () {\n    return this.vv;\n  }, function (a) {\n    this.vv = a;\n    if (null === this.event) switch (a) {\n      case 0:\n        this.buttons = 1;\n        break;\n\n      case 1:\n        this.buttons = 4;\n        break;\n\n      case 2:\n        this.buttons = 2;\n    }\n  });\n  w.defineProperty(yf, {\n    buttons: \"buttons\"\n  }, function () {\n    return this.wv;\n  }, function (a) {\n    this.wv = a;\n  });\n  w.defineProperty(yf, {\n    key: \"key\"\n  }, function () {\n    return this.fw;\n  }, function (a) {\n    this.fw = a;\n  });\n  w.defineProperty(yf, {\n    Hk: \"down\"\n  }, function () {\n    return this.Jv;\n  }, function (a) {\n    this.Jv = a;\n  });\n  w.defineProperty(yf, {\n    up: \"up\"\n  }, function () {\n    return this.Vw;\n  }, function (a) {\n    this.Vw = a;\n  });\n  w.defineProperty(yf, {\n    te: \"clickCount\"\n  }, function () {\n    return this.xv;\n  }, function (a) {\n    this.xv = a;\n  });\n  w.defineProperty(yf, {\n    oi: \"delta\"\n  }, function () {\n    return this.Hv;\n  }, function (a) {\n    this.Hv = a;\n  });\n  w.defineProperty(yf, {\n    zu: \"isMultiTouch\"\n  }, function () {\n    return this.bw;\n  }, function (a) {\n    this.bw = a;\n  });\n  w.defineProperty(yf, {\n    vc: \"handled\"\n  }, function () {\n    return this.Sv;\n  }, function (a) {\n    this.Sv = a;\n  });\n  w.defineProperty(yf, {\n    bubbles: \"bubbles\"\n  }, function () {\n    return this.Qj;\n  }, function (a) {\n    this.Qj = a;\n  });\n  w.defineProperty(yf, {\n    event: \"event\"\n  }, function () {\n    return this.Ir;\n  }, function (a) {\n    this.Ir = a;\n  });\n  w.u(yf, {\n    Aj: \"isTouchEvent\"\n  }, function () {\n    var a = window.TouchEvent,\n        b = this.event;\n    return a && b instanceof a ? !0 : (a = window.PointerEvent) && b instanceof a && (\"touch\" === b.pointerType || \"pen\" === b.pointerType);\n  });\n  w.u(yf, {\n    zh: \"isMac\"\n  }, function () {\n    return w.zh;\n  });\n  w.defineProperty(yf, {\n    timestamp: \"timestamp\"\n  }, function () {\n    return this.Tw;\n  }, function (a) {\n    this.Tw = a;\n  });\n  w.defineProperty(yf, {\n    Jf: \"targetDiagram\"\n  }, function () {\n    return this.Sw;\n  }, function (a) {\n    this.Sw = a;\n  });\n  w.defineProperty(yf, {\n    Be: \"targetObject\"\n  }, function () {\n    return this.Gg;\n  }, function (a) {\n    this.Gg = a;\n  });\n  w.defineProperty(yf, {\n    control: \"control\"\n  }, function () {\n    return 0 !== (this.nd & 1);\n  }, function (a) {\n    this.nd = a ? this.nd | 1 : this.nd & -2;\n  });\n  w.defineProperty(yf, {\n    shift: \"shift\"\n  }, function () {\n    return 0 !== (this.nd & 4);\n  }, function (a) {\n    this.nd = a ? this.nd | 4 : this.nd & -5;\n  });\n  w.defineProperty(yf, {\n    alt: \"alt\"\n  }, function () {\n    return 0 !== (this.nd & 2);\n  }, function (a) {\n    this.nd = a ? this.nd | 2 : this.nd & -3;\n  });\n  w.defineProperty(yf, {\n    Iu: \"meta\"\n  }, function () {\n    return 0 !== (this.nd & 8);\n  }, function (a) {\n    this.nd = a ? this.nd | 8 : this.nd & -9;\n  });\n  w.defineProperty(yf, {\n    left: \"left\"\n  }, function () {\n    var a = this.event;\n    return null === a || \"mousedown\" !== a.type && \"mouseup\" !== a.type && \"pointerdown\" !== a.type && \"pointerup\" !== a.type ? 0 !== (this.buttons & 1) : 0 === this.button;\n  }, function (a) {\n    this.buttons = a ? this.buttons | 1 : this.buttons & -2;\n  });\n  w.defineProperty(yf, {\n    right: \"right\"\n  }, function () {\n    var a = this.event;\n    return null === a || \"mousedown\" !== a.type && \"mouseup\" !== a.type && \"pointerdown\" !== a.type && \"pointerup\" !== a.type ? 0 !== (this.buttons & 2) : 2 === this.button;\n  }, function (a) {\n    this.buttons = a ? this.buttons | 2 : this.buttons & -3;\n  });\n  w.defineProperty(yf, {\n    xL: \"middle\"\n  }, function () {\n    var a = this.event;\n    return null === a || \"mousedown\" !== a.type && \"mouseup\" !== a.type && \"pointerdown\" !== a.type && \"pointerup\" !== a.type ? 0 !== (this.buttons & 4) : 1 === this.button;\n  }, function (a) {\n    this.buttons = a ? this.buttons | 4 : this.buttons & -5;\n  });\n\n  function Af() {\n    this.aa = null;\n    this.Sb = \"\";\n    this.zw = this.Qw = null;\n    this.br = !1;\n  }\n\n  w.ga(\"DiagramEvent\", Af);\n\n  Af.prototype.copy = function () {\n    var a = new Af();\n    a.aa = this.aa;\n    a.Sb = this.Sb;\n    a.Qw = this.Qw;\n    a.zw = this.zw;\n    a.br = this.br;\n    return a;\n  };\n\n  Af.prototype.toString = function () {\n    var a = \"*\" + this.name;\n    null !== this.KB && (a += \":\" + this.KB.toString());\n    null !== this.nB && (a += \"(\" + this.nB.toString() + \")\");\n    return a;\n  };\n\n  w.defineProperty(Af, {\n    g: \"diagram\"\n  }, function () {\n    return this.aa;\n  }, function (a) {\n    this.aa = a;\n  });\n  w.defineProperty(Af, {\n    name: \"name\"\n  }, function () {\n    return this.Sb;\n  }, function (a) {\n    this.Sb = a;\n  });\n  w.defineProperty(Af, {\n    KB: \"subject\"\n  }, function () {\n    return this.Qw;\n  }, function (a) {\n    this.Qw = a;\n  });\n  w.defineProperty(Af, {\n    nB: \"parameter\"\n  }, function () {\n    return this.zw;\n  }, function (a) {\n    this.zw = a;\n  });\n  w.defineProperty(Af, {\n    cancel: \"cancel\"\n  }, function () {\n    return this.br;\n  }, function (a) {\n    this.br !== a && w.Yt(\"DiagramEvent.cancel\", \"2.0\");\n    this.br = a;\n  });\n\n  function Bf() {\n    this.cr = Cf;\n    this.$m = this.qw = \"\";\n    this.Hs = this.Is = this.Ns = this.Os = this.Ls = this.aa = this.qe = null;\n  }\n\n  w.ga(\"ChangedEvent\", Bf);\n  var Df;\n  Bf.Transaction = Df = w.p(Bf, \"Transaction\", -1);\n  var Cf;\n  Bf.Property = Cf = w.p(Bf, \"Property\", 0);\n  var Ef;\n  Bf.Insert = Ef = w.p(Bf, \"Insert\", 1);\n  var Ff;\n  Bf.Remove = Ff = w.p(Bf, \"Remove\", 2);\n\n  Bf.prototype.clear = Bf.prototype.clear = function () {\n    this.Hs = this.Is = this.Ns = this.Os = this.Ls = this.aa = this.qe = null;\n  };\n\n  Bf.prototype.copy = function () {\n    var a = new Bf();\n    a.cr = this.cr;\n    a.qw = this.qw;\n    a.$m = this.$m;\n    a.qe = this.qe;\n    a.aa = this.aa;\n    a.Ls = this.Ls;\n    var b = this.Os;\n    a.Os = w.Pa(b) && \"function\" === typeof b.S ? b.S() : b;\n    b = this.Ns;\n    a.Ns = w.Pa(b) && \"function\" === typeof b.S ? b.S() : b;\n    b = this.Is;\n    a.Is = w.Pa(b) && \"function\" === typeof b.S ? b.S() : b;\n    b = this.Hs;\n    a.Hs = w.Pa(b) && \"function\" === typeof b.S ? b.S() : b;\n    return a;\n  };\n\n  Bf.prototype.ic = function (a) {\n    a.Je === Bf ? this.Fc = a : w.Lj(this, a);\n  };\n\n  Bf.prototype.toString = function () {\n    var a = \"\",\n        a = this.Fc === Df ? a + \"* \" : this.Fc === Cf ? a + (null !== this.$ ? \"!m\" : \"!d\") : a + ((null !== this.$ ? \"!m\" : \"!d\") + this.Fc);\n    this.propertyName && \"string\" === typeof this.propertyName && (a += \" \" + this.propertyName);\n    this.tf && this.tf !== this.propertyName && (a += \" \" + this.tf);\n    a += \": \";\n    this.Fc === Df ? null !== this.oldValue && (a += \" \" + this.oldValue) : (null !== this.object && (a += Qf(this.object)), null !== this.oldValue && (a += \"  old: \" + Qf(this.oldValue)), null !== this.Gj && (a += \" \" + this.Gj), null !== this.newValue && (a += \"  new: \" + Qf(this.newValue)), null !== this.Fj && (a += \" \" + this.Fj));\n    return a;\n  };\n\n  Bf.prototype.getValue = Bf.prototype.ka = function (a) {\n    return a ? this.oldValue : this.newValue;\n  };\n\n  Bf.prototype.getParam = function (a) {\n    return a ? this.Gj : this.Fj;\n  };\n\n  Bf.prototype.canUndo = Bf.prototype.canUndo = function () {\n    return null !== this.$ || null !== this.g ? !0 : !1;\n  };\n\n  Bf.prototype.undo = Bf.prototype.undo = function () {\n    this.canUndo() && (null !== this.$ ? this.$.rn(this, !0) : null !== this.g && this.g.rn(this, !0));\n  };\n\n  Bf.prototype.canRedo = Bf.prototype.canRedo = function () {\n    return null !== this.$ || null !== this.g ? !0 : !1;\n  };\n\n  Bf.prototype.redo = Bf.prototype.redo = function () {\n    this.canRedo() && (null !== this.$ ? this.$.rn(this, !1) : null !== this.g && this.g.rn(this, !1));\n  };\n\n  w.defineProperty(Bf, {\n    $: \"model\"\n  }, function () {\n    return this.qe;\n  }, function (a) {\n    this.qe = a;\n  });\n  w.defineProperty(Bf, {\n    g: \"diagram\"\n  }, function () {\n    return this.aa;\n  }, function (a) {\n    this.aa = a;\n  });\n  w.defineProperty(Bf, {\n    Fc: \"change\"\n  }, function () {\n    return this.cr;\n  }, function (a) {\n    this.cr = a;\n  });\n  w.defineProperty(Bf, {\n    tf: \"modelChange\"\n  }, function () {\n    return this.qw;\n  }, function (a) {\n    this.qw = a;\n  });\n  w.defineProperty(Bf, {\n    propertyName: \"propertyName\"\n  }, function () {\n    return this.$m;\n  }, function (a) {\n    this.$m = a;\n  });\n  w.u(Bf, {\n    IF: \"isTransactionFinished\"\n  }, function () {\n    return this.cr === Df && (\"CommittedTransaction\" === this.$m || \"FinishedUndo\" === this.$m || \"FinishedRedo\" === this.$m);\n  });\n  w.defineProperty(Bf, {\n    object: \"object\"\n  }, function () {\n    return this.Ls;\n  }, function (a) {\n    this.Ls = a;\n  });\n  w.defineProperty(Bf, {\n    oldValue: \"oldValue\"\n  }, function () {\n    return this.Os;\n  }, function (a) {\n    this.Os = a;\n  });\n  w.defineProperty(Bf, {\n    Gj: \"oldParam\"\n  }, function () {\n    return this.Ns;\n  }, function (a) {\n    this.Ns = a;\n  });\n  w.defineProperty(Bf, {\n    newValue: \"newValue\"\n  }, function () {\n    return this.Is;\n  }, function (a) {\n    this.Is = a;\n  });\n  w.defineProperty(Bf, {\n    Fj: \"newParam\"\n  }, function () {\n    return this.Hs;\n  }, function (a) {\n    this.Hs = a;\n  });\n\n  function F(a) {\n    1 < arguments.length && w.k(\"Model constructor can only take one optional argument, the Array of node data.\");\n    w.oc(this);\n    this.rr = this.Sb = \"\";\n    this.Si = !1;\n    this.Hz = {};\n    this.He = [];\n    this.Lc = new ma(null, Object);\n    this.ok = \"key\";\n    this.xo = this.ap = null;\n    this.ir = this.jr = !1;\n    this.Tq = null;\n    this.Vm = \"category\";\n    this.Li = new ma(null, I);\n    this.kk = null;\n    this.ij = !1;\n    this.cA = null;\n    this.ja = new Rf();\n    void 0 !== a && (this.Pg = a);\n  }\n\n  w.ga(\"Model\", F);\n\n  F.prototype.cloneProtected = function (a) {\n    a.Sb = this.Sb;\n    a.rr = this.rr;\n    a.Si = this.Si;\n    a.ok = this.ok;\n    a.ap = this.ap;\n    a.xo = this.xo;\n    a.jr = this.jr;\n    a.ir = this.ir;\n    a.Tq = this.Tq;\n    a.Vm = this.Vm;\n  };\n\n  F.prototype.copy = function () {\n    var a = new this.constructor();\n    this.cloneProtected(a);\n    return a;\n  };\n\n  F.prototype.clear = F.prototype.clear = function () {\n    this.He = [];\n    this.Lc.clear();\n    this.Li.clear();\n    this.ja.clear();\n  };\n\n  g = F.prototype;\n\n  g.toString = function (a) {\n    void 0 === a && (a = 0);\n    if (1 < a) return this.NB();\n    var b = (\"\" !== this.name ? this.name : \"\") + \" Model\";\n\n    if (0 < a) {\n      b += \"\\n node data:\";\n      a = this.Pg;\n\n      for (var c = w.cb(a), d = 0; d < c; d++) {\n        var e = w.Ba(a, d),\n            b = b + (\" \" + this.qb(e) + \":\" + Qf(e));\n      }\n    }\n\n    return b;\n  };\n\n  g.jo = function () {\n    var a = \"\";\n    \"\" !== this.name && (a += ',\\n  \"name\": ' + this.quote(this.name));\n    \"\" !== this.Yl && (a += ',\\n  \"dataFormat\": ' + this.quote(this.Yl));\n    this.ib && (a += ',\\n  \"isReadOnly\": ' + this.ib);\n    \"key\" !== this.km && \"string\" === typeof this.km && (a += ',\\n  \"nodeKeyProperty\": ' + this.quote(this.km));\n    this.vA && (a += ',\\n  \"copiesArrays\": true');\n    this.uA && (a += ',\\n  \"copiesArrayObjects\": true');\n    \"category\" !== this.Xn && \"string\" === typeof this.Xn && (a += ',\\n  \"nodeCategoryProperty\": ' + this.quote(this.Xn));\n    return a;\n  };\n\n  g.Ru = function (a) {\n    a.name && (this.name = a.name);\n    a.dataFormat && (this.Yl = a.dataFormat);\n    a.isReadOnly && (this.ib = a.isReadOnly);\n    a.nodeKeyProperty && (this.km = a.nodeKeyProperty);\n    a.copiesArrays && (this.vA = a.copiesArrays);\n    a.copiesArrayObjects && (this.uA = a.copiesArrayObjects);\n    a.nodeCategoryProperty && (this.Xn = a.nodeCategoryProperty);\n  };\n\n  function Sf(a) {\n    return ',\\n  \"modelData\": ' + Tf(a, a.Tk);\n  }\n\n  function Uf(a, b) {\n    var c = b.modelData;\n    w.Pa(c) && (a.Uu(c), a.Tk = c);\n  }\n\n  g.ZB = function () {\n    var a = this.Tk,\n        b = !1,\n        c;\n\n    for (c in a) {\n      if (!Vf(c, a[c])) {\n        b = !0;\n        break;\n      }\n    }\n\n    a = \"\";\n    b && (a = Sf(this));\n    return a + ',\\n  \"nodeDataArray\": ' + Wf(this, this.Pg, !0);\n  };\n\n  g.qB = function (a) {\n    Uf(this, a);\n    a = a.nodeDataArray;\n    w.isArray(a) && (this.Uu(a), this.Pg = a);\n  };\n\n  function Xf(a, b, c, d) {\n    if (b === c) return !0;\n    if (typeof b !== typeof c || \"function\" === typeof b || \"function\" === typeof c) return !1;\n\n    if (Array.isArray(b) && Array.isArray(c)) {\n      if (d.ka(b) === c) return !0;\n      d.add(b, c);\n      if (b.length !== c.length) return !1;\n\n      for (var e = 0; e < b.length; e++) {\n        if (!Xf(a, b[e], c[e], d)) return !1;\n      }\n\n      return !0;\n    }\n\n    if (w.Pa(b) && w.Pa(c)) {\n      if (d.ka(b) === c) return !0;\n      d.add(b, c);\n\n      for (e in b) {\n        var f = b[e];\n\n        if (!Vf(e, f)) {\n          var h = c[e];\n          if (void 0 === h || !Xf(a, f, h, d)) return !1;\n        }\n      }\n\n      for (var k in c) {\n        if (h = c[k], !Vf(k, h) && (f = b[k], void 0 === f || !Xf(a, f, h, d))) return !1;\n      }\n\n      return !0;\n    }\n\n    return !1;\n  }\n\n  function Yf(a, b, c) {\n    a[c] !== b[c] && w.k(\"Model.computeJsonDifference: Model.\" + c + ' is not the same in both models: \"' + a[c] + '\" and \"' + b[c] + '\"');\n  }\n\n  g.$B = function (a) {\n    Yf(this, a, \"nodeKeyProperty\");\n    this instanceof Zf && Yf(this, a, \"nodeParentKeyProperty\");\n\n    for (var b = new I(), c = new I(), d = new I().Pc(this.Lc.JF), e = new ma(), f = a.Pg, h = 0; h < f.length; h++) {\n      var k = f[h],\n          l = a.qb(k);\n\n      if (void 0 !== l) {\n        d.remove(l);\n        var m = this.we(l);\n        null === m ? (b.add(l), c.add(k)) : Xf(this, m, k, e) || c.add(k);\n      } else this.cB(k), l = this.qb(k), b.add(l), c.add(k);\n    }\n\n    f = \"\";\n    Xf(this, this.Tk, a.Tk, e) || (f += Sf(this));\n    0 < b.count && (f += this.Ry + Wf(this, b.yc(), !0));\n    0 < c.count && (f += this.gC + Wf(this, c.yc(), !0));\n    0 < d.count && (f += this.Ty + Wf(this, d.yc(), !0));\n    return f;\n  };\n\n  F.prototype.computeJsonDifference = F.prototype.computeJSONDifference = function (a, b) {\n    w.G(a, F, F, \"computeJsonDifference:newmodel\");\n    void 0 === b && (b = this.constructor === F ? \"go.Model\" : this.constructor === Q ? \"go.GraphLinksModel\" : this.constructor === Zf ? \"go.TreeModel\" : w.pf(this));\n    return '{ \"class\": ' + this.quote(b) + ', \"incremental\": 1' + this.jo() + this.$B(a) + \"}\";\n  };\n\n  g = F.prototype;\n  g.Ry = ',\\n  \"insertedNodeKeys\": ';\n  g.gC = ',\\n  \"modifiedNodeData\": ';\n  g.Ty = ',\\n  \"removedNodeKeys\": ';\n\n  g.YB = function (a, b) {\n    var c = this,\n        d = !1,\n        e = new I(),\n        f = new I(),\n        h = new I();\n    a.Wf.each(function (a) {\n      a.$ === c && (\"nodeDataArray\" === a.tf ? a.Fc === Ef ? e.add(a.newValue) : a.Fc === Ff && h.add(a.oldValue) : c.Le(a.object) ? f.add(a.object) : c.Tk === a.object && a.Fc === Cf && (d = !0));\n    });\n    var k = new I();\n    e.each(function (a) {\n      k.add(c.qb(a));\n      b || f.add(a);\n    });\n    var l = new I();\n    h.each(function (a) {\n      l.add(c.qb(a));\n      b && f.add(a);\n    });\n    var m = \"\";\n    d && (m += Sf(this));\n    0 < k.count && (m += (b ? this.Ty : this.Ry) + Wf(this, k.yc(), !0));\n    0 < f.count && (m += this.gC + Wf(this, f.yc(), !0));\n    0 < l.count && (m += (b ? this.Ry : this.Ty) + Wf(this, l.yc(), !0));\n    return m;\n  };\n\n  g.pB = function (a) {\n    Uf(this, a);\n    var b = a.insertedNodeKeys,\n        c = a.modifiedNodeData,\n        d = new ma();\n    if (w.isArray(c)) for (var e = 0; e < c.length; e++) {\n      var f = w.Ba(c, e),\n          h = this.qb(f);\n      void 0 !== h && null !== h && d.set(h, f);\n    }\n    if (w.isArray(b)) for (var e = w.cb(b), k = 0; k < e; k++) {\n      f = w.Ba(b, k), h = this.we(f), null === h && (h = (h = d.get(f)) ? h : this.copyNodeData({}), this.zy(h, f), this.Pl(h));\n    }\n    if (w.isArray(c)) for (e = w.cb(c), k = 0; k < e; k++) {\n      if (f = w.Ba(c, k), h = this.qb(f), h = this.we(h), null !== h) for (var l in f) {\n        \"__gohashid\" !== l && l !== this.km && l !== this.pq && this.setDataProperty(h, l, f[l]);\n      }\n    }\n    a = a.removedNodeKeys;\n    if (w.isArray(a)) for (e = w.cb(a), k = 0; k < e; k++) {\n      f = w.Ba(a, k), h = this.we(f), null !== h && this.py(h);\n    }\n  };\n\n  F.prototype.toIncrementalJson = F.prototype.toIncrementalJSON = function (a, b) {\n    w.G(a, Bf, F, \"toIncrementalJson:e\");\n    a.Fc !== Df && w.k(\"Model.toIncrementalJson argument is not a Transaction ChangedEvent:\" + a.toString());\n    var c = a.object;\n    if (!(a.IF && c instanceof $f)) return '{ \"incremental\": 0 }';\n    void 0 === b && (b = this.constructor === F ? \"go.Model\" : this.constructor === Q ? \"go.GraphLinksModel\" : this.constructor === Zf ? \"go.TreeModel\" : w.pf(this));\n    return '{ \"class\": ' + this.quote(b) + ', \"incremental\": 1' + this.jo() + this.YB(c, \"FinishedUndo\" === a.propertyName) + \"}\";\n  };\n\n  F.prototype.toJson = F.prototype.toJSON = F.prototype.NB = function (a) {\n    void 0 === a && (a = this.constructor === F ? \"go.Model\" : this.constructor === Q ? \"go.GraphLinksModel\" : this.constructor === Zf ? \"go.TreeModel\" : w.pf(this));\n    return '{ \"class\": ' + this.quote(a) + this.jo() + this.ZB() + \"}\";\n  };\n\n  F.prototype.applyIncrementalJson = F.prototype.applyIncrementalJSON = function (a) {\n    var b = null;\n    if (\"string\" === typeof a) {\n      if (window.JSON && window.JSON.parse) try {\n        b = window.JSON.parse(a);\n      } catch (c) {} else w.trace(\"WARNING: no JSON.parse available\");\n    } else \"object\" === typeof a ? b = a : w.k(\"Unable to modify a Model from: \" + a);\n    var d = b.incremental;\n    \"number\" !== typeof d && w.k(\"Unable to apply non-incremental changes to Model: \" + a);\n    0 !== d && (this.Kb(\"applyIncrementalJson\"), this.pB(b), this.Yc(\"applyIncrementalJson\"));\n  };\n\n  F.fromJson = F.fromJSON = function (a, b) {\n    void 0 === b && (b = null);\n    null !== b && w.G(b, F, F, \"fromJson:model\");\n    var c = null;\n    if (\"string\" === typeof a) {\n      if (window.JSON && window.JSON.parse) try {\n        c = window.JSON.parse(a);\n      } catch (d) {} else w.trace(\"WARNING: no JSON.parse available\");\n    } else \"object\" === typeof a ? c = a : w.k(\"Unable to construct a Model from: \" + a);\n\n    if (null === b) {\n      var e;\n      e = null;\n      var f = c[\"class\"];\n      if (\"string\" === typeof f) try {\n        var h = null;\n        0 === f.indexOf(\"go.\") ? (f = f.substr(3), h = ca[f]) : (h = ca[f], void 0 === h && (h = window[f]));\n        \"function\" === typeof h && (e = new h());\n      } catch (k) {}\n      null === e || e instanceof F ? b = e : w.k(\"Unable to construct a Model of declared class: \" + c[\"class\"]);\n    }\n\n    null === b && (b = new Q());\n    b.Ru(c);\n    b.qB(c);\n    return b;\n  };\n\n  F.prototype.replaceJsonObjects = F.prototype.Uu = function (a) {\n    if (w.isArray(a)) for (var b = w.cb(a), c = 0; c < b; c++) {\n      var d = w.Ba(a, c);\n      w.Pa(d) && w.EE(a, c, this.Uu(d));\n    } else if (w.Pa(a)) {\n      for (c in a) {\n        if (d = a[c], w.Pa(d) && (d = this.Uu(d), a[c] = d, \"points\" === c && Array.isArray(d))) {\n          for (var e = 0 === d.length % 2, f = 0; f < d.length; f++) {\n            if (\"number\" !== typeof d[f]) {\n              e = !1;\n              break;\n            }\n          }\n\n          if (e) {\n            e = new H(z);\n\n            for (f = 0; f < d.length / 2; f++) {\n              e.add(new z(d[2 * f], d[2 * f + 1]));\n            }\n\n            e.freeze();\n            a[c] = e;\n          }\n        }\n      }\n\n      if (\"object\" === typeof a) {\n        c = a;\n        d = a[\"class\"];\n        if (\"NaN\" === d) c = NaN;else if (\"Date\" === d) c = new Date(a.value);else if (\"go.Point\" === d) c = new z(ag(a.x), ag(a.y));else if (\"go.Size\" === d) c = new ia(ag(a.width), ag(a.height));else if (\"go.Rect\" === d) c = new B(ag(a.x), ag(a.y), ag(a.width), ag(a.height));else if (\"go.Margin\" === d) c = new hb(ag(a.top), ag(a.right), ag(a.bottom), ag(a.left));else if (\"go.Spot\" === d) c = \"string\" === typeof a[\"enum\"] ? xb(a[\"enum\"]) : new K(ag(a.x), ag(a.y), ag(a.offsetX), ag(a.offsetY));else if (\"go.Brush\" === d) {\n          if (c = new ga(), c.type = pa(ga, a.type), \"string\" === typeof a.color && (c.color = a.color), a.start instanceof K && (c.start = a.start), a.end instanceof K && (c.end = a.end), \"number\" === typeof a.startRadius && (c.cv = ag(a.startRadius)), \"number\" === typeof a.endRadius && (c.$t = ag(a.endRadius)), a = a.colorStops, w.Pa(a)) for (b in a) {\n            c.addColorStop(parseFloat(b), a[b]);\n          }\n        } else \"go.Geometry\" === d ? (b = null, b = \"string\" === typeof a.path ? Oe(a.path) : new Be(), b.type = pa(Be, a.type), \"number\" === typeof a.startX && (b.ha = ag(a.startX)), \"number\" === typeof a.startY && (b.da = ag(a.startY)), \"number\" === typeof a.endX && (b.C = ag(a.endX)), \"number\" === typeof a.endY && (b.D = ag(a.endY)), a.spot1 instanceof K && (b.A = a.spot1), a.spot2 instanceof K && (b.B = a.spot2), c = b) : \"go.EnumValue\" === d && (b = a.classType, 0 === b.indexOf(\"go.\") && (b = b.substr(3)), c = pa(ca[b], a.name));\n        a = c;\n      }\n    }\n    return a;\n  };\n\n  F.prototype.quote = function (a) {\n    for (var b = \"\", c = a.length, d = 0; d < c; d++) {\n      var e = a[d];\n      if ('\"' === e || \"\\\\\" === e) b += \"\\\\\" + e;else if (\"\\b\" === e) b += \"\\\\b\";else if (\"\\f\" === e) b += \"\\\\f\";else if (\"\\n\" === e) b += \"\\\\n\";else if (\"\\r\" === e) b += \"\\\\r\";else if (\"\\t\" === e) b += \"\\\\t\";else var f = a.charCodeAt(d),\n          b = 16 > f ? b + (\"\\\\u000\" + a.charCodeAt(d).toString(16)) : 32 > f ? b + (\"\\\\u00\" + a.charCodeAt(d).toString(16)) : 8232 === f ? b + \"\\\\u2028\" : 8233 === f ? b + \"\\\\u2029\" : b + e;\n    }\n\n    return '\"' + b + '\"';\n  };\n\n  F.prototype.writeJsonValue = F.prototype.gv = function (a) {\n    return void 0 === a ? \"undefined\" : null === a ? \"null\" : !0 === a ? \"true\" : !1 === a ? \"false\" : \"string\" === typeof a ? this.quote(a) : \"number\" === typeof a ? Infinity === a ? \"9e9999\" : -Infinity === a ? \"-9e9999\" : isNaN(a) ? '{\"class\":\"NaN\"}' : a.toString() : a instanceof Date ? '{\"class\":\"Date\", \"value\":\"' + a.toJSON() + '\"}' : a instanceof Number ? this.gv(a.valueOf()) : w.isArray(a) ? Wf(this, a) : w.Pa(a) ? Tf(this, a) : \"function\" === typeof a ? \"null\" : a.toString();\n  };\n\n  function Wf(a, b, c) {\n    void 0 === c && (c = !1);\n    var d = w.cb(b);\n    if (0 >= d) return \"[]\";\n    var e = new qa();\n    e.add(\"[ \");\n    c && 1 < d && e.add(\"\\n\");\n\n    for (var f = 0; f < d; f++) {\n      var h = w.Ba(b, f);\n      void 0 !== h && (0 < f && (e.add(\",\"), c && e.add(\"\\n\")), e.add(a.gv(h)));\n    }\n\n    c && 1 < d && e.add(\"\\n\");\n    e.add(\" ]\");\n    return e.toString();\n  }\n\n  function Vf(a, b) {\n    return void 0 === b || \"__gohashid\" === a || \"_\" === a[0] || \"function\" === typeof b ? !0 : !1;\n  }\n\n  function bg(a) {\n    return isNaN(a) ? \"NaN\" : Infinity === a ? \"9e9999\" : -Infinity === a ? \"-9e9999\" : a;\n  }\n\n  function Tf(a, b) {\n    var c = b;\n    if (c instanceof z) b = {\n      \"class\": \"go.Point\",\n      x: bg(c.x),\n      y: bg(c.y)\n    };else if (c instanceof ia) b = {\n      \"class\": \"go.Size\",\n      width: bg(c.width),\n      height: bg(c.height)\n    };else if (c instanceof B) b = {\n      \"class\": \"go.Rect\",\n      x: bg(c.x),\n      y: bg(c.y),\n      width: bg(c.width),\n      height: bg(c.height)\n    };else if (c instanceof hb) b = {\n      \"class\": \"go.Margin\",\n      top: bg(c.top),\n      right: bg(c.right),\n      bottom: bg(c.bottom),\n      left: bg(c.left)\n    };else if (c instanceof K) b = c.$c() ? {\n      \"class\": \"go.Spot\",\n      x: bg(c.x),\n      y: bg(c.y),\n      offsetX: bg(c.offsetX),\n      offsetY: bg(c.offsetY)\n    } : {\n      \"class\": \"go.Spot\",\n      \"enum\": c.toString()\n    };else if (c instanceof ga) {\n      b = {\n        \"class\": \"go.Brush\",\n        type: c.type.name\n      };\n      if (c.type === ng) b.color = c.color;else if (c.type === og || c.type === Xc) b.start = c.start, b.end = c.end, c.type === Xc && (0 !== c.cv && (b.startRadius = bg(c.cv)), isNaN(c.$t) || (b.endRadius = bg(c.$t)));\n\n      if (null !== c.Dk) {\n        for (var d = {}, c = c.Dk.i; c.next();) {\n          d[c.key] = c.value;\n        }\n\n        b.colorStops = d;\n      }\n    } else if (c instanceof Be) b = {\n      \"class\": \"go.Geometry\",\n      type: c.type.name\n    }, 0 !== c.ha && (b.startX = bg(c.ha)), 0 !== c.da && (b.startY = bg(c.da)), 0 !== c.C && (b.endX = bg(c.C)), 0 !== c.D && (b.endY = bg(c.D)), c.A.L(zb) || (b.spot1 = c.A), c.B.L(Wb) || (b.spot2 = c.B), c.type === Ce && (b.path = Ke(c));else if (c instanceof da) b = {\n      \"class\": \"go.EnumValue\",\n      classType: w.pf(c.Je),\n      name: c.name\n    };else if (c instanceof G || c instanceof E || c instanceof pg || c instanceof F || c instanceof qg || c instanceof rg || c instanceof sg || c instanceof tg || c instanceof Rf || c instanceof $f) return w.trace(\"ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: \" + c.toString()), \"{}\";\n    var d = \"{\",\n        c = !0,\n        e;\n\n    for (e in b) {\n      var f = w.vb(b, e);\n      if (!Vf(e, f)) if (c ? c = !1 : d += \", \", d += '\"' + e + '\":', \"points\" === e && f instanceof H && f.na === z) {\n        for (var h = \"[\", f = f.i; f.next();) {\n          var k = f.value;\n          1 < h.length && (h += \",\");\n          h += a.gv(k.x);\n          h += \",\";\n          h += a.gv(k.y);\n        }\n\n        h += \"]\";\n        d += h;\n      } else d += a.gv(f);\n    }\n\n    return d + \"}\";\n  }\n\n  function ag(a) {\n    return \"number\" === typeof a ? a : \"NaN\" === a ? NaN : \"9e9999\" === a ? Infinity : \"-9e9999\" === a ? -Infinity : parseFloat(a);\n  }\n\n  w.defineProperty(F, {\n    name: \"name\"\n  }, function () {\n    return this.Sb;\n  }, function (a) {\n    var b = this.Sb;\n    b !== a && (w.j(a, \"string\", F, \"name\"), this.Sb = a, this.h(\"name\", b, a));\n  });\n  w.defineProperty(F, {\n    Yl: \"dataFormat\"\n  }, function () {\n    return this.rr;\n  }, function (a) {\n    var b = this.rr;\n    b !== a && (w.j(a, \"string\", F, \"dataFormat\"), this.rr = a, this.h(\"dataFormat\", b, a));\n  });\n  w.defineProperty(F, {\n    ib: \"isReadOnly\"\n  }, function () {\n    return this.Si;\n  }, function (a) {\n    var b = this.Si;\n    b !== a && (w.j(a, \"boolean\", F, \"isReadOnly\"), this.Si = a, this.h(\"isReadOnly\", b, a));\n  });\n  w.defineProperty(F, {\n    Tk: \"modelData\"\n  }, function () {\n    return this.Hz;\n  }, function (a) {\n    var b = this.Hz;\n    b !== a && (w.j(a, \"object\", F, \"modelData\"), this.Hz = a, this.h(\"modelData\", b, a), this.Lb(a));\n  });\n\n  F.prototype.addChangedListener = F.prototype.mn = function (a) {\n    w.j(a, \"function\", F, \"addChangedListener:listener\");\n    null === this.kk && (this.kk = new H(\"function\"));\n    this.kk.add(a);\n  };\n\n  F.prototype.removeChangedListener = F.prototype.Su = function (a) {\n    w.j(a, \"function\", F, \"removeChangedListener:listener\");\n    null !== this.kk && (this.kk.remove(a), 0 === this.kk.count && (this.kk = null));\n  };\n\n  F.prototype.lx = function (a) {\n    this.gb || this.ja.rF(a);\n    if (null !== this.kk) for (var b = this.kk, c = b.length, d = 0; d < c; d++) {\n      b.fa(d)(a);\n    }\n  };\n\n  F.prototype.raiseChangedEvent = F.prototype.cd = function (a, b, c, d, e, f, h) {\n    ug(this, \"\", a, b, c, d, e, f, h);\n  };\n\n  F.prototype.raiseChanged = F.prototype.h = function (a, b, c, d, e) {\n    ug(this, \"\", Cf, a, this, b, c, d, e);\n  };\n\n  F.prototype.raiseDataChanged = F.prototype.oB = function (a, b, c, d, e, f) {\n    ug(this, \"\", Cf, b, a, c, d, e, f);\n  };\n\n  function ug(a, b, c, d, e, f, h, k, l) {\n    void 0 === k && (k = null);\n    void 0 === l && (l = null);\n    var m = new Bf();\n    m.$ = a;\n    m.Fc = c;\n    m.tf = b;\n    m.propertyName = d;\n    m.object = e;\n    m.oldValue = f;\n    m.Gj = k;\n    m.newValue = h;\n    m.Fj = l;\n    a.lx(m);\n  }\n\n  w.defineProperty(F, {\n    ja: \"undoManager\"\n  }, function () {\n    return this.cA;\n  }, function (a) {\n    var b = this.cA;\n    b !== a && (w.G(a, Rf, F, \"undoManager\"), null !== b && b.rJ(this), this.cA = a, null !== a && a.mH(this));\n  });\n  w.defineProperty(F, {\n    gb: \"skipsUndoManager\"\n  }, function () {\n    return this.ij;\n  }, function (a) {\n    w.j(a, \"boolean\", F, \"skipsUndoManager\");\n    this.ij = a;\n  });\n\n  F.prototype.rn = function (a, b) {\n    if (null !== a && a.$ === this) if (a.Fc === Cf) {\n      var c = a.object,\n          d = a.propertyName,\n          e = a.ka(b);\n      w.Ma(c, d, e);\n    } else a.Fc === Ef ? (c = a.Fj, \"nodeDataArray\" === a.tf ? (d = a.newValue, w.Pa(d) && \"number\" === typeof c && (e = this.qb(d), b ? (w.Ba(this.He, c) === d && w.Jg(this.He, c), void 0 !== e && this.Lc.remove(e)) : (w.Ba(this.He, c) !== d && w.sh(this.He, c, d), void 0 !== e && this.Lc.add(e, d)))) : \"\" === a.tf ? (d = a.object, !w.isArray(d) && a.propertyName && (d = w.vb(a.object, a.propertyName)), w.isArray(d) && \"number\" === typeof c && (e = a.newValue, b ? w.Jg(d, c) : w.sh(d, c, e))) : w.k(\"unknown ChangedEvent.Insert modelChange: \" + a.toString())) : a.Fc === Ff ? (c = a.Gj, \"nodeDataArray\" === a.tf ? (d = a.oldValue, w.Pa(d) && \"number\" === typeof c && (e = this.qb(d), b ? (w.Ba(this.He, c) !== d && w.sh(this.He, c, d), void 0 !== e && this.Lc.add(e, d)) : (w.Ba(this.He, c) === d && w.Jg(this.He, c), void 0 !== e && this.Lc.remove(e)))) : \"\" === a.tf ? (d = a.object, !w.isArray(d) && a.propertyName && (d = w.vb(a.object, a.propertyName)), w.isArray(d) && \"number\" === typeof c && (e = a.oldValue, b ? w.sh(d, c, e) : w.Jg(d, c))) : w.k(\"unknown ChangedEvent.Remove modelChange: \" + a.toString())) : a.Fc !== Df && w.k(\"unknown ChangedEvent: \" + a.toString());\n  };\n\n  F.prototype.startTransaction = F.prototype.Kb = function (a) {\n    return this.ja.Kb(a);\n  };\n\n  F.prototype.commitTransaction = F.prototype.Yc = function (a) {\n    return this.ja.Yc(a);\n  };\n\n  F.prototype.rollbackTransaction = F.prototype.mm = function () {\n    return this.ja.mm();\n  };\n\n  F.prototype.commit = F.prototype.commit = function (a, b) {\n    var c = b;\n    void 0 === c && (c = \"\");\n    var d = this.gb;\n    null === c && (this.gb = !0, c = \"\");\n    this.ja.Kb(c);\n    var e = !1;\n\n    try {\n      a(this), e = !0;\n    } finally {\n      e ? this.ja.Yc(c) : this.ja.mm(), this.gb = d;\n    }\n  };\n\n  F.prototype.updateTargetBindings = F.prototype.Lb = function (a, b) {\n    void 0 === b && (b = \"\");\n    ug(this, \"SourceChanged\", Df, b, a, null, null);\n  };\n\n  w.defineProperty(F, {\n    km: \"nodeKeyProperty\"\n  }, function () {\n    return this.ok;\n  }, function (a) {\n    var b = this.ok;\n    b !== a && (vg(a, F, \"nodeKeyProperty\"), \"\" === a && w.k(\"Model.nodeKeyProperty may not be the empty string\"), 0 < this.Lc.count && w.k(\"Cannot set Model.nodeKeyProperty when there is existing node data\"), this.ok = a, this.h(\"nodeKeyProperty\", b, a));\n  });\n\n  function vg(a, b, c) {\n    \"string\" !== typeof a && \"function\" !== typeof a && w.Gd(a, \"string or function\", b, c);\n  }\n\n  F.prototype.getKeyForNodeData = F.prototype.qb = function (a) {\n    if (null !== a) {\n      var b = this.ok;\n\n      if (\"\" !== b && (b = w.vb(a, b), void 0 !== b)) {\n        if (wg(b)) return b;\n        w.k(\"Key value for node data \" + a + \" is not a number or a string: \" + b);\n      }\n    }\n  };\n\n  F.prototype.setKeyForNodeData = F.prototype.zy = function (a, b) {\n    void 0 !== b && null !== b && wg(b) || w.Gd(b, \"number or string\", F, \"setKeyForNodeData:key\");\n\n    if (null !== a) {\n      var c = this.ok;\n      if (\"\" !== c) if (this.Le(a)) {\n        var d = w.vb(a, c);\n        d !== b && null === this.we(b) && (w.Ma(a, c, b), this.Lc.remove(d), this.Lc.add(b, a), ug(this, \"nodeKey\", Cf, c, a, d, b), \"string\" === typeof c && this.Lb(a, c), this.Tu(d, b));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  w.defineProperty(F, {\n    qL: \"makeUniqueKeyFunction\"\n  }, function () {\n    return this.ap;\n  }, function (a) {\n    var b = this.ap;\n    b !== a && (null !== a && w.j(a, \"function\", F, \"makeUniqueKeyFunction\"), this.ap = a, this.h(\"makeUniqueKeyFunction\", b, a));\n  });\n\n  function wg(a) {\n    return \"number\" === typeof a || \"string\" === typeof a;\n  }\n\n  F.prototype.containsNodeData = F.prototype.Le = function (a) {\n    var b = this.qb(a);\n    return void 0 === b ? !1 : this.Lc.ka(b) === a;\n  };\n\n  F.prototype.findNodeDataForKey = F.prototype.we = function (a) {\n    null === a && w.k(\"Model.findNodeDataForKey:key must not be null\");\n    return void 0 !== a && wg(a) ? this.Lc.ka(a) : null;\n  };\n\n  w.defineProperty(F, {\n    Pg: \"nodeDataArray\"\n  }, function () {\n    return this.He;\n  }, function (a) {\n    var b = this.He;\n\n    if (b !== a) {\n      w.mA(a, F, \"nodeDataArray\");\n      this.Lc.clear();\n      this.UB();\n\n      for (var c = w.cb(a), d = 0; d < c; d++) {\n        var e = w.Ba(a, d);\n\n        if (!w.Pa(e)) {\n          w.k(\"Model.nodeDataArray must only contain Objects, not: \" + e);\n          return;\n        }\n\n        w.aq(e);\n      }\n\n      this.He = a;\n\n      for (var f = new H(Object), d = 0; d < c; d++) {\n        var e = w.Ba(a, d),\n            h = this.qb(e);\n        void 0 === h ? f.add(e) : null !== this.Lc.ka(h) ? f.add(e) : this.Lc.add(h, e);\n      }\n\n      for (d = f.i; d.next();) {\n        e = d.value, this.cB(e), f = this.qb(e), void 0 !== f && this.Lc.add(f, e);\n      }\n\n      ug(this, \"nodeDataArray\", Cf, \"nodeDataArray\", this, b, a);\n\n      for (d = 0; d < c; d++) {\n        e = w.Ba(a, d), this.yq(e), this.xq(e);\n      }\n\n      this.HE();\n      w.AI(a) || (this.ib = !0);\n    }\n  });\n\n  F.prototype.makeNodeDataKeyUnique = F.prototype.cB = function (a) {\n    if (null !== a) {\n      var b = this.ok;\n\n      if (\"\" !== b) {\n        var c = this.qb(a);\n\n        if (void 0 === c || this.Lc.contains(c)) {\n          var d = this.ap;\n\n          if (null !== d && (c = d(this, a), void 0 !== c && null !== c && !this.Lc.contains(c))) {\n            w.Ma(a, b, c);\n            return;\n          }\n\n          if (\"string\" === typeof c) {\n            for (d = 2; this.Lc.contains(c + d);) {\n              d++;\n            }\n\n            w.Ma(a, b, c + d);\n          } else if (void 0 === c || \"number\" === typeof c) {\n            for (d = -this.Lc.count - 1; this.Lc.contains(d);) {\n              d--;\n            }\n\n            w.Ma(a, b, d);\n          } else w.k(\"Model.getKeyForNodeData returned something other than a string or a number: \" + c);\n        }\n      }\n    }\n  };\n\n  F.prototype.addNodeData = F.prototype.Pl = function (a) {\n    null !== a && (w.aq(a), this.Le(a) || xg(this, a, !0));\n  };\n\n  function xg(a, b, c) {\n    var d = a.qb(b);\n    if (void 0 === d || a.Lc.ka(d) !== b) a.cB(b), d = a.qb(b), void 0 === d ? w.k(\"Model.makeNodeDataKeyUnique failed on \" + b + \".  Data not added to Model.\") : (a.Lc.add(d, b), d = null, c && (d = w.cb(a.He), w.sh(a.He, d, b)), ug(a, \"nodeDataArray\", Ef, \"nodeDataArray\", a, null, b, null, d), a.yq(b), a.xq(b));\n  }\n\n  F.prototype.addNodeDataCollection = function (a) {\n    if (w.isArray(a)) for (var b = w.cb(a), c = 0; c < b; c++) {\n      this.Pl(w.Ba(a, c));\n    } else for (a = a.i; a.next();) {\n      this.Pl(a.value);\n    }\n  };\n\n  F.prototype.removeNodeData = F.prototype.py = function (a) {\n    null !== a && yg(this, a, !0);\n  };\n\n  function yg(a, b, c) {\n    var d = a.qb(b);\n    void 0 !== d && a.Lc.remove(d);\n    d = null;\n\n    if (c) {\n      d = w.Sl(a.He, b);\n      if (0 > d) return;\n      w.Jg(a.He, d);\n    }\n\n    ug(a, \"nodeDataArray\", Ff, \"nodeDataArray\", a, b, null, d, null);\n    a.fv(b);\n  }\n\n  F.prototype.removeNodeDataCollection = function (a) {\n    if (w.isArray(a)) for (var b = w.cb(a), c = 0; c < b; c++) {\n      this.py(w.Ba(a, c));\n    } else for (a = a.i; a.next();) {\n      this.py(a.value);\n    }\n  };\n\n  g = F.prototype;\n\n  g.Tu = function (a, b) {\n    var c = zg(this, a);\n    c instanceof I && this.Li.add(b, c);\n  };\n\n  g.UB = function () {};\n\n  g.yq = function () {};\n\n  g.xq = function () {};\n\n  g.fv = function () {};\n\n  function Ag(a, b, c) {\n    if (void 0 !== b) {\n      var d = a.Li.ka(b);\n      null === d && (d = new I(Object), a.Li.add(b, d));\n      d.add(c);\n    }\n  }\n\n  function Bg(a, b, c) {\n    if (void 0 !== b) {\n      var d = a.Li.ka(b);\n      d instanceof I && (void 0 === c || null === c ? a.Li.remove(b) : (d.remove(c), 0 === d.count && a.Li.remove(b)));\n    }\n  }\n\n  function zg(a, b) {\n    if (void 0 === b) return null;\n    var c = a.Li.ka(b);\n    return c instanceof I ? c : null;\n  }\n\n  F.prototype.clearUnresolvedReferences = F.prototype.HE = function (a) {\n    void 0 === a ? this.Li.clear() : this.Li.remove(a);\n  };\n\n  w.defineProperty(F, {\n    MK: \"copyNodeDataFunction\"\n  }, function () {\n    return this.xo;\n  }, function (a) {\n    var b = this.xo;\n    b !== a && (null !== a && w.j(a, \"function\", F, \"copyNodeDataFunction\"), this.xo = a, this.h(\"copyNodeDataFunction\", b, a));\n  });\n  w.defineProperty(F, {\n    vA: \"copiesArrays\"\n  }, function () {\n    return this.jr;\n  }, function (a) {\n    var b = this.jr;\n    b !== a && (null !== a && w.j(a, \"boolean\", F, \"copiesArrays\"), this.jr = a, this.h(\"copiesArrays\", b, a));\n  });\n  w.defineProperty(F, {\n    uA: \"copiesArrayObjects\"\n  }, function () {\n    return this.ir;\n  }, function (a) {\n    var b = this.ir;\n    b !== a && (null !== a && w.j(a, \"boolean\", F, \"copiesArrayObjects\"), this.ir = a, this.h(\"copiesArrayObjects\", b, a));\n  });\n\n  F.prototype.copyNodeData = function (a) {\n    if (null === a) return null;\n    var b = null,\n        b = this.xo,\n        b = null !== b ? b(a, this) : Cg(this, a, !0);\n    w.Pa(b) && w.oc(b);\n    return b;\n  };\n\n  function Cg(a, b, c) {\n    if (a.vA && Array.isArray(b)) {\n      var d = [];\n\n      for (c = 0; c < b.length; c++) {\n        var e = Cg(a, b[c], a.uA);\n        d.push(e);\n      }\n\n      w.oc(d);\n      return d;\n    }\n\n    if (c && w.Pa(b)) {\n      c = (c = b.constructor) ? new c() : {};\n\n      for (d in b) {\n        if (\"__gohashid\" !== d) {\n          var e = w.vb(b, d),\n              f;\n          f = e;\n          f instanceof G || f instanceof E || f instanceof pg || f instanceof Dg || f instanceof Wg || f instanceof qg || f instanceof rg || f instanceof sg || f instanceof yf || f instanceof Af ? (\"_\" !== d[0] && w.trace('Warning: found GraphObject or Diagram reference when copying model data on property \"' + d + '\" of data object: ' + b.toString() + \"  \\nModel data should not have any references to a Diagram or any part of a diagram, such as: \" + f.toString()), f = !0) : f = f instanceof F || f instanceof Rf || f instanceof $f || f instanceof Bf ? !0 : !1;\n          f || (e = Cg(a, e, !1));\n          w.Ma(c, d, e);\n        }\n      }\n\n      w.oc(c);\n      return c;\n    }\n\n    return b instanceof z ? b.copy() : b instanceof ia ? b.copy() : b instanceof B ? b.copy() : b instanceof K ? b.copy() : b instanceof hb ? b.copy() : b;\n  }\n\n  w.defineProperty(F, {\n    oH: \"afterCopyFunction\"\n  }, function () {\n    return this.Tq;\n  }, function (a) {\n    var b = this.Tq;\n    b !== a && (null !== a && w.j(a, \"function\", F, \"afterCopyFunction\"), this.Tq = a, this.h(\"afterCopyFunction\", b, a));\n  });\n  var Xg = !1;\n\n  F.prototype.set = function (a, b, c) {\n    this.setDataProperty(a, b, c);\n  };\n\n  F.prototype.set = F.prototype.setDataProperty = function (a, b, c) {\n    if (this.Le(a)) {\n      if (b === this.km) this.zy(a, c);else {\n        if (b === this.Xn) {\n          this.xy(a, c);\n          return;\n        }\n      }\n    } else !Xg && a instanceof G && (Xg = !0, w.trace('Model.setDataProperty is modifying a GraphObject, \"' + a.toString() + '\"'), w.trace(\"  Is that really your intent?\"));\n    var d = w.vb(a, b);\n    d !== c && (w.Ma(a, b, c), this.oB(a, b, d, c));\n  };\n\n  F.prototype.addArrayItem = function (a, b) {\n    this.PA(a, -1, b);\n  };\n\n  F.prototype.insertArrayItem = F.prototype.PA = function (a, b, c) {\n    a === this.He && w.k(\"Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray\");\n    0 > b && (b = w.cb(a));\n    w.sh(a, b, c);\n    ug(this, \"\", Ef, \"\", a, null, c, null, b);\n  };\n\n  F.prototype.removeArrayItem = F.prototype.aG = function (a, b) {\n    void 0 === b && (b = -1);\n    a === this.He && w.k(\"Model.removeArrayItem should not be called on the Model.nodeDataArray\");\n    -1 === b && (b = w.cb(a) - 1);\n    var c = w.Ba(a, b);\n    w.Jg(a, b);\n    ug(this, \"\", Ff, \"\", a, c, null, b, null);\n  };\n\n  w.defineProperty(F, {\n    Xn: \"nodeCategoryProperty\"\n  }, function () {\n    return this.Vm;\n  }, function (a) {\n    var b = this.Vm;\n    b !== a && (vg(a, F, \"nodeCategoryProperty\"), this.Vm = a, this.h(\"nodeCategoryProperty\", b, a));\n  });\n\n  F.prototype.getCategoryForNodeData = F.prototype.HA = function (a) {\n    if (null === a) return \"\";\n    var b = this.Vm;\n    if (\"\" === b) return \"\";\n    b = w.vb(a, b);\n    if (void 0 === b) return \"\";\n    if (\"string\" === typeof b) return b;\n    w.k(\"getCategoryForNodeData found a non-string category for \" + a + \": \" + b);\n    return \"\";\n  };\n\n  F.prototype.setCategoryForNodeData = F.prototype.xy = function (a, b) {\n    w.j(b, \"string\", F, \"setCategoryForNodeData:cat\");\n\n    if (null !== a) {\n      var c = this.Vm;\n      if (\"\" !== c) if (this.Le(a)) {\n        var d = w.vb(a, c);\n        void 0 === d && (d = \"\");\n        d !== b && (w.Ma(a, c, b), ug(this, \"nodeCategory\", Cf, c, a, d, b));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  function Q(a, b) {\n    F.call(this);\n    2 < arguments.length && w.k(\"GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data.\");\n    this.kf = [];\n    this.Vi = new I(Object);\n    this.gd = new ma(null, Object);\n    this.Al = \"\";\n    this.zm = this.wo = this.bp = null;\n    this.Wh = \"from\";\n    this.Xh = \"to\";\n    this.Rm = this.Qm = \"\";\n    this.Pm = \"category\";\n    this.zg = \"\";\n    this.fp = \"isGroup\";\n    this.mh = \"group\";\n    this.kr = !1;\n    void 0 !== a && (this.Pg = a);\n    void 0 !== b && (this.Ah = b);\n  }\n\n  w.La(Q, F);\n  w.ga(\"GraphLinksModel\", Q);\n\n  Q.prototype.cloneProtected = function (a) {\n    F.prototype.cloneProtected.call(this, a);\n    a.Al = this.Al;\n    a.bp = this.bp;\n    a.wo = this.wo;\n    a.Wh = this.Wh;\n    a.Xh = this.Xh;\n    a.Qm = this.Qm;\n    a.Rm = this.Rm;\n    a.Pm = this.Pm;\n    a.zg = this.zg;\n    a.fp = this.fp;\n    a.mh = this.mh;\n    a.kr = this.kr;\n  };\n\n  Q.prototype.clear = Q.prototype.clear = function () {\n    F.prototype.clear.call(this);\n    this.kf = [];\n    this.gd.clear();\n    this.Vi.clear();\n  };\n\n  g = Q.prototype;\n\n  g.toString = function (a) {\n    void 0 === a && (a = 0);\n    if (2 <= a) return this.NB();\n    var b = (\"\" !== this.name ? this.name : \"\") + \" GraphLinksModel\";\n\n    if (0 < a) {\n      b += \"\\n node data:\";\n      a = this.Pg;\n\n      for (var c = w.cb(a), d = 0, d = 0; d < c; d++) {\n        var e = w.Ba(a, d),\n            b = b + (\" \" + this.qb(e) + \":\" + Qf(e));\n      }\n\n      b += \"\\n link data:\";\n      a = this.Ah;\n      c = w.cb(a);\n\n      for (d = 0; d < c; d++) {\n        e = w.Ba(a, d), b += \" \" + this.cm(e) + \"--\\x3e\" + this.dm(e);\n      }\n    }\n\n    return b;\n  };\n\n  g.jo = function () {\n    var a = F.prototype.jo.call(this),\n        b = \"\";\n    \"category\" !== this.Du && \"string\" === typeof this.Du && (b += ',\\n  \"linkCategoryProperty\": ' + this.quote(this.Du));\n    \"\" !== this.Dj && \"string\" === typeof this.Dj && (b += ',\\n  \"linkKeyProperty\": ' + this.quote(this.Dj));\n    \"from\" !== this.Nn && \"string\" === typeof this.Nn && (b += ',\\n  \"linkFromKeyProperty\": ' + this.quote(this.Nn));\n    \"to\" !== this.On && \"string\" === typeof this.On && (b += ',\\n  \"linkToKeyProperty\": ' + this.quote(this.On));\n    \"\" !== this.Eu && \"string\" === typeof this.Eu && (b += ',\\n  \"linkFromPortIdProperty\": ' + this.quote(this.Eu));\n    \"\" !== this.Gu && \"string\" === typeof this.Gu && (b += ',\\n  \"linkToPortIdProperty\": ' + this.quote(this.Gu));\n    \"\" !== this.Fu && \"string\" === typeof this.Fu && (b += ',\\n  \"linkLabelKeysProperty\": ' + this.quote(this.Fu));\n    \"isGroup\" !== this.pq && \"string\" === typeof this.pq && (b += ',\\n  \"nodeIsGroupProperty\": ' + this.quote(this.pq));\n    \"group\" !== this.Nu && \"string\" === typeof this.Nu && (b += ',\\n  \"nodeGroupKeyProperty\": ' + this.quote(this.Nu));\n    return a + b;\n  };\n\n  g.Ru = function (a) {\n    F.prototype.Ru.call(this, a);\n    a.linkKeyProperty && (this.Dj = a.linkKeyProperty);\n    a.linkFromKeyProperty && (this.Nn = a.linkFromKeyProperty);\n    a.linkToKeyProperty && (this.On = a.linkToKeyProperty);\n    a.linkFromPortIdProperty && (this.Eu = a.linkFromPortIdProperty);\n    a.linkToPortIdProperty && (this.Gu = a.linkToPortIdProperty);\n    a.linkCategoryProperty && (this.Du = a.linkCategoryProperty);\n    a.linkLabelKeysProperty && (this.Fu = a.linkLabelKeysProperty);\n    a.nodeIsGroupProperty && (this.pq = a.nodeIsGroupProperty);\n    a.nodeGroupKeyProperty && (this.Nu = a.nodeGroupKeyProperty);\n  };\n\n  g.ZB = function () {\n    var a = F.prototype.ZB.call(this),\n        b = ',\\n  \"linkDataArray\": ' + Wf(this, this.Ah, !0);\n    return a + b;\n  };\n\n  g.qB = function (a) {\n    F.prototype.qB.call(this, a);\n    a = a.linkDataArray;\n    w.isArray(a) && (this.Uu(a), this.Ah = a);\n  };\n\n  g.$B = function (a) {\n    if (!(a instanceof Q)) return w.k(\"Model.computeJsonDifference: newmodel must be a GraphLinksModel\"), \"\";\n    \"\" === this.Dj && w.k(\"GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.\");\n    var b = F.prototype.$B.call(this, a);\n    Yf(this, a, \"linkKeyProperty\");\n    Yf(this, a, \"linkFromKeyProperty\");\n    Yf(this, a, \"linkToKeyProperty\");\n    Yf(this, a, \"linkLabelKeysProperty\");\n    Yf(this, a, \"nodeIsGroupProperty\");\n    Yf(this, a, \"nodeGroupKeyProperty\");\n\n    for (var c = new I(), d = new I(), e = new I().Pc(this.gd.JF), f = new ma(), h = a.Ah, k = 0; k < h.length; k++) {\n      var l = h[k],\n          m = a.cf(l);\n\n      if (void 0 !== m) {\n        e.remove(m);\n        var n = this.Xp(m);\n        null === n ? (c.add(m), d.add(l)) : Xf(this, n, l, f) || d.add(l);\n      } else this.Yx(l), m = this.cf(l), c.add(m), d.add(l);\n    }\n\n    a = b;\n    0 < c.count && (a += this.Qy + Wf(this, c.yc(), !0));\n    0 < d.count && (a += this.fC + Wf(this, d.yc(), !0));\n    0 < e.count && (a += this.Sy + Wf(this, e.yc(), !0));\n    return a;\n  };\n\n  g.Qy = ',\\n  \"insertedLinkKeys\": ';\n  g.fC = ',\\n  \"modifiedLinkData\": ';\n  g.Sy = ',\\n  \"removedLinkKeys\": ';\n\n  g.YB = function (a, b) {\n    \"\" === this.Dj && w.k(\"GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.\");\n    var c = F.prototype.YB.call(this, a, b),\n        d = this,\n        e = new I(),\n        f = new I(),\n        h = new I();\n    a.Wf.each(function (a) {\n      a.$ === d && (\"linkDataArray\" === a.tf ? a.Fc === Ef ? e.add(a.newValue) : a.Fc === Ff && h.add(a.oldValue) : d.uh(a.object) && f.add(a.object));\n    });\n    var k = new I();\n    e.each(function (a) {\n      k.add(d.cf(a));\n      b || f.add(a);\n    });\n    var l = new I();\n    h.each(function (a) {\n      l.add(d.cf(a));\n      b && f.add(a);\n    });\n    0 < k.count && (c += (b ? this.Sy : this.Qy) + Wf(this, k.yc(), !0));\n    0 < f.count && (c += this.fC + Wf(this, f.yc(), !0));\n    0 < l.count && (c += (b ? this.Qy : this.Sy) + Wf(this, l.yc(), !0));\n    return c;\n  };\n\n  g.pB = function (a) {\n    F.prototype.pB.call(this, a);\n    var b = a.insertedLinkKeys,\n        c = a.modifiedLinkData,\n        d = new ma();\n    if (w.isArray(c)) for (var e = 0; e < c.length; e++) {\n      var f = w.Ba(c, e),\n          h = this.cf(f);\n      void 0 !== h && null !== h && d.set(h, f);\n    }\n    if (w.isArray(b)) for (var e = w.cb(b), k = 0; k < e; k++) {\n      f = w.Ba(b, k), h = this.Xp(f), null === h && (h = (h = d.get(f)) ? h : this.nx({}), this.rG(h, f), this.Ot(h));\n    }\n    if (w.isArray(c)) for (e = w.cb(c), k = 0; k < e; k++) {\n      if (f = w.Ba(c, k), h = this.cf(f), h = this.Xp(h), null !== h) for (var l in f) {\n        \"__gohashid\" !== l && l !== this.Dj && this.setDataProperty(h, l, f[l]);\n      }\n    }\n    a = a.removedLinkKeys;\n    if (w.isArray(a)) for (e = w.cb(a), k = 0; k < e; k++) {\n      f = w.Ba(a, k), h = this.Xp(f), null !== h && this.oy(h);\n    }\n  };\n\n  g.rn = function (a, b) {\n    if (a.Fc === Ef) {\n      var c = a.Fj;\n\n      if (\"linkDataArray\" === a.tf) {\n        var d = a.newValue;\n\n        if (w.Pa(d) && \"number\" === typeof c) {\n          var e = this.cf(d);\n          b ? (this.Vi.remove(d), w.Ba(this.kf, c) === d && w.Jg(this.kf, c), void 0 !== e && this.gd.remove(e)) : (this.Vi.add(d), w.Ba(this.kf, c) !== d && w.sh(this.kf, c, d), void 0 !== e && this.gd.add(e, d));\n        }\n\n        return;\n      }\n\n      if (\"linkLabelKeys\" === a.tf) {\n        d = this.Nk(a.object);\n        w.isArray(d) && \"number\" === typeof c && (b ? (c = w.Sl(d, a.newValue), 0 <= c && w.Jg(d, c)) : 0 > w.Sl(d, a.newValue) && w.sh(d, c, a.newValue));\n        return;\n      }\n    } else if (a.Fc === Ff) {\n      c = a.Gj;\n\n      if (\"linkDataArray\" === a.tf) {\n        d = a.oldValue;\n        w.Pa(d) && \"number\" === typeof c && (e = this.cf(d), b ? (this.Vi.add(d), w.Ba(this.kf, c) !== d && w.sh(this.kf, c, d), void 0 !== e && this.gd.add(e, d)) : (this.Vi.remove(d), w.Ba(this.kf, c) === d && w.Jg(this.kf, c), void 0 !== e && this.gd.remove(e)));\n        return;\n      }\n\n      if (\"linkLabelKeys\" === a.tf) {\n        d = this.Nk(a.object);\n        w.isArray(d) && \"number\" === typeof c && (b ? 0 > w.Sl(d, a.newValue) && w.sh(d, c, a.newValue) : (c = w.Sl(d, a.newValue), 0 <= c && w.Jg(d, c)));\n        return;\n      }\n    }\n\n    F.prototype.rn.call(this, a, b);\n  };\n\n  w.defineProperty(Q, {\n    kA: \"archetypeNodeData\"\n  }, function () {\n    return this.zm;\n  }, function (a) {\n    var b = this.zm;\n    b !== a && (null !== a && w.G(a, Object, Q, \"archetypeNodeData\"), this.zm = a, this.h(\"archetypeNodeData\", b, a));\n  });\n\n  Q.prototype.Pn = function (a) {\n    if (void 0 !== a) {\n      var b = this.zm;\n\n      if (null !== b) {\n        var c = this.we(a);\n        null === c && (c = this.copyNodeData(b), w.Ma(c, this.ok, a), this.Pl(c));\n      }\n\n      return a;\n    }\n  };\n\n  w.defineProperty(Q, {\n    Nn: \"linkFromKeyProperty\"\n  }, function () {\n    return this.Wh;\n  }, function (a) {\n    var b = this.Wh;\n    b !== a && (vg(a, Q, \"linkFromKeyProperty\"), this.Wh = a, this.h(\"linkFromKeyProperty\", b, a));\n  });\n\n  Q.prototype.getFromKeyForLinkData = Q.prototype.cm = function (a) {\n    if (null !== a) {\n      var b = this.Wh;\n\n      if (\"\" !== b && (b = w.vb(a, b), void 0 !== b)) {\n        if (wg(b)) return b;\n        w.k(\"FromKey value for link data \" + a + \" is not a number or a string: \" + b);\n      }\n    }\n  };\n\n  Q.prototype.setFromKeyForLinkData = Q.prototype.AB = function (a, b) {\n    null === b && (b = void 0);\n    void 0 === b || wg(b) || w.Gd(b, \"number or string\", Q, \"setFromKeyForLinkData:key\");\n\n    if (null !== a) {\n      var c = this.Wh;\n      if (\"\" !== c) if (b = this.Pn(b), this.uh(a)) {\n        var d = w.vb(a, c);\n        d !== b && (Bg(this, d, a), w.Ma(a, c, b), null === this.we(b) && Ag(this, b, a), ug(this, \"linkFromKey\", Cf, c, a, d, b), \"string\" === typeof c && this.Lb(a, c));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  w.defineProperty(Q, {\n    On: \"linkToKeyProperty\"\n  }, function () {\n    return this.Xh;\n  }, function (a) {\n    var b = this.Xh;\n    b !== a && (vg(a, Q, \"linkToKeyProperty\"), this.Xh = a, this.h(\"linkToKeyProperty\", b, a));\n  });\n\n  Q.prototype.getToKeyForLinkData = Q.prototype.dm = function (a) {\n    if (null !== a) {\n      var b = this.Xh;\n\n      if (\"\" !== b && (b = w.vb(a, b), void 0 !== b)) {\n        if (wg(b)) return b;\n        w.k(\"ToKey value for link data \" + a + \" is not a number or a string: \" + b);\n      }\n    }\n  };\n\n  Q.prototype.setToKeyForLinkData = Q.prototype.GB = function (a, b) {\n    null === b && (b = void 0);\n    void 0 === b || wg(b) || w.Gd(b, \"number or string\", Q, \"setToKeyForLinkData:key\");\n\n    if (null !== a) {\n      var c = this.Xh;\n      if (\"\" !== c) if (b = this.Pn(b), this.uh(a)) {\n        var d = w.vb(a, c);\n        d !== b && (Bg(this, d, a), w.Ma(a, c, b), null === this.we(b) && Ag(this, b, a), ug(this, \"linkToKey\", Cf, c, a, d, b), \"string\" === typeof c && this.Lb(a, c));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  w.defineProperty(Q, {\n    Eu: \"linkFromPortIdProperty\"\n  }, function () {\n    return this.Qm;\n  }, function (a) {\n    var b = this.Qm;\n    b !== a && (vg(a, Q, \"linkFromPortIdProperty\"), a !== this.Nn && a !== this.On || w.k(\"linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: \" + a), this.Qm = a, this.h(\"linkFromPortIdProperty\", b, a));\n  });\n\n  Q.prototype.getFromPortIdForLinkData = Q.prototype.dI = function (a) {\n    if (null === a) return \"\";\n    var b = this.Qm;\n    if (\"\" === b) return \"\";\n    a = w.vb(a, b);\n    return void 0 === a ? \"\" : a;\n  };\n\n  Q.prototype.setFromPortIdForLinkData = Q.prototype.BB = function (a, b) {\n    w.j(b, \"string\", Q, \"setFromPortIdForLinkData:portname\");\n\n    if (null !== a) {\n      var c = this.Qm;\n      if (\"\" !== c) if (this.uh(a)) {\n        var d = w.vb(a, c);\n        void 0 === d && (d = \"\");\n        d !== b && (w.Ma(a, c, b), ug(this, \"linkFromPortId\", Cf, c, a, d, b), \"string\" === typeof c && this.Lb(a, c));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  w.defineProperty(Q, {\n    Gu: \"linkToPortIdProperty\"\n  }, function () {\n    return this.Rm;\n  }, function (a) {\n    var b = this.Rm;\n    b !== a && (vg(a, Q, \"linkToPortIdProperty\"), a !== this.Nn && a !== this.On || w.k(\"linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: \" + a), this.Rm = a, this.h(\"linkToPortIdProperty\", b, a));\n  });\n\n  Q.prototype.getToPortIdForLinkData = Q.prototype.hI = function (a) {\n    if (null === a) return \"\";\n    var b = this.Rm;\n    if (\"\" === b) return \"\";\n    a = w.vb(a, b);\n    return void 0 === a ? \"\" : a;\n  };\n\n  Q.prototype.setToPortIdForLinkData = Q.prototype.HB = function (a, b) {\n    w.j(b, \"string\", Q, \"setToPortIdForLinkData:portname\");\n\n    if (null !== a) {\n      var c = this.Rm;\n      if (\"\" !== c) if (this.uh(a)) {\n        var d = w.vb(a, c);\n        void 0 === d && (d = \"\");\n        d !== b && (w.Ma(a, c, b), ug(this, \"linkToPortId\", Cf, c, a, d, b), \"string\" === typeof c && this.Lb(a, c));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  w.defineProperty(Q, {\n    Fu: \"linkLabelKeysProperty\"\n  }, function () {\n    return this.zg;\n  }, function (a) {\n    var b = this.zg;\n    b !== a && (vg(a, Q, \"linkLabelKeysProperty\"), this.zg = a, this.h(\"linkLabelKeysProperty\", b, a));\n  });\n\n  Q.prototype.getLabelKeysForLinkData = Q.prototype.Nk = function (a) {\n    if (null === a) return w.mo;\n    var b = this.zg;\n    if (\"\" === b) return w.mo;\n    a = w.vb(a, b);\n    return void 0 === a ? w.mo : a;\n  };\n\n  Q.prototype.setLabelKeysForLinkData = Q.prototype.sG = function (a, b) {\n    w.mA(b, Q, \"setLabelKeysForLinkData:arr\");\n\n    if (null !== a) {\n      var c = this.zg;\n      if (\"\" !== c) if (this.uh(a)) {\n        var d = w.vb(a, c);\n        void 0 === d && (d = w.mo);\n\n        if (d !== b) {\n          for (var e = w.cb(d), f = 0; f < e; f++) {\n            var h = w.Ba(d, f);\n            Bg(this, h, a);\n          }\n\n          w.Ma(a, c, b);\n          e = w.cb(b);\n\n          for (f = 0; f < e; f++) {\n            h = w.Ba(b, f), null === this.we(h) && Ag(this, h, a);\n          }\n\n          ug(this, \"linkLabelKeys\", Cf, c, a, d, b);\n          \"string\" === typeof c && this.Lb(a, c);\n        }\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  Q.prototype.addLabelKeyForLinkData = Q.prototype.wE = function (a, b) {\n    if (null !== b && void 0 !== b && (wg(b) || w.Gd(b, \"number or string\", Q, \"addLabelKeyForLinkData:key\"), null !== a)) {\n      var c = this.zg;\n\n      if (\"\" !== c) {\n        var d = w.vb(a, c);\n        if (void 0 === d) c = [], c.push(b), this.sG(a, c);else if (w.isArray(d)) {\n          var e = w.Sl(d, b);\n          0 <= e || (e = w.cb(d), w.sh(d, Infinity, b), this.uh(a) && (null === this.we(b) && Ag(this, b, a), ug(this, \"linkLabelKeys\", Ef, c, a, null, b, null, e)));\n        } else w.k(c + \" property is not an Array; cannot addLabelKeyForLinkData: \" + a);\n      }\n    }\n  };\n\n  Q.prototype.removeLabelKeyForLinkData = Q.prototype.qJ = function (a, b) {\n    if (null !== b && void 0 !== b && (wg(b) || w.Gd(b, \"number or string\", Q, \"removeLabelKeyForLinkData:key\"), null !== a)) {\n      var c = this.zg;\n\n      if (\"\" !== c) {\n        var d = w.vb(a, c);\n\n        if (w.isArray(d)) {\n          var e = w.Sl(d, b);\n          0 > e || (w.Jg(d, e), this.uh(a) && (Bg(this, b, a), ug(this, \"linkLabelKeys\", Ff, c, a, b, null, e, null)));\n        } else void 0 !== d && w.k(c + \" property is not an Array; cannot removeLabelKeyforLinkData: \" + a);\n      }\n    }\n  };\n\n  w.defineProperty(Q, {\n    Ah: \"linkDataArray\"\n  }, function () {\n    return this.kf;\n  }, function (a) {\n    var b = this.kf;\n\n    if (b !== a) {\n      w.mA(a, Q, \"linkDataArray\");\n      this.gd.clear();\n\n      for (var c = w.cb(a), d = 0; d < c; d++) {\n        var e = w.Ba(a, d);\n\n        if (!w.Pa(e)) {\n          w.k(\"GraphLinksModel.linkDataArray must only contain Objects, not: \" + e);\n          return;\n        }\n\n        w.aq(e);\n      }\n\n      this.kf = a;\n\n      if (\"\" !== this.Dj) {\n        for (var f = new H(Object), d = 0; d < c; d++) {\n          var e = w.Ba(a, d),\n              h = this.cf(e);\n          void 0 === h ? f.add(e) : null !== this.gd.ka(h) ? f.add(e) : this.gd.add(h, e);\n        }\n\n        for (d = f.i; d.next();) {\n          e = d.value, this.Yx(e), f = this.cf(e), void 0 !== f && this.gd.add(f, e);\n        }\n      }\n\n      f = new I(Object);\n\n      for (d = 0; d < c; d++) {\n        e = w.Ba(a, d), f.add(e);\n      }\n\n      this.Vi = f;\n      ug(this, \"linkDataArray\", Cf, \"linkDataArray\", this, b, a);\n\n      for (d = 0; d < c; d++) {\n        e = w.Ba(a, d), Yg(this, e);\n      }\n    }\n  });\n  w.defineProperty(Q, {\n    Dj: \"linkKeyProperty\"\n  }, function () {\n    return this.Al;\n  }, function (a) {\n    var b = this.Al;\n\n    if (b !== a) {\n      vg(a, Q, \"linkKeyProperty\");\n      this.Al = a;\n      this.gd.clear();\n\n      for (var c = w.cb(this.Ah), d = 0; d < c; d++) {\n        var e = w.Ba(this.Ah, d),\n            f = this.cf(e);\n        void 0 === f && (this.Yx(e), f = this.cf(e));\n        void 0 !== f && this.gd.add(f, e);\n      }\n\n      this.h(\"linkKeyProperty\", b, a);\n    }\n  });\n\n  Q.prototype.getKeyForLinkData = Q.prototype.cf = function (a) {\n    if (null !== a) {\n      var b = this.Al;\n\n      if (\"\" !== b && (b = w.vb(a, b), void 0 !== b)) {\n        if (wg(b)) return b;\n        w.k(\"Key value for link data \" + a + \" is not a number or a string: \" + b);\n      }\n    }\n  };\n\n  Q.prototype.setKeyForLinkData = Q.prototype.rG = function (a, b) {\n    void 0 !== b && null !== b && wg(b) || w.Gd(b, \"number or string\", Q, \"setKeyForLinkData:key\");\n\n    if (null !== a) {\n      var c = this.Al;\n      if (\"\" !== c) if (this.uh(a)) {\n        var d = w.vb(a, c);\n        d !== b && null === this.Xp(b) && (w.Ma(a, c, b), this.gd.remove(d), this.gd.add(b, a), ug(this, \"linkKey\", Cf, c, a, d, b), \"string\" === typeof c && this.Lb(a, c));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  w.defineProperty(Q, {\n    rL: \"makeUniqueLinkKeyFunction\"\n  }, function () {\n    return this.bp;\n  }, function (a) {\n    var b = this.bp;\n    b !== a && (null !== a && w.j(a, \"function\", Q, \"makeUniqueLinkKeyFunction\"), this.bp = a, this.h(\"makeUniqueLinkKeyFunction\", b, a));\n  });\n\n  Q.prototype.findLinkDataForKey = Q.prototype.Xp = function (a) {\n    null === a && w.k(\"GraphLinksModel.findLinkDataForKey:key must not be null\");\n    return void 0 !== a && wg(a) ? this.gd.ka(a) : null;\n  };\n\n  Q.prototype.makeLinkDataKeyUnique = Q.prototype.Yx = function (a) {\n    if (null !== a) {\n      var b = this.Al;\n\n      if (\"\" !== b) {\n        var c = this.cf(a);\n\n        if (void 0 === c || this.gd.contains(c)) {\n          var d = this.bp;\n\n          if (null !== d && (c = d(this, a), void 0 !== c && null !== c && !this.gd.contains(c))) {\n            w.Ma(a, b, c);\n            return;\n          }\n\n          if (\"string\" === typeof c) {\n            for (d = 2; this.gd.contains(c + d);) {\n              d++;\n            }\n\n            w.Ma(a, b, c + d);\n          } else if (void 0 === c || \"number\" === typeof c) {\n            for (d = -this.gd.count - 1; this.gd.contains(d);) {\n              d--;\n            }\n\n            w.Ma(a, b, d);\n          } else w.k(\"GraphLinksModel.getKeyForLinkData returned something other than a string or a number: \" + c);\n        }\n      }\n    }\n  };\n\n  Q.prototype.containsLinkData = Q.prototype.uh = function (a) {\n    return null === a ? !1 : this.Vi.contains(a);\n  };\n\n  Q.prototype.addLinkData = Q.prototype.Ot = function (a) {\n    null !== a && (w.aq(a), this.uh(a) || Zg(this, a, !0));\n  };\n\n  function Zg(a, b, c) {\n    if (\"\" !== a.Dj) {\n      var d = a.cf(b);\n      if (void 0 !== d && a.gd.ka(d) === b) return;\n      a.Yx(b);\n      d = a.cf(b);\n\n      if (void 0 === d) {\n        w.k(\"GraphLinksModel.makeLinkDataKeyUnique failed on \" + b + \". Data not added to model.\");\n        return;\n      }\n\n      a.gd.add(d, b);\n    }\n\n    a.Vi.add(b);\n    d = null;\n    c && (d = w.cb(a.kf), w.sh(a.kf, d, b));\n    ug(a, \"linkDataArray\", Ef, \"linkDataArray\", a, null, b, null, d);\n    Yg(a, b);\n  }\n\n  Q.prototype.addLinkDataCollection = function (a) {\n    if (w.isArray(a)) for (var b = w.cb(a), c = 0; c < b; c++) {\n      this.Ot(w.Ba(a, c));\n    } else for (a = a.i; a.next();) {\n      this.Ot(a.value);\n    }\n  };\n\n  Q.prototype.removeLinkData = Q.prototype.oy = function (a) {\n    null !== a && $g(this, a, !0);\n  };\n\n  function $g(a, b, c) {\n    a.Vi.remove(b);\n    var d = a.cf(b);\n    void 0 !== d && a.gd.remove(d);\n    d = null;\n\n    if (c) {\n      d = w.Sl(a.kf, b);\n      if (0 > d) return;\n      w.Jg(a.kf, d);\n    }\n\n    ug(a, \"linkDataArray\", Ff, \"linkDataArray\", a, b, null, d, null);\n    c = a.cm(b);\n    Bg(a, c, b);\n    c = a.dm(b);\n    Bg(a, c, b);\n    d = a.Nk(b);\n    if (w.isArray(d)) for (var e = w.cb(d), f = 0; f < e; f++) {\n      c = w.Ba(d, f), Bg(a, c, b);\n    }\n  }\n\n  Q.prototype.removeLinkDataCollection = function (a) {\n    if (w.isArray(a)) for (var b = w.cb(a), c = 0; c < b; c++) {\n      this.oy(w.Ba(a, c));\n    } else for (a = a.i; a.next();) {\n      this.oy(a.value);\n    }\n  };\n\n  function Yg(a, b) {\n    var c = a.cm(b),\n        c = a.Pn(c);\n    null === a.we(c) && Ag(a, c, b);\n    c = a.dm(b);\n    c = a.Pn(c);\n    null === a.we(c) && Ag(a, c, b);\n    var d = a.Nk(b);\n    if (w.isArray(d)) for (var e = w.cb(d), f = 0; f < e; f++) {\n      c = w.Ba(d, f), null === a.we(c) && Ag(a, c, b);\n    }\n  }\n\n  w.defineProperty(Q, {\n    LK: \"copyLinkDataFunction\"\n  }, function () {\n    return this.wo;\n  }, function (a) {\n    var b = this.wo;\n    b !== a && (null !== a && w.j(a, \"function\", Q, \"copyLinkDataFunction\"), this.wo = a, this.h(\"copyLinkDataFunction\", b, a));\n  });\n\n  Q.prototype.copyLinkData = Q.prototype.nx = function (a) {\n    if (null === a) return null;\n    var b = null,\n        b = this.wo,\n        b = null !== b ? b(a, this) : Cg(this, a, !0);\n    w.Pa(b) && (w.oc(b), \"\" !== this.Wh && w.Ma(b, this.Wh, void 0), \"\" !== this.Xh && w.Ma(b, this.Xh, void 0), \"\" !== this.zg && w.Ma(b, this.zg, []));\n    return b;\n  };\n\n  w.defineProperty(Q, {\n    pq: \"nodeIsGroupProperty\"\n  }, function () {\n    return this.fp;\n  }, function (a) {\n    var b = this.fp;\n    b !== a && (vg(a, Q, \"nodeIsGroupProperty\"), this.fp = a, this.h(\"nodeIsGroupProperty\", b, a));\n  });\n\n  Q.prototype.isGroupForNodeData = Q.prototype.VA = function (a) {\n    if (null === a) return !1;\n    var b = this.fp;\n    return \"\" === b ? !1 : w.vb(a, b) ? !0 : !1;\n  };\n\n  w.defineProperty(Q, {\n    Nu: \"nodeGroupKeyProperty\"\n  }, function () {\n    return this.mh;\n  }, function (a) {\n    var b = this.mh;\n    b !== a && (vg(a, Q, \"nodeGroupKeyProperty\"), this.mh = a, this.h(\"nodeGroupKeyProperty\", b, a));\n  });\n  w.defineProperty(Q, {\n    vn: \"copiesGroupKeyOfNodeData\"\n  }, function () {\n    return this.kr;\n  }, function (a) {\n    this.kr !== a && (w.j(a, \"boolean\", Q, \"copiesGroupKeyOfNodeData\"), this.kr = a);\n  });\n\n  Q.prototype.getGroupKeyForNodeData = Q.prototype.Dn = function (a) {\n    if (null !== a) {\n      var b = this.mh;\n\n      if (\"\" !== b && (b = w.vb(a, b), void 0 !== b)) {\n        if (wg(b)) return b;\n        w.k(\"GroupKey value for node data \" + a + \" is not a number or a string: \" + b);\n      }\n    }\n  };\n\n  Q.prototype.setGroupKeyForNodeData = Q.prototype.CB = function (a, b) {\n    null === b && (b = void 0);\n    void 0 === b || wg(b) || w.Gd(b, \"number or string\", Q, \"setGroupKeyForNodeData:key\");\n\n    if (null !== a) {\n      var c = this.mh;\n      if (\"\" !== c) if (this.Le(a)) {\n        var d = w.vb(a, c);\n        d !== b && (Bg(this, d, a), w.Ma(a, c, b), null === this.we(b) && Ag(this, b, a), ug(this, \"nodeGroupKey\", Cf, c, a, d, b), \"string\" === typeof c && this.Lb(a, c));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  Q.prototype.copyNodeData = function (a) {\n    if (null === a) return null;\n    a = F.prototype.copyNodeData.call(this, a);\n    this.vn || \"\" === this.mh || void 0 === w.vb(a, this.mh) || w.Ma(a, this.mh, void 0);\n    return a;\n  };\n\n  Q.prototype.setDataProperty = function (a, b, c) {\n    if (this.Le(a)) {\n      if (b === this.km) this.zy(a, c);else {\n        if (b === this.Xn) {\n          this.xy(a, c);\n          return;\n        }\n\n        if (b === this.Nu) {\n          this.CB(a, c);\n          return;\n        }\n\n        b === this.pq && w.k(\"GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: \" + b);\n      }\n    } else if (this.uh(a)) {\n      if (b === this.Nn) {\n        this.AB(a, c);\n        return;\n      }\n\n      if (b === this.On) {\n        this.GB(a, c);\n        return;\n      }\n\n      if (b === this.Eu) {\n        this.BB(a, c);\n        return;\n      }\n\n      if (b === this.Gu) {\n        this.HB(a, c);\n        return;\n      }\n\n      if (b === this.Dj) {\n        this.rG(a, c);\n        return;\n      }\n\n      if (b === this.Du) {\n        this.qG(a, c);\n        return;\n      }\n\n      if (b === this.Fu) {\n        this.sG(a, c);\n        return;\n      }\n    } else !Xg && a instanceof G && (Xg = !0, w.trace('GraphLinksModel.setDataProperty is modifying a GraphObject, \"' + a.toString() + '\"'), w.trace(\"  Is that really your intent?\"));\n    var d = w.vb(a, b);\n    d !== c && (w.Ma(a, b, c), this.oB(a, b, d, c));\n  };\n\n  g = Q.prototype;\n\n  g.Tu = function (a, b) {\n    F.prototype.Tu.call(this, a, b);\n\n    for (var c = this.Lc.i; c.next();) {\n      this.uB(c.value, a, b);\n    }\n\n    for (c = this.Vi.i; c.next();) {\n      var d = c.value,\n          e = a,\n          f = b;\n\n      if (this.cm(d) === e) {\n        var h = this.Wh;\n        w.Ma(d, h, f);\n        ug(this, \"linkFromKey\", Cf, h, d, e, f);\n        \"string\" === typeof h && this.Lb(d, h);\n      }\n\n      this.dm(d) === e && (h = this.Xh, w.Ma(d, h, f), ug(this, \"linkToKey\", Cf, h, d, e, f), \"string\" === typeof h && this.Lb(d, h));\n      h = this.Nk(d);\n      if (w.isArray(h)) for (var k = w.cb(h), l = this.zg, m = 0; m < k; m++) {\n        w.Ba(h, m) === e && (w.EE(h, m, f), ug(this, \"linkLabelKeys\", Ef, l, d, e, f, m, m));\n      }\n    }\n  };\n\n  g.uB = function (a, b, c) {\n    if (this.Dn(a) === b) {\n      var d = this.mh;\n      w.Ma(a, d, c);\n      ug(this, \"nodeGroupKey\", Cf, d, a, b, c);\n      \"string\" === typeof d && this.Lb(a, d);\n    }\n  };\n\n  g.UB = function () {\n    F.prototype.UB.call(this);\n\n    for (var a = this.Ah, b = w.cb(a), c = 0; c < b; c++) {\n      var d = w.Ba(a, c);\n      Yg(this, d);\n    }\n  };\n\n  g.yq = function (a) {\n    F.prototype.yq.call(this, a);\n    a = this.qb(a);\n    var b = zg(this, a);\n\n    if (null !== b) {\n      for (var c = new H(Object), b = b.i; b.next();) {\n        var d = b.value;\n\n        if (this.Le(d)) {\n          if (this.Dn(d) === a) {\n            var e = this.mh;\n            ug(this, \"nodeGroupKey\", Cf, e, d, a, a);\n            \"string\" === typeof e && this.Lb(d, e);\n            c.add(d);\n          }\n        } else if (this.cm(d) === a && (e = this.Wh, ug(this, \"linkFromKey\", Cf, e, d, a, a), \"string\" === typeof e && this.Lb(d, e), c.add(d)), this.dm(d) === a && (e = this.Xh, ug(this, \"linkToKey\", Cf, e, d, a, a), \"string\" === typeof e && this.Lb(d, e), c.add(d)), e = this.Nk(d), w.isArray(e)) for (var f = w.cb(e), h = this.zg, k = 0; k < f; k++) {\n          w.Ba(e, k) === a && (ug(this, \"linkLabelKeys\", Ef, h, d, a, a, k, k), c.add(d));\n        }\n      }\n\n      for (c = c.i; c.next();) {\n        Bg(this, a, c.value);\n      }\n    }\n  };\n\n  g.xq = function (a) {\n    F.prototype.xq.call(this, a);\n    var b = this.Dn(a);\n    null === this.we(b) && Ag(this, b, a);\n  };\n\n  g.fv = function (a) {\n    F.prototype.fv.call(this, a);\n    var b = this.Dn(a);\n    Bg(this, b, a);\n  };\n\n  w.defineProperty(Q, {\n    Du: \"linkCategoryProperty\"\n  }, function () {\n    return this.Pm;\n  }, function (a) {\n    var b = this.Pm;\n    b !== a && (vg(a, Q, \"linkCategoryProperty\"), this.Pm = a, this.h(\"linkCategoryProperty\", b, a));\n  });\n\n  Q.prototype.getCategoryForLinkData = Q.prototype.$p = function (a) {\n    if (null === a) return \"\";\n    var b = this.Pm;\n    if (\"\" === b) return \"\";\n    b = w.vb(a, b);\n    if (void 0 === b) return \"\";\n    if (\"string\" === typeof b) return b;\n    w.k(\"getCategoryForLinkData found a non-string category for \" + a + \": \" + b);\n    return \"\";\n  };\n\n  Q.prototype.setCategoryForLinkData = Q.prototype.qG = function (a, b) {\n    w.j(b, \"string\", Q, \"setCategoryForLinkData:cat\");\n\n    if (null !== a) {\n      var c = this.Pm;\n      if (\"\" !== c) if (this.uh(a)) {\n        var d = w.vb(a, c);\n        void 0 === d && (d = \"\");\n        d !== b && (w.Ma(a, c, b), ug(this, \"linkCategory\", Cf, c, a, d, b), \"string\" === typeof c && this.Lb(a, c));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  function Zf(a) {\n    1 < arguments.length && w.k(\"TreeModel constructor can only take one optional argument, the Array of node data.\");\n    F.call(this);\n    this.nh = \"parent\";\n    this.lr = !1;\n    this.Ym = \"parentLinkCategory\";\n    void 0 !== a && (this.Pg = a);\n  }\n\n  w.La(Zf, F);\n  w.ga(\"TreeModel\", Zf);\n\n  Zf.prototype.cloneProtected = function (a) {\n    F.prototype.cloneProtected.call(this, a);\n    a.nh = this.nh;\n    a.lr = this.lr;\n    a.Ym = this.Ym;\n  };\n\n  Zf.prototype.toString = function (a) {\n    void 0 === a && (a = 0);\n    if (2 <= a) return this.NB();\n    var b = (\"\" !== this.name ? this.name : \"\") + \" TreeModel\";\n\n    if (0 < a) {\n      b += \"\\n node data:\";\n      a = this.Pg;\n\n      for (var c = w.cb(a), d = 0; d < c; d++) {\n        var e = w.Ba(a, d),\n            b = b + (\" \" + this.qb(e) + \":\" + Qf(e));\n      }\n    }\n\n    return b;\n  };\n\n  Zf.prototype.jo = function () {\n    var a = F.prototype.jo.call(this),\n        b = \"\";\n    \"parent\" !== this.Ou && \"string\" === typeof this.Ou && (b += ',\\n  \"nodeParentKeyProperty\": ' + this.quote(this.Ou));\n    return a + b;\n  };\n\n  Zf.prototype.Ru = function (a) {\n    F.prototype.Ru.call(this, a);\n    a.nodeParentKeyProperty && (this.Ou = a.nodeParentKeyProperty);\n  };\n\n  Zf.prototype.Pn = function (a) {\n    return a;\n  };\n\n  w.defineProperty(Zf, {\n    Ou: \"nodeParentKeyProperty\"\n  }, function () {\n    return this.nh;\n  }, function (a) {\n    var b = this.nh;\n    b !== a && (vg(a, Zf, \"nodeParentKeyProperty\"), this.nh = a, this.h(\"nodeParentKeyProperty\", b, a));\n  });\n  w.defineProperty(Zf, {\n    wn: \"copiesParentKeyOfNodeData\"\n  }, function () {\n    return this.lr;\n  }, function (a) {\n    this.lr !== a && (w.j(a, \"boolean\", Zf, \"copiesParentKeyOfNodeData\"), this.lr = a);\n  });\n\n  Zf.prototype.getParentKeyForNodeData = Zf.prototype.Fn = function (a) {\n    if (null !== a) {\n      var b = this.nh;\n\n      if (\"\" !== b && (b = w.vb(a, b), void 0 !== b)) {\n        if (wg(b)) return b;\n        w.k(\"ParentKey value for node data \" + a + \" is not a number or a string: \" + b);\n      }\n    }\n  };\n\n  Zf.prototype.setParentKeyForNodeData = Zf.prototype.ti = function (a, b) {\n    null === b && (b = void 0);\n    void 0 === b || wg(b) || w.Gd(b, \"number or string\", Zf, \"setParentKeyForNodeData:key\");\n\n    if (null !== a) {\n      var c = this.nh;\n      if (\"\" !== c) if (b = this.Pn(b), this.Le(a)) {\n        var d = w.vb(a, c);\n        d !== b && (Bg(this, d, a), w.Ma(a, c, b), null === this.we(b) && Ag(this, b, a), ug(this, \"nodeParentKey\", Cf, c, a, d, b), \"string\" === typeof c && this.Lb(a, c));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  w.defineProperty(Zf, {\n    IL: \"parentLinkCategoryProperty\"\n  }, function () {\n    return this.Ym;\n  }, function (a) {\n    var b = this.Ym;\n    b !== a && (vg(a, Zf, \"parentLinkCategoryProperty\"), this.Ym = a, this.h(\"parentLinkCategoryProperty\", b, a));\n  });\n\n  Zf.prototype.getParentLinkCategoryForNodeData = Zf.prototype.fI = function (a) {\n    if (null === a) return \"\";\n    var b = this.Ym;\n    if (\"\" === b) return \"\";\n    b = w.vb(a, b);\n    if (void 0 === b) return \"\";\n    if (\"string\" === typeof b) return b;\n    w.k(\"getParentLinkCategoryForNodeData found a non-string category for \" + a + \": \" + b);\n    return \"\";\n  };\n\n  Zf.prototype.setParentLinkCategoryForNodeData = Zf.prototype.IJ = function (a, b) {\n    w.j(b, \"string\", Zf, \"setParentLinkCategoryForNodeData:cat\");\n\n    if (null !== a) {\n      var c = this.Ym;\n      if (\"\" !== c) if (this.Le(a)) {\n        var d = w.vb(a, c);\n        void 0 === d && (d = \"\");\n        d !== b && (w.Ma(a, c, b), ug(this, \"parentLinkCategory\", Cf, c, a, d, b), \"string\" === typeof c && this.Lb(a, c));\n      } else w.Ma(a, c, b);\n    }\n  };\n\n  Zf.prototype.copyNodeData = function (a) {\n    if (null === a) return null;\n    a = F.prototype.copyNodeData.call(this, a);\n    this.wn || \"\" === this.nh || void 0 === w.vb(a, this.nh) || w.Ma(a, this.nh, void 0);\n    return a;\n  };\n\n  Zf.prototype.setDataProperty = function (a, b, c) {\n    if (this.Le(a)) {\n      if (b === this.km) this.zy(a, c);else {\n        if (b === this.Xn) {\n          this.xy(a, c);\n          return;\n        }\n\n        if (b === this.Ou) {\n          this.ti(a, c);\n          return;\n        }\n      }\n    } else !Xg && a instanceof G && (Xg = !0, w.trace('TreeModel.setDataProperty is modifying a GraphObject, \"' + a.toString() + '\"'), w.trace(\"  Is that really your intent?\"));\n    var d = w.vb(a, b);\n    d !== c && (w.Ma(a, b, c), this.oB(a, b, d, c));\n  };\n\n  g = Zf.prototype;\n\n  g.Tu = function (a, b) {\n    F.prototype.Tu.call(this, a, b);\n\n    for (var c = this.Lc.i; c.next();) {\n      this.uB(c.value, a, b);\n    }\n  };\n\n  g.uB = function (a, b, c) {\n    if (this.Fn(a) === b) {\n      var d = this.nh;\n      w.Ma(a, d, c);\n      ug(this, \"nodeParentKey\", Cf, d, a, b, c);\n      \"string\" === typeof d && this.Lb(a, d);\n    }\n  };\n\n  g.yq = function (a) {\n    F.prototype.yq.call(this, a);\n    a = this.qb(a);\n    var b = zg(this, a);\n\n    if (null !== b) {\n      for (var c = new H(Object), b = b.i; b.next();) {\n        var d = b.value;\n\n        if (this.Le(d) && this.Fn(d) === a) {\n          var e = this.nh;\n          ug(this, \"nodeParentKey\", Cf, e, d, a, a);\n          \"string\" === typeof e && this.Lb(d, e);\n          c.add(d);\n        }\n      }\n\n      for (c = c.i; c.next();) {\n        Bg(this, a, c.value);\n      }\n    }\n  };\n\n  g.xq = function (a) {\n    F.prototype.xq.call(this, a);\n    var b = this.Fn(a),\n        b = this.Pn(b);\n    null === this.we(b) && Ag(this, b, a);\n  };\n\n  g.fv = function (a) {\n    F.prototype.fv.call(this, a);\n    var b = this.Fn(a);\n    Bg(this, b, a);\n  };\n\n  function ah(a, b, c) {\n    w.oc(this);\n    this.O = !1;\n    void 0 === a ? a = \"\" : w.j(a, \"string\", ah, \"constructor:targetprop\");\n    void 0 === b ? b = a : w.j(b, \"string\", ah, \"constructor:sourceprop\");\n    void 0 === c ? c = null : null !== c && w.j(c, \"function\", ah, \"constructor:conv\");\n    this.$D = -1;\n    this.Gg = null;\n    this.Bp = a;\n    this.Ap = this.Bt = 0;\n    this.Nw = null;\n    this.ds = !1;\n    this.qp = b;\n    this.hr = c;\n    this.ys = bh;\n    this.ar = null;\n    this.sz = new I();\n  }\n\n  w.ga(\"Binding\", ah);\n\n  ah.prototype.copy = function () {\n    var a = new ah();\n    a.Bp = this.Bp;\n    a.Bt = this.Bt;\n    a.Ap = this.Ap;\n    a.Nw = this.Nw;\n    a.ds = this.ds;\n    a.qp = this.qp;\n    a.hr = this.hr;\n    a.ys = this.ys;\n    a.ar = this.ar;\n    return a;\n  };\n\n  var bh;\n  ah.OneWay = bh = w.p(ah, \"OneWay\", 1);\n  var ch;\n  ah.TwoWay = ch = w.p(ah, \"TwoWay\", 2);\n\n  ah.parseEnum = function (a, b) {\n    w.j(a, \"function\", ah, \"parseEnum:ctor\");\n    w.ob(b, a, ah, \"parseEnum:defval\");\n    return function (c) {\n      c = pa(a, c);\n      return null === c ? b : c;\n    };\n  };\n\n  ah.prototype.ic = function (a) {\n    a.Je === ah ? this.mode = a : w.Lj(this, a);\n  };\n\n  var Qf;\n\n  ah.toString = Qf = function Qf(a) {\n    var b = a;\n    w.Pa(a) && (a.text ? b = a.text : a.name ? b = a.name : void 0 !== a.key ? b = a.key : void 0 !== a.id ? b = a.id : a.constructor === Object && (a.Text ? b = a.Text : a.Name ? b = a.Name : void 0 !== a.Key ? b = a.Key : void 0 !== a.Id ? b = a.Id : void 0 !== a.ID && (b = a.ID)));\n    return void 0 === b ? \"undefined\" : null === b ? \"null\" : b.toString();\n  };\n\n  ah.prototype.toString = function () {\n    return \"Binding(\" + this.Cy + \":\" + this.vG + (-1 !== this.sm ? \" \" + this.sm : \"\") + \" \" + this.mode.name + \")\";\n  };\n\n  ah.prototype.freeze = function () {\n    this.O = !0;\n    return this;\n  };\n\n  ah.prototype.Qa = function () {\n    this.O = !1;\n    return this;\n  };\n\n  w.defineProperty(ah, {\n    sm: null\n  }, function () {\n    return this.$D;\n  }, function (a) {\n    this.O && w.ma(this);\n    w.j(a, \"number\", ah, \"targetId\");\n    this.$D = a;\n  });\n  w.defineProperty(ah, {\n    Cy: \"targetProperty\"\n  }, function () {\n    return this.Bp;\n  }, function (a) {\n    this.O && w.ma(this);\n    w.j(a, \"string\", ah, \"targetProperty\");\n    this.Bp = a;\n  });\n  w.defineProperty(ah, {\n    Jq: \"sourceName\"\n  }, function () {\n    return this.Nw;\n  }, function (a) {\n    this.O && w.ma(this);\n    null !== a && w.j(a, \"string\", ah, \"sourceName\");\n    this.Nw = a;\n    null !== a && (this.ds = !1);\n  });\n  w.defineProperty(ah, {\n    Ox: \"isToModel\"\n  }, function () {\n    return this.ds;\n  }, function (a) {\n    this.O && w.ma(this);\n    w.j(a, \"boolean\", ah, \"isToModel\");\n    this.ds = a;\n  });\n  w.defineProperty(ah, {\n    vG: \"sourceProperty\"\n  }, function () {\n    return this.qp;\n  }, function (a) {\n    this.O && w.ma(this);\n    w.j(a, \"string\", ah, \"sourceProperty\");\n    this.qp = a;\n  });\n  w.defineProperty(ah, {\n    EH: \"converter\"\n  }, function () {\n    return this.hr;\n  }, function (a) {\n    this.O && w.ma(this);\n    null !== a && w.j(a, \"function\", ah, \"converter\");\n    this.hr = a;\n  });\n  w.defineProperty(ah, {\n    tH: \"backConverter\"\n  }, function () {\n    return this.ar;\n  }, function (a) {\n    this.O && w.ma(this);\n    null !== a && w.j(a, \"function\", ah, \"backConverter\");\n    this.ar = a;\n  });\n  w.defineProperty(ah, {\n    mode: \"mode\"\n  }, function () {\n    return this.ys;\n  }, function (a) {\n    this.O && w.ma(this);\n    w.ob(a, ah, ah, \"mode\");\n    this.ys = a;\n  });\n\n  ah.prototype.makeTwoWay = ah.prototype.RI = function (a) {\n    void 0 === a && (a = null);\n    null !== a && w.j(a, \"function\", ah, \"makeTwoWay\");\n    this.mode = ch;\n    this.tH = a;\n    return this;\n  };\n\n  ah.prototype.ofObject = ah.prototype.ay = function (a) {\n    void 0 === a && (a = \"\");\n    this.Jq = a;\n    this.Ox = !1;\n    return this;\n  };\n\n  ah.prototype.ofModel = function () {\n    this.Jq = null;\n    this.Ox = !0;\n    return this;\n  };\n\n  function dh(a, b, c) {\n    a = a.Jq;\n    var d = null;\n    return d = null === a || \"\" === a ? b : \"/\" === a ? c.W : \".\" === a ? c : \"..\" === a ? c.R : b.Dd(a);\n  }\n\n  ah.prototype.updateTarget = ah.prototype.KG = function (a, b, c) {\n    var d = this.qp;\n\n    if (void 0 === c || \"\" === d || d === c) {\n      c = this.Bp;\n      var e = this.hr;\n      if (null === e && \"\" === c) w.trace(\"Binding error: target property is the empty string: \" + this.toString());else {\n        var f = b;\n        \"\" !== d && (f = w.vb(b, d));\n        if (void 0 !== f) if (null === e) \"\" !== c && w.Ma(a, c, f);else try {\n          if (\"\" !== c) {\n            var h = e(f, a);\n            w.Ma(a, c, h);\n          } else e(f, a);\n        } catch (k) {}\n      }\n    }\n  };\n\n  ah.prototype.updateSource = ah.prototype.Ey = function (a, b, c, d) {\n    if (this.ys === ch) {\n      var e = this.Bp;\n\n      if (void 0 === c || e === c) {\n        c = this.qp;\n        var f = this.ar,\n            h = a;\n        \"\" !== e && (h = w.vb(a, e));\n        if (void 0 !== h && !this.sz.contains(a)) try {\n          this.sz.add(a);\n          var k = null !== d ? d.g : null,\n              l = null !== k ? k.$ : null;\n          if (null === f) {\n            if (\"\" !== c) null !== l ? l.setDataProperty(b, c, h) : w.Ma(b, c, h);else {\n              if (null !== l && null !== d && 0 <= d.Bu && null !== d.R && Array.isArray(d.R.kq)) {\n                var m = d.Bu,\n                    n = d.R.kq;\n                l.aG(n, m);\n                l.PA(n, m, h);\n              }\n            }\n          } else try {\n            if (\"\" !== c) {\n              var p = f(h, b, l);\n              null !== l ? l.setDataProperty(b, c, p) : w.Ma(b, c, p);\n            } else p = f(h, b, l), void 0 !== p && null !== l && null !== d && 0 <= d.Bu && null !== d.R && Array.isArray(d.R.kq) && (m = d.Bu, n = d.R.kq, l.aG(n, m), l.PA(n, m, p));\n          } catch (q) {}\n        } finally {\n          this.sz.remove(a);\n        }\n      }\n    }\n  };\n\n  function $f() {\n    this.QG = new H(Bf).freeze();\n    this.Sb = \"\";\n    this.gD = !1;\n  }\n\n  w.ga(\"Transaction\", $f);\n\n  $f.prototype.toString = function (a) {\n    var b = \"Transaction: \" + this.name + \" \" + this.Wf.count.toString() + (this.uu ? \"\" : \", incomplete\");\n\n    if (void 0 !== a && 0 < a) {\n      a = this.Wf.count;\n\n      for (var c = 0; c < a; c++) {\n        var d = this.Wf.fa(c);\n        null !== d && (b += \"\\n  \" + d.toString());\n      }\n    }\n\n    return b;\n  };\n\n  $f.prototype.clear = $f.prototype.clear = function () {\n    var a = this.Wf;\n    a.Qa();\n\n    for (var b = a.count - 1; 0 <= b; b--) {\n      var c = a.fa(b);\n      null !== c && c.clear();\n    }\n\n    a.clear();\n    a.freeze();\n  };\n\n  $f.prototype.canUndo = $f.prototype.canUndo = function () {\n    return this.uu;\n  };\n\n  $f.prototype.undo = $f.prototype.undo = function () {\n    if (this.canUndo()) for (var a = this.Wf.count - 1; 0 <= a; a--) {\n      var b = this.Wf.fa(a);\n      null !== b && b.undo();\n    }\n  };\n\n  $f.prototype.canRedo = $f.prototype.canRedo = function () {\n    return this.uu;\n  };\n\n  $f.prototype.redo = $f.prototype.redo = function () {\n    if (this.canRedo()) for (var a = this.Wf.count, b = 0; b < a; b++) {\n      var c = this.Wf.fa(b);\n      null !== c && c.redo();\n    }\n  };\n\n  w.u($f, {\n    Wf: \"changes\"\n  }, function () {\n    return this.QG;\n  });\n  w.defineProperty($f, {\n    name: \"name\"\n  }, function () {\n    return this.Sb;\n  }, function (a) {\n    this.Sb = a;\n  });\n  w.defineProperty($f, {\n    uu: \"isComplete\"\n  }, function () {\n    return this.gD;\n  }, function (a) {\n    this.gD = a;\n  });\n\n  function Rf() {\n    this.Iz = new I(F);\n    this.jf = !1;\n    this.UG = new H($f).freeze();\n    this.dh = -1;\n    this.uD = 999;\n    this.gh = !1;\n    this.Gv = null;\n    this.Ml = 0;\n    this.rC = !1;\n    this.lh = new H(\"string\").freeze();\n    this.ep = new H(\"number\");\n    this.uz = !0;\n    this.Dz = !1;\n  }\n\n  w.ga(\"UndoManager\", Rf);\n\n  Rf.prototype.toString = function (a) {\n    for (var b = \"UndoManager \" + this.wj + \"<\" + this.history.count + \"<=\" + this.OF, b = b + \"[\", c = this.TF.count, d = 0; d < c; d++) {\n      0 < d && (b += \" \"), b += this.TF.fa(d);\n    }\n\n    b += \"]\";\n    if (void 0 !== a && 0 < a) for (c = this.history.count, d = 0; d < c; d++) {\n      b += \"\\n \" + this.history.fa(d).toString(a - 1);\n    }\n    return b;\n  };\n\n  Rf.prototype.clear = Rf.prototype.clear = function () {\n    var a = this.history;\n    a.Qa();\n\n    for (var b = a.count - 1; 0 <= b; b--) {\n      var c = a.fa(b);\n      null !== c && c.clear();\n    }\n\n    a.clear();\n    this.dh = -1;\n    a.freeze();\n    this.gh = !1;\n    this.Gv = null;\n    this.Ml = 0;\n    this.lh.Qa();\n    this.lh.clear();\n    this.lh.freeze();\n    this.ep.clear();\n  };\n\n  Rf.prototype.addModel = Rf.prototype.mH = function (a) {\n    this.Iz.add(a);\n  };\n\n  Rf.prototype.removeModel = Rf.prototype.rJ = function (a) {\n    this.Iz.remove(a);\n  };\n\n  Rf.prototype.startTransaction = Rf.prototype.Kb = function (a) {\n    void 0 === a && (a = \"\");\n    null === a && (a = \"\");\n    if (this.lb) return !1;\n    !0 === this.uz && (this.uz = !1, this.Ml++, this.jd(\"StartingFirstTransaction\", a, this.sj), 0 < this.Ml && this.Ml--);\n    this.isEnabled && (this.lh.Qa(), this.lh.add(a), this.lh.freeze(), null === this.sj ? this.ep.add(0) : this.ep.add(this.sj.Wf.count));\n    this.Ml++;\n    var b = 1 === this.wi;\n    b && this.jd(\"StartedTransaction\", a, this.sj);\n    return b;\n  };\n\n  Rf.prototype.commitTransaction = Rf.prototype.Yc = function (a) {\n    void 0 === a && (a = \"\");\n    return eh(this, !0, a);\n  };\n\n  Rf.prototype.rollbackTransaction = Rf.prototype.mm = function () {\n    return eh(this, !1, \"\");\n  };\n\n  function eh(a, b, c) {\n    if (a.lb) return !1;\n    a.nA && 1 > a.wi && w.trace(\"Ending transaction without having started a transaction: \" + c);\n    var d = 1 === a.wi;\n    d && b && a.jd(\"CommittingTransaction\", c, a.sj);\n    var e = 0;\n\n    if (0 < a.wi && (a.Ml--, a.isEnabled)) {\n      var f = a.lh.count;\n      0 < f && (\"\" === c && (c = a.lh.fa(0)), a.lh.Qa(), a.lh.dd(f - 1), a.lh.freeze());\n      f = a.ep.count;\n      0 < f && (e = a.ep.fa(f - 1), a.ep.dd(f - 1));\n    }\n\n    f = a.sj;\n\n    if (d) {\n      if (b) {\n        a.Dz = !1;\n\n        if (a.isEnabled && null !== f) {\n          b = f;\n          b.uu = !0;\n          b.name = c;\n          d = a.history;\n          d.Qa();\n\n          for (e = d.count - 1; e > a.wj; e--) {\n            f = d.fa(e), null !== f && f.clear(), d.dd(e), a.Dz = !0;\n          }\n\n          e = a.OF;\n          0 === e && (e = 1);\n          0 < e && d.count >= e && (f = d.fa(0), null !== f && f.clear(), d.dd(0), a.dh--);\n          d.add(b);\n          a.dh++;\n          d.freeze();\n          f = b;\n        }\n\n        a.jd(\"CommittedTransaction\", c, f);\n      } else {\n        a.gh = !0;\n\n        try {\n          a.isEnabled && null !== f && (f.uu = !0, f.undo());\n        } finally {\n          a.jd(\"RolledBackTransaction\", c, f), a.gh = !1;\n        }\n\n        null !== f && f.clear();\n      }\n\n      a.Gv = null;\n      return !0;\n    }\n\n    if (a.isEnabled && !b && null !== f) {\n      a = e;\n      c = f.Wf;\n\n      for (b = c.count - 1; b >= a; b--) {\n        d = c.fa(b), null !== d && d.undo(), c.Qa(), c.dd(b);\n      }\n\n      c.freeze();\n    }\n\n    return !1;\n  }\n\n  Rf.prototype.canUndo = Rf.prototype.canUndo = function () {\n    if (!this.isEnabled || 0 < this.wi) return !1;\n    var a = this.GG;\n    return null !== a && a.canUndo() ? !0 : !1;\n  };\n\n  Rf.prototype.undo = Rf.prototype.undo = function () {\n    if (this.canUndo()) {\n      var a = this.GG;\n\n      try {\n        this.gh = !0, this.jd(\"StartingUndo\", \"Undo\", a), this.dh--, a.undo();\n      } catch (b) {\n        w.trace(\"undo error: \" + b.toString());\n      } finally {\n        this.jd(\"FinishedUndo\", \"Undo\", a), this.gh = !1;\n      }\n    }\n  };\n\n  Rf.prototype.canRedo = Rf.prototype.canRedo = function () {\n    if (!this.isEnabled || 0 < this.wi) return !1;\n    var a = this.FG;\n    return null !== a && a.canRedo() ? !0 : !1;\n  };\n\n  Rf.prototype.redo = Rf.prototype.redo = function () {\n    if (this.canRedo()) {\n      var a = this.FG;\n\n      try {\n        this.gh = !0, this.jd(\"StartingRedo\", \"Redo\", a), this.dh++, a.redo();\n      } catch (b) {\n        w.trace(\"redo error: \" + b.toString());\n      } finally {\n        this.jd(\"FinishedRedo\", \"Redo\", a), this.gh = !1;\n      }\n    }\n  };\n\n  Rf.prototype.jd = function (a, b, c) {\n    void 0 === c && (c = null);\n    var d = new Bf();\n    d.Fc = Df;\n    d.propertyName = a;\n    d.object = c;\n    d.oldValue = b;\n\n    for (a = this.aJ; a.next();) {\n      b = a.value, d.$ = b, b.lx(d);\n    }\n  };\n\n  Rf.prototype.handleChanged = Rf.prototype.rF = function (a) {\n    if (this.isEnabled && !this.lb && !this.skipsEvent(a)) {\n      var b = this.sj;\n      null === b && (this.Gv = b = new $f());\n      var c = a.copy(),\n          b = b.Wf;\n      b.Qa();\n      b.add(c);\n      b.freeze();\n      this.nA && 0 >= this.wi && !this.uz && (a = a.g, null !== a && !1 === a.Kn || w.trace(\"Change not within a transaction: \" + c.toString()));\n    }\n  };\n\n  Rf.prototype.skipsEvent = function (a) {\n    if (null === a || 0 > a.Fc.value) return !0;\n    a = a.object;\n\n    if (a instanceof G) {\n      if (a = a.layer, null !== a && a.Hc) return !0;\n    } else if (a instanceof pg && a.Hc) return !0;\n\n    return !1;\n  };\n\n  w.u(Rf, {\n    aJ: \"models\"\n  }, function () {\n    return this.Iz.i;\n  });\n  w.defineProperty(Rf, {\n    isEnabled: \"isEnabled\"\n  }, function () {\n    return this.jf;\n  }, function (a) {\n    this.jf = a;\n  });\n  w.u(Rf, {\n    GG: \"transactionToUndo\"\n  }, function () {\n    return 0 <= this.wj && this.wj <= this.history.count - 1 ? this.history.fa(this.wj) : null;\n  });\n  w.u(Rf, {\n    FG: \"transactionToRedo\"\n  }, function () {\n    return this.wj < this.history.count - 1 ? this.history.fa(this.wj + 1) : null;\n  });\n  w.u(Rf, {\n    lb: \"isUndoingRedoing\"\n  }, function () {\n    return this.gh;\n  });\n  w.u(Rf, {\n    history: \"history\"\n  }, function () {\n    return this.UG;\n  });\n  w.defineProperty(Rf, {\n    OF: \"maxHistoryLength\"\n  }, function () {\n    return this.uD;\n  }, function (a) {\n    this.uD = a;\n  });\n  w.u(Rf, {\n    wj: \"historyIndex\"\n  }, function () {\n    return this.dh;\n  });\n  w.u(Rf, {\n    sj: \"currentTransaction\"\n  }, function () {\n    return this.Gv;\n  });\n  w.u(Rf, {\n    wi: \"transactionLevel\"\n  }, function () {\n    return this.Ml;\n  });\n  w.u(Rf, {\n    DF: \"isInTransaction\"\n  }, function () {\n    return 0 < this.Ml;\n  });\n  w.defineProperty(Rf, {\n    nA: \"checksTransactionLevel\"\n  }, function () {\n    return this.rC;\n  }, function (a) {\n    this.rC = a;\n  });\n  w.u(Rf, {\n    TF: \"nestedTransactionNames\"\n  }, function () {\n    return this.lh;\n  });\n\n  function rg() {\n    0 < arguments.length && w.od(rg);\n    w.oc(this);\n    this.aa = null;\n    this.uC = !1;\n    this.PC = this.vC = !0;\n    this.xC = this.yC = this.QC = this.zC = !1;\n    this.Dl = this.kC = null;\n    this.qE = 1.05;\n    this.MC = 1;\n    this.Ez = NaN;\n    this.rD = null;\n    this.hA = NaN;\n    this.gA = dd;\n    this.hj = null;\n    this.QD = 0;\n  }\n\n  w.ga(\"CommandHandler\", rg);\n  var fh = null,\n      gh = \"\";\n\n  rg.prototype.toString = function () {\n    return \"CommandHandler\";\n  };\n\n  w.u(rg, {\n    g: \"diagram\"\n  }, function () {\n    return this.aa;\n  });\n\n  rg.prototype.Tc = function (a) {\n    this.aa = a;\n  };\n\n  rg.prototype.doKeyDown = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.Q,\n          c = w.zh ? b.Iu : b.control,\n          d = b.shift,\n          e = b.alt,\n          f = b.key;\n      !c || \"C\" !== f && \"Insert\" !== f ? c && \"X\" === f || d && \"Del\" === f ? this.canCutSelection() && this.cutSelection() : c && \"V\" === f || d && \"Insert\" === f ? this.canPasteSelection() && this.pasteSelection() : c && \"Y\" === f || e && d && \"Backspace\" === f ? this.canRedo() && this.redo() : c && \"Z\" === f || e && \"Backspace\" === f ? this.canUndo() && this.undo() : \"Del\" === f || \"Backspace\" === f ? this.canDeleteSelection() && this.deleteSelection() : c && \"A\" === f ? this.canSelectAll() && this.selectAll() : \"Esc\" === f ? this.canStopCommand() && this.stopCommand() : \"Up\" === f ? a.se && (c ? a.scroll(\"pixel\", \"up\") : a.scroll(\"line\", \"up\")) : \"Down\" === f ? a.se && (c ? a.scroll(\"pixel\", \"down\") : a.scroll(\"line\", \"down\")) : \"Left\" === f ? a.re && (c ? a.scroll(\"pixel\", \"left\") : a.scroll(\"line\", \"left\")) : \"Right\" === f ? a.re && (c ? a.scroll(\"pixel\", \"right\") : a.scroll(\"line\", \"right\")) : \"PageUp\" === f ? d && a.re ? a.scroll(\"page\", \"left\") : a.se && a.scroll(\"page\", \"up\") : \"PageDown\" === f ? d && a.re ? a.scroll(\"page\", \"right\") : a.se && a.scroll(\"page\", \"down\") : \"Home\" === f ? c && a.se ? a.scroll(\"document\", \"up\") : !c && a.re && a.scroll(\"document\", \"left\") : \"End\" === f ? c && a.se ? a.scroll(\"document\", \"down\") : !c && a.re && a.scroll(\"document\", \"right\") : \" \" === f ? this.canScrollToPart() && this.scrollToPart() : \"Subtract\" === f ? this.canDecreaseZoom() && this.decreaseZoom() : \"Add\" === f ? this.canIncreaseZoom() && this.increaseZoom() : c && \"0\" === f ? this.canResetZoom() && this.resetZoom() : d && \"Z\" === f ? this.canZoomToFit() && this.zoomToFit() : c && !d && \"G\" === f ? this.canGroupSelection() && this.groupSelection() : c && d && \"G\" === f ? this.canUngroupSelection() && this.ungroupSelection() : b.event && 113 === b.event.which ? this.canEditTextBlock() && this.editTextBlock() : b.event && 93 === b.event.which ? this.canShowContextMenu() && this.showContextMenu() : b.bubbles = !0 : this.canCopySelection() && this.copySelection();\n    }\n  };\n\n  rg.prototype.doKeyUp = function () {\n    var a = this.g;\n    null !== a && (a.Q.bubbles = !0);\n  };\n\n  rg.prototype.stopCommand = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.Xa;\n      b instanceof hh && a.Bf && a.oA();\n      null !== b && b.doCancel();\n    }\n  };\n\n  rg.prototype.canStopCommand = function () {\n    return !0;\n  };\n\n  rg.prototype.selectAll = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      a.oa();\n\n      try {\n        a.kc = \"wait\";\n        a.Aa(\"ChangingSelection\");\n\n        for (var b = a.Hj; b.next();) {\n          b.value.jb = !0;\n        }\n\n        for (var c = a.ig; c.next();) {\n          c.value.jb = !0;\n        }\n\n        for (var d = a.links; d.next();) {\n          d.value.jb = !0;\n        }\n      } finally {\n        a.Aa(\"ChangedSelection\"), a.kc = \"\";\n      }\n    }\n  };\n\n  rg.prototype.canSelectAll = function () {\n    var a = this.g;\n    return null !== a && a.Bf;\n  };\n\n  rg.prototype.deleteSelection = function () {\n    var a = this.g;\n    if (null !== a && !a.Aa(\"SelectionDeleting\", a.selection)) try {\n      a.kc = \"wait\";\n      a.Kb(\"Delete\");\n      a.Aa(\"ChangingSelection\");\n\n      for (var b = new I(R), c = a.selection.i; c.next();) {\n        ih(b, c.value, !0, this.PH ? Infinity : 0, this.UE ? null : !1, function (a) {\n          return a.canDelete();\n        });\n      }\n\n      a.tB(b, !0);\n      a.Aa(\"SelectionDeleted\", b);\n    } finally {\n      a.Aa(\"ChangedSelection\"), a.Yc(\"Delete\"), a.kc = \"\";\n    }\n  };\n\n  rg.prototype.canDeleteSelection = function () {\n    var a = this.g;\n    return null === a || a.ib || a.Ef || !a.nn || 0 === a.selection.count ? !1 : !0;\n  };\n\n  function ih(a, b, c, d, e, f) {\n    void 0 === f && (f = null);\n    if (!(a.contains(b) || null !== f && !f(b) || b instanceof jh)) if (a.add(b), b instanceof T) {\n      if (c && b instanceof V) for (var h = b.hc; h.next();) {\n        ih(a, h.value, c, d, e, f);\n      }\n      if (!1 !== e) for (h = b.je; h.next();) {\n        var k = h.value;\n\n        if (!a.contains(k)) {\n          var l = k.V,\n              m = k.Z,\n              l = null === l || a.contains(l),\n              m = null === m || a.contains(m);\n          (e ? l && m : l || m) && ih(a, k, c, d, e, f);\n        }\n      }\n      if (1 < d) for (b = b.dF(); b.next();) {\n        ih(a, b.value, c, d - 1, e, f);\n      }\n    } else if (b instanceof W) for (b = b.Ff; b.next();) {\n      ih(a, b.value, c, d, e, f);\n    }\n  }\n\n  rg.prototype.Rp = function (a, b, c) {\n    var d = new ma(R, R);\n\n    for (a = a.i; a.next();) {\n      kh(this, a.value, b, d, c);\n    }\n\n    if (null !== b) {\n      c = b.$;\n      a = !1;\n      null !== b.Va.de && (a = b.Va.de.uj);\n\n      for (var e = new I(W), f = new ma(W, W), h = d.i; h.next();) {\n        var k = h.value;\n\n        if (k instanceof W) {\n          var l = k;\n          a || null !== l.V && null !== l.Z || e.add(l);\n        } else if (c instanceof Zf && k instanceof T && null !== k.data) {\n          var l = c,\n              m = k,\n              k = h.key,\n              n = k.Kk();\n          null !== n && (n = d.ka(n), null !== n ? (l.ti(m.data, l.qb(n.data)), l = b.Yf(m.data), k = k.Bn(), null !== k && null !== l && f.add(k, l)) : l.ti(m.data, void 0));\n        }\n      }\n\n      0 < e.count && b.tB(e, !1);\n      if (0 < f.count) for (c = f.i; c.next();) {\n        d.add(c.key, c.value);\n      }\n    }\n\n    if (null !== b && null !== this.g && (b = b.$, c = b.oH, null !== c)) {\n      var p = new ma();\n      d.each(function (a) {\n        null !== a.key.data && p.add(a.key.data, a.value.data);\n      });\n      c(p, b, this.g.$);\n    }\n\n    for (b = d.i; b.next();) {\n      b.value.Lb();\n    }\n\n    return d;\n  };\n\n  function kh(a, b, c, d, e) {\n    if (null === b || e && !b.canCopy()) return null;\n    if (d.contains(b)) return d.ka(b);\n    var f = null,\n        h = b.data;\n\n    if (null !== h && null !== c) {\n      var k = c.$;\n      b instanceof W ? k instanceof Q && (h = k.nx(h), w.Pa(h) && (k.Ot(h), f = c.Yf(h))) : (h = k.copyNodeData(h), w.Pa(h) && (k.Pl(h), f = c.wh(h)));\n    } else lh(b), f = b.copy(), null !== f && (null !== c ? c.add(f) : null !== h && null !== a.g && a.FH && (k = a.g.$, h = f instanceof W && k instanceof Q ? k.nx(h) : k.copyNodeData(h), w.Pa(h) && (f.data = h)));\n\n    if (!(f instanceof R)) return null;\n    f.jb = !1;\n    f.Og = !1;\n    d.add(b, f);\n\n    if (b instanceof T) {\n      for (h = b.je; h.next();) {\n        k = h.value;\n\n        if (k.V === b) {\n          var l = d.ka(k);\n          null !== l && (l.V = f);\n        }\n\n        k.Z === b && (l = d.ka(k), null !== l && (l.Z = f));\n      }\n\n      if (b instanceof V && f instanceof V) for (h = f, b = b.hc; b.next();) {\n        k = kh(a, b.value, c, d, e), k instanceof W || null === k || (k.Ca = h);\n      }\n    } else if (b instanceof W && f instanceof W) for (h = b.V, null !== h && (h = d.ka(h), null !== h && (f.V = h)), h = b.Z, null !== h && (h = d.ka(h), null !== h && (f.Z = h)), b = b.Ff; b.next();) {\n      h = kh(a, b.value, c, d, e), null !== h && h instanceof T && (h.Xb = f);\n    }\n\n    return f;\n  }\n\n  rg.prototype.copySelection = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      for (var b = new I(R), a = a.selection.i; a.next();) {\n        ih(b, a.value, !0, this.IH ? Infinity : 0, this.GH, function (a) {\n          return a.canCopy();\n        });\n      }\n\n      this.copyToClipboard(b);\n    }\n  };\n\n  rg.prototype.canCopySelection = function () {\n    var a = this.g;\n    return null !== a && a.Ck && a.iA && 0 !== a.selection.count ? !0 : !1;\n  };\n\n  rg.prototype.cutSelection = function () {\n    this.copySelection();\n    this.deleteSelection();\n  };\n\n  rg.prototype.canCutSelection = function () {\n    var a = this.g;\n    return null !== a && !a.ib && !a.Ef && a.Ck && a.nn && a.iA && 0 !== a.selection.count ? !0 : !1;\n  };\n\n  rg.prototype.copyToClipboard = function (a) {\n    var b = this.g;\n\n    if (null !== b) {\n      var c = null;\n      if (null === a) fh = null, gh = \"\";else {\n        var c = b.$,\n            d = !1,\n            e = !1,\n            f = null;\n\n        try {\n          if (c instanceof Zf) {\n            var h = c,\n                d = h.wn;\n            h.wn = this.NE;\n          }\n\n          c instanceof Q && (h = c, e = h.vn, h.vn = this.ME);\n          f = b.Rp(a, null, !0);\n        } finally {\n          c instanceof Zf && (c.wn = d), c instanceof Q && (c.vn = e), c = new H(R), c.Pc(f), fh = c, gh = b.$.Yl;\n        }\n      }\n      b.Aa(\"ClipboardChanged\", c);\n    }\n  };\n\n  rg.prototype.pasteFromClipboard = function () {\n    var a = new I(R),\n        b = fh;\n    if (null === b) return a;\n    var c = this.g;\n    if (null === c || gh !== c.$.Yl) return a;\n    var d = c.$,\n        e = !1,\n        f = !1,\n        h = null;\n\n    try {\n      if (d instanceof Zf) {\n        var k = d,\n            e = k.wn;\n        k.wn = this.NE;\n      }\n\n      d instanceof Q && (k = d, f = k.vn, k.vn = this.ME);\n      h = c.Rp(b, c, !1);\n    } finally {\n      for (d instanceof Zf && (d.wn = e), d instanceof Q && (d.vn = f), b = h.i; b.next();) {\n        c = b.value, d = b.key, c.location.I() || (d.location.I() ? c.location = d.location : !c.position.I() && d.position.I() && (c.position = d.position)), a.add(c);\n      }\n    }\n\n    return a;\n  };\n\n  rg.prototype.pasteSelection = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null !== b) try {\n      b.kc = \"wait\";\n      b.Kb(\"Paste\");\n      b.Aa(\"ChangingSelection\");\n      var c = this.pasteFromClipboard();\n      0 < c.count && mh(b);\n\n      for (var d = c.i; d.next();) {\n        d.value.jb = !0;\n      }\n\n      b.Aa(\"ChangedSelection\");\n\n      if (null !== a) {\n        var e = b.computePartsBounds(b.selection);\n\n        if (e.I()) {\n          var f = b.Va.de;\n          null === f && (f = new nh(), f.Tc(b));\n          var h = f.computeEffectiveCollection(b.selection);\n          f.moveParts(h, new z(a.x - e.la, a.y - e.sa), !1);\n        }\n      }\n\n      b.Aa(\"ClipboardPasted\", c);\n    } finally {\n      b.Yc(\"Paste\"), b.kc = \"\";\n    }\n  };\n\n  rg.prototype.canPasteSelection = function () {\n    var a = this.g;\n    return null === a || a.ib || a.Ef || !a.Ip || !a.iA || null === fh || 0 === fh.count || gh !== a.$.Yl ? !1 : !0;\n  };\n\n  rg.prototype.undo = function () {\n    var a = this.g;\n    null !== a && a.ja.undo();\n  };\n\n  rg.prototype.canUndo = function () {\n    var a = this.g;\n    return null === a || a.ib || a.Ef ? !1 : a.zE && a.ja.canUndo();\n  };\n\n  rg.prototype.redo = function () {\n    var a = this.g;\n    null !== a && a.ja.redo();\n  };\n\n  rg.prototype.canRedo = function () {\n    var a = this.g;\n    return null === a || a.ib || a.Ef ? !1 : a.zE && a.ja.canRedo();\n  };\n\n  rg.prototype.decreaseZoom = function (a) {\n    void 0 === a && (a = 1 / this.Hy);\n    w.Bd(a, rg, \"decreaseZoom:factor\");\n    var b = this.g;\n    null !== b && b.Tl === oh && (a *= b.scale, a < b.Ch || a > b.Bh || (b.scale = a));\n  };\n\n  rg.prototype.canDecreaseZoom = function (a) {\n    void 0 === a && (a = 1 / this.Hy);\n    w.Bd(a, rg, \"canDecreaseZoom:factor\");\n    var b = this.g;\n    if (null === b || b.Tl !== oh) return !1;\n    a *= b.scale;\n    return a < b.Ch || a > b.Bh ? !1 : b.kx;\n  };\n\n  rg.prototype.increaseZoom = function (a) {\n    void 0 === a && (a = this.Hy);\n    w.Bd(a, rg, \"increaseZoom:factor\");\n    var b = this.g;\n    null !== b && b.Tl === oh && (a *= b.scale, a < b.Ch || a > b.Bh || (b.scale = a));\n  };\n\n  rg.prototype.canIncreaseZoom = function (a) {\n    void 0 === a && (a = this.Hy);\n    w.Bd(a, rg, \"canIncreaseZoom:factor\");\n    var b = this.g;\n    if (null === b || b.Tl !== oh) return !1;\n    a *= b.scale;\n    return a < b.Ch || a > b.Bh ? !1 : b.kx;\n  };\n\n  rg.prototype.resetZoom = function (a) {\n    void 0 === a && (a = this.sx);\n    w.Bd(a, rg, \"resetZoom:newscale\");\n    var b = this.g;\n    null === b || a < b.Ch || a > b.Bh || (b.scale = a);\n  };\n\n  rg.prototype.canResetZoom = function (a) {\n    void 0 === a && (a = this.sx);\n    w.Bd(a, rg, \"canResetZoom:newscale\");\n    var b = this.g;\n    return null === b || a < b.Ch || a > b.Bh ? !1 : b.kx;\n  };\n\n  rg.prototype.zoomToFit = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.scale,\n          c = a.position;\n      b === this.hA && !isNaN(this.Ez) && a.Od.L(this.gA) ? (a.scale = this.Ez, a.position = this.rD, this.hA = NaN, this.gA = dd) : (this.Ez = b, this.rD = c.copy(), a.zoomToFit(), this.hA = a.scale, this.gA = a.Od.copy());\n    }\n  };\n\n  rg.prototype.canZoomToFit = function () {\n    var a = this.g;\n    return null === a ? !1 : a.kx;\n  };\n\n  rg.prototype.scrollToPart = function (a) {\n    void 0 === a && (a = null);\n    null !== a && w.G(a, R, rg, \"part\");\n    var b = this.g;\n\n    if (null !== b) {\n      if (null === a) {\n        try {\n          null !== this.hj && (this.hj.next() ? a = this.hj.value : this.hj = null);\n        } catch (c) {\n          this.hj = null;\n        }\n\n        null === a && (0 < b.em.count ? this.hj = b.em.i : 0 < b.selection.count && (this.hj = b.selection.i), null !== this.hj && this.hj.next() && (a = this.hj.value));\n      }\n\n      if (null !== a) {\n        var d = b.Ka;\n        d.Yn(\"Scroll To Part\");\n        var e = this.CJ;\n\n        if (0 < e) {\n          var f = ph(this, a, [a]),\n              h = function h() {\n            b.Kb();\n\n            for (var a = f.pop(); 0 < f.length && a instanceof T && a.wc && (!(a instanceof V) || a.ad);) {\n              a = f.pop();\n            }\n\n            0 < f.length ? (a instanceof R && b.lG(a.U), a instanceof T && !a.wc && (a.wc = !0), a instanceof V && !a.ad && (a.ad = !0)) : (a instanceof R && b.GE(a.U), b.sB(\"LayoutCompleted\", k));\n            b.Yc(\"Scroll To Part\");\n          },\n              k = function k() {\n            setTimeout(h, (d.isEnabled ? d.duration : 0) + e);\n          };\n\n          b.$w(\"LayoutCompleted\", k);\n          h();\n        } else {\n          var l = b.position.copy();\n          b.GE(a.U);\n          l.Qc(b.position) && d.Ih();\n        }\n      }\n    }\n  };\n\n  function ph(a, b, c) {\n    if (b.isVisible()) return c;\n    if (b instanceof jh) ph(a, b.Ze, c);else if (b instanceof W) {\n      var d = b.V;\n      null !== d && ph(a, d, c);\n      b = b.Z;\n      null !== b && ph(a, b, c);\n    } else b instanceof T && (d = b.Xb, null !== d && ph(a, d, c), d = b.Kk(), null !== d && (d.wc || d.Lq || c.push(d), ph(a, d, c))), b = b.Ca, null !== b && (b.ad || b.Gy || c.push(b), ph(a, b, c));\n    return c;\n  }\n\n  rg.prototype.canScrollToPart = function (a) {\n    void 0 === a && (a = null);\n    if (null !== a && !(a instanceof R)) return !1;\n    a = this.g;\n    return null === a || 0 === a.selection.count && 0 === a.em.count ? !1 : a.re && a.se;\n  };\n\n  rg.prototype.collapseTree = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null !== b) try {\n      b.Kb(\"Collapse Tree\");\n      b.Ka.Yn(\"Collapse Tree\");\n      var c = new H(T);\n      if (null !== a && a.wc) a.collapseTree(), c.add(a);else for (var d = b.selection.i; d.next();) {\n        var e = d.value;\n        e instanceof T && (a = e, a.wc && (a.collapseTree(), c.add(a)));\n      }\n      b.Aa(\"TreeCollapsed\", c);\n    } finally {\n      b.Yc(\"Collapse Tree\");\n    }\n  };\n\n  rg.prototype.canCollapseTree = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null === b || b.ib) return !1;\n\n    if (null !== a) {\n      if (!(a instanceof T && a.wc)) return !1;\n      if (0 < a.Fx().count) return !0;\n    } else for (a = b.selection.i; a.next();) {\n      if (b = a.value, b instanceof T && b.wc && 0 < b.Fx().count) return !0;\n    }\n\n    return !1;\n  };\n\n  rg.prototype.expandTree = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null !== b) try {\n      b.Kb(\"Expand Tree\");\n      b.Ka.Yn(\"Expand Tree\");\n      var c = new H(T);\n      if (null === a || a.wc) for (var d = b.selection.i; d.next();) {\n        var e = d.value;\n        e instanceof T && (a = e, a.wc || (a.expandTree(), c.add(a)));\n      } else a.expandTree(), c.add(a);\n      b.Aa(\"TreeExpanded\", c);\n    } finally {\n      b.Yc(\"Expand Tree\");\n    }\n  };\n\n  rg.prototype.canExpandTree = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null === b || b.ib) return !1;\n\n    if (null !== a) {\n      if (!(a instanceof T) || a.wc) return !1;\n      if (0 < a.Fx().count) return !0;\n    } else for (a = b.selection.i; a.next();) {\n      if (b = a.value, b instanceof T && !b.wc && 0 < b.Fx().count) return !0;\n    }\n\n    return !1;\n  };\n\n  rg.prototype.groupSelection = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.$;\n\n      if (b instanceof Q) {\n        var c = this.AE;\n\n        if (null !== c) {\n          var d = null;\n\n          try {\n            a.kc = \"wait\";\n            a.Kb(\"Group\");\n            a.Aa(\"ChangingSelection\");\n\n            for (var e = new H(R), f = a.selection.i; f.next();) {\n              var h = f.value;\n              h.he() && h.canGroup() && e.add(h);\n            }\n\n            for (var k = new H(R), l = e.i; l.next();) {\n              for (var m = l.value, f = !1, n = e.i; n.next();) {\n                if (m.qi(n.value)) {\n                  f = !0;\n                  break;\n                }\n              }\n\n              f || k.add(m);\n            }\n\n            if (0 < k.count) {\n              var p = k.first().Ca;\n              if (null !== p) for (; null !== p;) {\n                for (var e = !1, q = k.i; q.next();) {\n                  if (!q.value.qi(p)) {\n                    e = !0;\n                    break;\n                  }\n                }\n\n                if (e) p = p.Ca;else break;\n              }\n              if (c instanceof V) lh(c), d = c.copy(), null !== d && a.add(d);else if (b.VA(c)) {\n                var r = b.copyNodeData(c);\n                w.Pa(r) && (b.Pl(r), d = a.Ex(r));\n              }\n\n              if (null !== d) {\n                null !== p && this.isValidMember(p, d) && (d.Ca = p);\n\n                for (var s = k.i; s.next();) {\n                  var t = s.value;\n                  this.isValidMember(d, t) && (t.Ca = d);\n                }\n\n                a.select(d);\n              }\n            }\n\n            a.Aa(\"ChangedSelection\");\n            a.Aa(\"SelectionGrouped\", d);\n          } finally {\n            a.Yc(\"Group\"), a.kc = \"\";\n          }\n        }\n      }\n    }\n  };\n\n  rg.prototype.canGroupSelection = function () {\n    var a = this.g;\n    if (null === a || a.ib || a.Ef || !a.Ip || !a.ex || !(a.$ instanceof Q) || null === this.AE) return !1;\n\n    for (a = a.selection.i; a.next();) {\n      var b = a.value;\n      if (b.he() && b.canGroup()) return !0;\n    }\n\n    return !1;\n  };\n\n  function qh(a) {\n    var b = w.Za();\n\n    for (a = a.i; a.next();) {\n      var c = a.value;\n      c instanceof W || b.push(c);\n    }\n\n    a = new I(R);\n\n    for (var c = b.length, d = 0; d < c; d++) {\n      for (var e = b[d], f = !0, h = 0; h < c; h++) {\n        if (e.qi(b[h])) {\n          f = !1;\n          break;\n        }\n      }\n\n      f && a.add(e);\n    }\n\n    w.ra(b);\n    return a;\n  }\n\n  rg.prototype.isValidMember = function (a, b) {\n    if (null === b || a === b || b instanceof W) return !1;\n\n    if (null !== a) {\n      if (a === b || a.qi(b)) return !1;\n      var c = a.eB;\n      if (null !== c && !c(a, b) || null === a.data && null !== b.data || null !== a.data && null === b.data) return !1;\n    }\n\n    c = this.eB;\n    return null !== c ? c(a, b) : !0;\n  };\n\n  rg.prototype.ungroupSelection = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n\n    if (null !== b) {\n      var c = b.$;\n      if (c instanceof Q) try {\n        b.kc = \"wait\";\n        b.Kb(\"Ungroup\");\n        b.Aa(\"ChangingSelection\");\n        var d = new H(V);\n        if (null !== a) d.add(a);else for (var e = b.selection.i; e.next();) {\n          var f = e.value;\n          f instanceof V && (a = f, a.canUngroup() && d.add(a));\n        }\n\n        if (0 < d.count) {\n          b.oA();\n\n          for (var h = d.i; h.next();) {\n            var k = h.value;\n            k.expandSubGraph();\n            var l = k.Ca,\n                m = null !== l && null !== l.data ? c.qb(l.data) : void 0,\n                n = new H(R);\n            n.Pc(k.hc);\n\n            for (var p = n.i; p.next();) {\n              var q = p.value;\n              q.jb = !0;\n\n              if (!(q instanceof W)) {\n                var r = q.data;\n                null !== r ? c.CB(r, m) : q.Ca = l;\n              }\n            }\n\n            b.remove(k);\n          }\n        }\n\n        b.Aa(\"ChangedSelection\");\n        b.Aa(\"SelectionUngrouped\", d, n);\n      } finally {\n        b.Yc(\"Ungroup\"), b.kc = \"\";\n      }\n    }\n  };\n\n  rg.prototype.canUngroupSelection = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null === b || b.ib || b.Ef || !b.nn || !b.jx || !(b.$ instanceof Q)) return !1;\n\n    if (null !== a) {\n      if (!(a instanceof V)) return !1;\n      if (a.canUngroup()) return !0;\n    } else for (a = b.selection.i; a.next();) {\n      if (b = a.value, b instanceof V && b.canUngroup()) return !0;\n    }\n\n    return !1;\n  };\n\n  rg.prototype.addTopLevelParts = function (a, b) {\n    for (var c = !0, d = qh(a).i; d.next();) {\n      var e = d.value;\n      null !== e.Ca && (!b || this.isValidMember(null, e) ? e.Ca = null : c = !1);\n    }\n\n    return c;\n  };\n\n  rg.prototype.collapseSubGraph = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null !== b) try {\n      b.Kb(\"Collapse SubGraph\");\n      b.Ka.Yn(\"Collapse SubGraph\");\n      var c = new H(V);\n      if (null !== a && a.ad) a.collapseSubGraph(), c.add(a);else for (var d = b.selection.i; d.next();) {\n        var e = d.value;\n        e instanceof V && (a = e, a.ad && (a.collapseSubGraph(), c.add(a)));\n      }\n      b.Aa(\"SubGraphCollapsed\", c);\n    } finally {\n      b.Yc(\"Collapse SubGraph\");\n    }\n  };\n\n  rg.prototype.canCollapseSubGraph = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null === b || b.ib) return !1;\n    if (null !== a) return a instanceof V && a.ad ? !0 : !1;\n\n    for (a = b.selection.i; a.next();) {\n      if (b = a.value, b instanceof V && b.ad) return !0;\n    }\n\n    return !1;\n  };\n\n  rg.prototype.expandSubGraph = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null !== b) try {\n      b.Kb(\"Expand SubGraph\");\n      b.Ka.Yn(\"Expand SubGraph\");\n      var c = new H(V);\n      if (null === a || a.ad) for (var d = b.selection.i; d.next();) {\n        var e = d.value;\n        e instanceof V && (a = e, a.ad || (a.expandSubGraph(), c.add(a)));\n      } else a.expandSubGraph(), c.add(a);\n      b.Aa(\"SubGraphExpanded\", c);\n    } finally {\n      b.Yc(\"Expand SubGraph\");\n    }\n  };\n\n  rg.prototype.canExpandSubGraph = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null === b || b.ib) return !1;\n    if (null !== a) return a instanceof V && !a.ad ? !0 : !1;\n\n    for (a = b.selection.i; a.next();) {\n      if (b = a.value, b instanceof V && !b.ad) return !0;\n    }\n\n    return !1;\n  };\n\n  rg.prototype.editTextBlock = function (a) {\n    void 0 === a && (a = null);\n    null !== a && w.G(a, Lh, rg, \"editTextBlock\");\n    var b = this.g;\n\n    if (null !== b) {\n      var c = b.Va.LB;\n\n      if (null !== c) {\n        if (null === a) {\n          a = null;\n\n          for (var d = b.selection.i; d.next();) {\n            var e = d.value;\n\n            if (e.canEdit()) {\n              a = e;\n              break;\n            }\n          }\n\n          if (null === a) return;\n          a = a.bu(function (a) {\n            return a instanceof Lh && a.AA;\n          });\n        }\n\n        null !== a && (b.Xa = null, c.Xg = a, b.Xa = c);\n      }\n    }\n  };\n\n  rg.prototype.canEditTextBlock = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null === b || b.ib || b.Ef || !b.ix || null === b.Va.LB) return !1;\n\n    if (null !== a) {\n      if (!(a instanceof Lh)) return !1;\n      a = a.W;\n      if (null !== a && a.canEdit()) return !0;\n    } else for (b = b.selection.i; b.next();) {\n      if (a = b.value, a.canEdit() && (a = a.bu(function (a) {\n        return a instanceof Lh && a.AA;\n      }), null !== a)) return !0;\n    }\n\n    return !1;\n  };\n\n  rg.prototype.showContextMenu = function (a) {\n    var b = this.g;\n\n    if (null !== b) {\n      var c = b.Va.tA;\n\n      if (null !== c && (void 0 === a && (a = 0 < b.selection.count ? b.selection.first() : b), a = c.findObjectWithContextMenu(a), null !== a)) {\n        var d = new yf(),\n            e = null;\n        a instanceof G ? e = a.Ya(Jb) : b.BI || (e = b.sb, e = new z(e.x + e.width / 2, e.y + e.height / 2));\n        null !== e && (d.g = b, d.Ce = b.Dy(e), d.ea = e, d.left = !1, d.right = !0, d.up = !0, b.Q = d);\n        b.Xa = c;\n        Mh(c, !1, a);\n      }\n    }\n  };\n\n  rg.prototype.canShowContextMenu = function (a) {\n    var b = this.g;\n    if (null === b) return !1;\n    var c = b.Va.tA;\n    if (null === c) return !1;\n    void 0 === a && (a = 0 < b.selection.count ? b.selection.first() : b);\n    return null === c.findObjectWithContextMenu(a) ? !1 : !0;\n  };\n\n  w.defineProperty(rg, {\n    FH: \"copiesClipboardData\"\n  }, function () {\n    return this.uC;\n  }, function (a) {\n    w.j(a, \"boolean\", rg, \"copiesClipboardData\");\n    this.uC = a;\n  });\n  w.defineProperty(rg, {\n    GH: \"copiesConnectedLinks\"\n  }, function () {\n    return this.vC;\n  }, function (a) {\n    w.j(a, \"boolean\", rg, \"copiesConnectedLinks\");\n    this.vC = a;\n  });\n  w.defineProperty(rg, {\n    UE: \"deletesConnectedLinks\"\n  }, function () {\n    return this.PC;\n  }, function (a) {\n    w.j(a, \"boolean\", rg, \"deletesConnectedLinks\");\n    this.PC = a;\n  });\n  w.defineProperty(rg, {\n    IH: \"copiesTree\"\n  }, function () {\n    return this.zC;\n  }, function (a) {\n    w.j(a, \"boolean\", rg, \"copiesTree\");\n    this.zC = a;\n  });\n  w.defineProperty(rg, {\n    PH: \"deletesTree\"\n  }, function () {\n    return this.QC;\n  }, function (a) {\n    w.j(a, \"boolean\", rg, \"deletesTree\");\n    this.QC = a;\n  });\n  w.defineProperty(rg, {\n    NE: \"copiesParentKey\"\n  }, function () {\n    return this.yC;\n  }, function (a) {\n    w.j(a, \"boolean\", rg, \"copiesParentKey\");\n    this.yC = a;\n  });\n  w.defineProperty(rg, {\n    ME: \"copiesGroupKey\"\n  }, function () {\n    return this.xC;\n  }, function (a) {\n    w.j(a, \"boolean\", rg, \"copiesGroupKey\");\n    this.xC = a;\n  });\n  w.defineProperty(rg, {\n    AE: \"archetypeGroupData\"\n  }, function () {\n    return this.kC;\n  }, function (a) {\n    null !== a && w.G(a, Object, rg, \"archetypeGroupData\");\n    var b = this.g;\n    null !== b && (b = b.$, b instanceof Q && (a instanceof V || b.VA(a) || w.k(\"CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: \" + a)));\n    this.kC = a;\n  });\n  w.defineProperty(rg, {\n    eB: \"memberValidation\"\n  }, function () {\n    return this.Dl;\n  }, function (a) {\n    null !== a && w.j(a, \"function\", rg, \"memberValidation\");\n    this.Dl = a;\n  });\n  w.defineProperty(rg, {\n    sx: \"defaultScale\"\n  }, function () {\n    return this.MC;\n  }, function (a) {\n    w.Bd(a, rg, \"defaultScale\");\n    0 < a || w.k(\"defaultScale must be larger than zero, not: \" + a);\n    this.MC = a;\n  });\n  w.defineProperty(rg, {\n    Hy: \"zoomFactor\"\n  }, function () {\n    return this.qE;\n  }, function (a) {\n    w.Bd(a, rg, \"zoomFactor\");\n    1 < a || w.k(\"zoomFactor must be larger than 1.0, not: \" + a);\n    this.qE = a;\n  });\n  w.defineProperty(rg, {\n    CJ: \"scrollToPartPause\"\n  }, function () {\n    return this.QD;\n  }, function (a) {\n    w.Bd(a, rg, \"scrollToPartPause\");\n    this.QD = a;\n  });\n\n  function qg() {\n    0 < arguments.length && w.od(qg);\n    w.oc(this);\n    this.aa = null;\n    this.Sb = \"\";\n    this.jf = !0;\n    this.eD = !1;\n    this.lE = null;\n    this.Yw = -1;\n  }\n\n  w.ga(\"Tool\", qg);\n\n  qg.prototype.Tc = function (a) {\n    this.aa = a;\n  };\n\n  qg.prototype.toString = function () {\n    return \"\" !== this.name ? this.name + \" Tool\" : w.pf(Object.getPrototypeOf(this));\n  };\n\n  qg.prototype.updateAdornments = function () {};\n\n  qg.prototype.canStart = function () {\n    return this.isEnabled;\n  };\n\n  qg.prototype.doStart = function () {};\n\n  qg.prototype.doActivate = function () {\n    this.ta = !0;\n  };\n\n  qg.prototype.doDeactivate = function () {\n    this.ta = !1;\n  };\n\n  qg.prototype.doStop = function () {};\n\n  qg.prototype.doCancel = function () {\n    this.stopTool();\n  };\n\n  qg.prototype.stopTool = function () {\n    var a = this.g;\n    null !== a && a.Xa === this && (a.Xa = null, a.kc = \"\");\n  };\n\n  qg.prototype.doMouseDown = function () {\n    !this.ta && this.canStart() && this.doActivate();\n  };\n\n  qg.prototype.doMouseMove = function () {};\n\n  qg.prototype.doMouseUp = function () {\n    this.stopTool();\n  };\n\n  qg.prototype.doMouseWheel = function () {};\n\n  qg.prototype.canStartMultiTouch = function () {\n    return !0;\n  };\n\n  qg.prototype.standardPinchZoomStart = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.Q,\n          c = b.Hx(0, w.wb(NaN, NaN)),\n          d = b.Hx(1, w.wb(NaN, NaN));\n\n      if (c.I() && d.I() && (this.doCancel(), a.nu(\"hasGestureZoom\"))) {\n        a.Ps = a.scale;\n        var e = d.x - c.x,\n            f = d.y - c.y;\n        a.VD = Math.sqrt(e * e + f * f);\n        b.bubbles = !1;\n      }\n\n      w.v(c);\n      w.v(d);\n    }\n  };\n\n  qg.prototype.standardPinchZoomMove = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.Q,\n          c = b.Hx(0, w.wb(NaN, NaN)),\n          d = b.Hx(1, w.wb(NaN, NaN));\n\n      if (c.I() && d.I() && (this.doCancel(), a.nu(\"hasGestureZoom\"))) {\n        var e = d.x - c.x,\n            f = d.y - c.y,\n            f = Math.sqrt(e * e + f * f) / a.VD,\n            e = new z((Math.min(d.x, c.x) + Math.max(d.x, c.x)) / 2, (Math.min(d.y, c.y) + Math.max(d.y, c.y)) / 2),\n            f = a.Ps * f,\n            h = a.pb;\n\n        if (f !== a.scale && h.canResetZoom(f)) {\n          var k = a.zi;\n          a.zi = e;\n          h.resetZoom(f);\n          a.zi = k;\n        }\n\n        b.bubbles = !1;\n      }\n\n      w.v(c);\n      w.v(d);\n    }\n  };\n\n  qg.prototype.doKeyDown = function () {\n    var a = this.g;\n    null !== a && \"Esc\" === a.Q.key && this.doCancel();\n  };\n\n  qg.prototype.doKeyUp = function () {};\n\n  qg.prototype.startTransaction = qg.prototype.Kb = function (a) {\n    void 0 === a && (a = this.name);\n    this.Lf = null;\n    var b = this.g;\n    return null === b ? !1 : b.Kb(a);\n  };\n\n  qg.prototype.stopTransaction = qg.prototype.Wk = function () {\n    var a = this.g;\n    return null === a ? !1 : null === this.Lf ? a.mm() : a.Yc(this.Lf);\n  };\n\n  qg.prototype.standardMouseSelect = function () {\n    var a = this.g;\n\n    if (null !== a && a.Bf) {\n      var b = a.Q,\n          c = a.eu(b.ea, !1);\n      if (null !== c) {\n        if (w.zh ? b.Iu : b.control) {\n          a.Aa(\"ChangingSelection\");\n\n          for (b = c; null !== b && !b.canSelect();) {\n            b = b.Ca;\n          }\n\n          null !== b && (b.jb = !b.jb);\n          a.Aa(\"ChangedSelection\");\n        } else if (b.shift) {\n          if (!c.jb) {\n            a.Aa(\"ChangingSelection\");\n\n            for (b = c; null !== b && !b.canSelect();) {\n              b = b.Ca;\n            }\n\n            null !== b && (b.jb = !0);\n            a.Aa(\"ChangedSelection\");\n          }\n        } else {\n          if (!c.jb) {\n            for (b = c; null !== b && !b.canSelect();) {\n              b = b.Ca;\n            }\n\n            null !== b && a.select(b);\n          }\n        }\n      } else !b.left || (w.zh ? b.Iu : b.control) || b.shift || a.oA();\n    }\n  };\n\n  qg.prototype.standardMouseClick = function (a, b) {\n    void 0 === a && (a = null);\n    void 0 === b && (b = function b(a) {\n      return !a.layer.Hc;\n    });\n    var c = this.g;\n    if (null === c) return !1;\n    var d = c.Q,\n        e = c.Pe(d.ea, a, b);\n    d.Be = e;\n    Nh(e, d, c);\n    return d.vc;\n  };\n\n  function Nh(a, b, c) {\n    b.vc = !1;\n\n    if (null === a || a.vu()) {\n      var d = 0;\n      b.left ? d = 1 === b.te ? 1 : 2 === b.te ? 2 : 1 : b.right && 1 === b.te && (d = 3);\n      var e = \"\";\n\n      if (null !== a) {\n        switch (d) {\n          case 1:\n            e = \"ObjectSingleClicked\";\n            break;\n\n          case 2:\n            e = \"ObjectDoubleClicked\";\n            break;\n\n          case 3:\n            e = \"ObjectContextClicked\";\n        }\n\n        0 !== d && c.Aa(e, a);\n      } else {\n        switch (d) {\n          case 1:\n            e = \"BackgroundSingleClicked\";\n            break;\n\n          case 2:\n            e = \"BackgroundDoubleClicked\";\n            break;\n\n          case 3:\n            e = \"BackgroundContextClicked\";\n        }\n\n        0 !== d && c.Aa(e);\n      }\n\n      if (null !== a) for (; null !== a;) {\n        c = null;\n\n        switch (d) {\n          case 1:\n            c = a.click;\n            break;\n\n          case 2:\n            c = a.Zt ? a.Zt : a.click;\n            break;\n\n          case 3:\n            c = a.sA;\n        }\n\n        if (null !== c && (c(b, a), b.vc)) break;\n        a = a.R;\n      } else {\n        a = null;\n\n        switch (d) {\n          case 1:\n            a = c.click;\n            break;\n\n          case 2:\n            a = c.Zt ? c.Zt : c.click;\n            break;\n\n          case 3:\n            a = c.sA;\n        }\n\n        null !== a && a(b);\n      }\n    }\n  }\n\n  qg.prototype.standardMouseOver = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.Q;\n\n      if (null !== b.g && !0 !== a.Ka.sc) {\n        var c = a.gb;\n        a.gb = !0;\n        var d = a.fh ? a.Pe(b.ea, null, null) : null;\n        b.Be = d;\n        var e = !1;\n\n        if (d !== a.yo) {\n          var f = a.yo,\n              h = f;\n          a.yo = d;\n          this.doCurrentObjectChanged(f, d);\n\n          for (b.vc = !1; null !== f;) {\n            var k = f.Ku;\n\n            if (null !== k) {\n              if (d === f) break;\n              if (null !== d && d.hm(f)) break;\n              k(b, f, d);\n              e = !0;\n              if (b.vc) break;\n            }\n\n            f = f.R;\n          }\n\n          f = h;\n\n          for (b.vc = !1; null !== d;) {\n            k = d.Ju;\n\n            if (null !== k) {\n              if (f === d) break;\n              if (null !== f && f.hm(d)) break;\n              k(b, d, f);\n              e = !0;\n              if (b.vc) break;\n            }\n\n            d = d.R;\n          }\n\n          d = a.yo;\n        }\n\n        if (null !== d) {\n          f = d;\n\n          for (h = \"\"; null !== f;) {\n            h = f.cursor;\n            if (\"\" !== h) break;\n            f = f.R;\n          }\n\n          a.kc = h;\n          b.vc = !1;\n\n          for (f = d; null !== f;) {\n            d = f.iB;\n            if (null !== d && (d(b, f), e = !0, b.vc)) break;\n            f = f.R;\n          }\n        } else a.kc = \"\", d = a.iB, null !== d && (d(b), e = !0);\n\n        e && a.ye();\n        a.gb = c;\n      }\n    }\n  };\n\n  qg.prototype.doCurrentObjectChanged = function () {};\n\n  qg.prototype.standardMouseWheel = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.Q,\n          c = b.oi;\n\n      if (0 !== c && a.Od.I()) {\n        var d = a.pb,\n            e = a.Va.Lu;\n        if ((e === Oh && !b.shift || e === Ph && b.control) && (0 < c ? d.canIncreaseZoom() : d.canDecreaseZoom())) e = a.zi, a.zi = b.Ce, 0 < c ? d.increaseZoom() : d.decreaseZoom(), a.zi = e, b.bubbles = !1;else if (e === Oh && b.shift || e === Ph && !b.control) {\n          var d = a.position.copy(),\n              e = 0 < c ? c : -c,\n              f = b.event.deltaMode,\n              h = b.event.deltaX,\n              k = b.event.deltaY,\n              l = \"pixel\";\n          if (w.fq || w.gq || w.UA) f = 1, 0 < h && (h = 3), 0 > h && (h = -3), 0 < k && (k = 3), 0 > k && (k = -3);\n          if (void 0 === f || void 0 === h || void 0 === k || 0 === h && 0 === k || b.shift) !b.shift && a.se ? (f = a.Yu, e = 3 * e * f, 0 < c ? a.scroll(\"pixel\", \"up\", e) : a.scroll(\"pixel\", \"down\", e)) : b.shift && a.re && (f = a.Xu, e = 3 * e * f, 0 < c ? a.scroll(\"pixel\", \"left\", e) : a.scroll(\"pixel\", \"right\", e));else {\n            switch (f) {\n              case 0:\n                l = \"pixel\";\n                break;\n\n              case 1:\n                l = \"line\";\n                break;\n\n              case 2:\n                l = \"page\";\n                break;\n\n              default:\n                l = \"pixel\";\n            }\n\n            0 !== h && a.re && (0 < h ? a.scroll(l, \"left\", -h) : a.scroll(l, \"right\", h));\n            0 !== k && a.se && (0 < k ? a.scroll(l, \"up\", -k) : a.scroll(l, \"down\", k));\n          }\n          a.position.L(d) || (b.bubbles = !1);\n        }\n      }\n    }\n  };\n\n  qg.prototype.standardWaitAfter = function (a, b) {\n    w.j(a, \"number\", qg, \"standardWaitAfter:delay\");\n    void 0 === b && (b = this.g.Q);\n    this.cancelWaitAfter();\n    var c = this,\n        d = b.copy();\n    this.Yw = w.setTimeout(function () {\n      c.doWaitAfter(d);\n    }, a);\n  };\n\n  qg.prototype.cancelWaitAfter = function () {\n    -1 !== this.Yw && w.clearTimeout(this.Yw);\n    this.Yw = -1;\n  };\n\n  qg.prototype.doWaitAfter = function () {};\n\n  qg.prototype.findToolHandleAt = function (a, b) {\n    var c = this.g;\n    if (null === c) return null;\n    c = c.Pe(a, function (a) {\n      for (; null !== a && !(a.R instanceof jh);) {\n        a = a.R;\n      }\n\n      return a;\n    });\n    return null === c ? null : c.W.ld === b ? c : null;\n  };\n\n  qg.prototype.isBeyondDragSize = function (a, b) {\n    var c = this.g;\n    if (null === c) return !1;\n    void 0 === a && (a = c.uc.Ce);\n    void 0 === b && (b = c.Q.Ce);\n    var d = c.Va.TH,\n        e = d.width,\n        d = d.height;\n    c.uc.Aj && (e += 6, d += 6);\n    return Math.abs(b.x - a.x) > e || Math.abs(b.y - a.y) > d;\n  };\n\n  w.u(qg, {\n    g: \"diagram\"\n  }, function () {\n    return this.aa;\n  });\n  w.defineProperty(qg, {\n    name: \"name\"\n  }, function () {\n    return this.Sb;\n  }, function (a) {\n    w.j(a, \"string\", qg, \"name\");\n    this.Sb = a;\n  });\n  w.defineProperty(qg, {\n    isEnabled: \"isEnabled\"\n  }, function () {\n    return this.jf;\n  }, function (a) {\n    w.j(a, \"boolean\", qg, \"isEnabled\");\n    this.jf = a;\n  });\n  w.defineProperty(qg, {\n    ta: \"isActive\"\n  }, function () {\n    return this.eD;\n  }, function (a) {\n    w.j(a, \"boolean\", qg, \"isActive\");\n    this.eD = a;\n  });\n  w.defineProperty(qg, {\n    Lf: \"transactionResult\"\n  }, function () {\n    return this.lE;\n  }, function (a) {\n    null !== a && w.j(a, \"string\", qg, \"transactionResult\");\n    this.lE = a;\n  });\n\n  function nh() {\n    qg.call(this);\n    0 < arguments.length && w.od(nh);\n    this.name = \"Dragging\";\n    this.wC = this.iD = !0;\n    this.Yr = this.VC = !1;\n    this.mD = !0;\n    this.vz = new ia(NaN, NaN).freeze();\n    this.wz = zb;\n    this.xz = new z(NaN, NaN).freeze();\n    this.UC = !1;\n    this.vw = this.uw = this.kz = this.tC = this.TC = this.EC = this.fj = null;\n    this.Dr = this.kD = !1;\n    this.tp = new z(NaN, NaN);\n    this.Ow = new z();\n    this.Rw = !1;\n    this.hD = !0;\n    this.Eo = 100;\n    this.Uj = [];\n    this.TG = new I(R).freeze();\n  }\n\n  w.La(nh, qg);\n  w.ga(\"DraggingTool\", nh);\n  w.defineProperty(nh, {\n    zF: \"isCopyEnabled\"\n  }, function () {\n    return this.iD;\n  }, function (a) {\n    w.j(a, \"boolean\", nh, \"isCopyEnabled\");\n    this.iD = a;\n  });\n  w.defineProperty(nh, {\n    HH: \"copiesEffectiveCollection\"\n  }, function () {\n    return this.wC;\n  }, function (a) {\n    w.j(a, \"boolean\", nh, \"copiesEffectiveCollection\");\n    this.wC = a;\n  });\n  w.defineProperty(nh, {\n    UH: \"dragsTree\"\n  }, function () {\n    return this.VC;\n  }, function (a) {\n    w.j(a, \"boolean\", nh, \"dragsTree\");\n    this.VC = a;\n  });\n  w.defineProperty(nh, {\n    Sk: \"isGridSnapEnabled\"\n  }, function () {\n    return this.Yr;\n  }, function (a) {\n    w.j(a, \"boolean\", nh, \"isGridSnapEnabled\");\n    this.Yr = a;\n  });\n  w.defineProperty(nh, {\n    xI: \"isComplexRoutingRealtime\"\n  }, function () {\n    return this.hD;\n  }, function (a) {\n    w.j(a, \"boolean\", nh, \"isComplexRoutingRealtime\");\n    this.hD = a;\n  });\n  w.defineProperty(nh, {\n    BF: \"isGridSnapRealtime\"\n  }, function () {\n    return this.mD;\n  }, function (a) {\n    w.j(a, \"boolean\", nh, \"isGridSnapRealtime\");\n    this.mD = a;\n  });\n  w.defineProperty(nh, {\n    qF: \"gridSnapCellSize\"\n  }, function () {\n    return this.vz;\n  }, function (a) {\n    w.G(a, ia, nh, \"gridSnapCellSize\");\n    this.vz.L(a) || (this.vz = a = a.S());\n  });\n  w.defineProperty(nh, {\n    iI: \"gridSnapCellSpot\"\n  }, function () {\n    return this.wz;\n  }, function (a) {\n    w.G(a, K, nh, \"gridSnapCellSpot\");\n    this.wz.L(a) || (this.wz = a = a.S());\n  });\n  w.defineProperty(nh, {\n    jI: \"gridSnapOrigin\"\n  }, function () {\n    return this.xz;\n  }, function (a) {\n    w.G(a, z, nh, \"gridSnapOrigin\");\n    this.xz.L(a) || (this.xz = a = a.S());\n  });\n  w.defineProperty(nh, {\n    uj: \"dragsLink\"\n  }, function () {\n    return this.UC;\n  }, function (a) {\n    w.j(a, \"boolean\", nh, \"dragsLink\");\n    this.UC = a;\n  });\n  w.defineProperty(nh, {\n    yn: \"currentPart\"\n  }, function () {\n    return this.EC;\n  }, function (a) {\n    null !== a && w.G(a, R, nh, \"currentPart\");\n    this.EC = a;\n  });\n  w.defineProperty(nh, {\n    ec: \"copiedParts\"\n  }, function () {\n    return this.tC;\n  }, function (a) {\n    this.tC = a;\n  });\n  w.defineProperty(nh, {\n    $b: \"draggedParts\"\n  }, function () {\n    return this.TC;\n  }, function (a) {\n    this.TC = a;\n  });\n  w.u(nh, {\n    aL: \"draggingParts\"\n  }, function () {\n    return null !== this.ec ? this.ec.Mj() : null !== this.$b ? this.$b.Mj() : this.TG;\n  });\n  w.defineProperty(nh, {\n    md: \"draggedLink\"\n  }, function () {\n    return this.kz;\n  }, function (a) {\n    null !== a && w.G(a, W, nh, \"draggedLink\");\n    this.kz !== a && (this.kz = a, null !== a ? (this.uw = a.gc, this.vw = a.zc) : this.vw = this.uw = null);\n  });\n  w.defineProperty(nh, {\n    Lx: \"isDragOutStarted\"\n  }, function () {\n    return this.kD;\n  }, function (a) {\n    this.kD = a;\n  });\n  w.defineProperty(nh, {\n    Vk: \"startPoint\"\n  }, function () {\n    return this.Ow;\n  }, function (a) {\n    w.G(a, z, nh, \"startPoint\");\n    this.Ow.L(a) || (this.Ow = a = a.S());\n  });\n  w.defineProperty(nh, {\n    QE: \"delay\"\n  }, function () {\n    return this.Eo;\n  }, function (a) {\n    w.j(a, \"number\", nh, \"delay\");\n    this.Eo = a;\n  });\n\n  nh.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    if (null === a || a.ib && !a.Rt || !a.Rl && !a.Ck && !a.Rt || !a.Bf) return !1;\n    var b = a.Q;\n    return !b.left || a.Xa !== this && (!this.isBeyondDragSize() || b.Aj && b.timestamp - a.uc.timestamp < this.Eo) ? !1 : null !== this.findDraggablePart();\n  };\n\n  nh.prototype.findDraggablePart = function () {\n    var a = this.g;\n    if (null === a) return null;\n    a = a.eu(a.uc.ea, !1);\n    if (null === a) return null;\n\n    for (; null !== a && !a.canSelect();) {\n      a = a.Ca;\n    }\n\n    return null !== a && (a.canMove() || a.canCopy()) ? a : null;\n  };\n\n  nh.prototype.standardMouseSelect = function () {\n    var a = this.g;\n\n    if (null !== a && a.Bf) {\n      var b = a.eu(a.uc.ea, !1);\n\n      if (null !== b) {\n        for (; null !== b && !b.canSelect();) {\n          b = b.Ca;\n        }\n\n        this.yn = b;\n        this.yn.jb || (a.Aa(\"ChangingSelection\"), b = a.Q, (w.zh ? b.Iu : b.control) || b.shift || mh(a), this.yn.jb = !0, a.Aa(\"ChangedSelection\"));\n      }\n    }\n  };\n\n  nh.prototype.doActivate = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      null === this.yn && this.standardMouseSelect();\n      var b = this.yn;\n      null !== b && (b.canMove() || b.canCopy()) && (this.ta = !0, this.tp.set(a.position), Qh(this, a.selection), this.Uj.length = 0, this.$b = this.computeEffectiveCollection(a.selection), a.eo = !0, Rh(this, this.$b), this.Kb(\"Drag\"), this.Vk = a.uc.ea, a.ef = !0, a.Rt && (this.Lx = !0, this.Dr = !1, Sh = this, Th = this.g, this.doSimulatedDragOut()));\n    }\n  };\n\n  function Qh(a, b) {\n    if (a.uj) {\n      var c = a.g;\n      null !== c && c.on && (c.$ instanceof Q && 1 === b.count && b.first() instanceof W ? (a.md = b.first(), a.md.canRelinkFrom() && a.md.canRelinkTo() && a.md.Ut(), a.fj = c.Va.$F, null === a.fj && (a.fj = new Uh(), a.fj.Tc(c))) : (a.md = null, a.fj = null));\n    }\n  }\n\n  nh.prototype.computeEffectiveCollection = function (a) {\n    var b = null !== this.g && this.g.Xa === this,\n        c = new ma(R);\n    if (null === a) return c;\n\n    for (var d = a.i; d.next();) {\n      Vh(this, c, d.value, b);\n    }\n\n    if (null !== this.md && this.uj) return c;\n\n    for (d = a.i; d.next();) {\n      a = d.value, a instanceof W && (b = a.V, null === b || c.contains(b) ? (b = a.Z, null === b || c.contains(b) || c.remove(a)) : c.remove(a));\n    }\n\n    return c;\n  };\n\n  function Wh(a, b, c) {\n    if (void 0 === c) return new Xh(cd);\n    a = a.Sk;\n    null !== b.Ca && (a = !1);\n    return a ? new Xh(new z(Math.round(c.x), Math.round(c.y))) : new Xh(c.copy());\n  }\n\n  function Vh(a, b, c, d) {\n    if (!b.contains(c) && (!d || c.canMove() || c.canCopy())) if (c instanceof T) {\n      b.add(c, Wh(a, c, c.location));\n      if (c instanceof V) for (var e = c.hc; e.next();) {\n        Vh(a, b, e.value, d);\n      }\n\n      for (e = c.je; e.next();) {\n        var f = e.value;\n\n        if (!b.contains(f)) {\n          var h = f.V,\n              k = f.Z;\n          null !== h && b.contains(h) && null !== k && b.contains(k) && Vh(a, b, f, d);\n        }\n      }\n\n      if (a.UH) for (c = c.dF(); c.next();) {\n        Vh(a, b, c.value, d);\n      }\n    } else if (c instanceof W) for (f = c, b.add(f, Wh(a, f)), c = f.Ff; c.next();) {\n      Vh(a, b, c.value, d);\n    } else c instanceof jh || b.add(c, Wh(a, c, c.location));\n  }\n\n  nh.prototype.doDeactivate = function () {\n    this.ta = !1;\n    var a = this.g;\n    null !== a && Yh(a);\n    Zh(this);\n    $h(this, this.$b);\n    this.$b = this.yn = null;\n    this.Dr = this.Lx = !1;\n\n    if (0 < ai.count) {\n      for (var b = ai.length, c = 0; c < b; c++) {\n        var d = ai.fa(c);\n        bi(d);\n        ci(d);\n        Zh(d);\n        null !== d.g && Yh(d.g);\n      }\n\n      ai.clear();\n    }\n\n    bi(this);\n    this.tp.m(NaN, NaN);\n    Sh = Th = null;\n    ci(this);\n    a.ef = !1;\n    a.kc = \"\";\n    a.eo = !1;\n    this.Wk();\n  };\n\n  function Zh(a) {\n    var b = a.g;\n\n    if (null !== b) {\n      var c = b.gb;\n      b.gb = !0;\n      di(a, b.Q, null);\n      b.gb = c;\n    }\n\n    a.Uj.length = 0;\n  }\n\n  function ei() {\n    var a = Sh;\n    ci(a);\n    fi(a);\n    var b = a.g;\n    null !== b && a.tp.I() && (b.position = a.tp);\n    null !== b && Yh(b);\n  }\n\n  nh.prototype.doCancel = function () {\n    ci(this);\n    fi(this);\n    var a = this.g;\n    null !== a && this.tp.I() && (a.position = this.tp);\n    this.stopTool();\n  };\n\n  function Rh(a, b) {\n    if (null !== b) {\n      a.Rw = !0;\n\n      for (var c = b.i; c.next();) {\n        var d = c.key;\n        d instanceof W && (d.vi = !0);\n      }\n    }\n  }\n\n  function $h(a, b) {\n    if (null !== b) {\n      for (var c = b.i; c.next();) {\n        var d = c.key;\n        d instanceof W && (d.vi = !1, gi(d) && d.Tb());\n      }\n\n      a.Rw = !1;\n    }\n  }\n\n  nh.prototype.doKeyDown = function () {\n    var a = this.g;\n    null !== a && (a = a.Q, null !== a && this.ta && (\"Esc\" === a.key ? this.doCancel() : this.doMouseMove()));\n  };\n\n  nh.prototype.doKeyUp = function () {\n    var a = this.g;\n    null !== a && null !== a.Q && this.ta && this.doMouseMove();\n  };\n\n  function hi(a, b) {\n    for (var c = Infinity, d = Infinity, e = -Infinity, f = -Infinity, h = a.i; h.next();) {\n      var k = h.value;\n\n      if (k.he() && k.isVisible()) {\n        var l = k.location,\n            k = l.x,\n            l = l.y;\n        isNaN(k) || isNaN(l) || (k < c && (c = k), l < d && (d = l), k > e && (e = k), l > f && (f = l));\n      }\n    }\n\n    Infinity === c ? b.m(0, 0, 0, 0) : b.m(c, d, e - c, f - d);\n  }\n\n  function ri(a, b) {\n    if (null === a.ec) {\n      var c = a.g;\n\n      if (!(null === c || b && (c.ib || c.Ef)) && null !== a.$b) {\n        var d = c.ja;\n        d.isEnabled && d.DF ? null !== d.sj && 0 < d.sj.Wf.count && (c.ja.mm(), c.Kb(\"Drag\")) : fi(a);\n        c.gb = !b;\n        c.Rq = !b;\n        a.Vk = c.uc.ea;\n        d = a.HH ? a.$b.Mj() : c.selection;\n        d = c.Rp(d, c, !0);\n\n        for (c = d.i; c.next();) {\n          c.value.location = c.key.location;\n        }\n\n        c = w.vf();\n        hi(d, c);\n        w.Bb(c);\n\n        for (var c = new ma(R), e = a.$b.i; e.next();) {\n          var f = e.key;\n          f.he() && f.canCopy() && (f = d.ka(f), null !== f && (f.Ne(), c.add(f, Wh(a, f, f.location))));\n        }\n\n        for (d = d.i; d.next();) {\n          e = d.value, e instanceof W && e.canCopy() && c.add(e, Wh(a, e));\n        }\n\n        a.ec = c;\n        Qh(a, c.Mj());\n        null !== a.md && (c = a.md, d = c.$n, c.Ej(a.Vk.x - (d.x + d.width / 2), a.Vk.y - (d.y + d.height / 2)));\n      }\n    }\n  }\n\n  function ci(a) {\n    var b = a.g;\n\n    if (null !== b) {\n      if (null !== a.ec && (b.tB(a.ec.Mj(), !1), a.ec = null, null !== a.$b)) for (var c = a.$b.i; c.next();) {\n        c.key instanceof W && (c.value.point = new z(0, 0));\n      }\n      b.gb = !1;\n      b.Rq = !1;\n      a.Vk = b.uc.ea;\n    }\n  }\n\n  function bi(a) {\n    if (null !== a.md) {\n      if (a.uj && null !== a.fj) {\n        var b = a.fj;\n        null !== b.g && (b.g.remove(b.Xd), b.g.remove(b.Yd));\n      }\n\n      a.md = null;\n      a.fj = null;\n    }\n  }\n\n  function Ei(a, b, c) {\n    var d = a.g;\n\n    if (null !== d) {\n      var e = a.Vk,\n          f = w.K();\n      f.assign(d.Q.ea);\n      a.moveParts(b, f.ui(e), c);\n      w.v(f);\n    }\n  }\n\n  nh.prototype.moveParts = function (a, b, c) {\n    if (null !== a && (w.G(a, ma, nh, \"moveParts:parts\"), 0 !== a.count)) {\n      var d = w.K(),\n          e = w.K();\n      e.assign(b);\n      isNaN(e.x) && (e.x = 0);\n      isNaN(e.y) && (e.y = 0);\n      (b = this.Rw) || Rh(this, a);\n\n      for (var f = new H(Fi), h = new H(Ca), k = a.i; k.next();) {\n        var l = k.key;\n\n        if (l.he()) {\n          var m = Gi(this, l, a);\n          if (null !== m) f.add(new Fi(l, k.value, m));else if (!c || l.canMove()) {\n            m = k.value.point;\n            d.assign(m);\n            var n = new z(),\n                p = this.computeMove(l, d.add(e), a, n);\n            l.location = p;\n            k.value.tG = n.ui(m);\n          }\n        } else k.key instanceof W && h.add(k.Wa);\n      }\n\n      for (c = f.i; c.next();) {\n        n = c.value, m = n.info.point, d.assign(m), n.Rc.location = d.add(n.kI.tG);\n      }\n\n      c = w.K();\n      m = w.K();\n\n      for (h = h.i; h.next();) {\n        if (k = h.value, f = k.key, f instanceof W) if (f.vi) {\n          if (n = f.V, l = f.Z, null !== this.md && this.uj) {\n            if (k = k.value.point, null === f.wx) a.add(f, Wh(this, f, e)), l = e.x - k.x, k = e.y - k.y, f.Ej(l, k);else {\n              p = w.wb(0, 0);\n              (n = f.l(0)) && n.I() && p.assign(n);\n              n = w.K();\n              n.assign(p);\n              n.add(e);\n              var q = n;\n              this.Sk && (this.BF || this.g.Q.up) && (q = w.K(), Hi(this, f, n, q));\n              n.assign(f.wx(f, n, q));\n              n.ui(p);\n              a.add(f, Wh(this, f, n));\n              l = n.x - k.x;\n              k = n.y - k.y;\n              f.Ej(l, k);\n              w.v(p);\n              w.v(n);\n              q !== n && w.v(q);\n            }\n          } else null !== n && (c.assign(n.location), p = a.ka(n), null !== p && c.ui(p.point)), null !== l && (m.assign(l.location), p = a.ka(l), null !== p && m.ui(p.point)), null !== n && null !== l ? c.Qc(m) ? (k = k.value.point, n = d, n.assign(c), n.ui(k), a.add(f, Wh(this, f, c)), f.Ej(n.x, n.y)) : (f.vi = !1, f.Tb()) : (k = k.value.point, n = null !== n ? c : null !== l ? m : e, a.add(f, Wh(this, f, n)), l = n.x - k.x, k = n.y - k.y, f.Ej(l, k));\n        } else if (null === f.V || null === f.Z) k = k.value.point, a.add(f, Wh(this, f, e)), l = e.x - k.x, k = e.y - k.y, f.Ej(l, k);\n      }\n\n      w.v(d);\n      w.v(e);\n      w.v(c);\n      w.v(m);\n      b || (Ii(this.g), $h(this, a));\n    }\n  };\n\n  function Gi(a, b, c) {\n    b = b.Ca;\n\n    if (null !== b) {\n      a = Gi(a, b, c);\n      if (null !== a) return a;\n      a = c.ka(b);\n      if (null !== a) return a;\n    }\n\n    return null;\n  }\n\n  function fi(a) {\n    if (null !== a.$b) {\n      for (var b = a.g, c = a.$b.i; c.next();) {\n        var d = c.key;\n        d.he() && (d.location = c.value.point);\n      }\n\n      for (c = a.$b.i; c.next();) {\n        if (d = c.key, d instanceof W && d.vi) {\n          var e = c.value.point;\n          a.$b.add(d, Wh(a, d));\n          d.Ej(-e.x, -e.y);\n        }\n      }\n\n      b.dg();\n    }\n  }\n\n  function Hi(a, b, c, d) {\n    d.assign(c);\n\n    if (null !== b && (b = a.g, null !== b)) {\n      var e = b.Gn,\n          f = a.qF;\n      b = f.width;\n      var f = f.height,\n          h = a.jI,\n          k = h.x,\n          h = h.y;\n      a = a.iI;\n\n      if (null !== e) {\n        var l = e.Ix;\n        isNaN(b) && (b = l.width);\n        isNaN(f) && (f = l.height);\n        e = e.pF;\n        isNaN(k) && (k = e.x);\n        isNaN(h) && (h = e.y);\n      }\n\n      e = w.wb(0, 0);\n      e.av(0, 0, b, f, a);\n      Na(c.x, c.y, k + e.x, h + e.y, b, f, d);\n      w.v(e);\n    }\n  }\n\n  nh.prototype.computeMove = function (a, b, c, d) {\n    void 0 === d && (d = new z());\n    d.assign(b);\n    if (null === a) return d;\n    void 0 === c && (c = null);\n    var e = b,\n        f = this.Sk;\n    f && (this.BF || null === c || null !== this.g && this.g.Q.up) && (e = w.K(), Hi(this, a, b, e));\n    c = null !== a.wx ? a.wx(a, b, e) : e;\n    var h = a.$I,\n        k = h.x;\n    isNaN(k) && (k = f ? Math.round(a.location.x) : a.location.x);\n    h = h.y;\n    isNaN(h) && (h = f ? Math.round(a.location.y) : a.location.y);\n    var l = a.UI,\n        m = l.x;\n    isNaN(m) && (m = f ? Math.round(a.location.x) : a.location.x);\n    l = l.y;\n    isNaN(l) && (l = f ? Math.round(a.location.y) : a.location.y);\n    d.m(Math.max(k, Math.min(c.x, m)), Math.max(h, Math.min(c.y, l)));\n    e !== b && w.v(e);\n    return d;\n  };\n\n  function Ji(a, b) {\n    if (null === b) return !0;\n    var c = b.W;\n    return null === c || c instanceof jh || c.layer.Hc || a.$b && a.$b.contains(c) || a.ec && a.ec.contains(c) ? !0 : !1;\n  }\n\n  function Ki(a, b) {\n    var c = a.g;\n\n    if (null !== c) {\n      a.uj && (null !== a.md && (a.md.V = null, a.md.Z = null), Li(a, !1));\n      var d = Mi(c, b, null, function (b) {\n        return !Ji(a, b);\n      }),\n          e = c.Q;\n      e.Be = d;\n      var f = c.gb,\n          h = !1;\n\n      try {\n        c.gb = !0;\n        h = di(a, e, d);\n        if (!a.ta && null === Sh) return;\n\n        if (null === d) {\n          var k = c.dJ;\n          null !== k && (k(e), h = !0);\n        }\n\n        if (!a.ta && null === Sh) return;\n        a.doDragOver(b, d);\n        if (!a.ta && null === Sh) return;\n      } finally {\n        c.gb = f, h && c.dg();\n      }\n\n      (c.re || c.se) && c.zA(e.Ce);\n    }\n  }\n\n  function di(a, b, c) {\n    var d = !1,\n        e = a.Uj.length,\n        f = 0 < e ? a.Uj[0] : null;\n    if (c === f) return !1;\n    b.vc = !1;\n\n    for (var h = 0; h < e; h++) {\n      var k = a.Uj[h],\n          l = k.cJ;\n      if (null !== l && (l(b, k, c), d = !0, b.vc)) break;\n    }\n\n    a.Uj.length = 0;\n    if (!a.ta && null === Sh || null === c) return d;\n\n    for (b.vc = !1; null !== c;) {\n      a.Uj.push(c), c = Ni(c);\n    }\n\n    e = a.Uj.length;\n\n    for (h = 0; h < e && (k = a.Uj[h], l = k.bJ, null === l || (l(b, k, f), d = !0, !b.vc)); h++) {\n      ;\n    }\n\n    return d;\n  }\n\n  function Ni(a) {\n    var b = a.R;\n    return null !== b ? b : a instanceof R && !(a instanceof V) && (a = a.Ca, null !== a && a.nI) ? a : null;\n  }\n\n  function Oi(a, b, c) {\n    var d = a.fj;\n    if (null === d) return null;\n    var e = a.g.An(b, d.YF, function (a) {\n      return d.findValidLinkablePort(a, c);\n    });\n    a = w.K();\n\n    for (var f = Infinity, h = null, e = e.i; e.next();) {\n      var k = e.value;\n\n      if (null !== k.W) {\n        var l = k.Ya(Jb, a),\n            l = b.Cf(l);\n        l < f && (h = k, f = l);\n      }\n    }\n\n    w.v(a);\n    return h;\n  }\n\n  function Li(a, b) {\n    var c = a.md;\n\n    if (null !== c && !(2 > c.qa)) {\n      var d = a.g;\n\n      if (null !== d && !d.ib) {\n        var e = a.fj;\n\n        if (null !== e) {\n          var f = null,\n              h = null;\n          null === c.V && (f = Oi(a, c.l(0), !1), null !== f && (h = f.W));\n          var k = null,\n              l = null;\n          null === c.Z && (k = Oi(a, c.l(c.qa - 1), !0), null !== k && (l = k.W));\n          e.isValidLink(h, f, l, k) ? b ? (c.Sp = c.l(0), c.Tp = c.l(c.qa - 1), c.vi = !1, c.V = h, null !== f && (c.Ng = f.le), c.Z = l, null !== k && (c.Jh = k.le), c.gc !== a.uw && d.Aa(\"LinkRelinked\", c, a.uw), c.zc !== a.vw && d.Aa(\"LinkRelinked\", c, a.vw)) : Pi(e, h, f, l, k) : Pi(e, null, null, null, null);\n        }\n      }\n    }\n  }\n\n  nh.prototype.doDragOver = function () {};\n\n  function Qi(a, b) {\n    var c = a.g;\n\n    if (null !== c) {\n      a.uj && Li(a, !0);\n      Zh(a);\n      var d = Mi(c, b, null, function (b) {\n        return !Ji(a, b);\n      }),\n          e = c.Q;\n      e.Be = d;\n\n      if (null !== d) {\n        e.vc = !1;\n\n        for (var f = d; null !== f;) {\n          var h = f.fB;\n          if (null !== h && (h(e, f), e.vc)) break;\n          f = Ni(f);\n        }\n      } else f = c.fB, null !== f && f(e);\n\n      if (a.ta || null !== Sh) {\n        for (e = (a.ec || a.$b).i; e.next();) {\n          f = e.key, f instanceof T && f.je.each(function (a) {\n            a.vi = !1;\n          });\n        }\n\n        a.doDropOnto(b, d);\n\n        if (a.ta || null !== Sh) {\n          d = w.vf();\n\n          for (e = c.selection.i; e.next();) {\n            f = e.value, f instanceof T && Ri(c, f.getAvoidableRect(d));\n          }\n\n          w.Bb(d);\n        }\n      }\n    }\n  }\n\n  function Ri(a, b) {\n    var c = !1;\n    a.sb.Fk(b) && (c = !0);\n    c = a.CA(b, function (a) {\n      return a.W;\n    }, function (a) {\n      return a instanceof W;\n    }, !0, function (a) {\n      return a instanceof W;\n    }, c);\n    if (0 !== c.count) for (c = c.i; c.next();) {\n      var d = c.value;\n      d.fm && d.Tb();\n    }\n  }\n\n  nh.prototype.doDropOnto = function () {};\n\n  nh.prototype.doMouseMove = function () {\n    if (this.ta) {\n      var a = this.g;\n      null !== a && null !== this.yn && null !== this.$b && (this.mayCopy() ? (a.kc = \"copy\", ri(this, !1), Rh(this, this.ec), Ei(this, this.ec, !1), $h(this, this.ec)) : this.mayMove() ? (ci(this), Ei(this, this.$b, !0)) : this.mayDragOut() ? (a.kc = \"no-drop\", ri(this, !1), Ei(this, this.ec, !1)) : ci(this), Ki(this, a.Q.ea));\n    }\n  };\n\n  nh.prototype.doMouseUp = function () {\n    if (this.ta) {\n      var a = this.g;\n\n      if (null !== a) {\n        var b = !1,\n            c = this.mayCopy();\n        c && null !== this.ec ? (ci(this), ri(this, !0), Rh(this, this.ec), Ei(this, this.ec, !1), $h(this, this.ec), null !== this.ec && a.oG(this.ec.Mj())) : (b = !0, ci(this), this.mayMove() && (Ei(this, this.$b, !0), Ki(this, a.Q.ea)));\n        this.Dr = !0;\n        Qi(this, a.Q.ea);\n\n        if (this.ta) {\n          this.ec = null;\n          if (b && null !== this.$b) for (b = this.$b.i; b.next();) {\n            var d = b.key;\n            d instanceof T && (d = d.Ca, null === d || null === d.placeholder || this.$b.contains(d) || d.placeholder.H());\n          }\n          a.Gc();\n          $h(this, this.$b);\n          this.Lf = c ? \"Copy\" : \"Move\";\n          a.Aa(c ? \"SelectionCopied\" : \"SelectionMoved\", a.selection);\n        }\n\n        this.stopTool();\n      }\n    }\n  };\n\n  nh.prototype.mayCopy = function () {\n    if (!this.zF) return !1;\n    var a = this.g;\n    if (null === a || a.ib || a.Ef || !a.Ip || !a.Ck || (w.zh ? !a.Q.alt : !a.Q.control)) return !1;\n\n    for (a = a.selection.i; a.next();) {\n      var b = a.value;\n      if (b.he() && b.canCopy()) return !0;\n    }\n\n    return null !== this.md && this.uj && this.md.canCopy() ? !0 : !1;\n  };\n\n  nh.prototype.mayDragOut = function () {\n    if (!this.zF) return !1;\n    var a = this.g;\n    if (null === a || !a.Rt || !a.Ck || a.Rl) return !1;\n\n    for (a = a.selection.i; a.next();) {\n      var b = a.value;\n      if (b.he() && b.canCopy()) return !0;\n    }\n\n    return null !== this.md && this.uj && this.md.canCopy() ? !0 : !1;\n  };\n\n  nh.prototype.mayMove = function () {\n    var a = this.g;\n    if (null === a || a.ib || !a.Rl) return !1;\n\n    for (a = a.selection.i; a.next();) {\n      var b = a.value;\n      if (b.he() && b.canMove()) return !0;\n    }\n\n    return null !== this.md && this.uj && this.md.canMove() ? !0 : !1;\n  };\n\n  var ai = new H(nh),\n      Sh = null,\n      Th = null;\n\n  nh.prototype.getDraggingSource = function () {\n    return Sh;\n  };\n\n  nh.prototype.mayDragIn = function () {\n    var a = this.g;\n    if (null === a || !a.yE || a.ib || a.Ef || !a.Ip) return !1;\n    var b = Sh;\n    return null === b || null === b.g || b.g.$.Yl !== a.$.Yl ? !1 : !0;\n  };\n\n  nh.prototype.doSimulatedDragEnter = function () {\n    if (this.mayDragIn()) {\n      var a = this.g;\n      a.Ka.Ih();\n      Si(a);\n      a.Ka.Ih();\n      a = Sh;\n      null !== a && null !== a.g && (a.g.kc = \"copy\", a.g.eo = !0);\n    }\n  };\n\n  nh.prototype.doSimulatedDragLeave = function () {\n    var a = Sh;\n    null !== a && a.doSimulatedDragOut();\n    this.doCancel();\n  };\n\n  nh.prototype.doSimulatedDragOver = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = Sh;\n      null !== b && null !== b.$b && this.mayDragIn() && (a.kc = \"copy\", Ti(this, b.$b.Mj(), !1), Ei(this, this.ec, !1), Ki(this, a.Q.ea));\n    }\n  };\n\n  nh.prototype.doSimulatedDrop = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = Sh;\n\n      if (null !== b) {\n        var c = b.g;\n        b.Dr = !0;\n        ci(this);\n        this.mayDragIn() && (this.Kb(\"Drop\"), Ti(this, b.$b.Mj(), !0), Ei(this, this.ec, !1), null !== this.ec && a.oG(this.ec.Mj()), Qi(this, a.Q.ea), a.Gc(), b = a.selection, null !== this.ec ? this.Lf = \"ExternalCopy\" : b = new I(R), this.ec = null, a.doFocus(), a.Aa(\"ExternalObjectsDropped\", b, c), this.Wk());\n      }\n    }\n  };\n\n  function Ti(a, b, c) {\n    if (null === a.ec) {\n      var d = a.g;\n\n      if (null !== d && !d.ib && !d.Ef) {\n        d.gb = !c;\n        d.Rq = !c;\n        a.Vk = d.uc.ea;\n        c = d.Rp(b, d, !0);\n        var e = w.vf();\n        hi(b, e);\n        var d = e.x + e.width / 2,\n            f = e.y + e.height / 2;\n        w.Bb(e);\n        var e = a.Ow,\n            h = new ma(R),\n            k = w.K();\n\n        for (b = b.i; b.next();) {\n          var l = b.value,\n              m = c.ka(l);\n          l.he() && l.canCopy() ? (l = l.location, k.m(e.x - (d - l.x), e.y - (f - l.y)), m.location = k, m.Ne(), h.add(m, Wh(a, m, k))) : l instanceof W && l.canCopy() && (m.Ej(e.x - d, e.y - f), h.add(m, Wh(a, m)));\n        }\n\n        w.v(k);\n        a.ec = h;\n        Qh(a, h.Mj());\n        null !== a.md && (c = a.md, d = c.$n, c.Ej(a.Vk.x - (d.x + d.width / 2), a.Vk.y - (d.y + d.height / 2)));\n      }\n    }\n  }\n\n  nh.prototype.doSimulatedDragOut = function () {\n    var a = this.g;\n    null !== a && (this.mayCopy() || this.mayMove() ? a.kc = \"\" : a.kc = \"no-drop\", a.eo = !1);\n  };\n\n  function Xh(a) {\n    this.point = a;\n    this.tG = cd;\n  }\n\n  w.ga(\"DraggingInfo\", Xh);\n\n  function Fi(a, b, c) {\n    this.Rc = a;\n    this.info = b;\n    this.kI = c;\n  }\n\n  function Ui() {\n    0 < arguments.length && w.od(Ui);\n    qg.call(this);\n    this.MD = 100;\n    this.pD = !1;\n    var a = new W(),\n        b = new Y();\n    b.ff = !0;\n    b.stroke = \"blue\";\n    a.add(b);\n    b = new Y();\n    b.Kq = \"Standard\";\n    b.fill = \"blue\";\n    b.stroke = \"blue\";\n    a.add(b);\n    a.bg = \"Tool\";\n    this.fE = a;\n    a = new T();\n    b = new Y();\n    b.le = \"\";\n    b.Hb = \"Rectangle\";\n    b.fill = null;\n    b.stroke = \"magenta\";\n    b.mb = 2;\n    b.Da = rd;\n    a.add(b);\n    a.nm = !1;\n    a.bg = \"Tool\";\n    this.dE = a;\n    this.eE = b;\n    a = new T();\n    b = new Y();\n    b.le = \"\";\n    b.Hb = \"Rectangle\";\n    b.fill = null;\n    b.stroke = \"magenta\";\n    b.mb = 2;\n    b.Da = rd;\n    a.add(b);\n    a.nm = !1;\n    a.bg = \"Tool\";\n    this.gE = a;\n    this.hE = b;\n    this.LD = this.KD = this.FD = this.ED = this.GD = null;\n    this.lD = !0;\n    this.gH = new ma(G, \"boolean\");\n    this.ND = this.Bl = this.aE = null;\n  }\n\n  w.La(Ui, qg);\n  w.ga(\"LinkingBaseTool\", Ui);\n\n  Ui.prototype.doStop = function () {\n    var a = this.g;\n    null !== a && Yh(a);\n    this.Tg = this.Sg = this.Rg = this.Qg = this.mc = null;\n    this.Fy.clear();\n    this.Kf = null;\n  };\n\n  w.defineProperty(Ui, {\n    YF: \"portGravity\"\n  }, function () {\n    return this.MD;\n  }, function (a) {\n    w.j(a, \"number\", Ui, \"portGravity\");\n    0 <= a && (this.MD = a);\n  });\n  w.defineProperty(Ui, {\n    iq: \"isUnconnectedLinkValid\"\n  }, function () {\n    return this.pD;\n  }, function (a) {\n    w.j(a, \"boolean\", Ui, \"isUnconnectedLinkValid\");\n    this.pD = a;\n  });\n  w.defineProperty(Ui, {\n    wf: \"temporaryLink\"\n  }, function () {\n    return this.fE;\n  }, function (a) {\n    w.G(a, W, Ui, \"temporaryLink\");\n    this.fE = a;\n  });\n  w.defineProperty(Ui, {\n    Xd: \"temporaryFromNode\"\n  }, function () {\n    return this.dE;\n  }, function (a) {\n    w.G(a, T, Ui, \"temporaryFromNode\");\n    this.dE = a;\n  });\n  w.defineProperty(Ui, {\n    fo: \"temporaryFromPort\"\n  }, function () {\n    return this.eE;\n  }, function (a) {\n    w.G(a, G, Ui, \"temporaryFromPort\");\n    this.eE = a;\n  });\n  w.defineProperty(Ui, {\n    Yd: \"temporaryToNode\"\n  }, function () {\n    return this.gE;\n  }, function (a) {\n    w.G(a, T, Ui, \"temporaryToNode\");\n    this.gE = a;\n  });\n  w.defineProperty(Ui, {\n    ho: \"temporaryToPort\"\n  }, function () {\n    return this.hE;\n  }, function (a) {\n    w.G(a, G, Ui, \"temporaryToPort\");\n    this.hE = a;\n  });\n  w.defineProperty(Ui, {\n    mc: \"originalLink\"\n  }, function () {\n    return this.GD;\n  }, function (a) {\n    null !== a && w.G(a, W, Ui, \"originalLink\");\n    this.GD = a;\n  });\n  w.defineProperty(Ui, {\n    Qg: \"originalFromNode\"\n  }, function () {\n    return this.ED;\n  }, function (a) {\n    null !== a && w.G(a, T, Ui, \"originalFromNode\");\n    this.ED = a;\n  });\n  w.defineProperty(Ui, {\n    Rg: \"originalFromPort\"\n  }, function () {\n    return this.FD;\n  }, function (a) {\n    null !== a && w.G(a, G, Ui, \"originalFromPort\");\n    this.FD = a;\n  });\n  w.defineProperty(Ui, {\n    Sg: \"originalToNode\"\n  }, function () {\n    return this.KD;\n  }, function (a) {\n    null !== a && w.G(a, T, Ui, \"originalToNode\");\n    this.KD = a;\n  });\n  w.defineProperty(Ui, {\n    Tg: \"originalToPort\"\n  }, function () {\n    return this.LD;\n  }, function (a) {\n    null !== a && w.G(a, G, Ui, \"originalToPort\");\n    this.LD = a;\n  });\n  w.defineProperty(Ui, {\n    Ud: \"isForwards\"\n  }, function () {\n    return this.lD;\n  }, function (a) {\n    w.j(a, \"boolean\", Ui, \"isForwards\");\n    this.lD = a;\n  });\n  w.u(Ui, {\n    Fy: \"validPortsCache\"\n  }, function () {\n    return this.gH;\n  });\n  w.defineProperty(Ui, {\n    Kf: \"targetPort\"\n  }, function () {\n    return this.aE;\n  }, function (a) {\n    null !== a && w.G(a, G, Ui, \"targetPort\");\n    this.aE = a;\n  });\n\n  Ui.prototype.copyPortProperties = function (a, b, c, d, e) {\n    if (null !== a && null !== b && null !== c && null !== d) {\n      d.Da = b.U.size;\n      e ? (d.Db = b.Db, d.um = b.um) : (d.Cb = b.Cb, d.am = b.am);\n      c.Gf = Jb;\n      var f = w.K();\n      c.location = b.Ya(Jb, f);\n      w.v(f);\n      d.angle = b.bm();\n      null !== this.jy && this.jy(a, b, c, d, e);\n    }\n  };\n\n  Ui.prototype.setNoTargetPortProperties = function (a, b, c) {\n    null !== b && (b.Da = rd, b.Cb = yb, b.Db = yb);\n    null !== a && null !== this.g && (a.location = this.g.Q.ea);\n    null !== this.jy && this.jy(null, null, a, b, c);\n  };\n\n  Ui.prototype.doMouseDown = function () {\n    this.ta && this.doMouseMove();\n  };\n\n  Ui.prototype.doMouseMove = function () {\n    if (this.ta) {\n      var a = this.g;\n\n      if (null !== a) {\n        this.Kf = this.findTargetPort(this.Ud);\n\n        if (null !== this.Kf && this.Kf.W instanceof T) {\n          var b = this.Kf.W;\n          this.Ud ? this.copyPortProperties(b, this.Kf, this.Yd, this.ho, !0) : this.copyPortProperties(b, this.Kf, this.Xd, this.fo, !1);\n        } else this.Ud ? this.setNoTargetPortProperties(this.Yd, this.ho, !0) : this.setNoTargetPortProperties(this.Xd, this.fo, !1);\n\n        (a.re || a.se) && a.zA(a.Q.Ce);\n      }\n    }\n  };\n\n  Ui.prototype.findValidLinkablePort = function (a, b) {\n    if (null === a) return null;\n    var c = a.W;\n    if (!(c instanceof T)) return null;\n\n    for (; null !== a;) {\n      var d = b ? a.CG : a.fF;\n      if (!0 === d && (null !== a.le || a instanceof T) && (b ? this.isValidTo(c, a) : this.isValidFrom(c, a))) return a;\n      if (!1 === d) break;\n      a = a.R;\n    }\n\n    return null;\n  };\n\n  Ui.prototype.findTargetPort = function (a) {\n    var b = this.g,\n        c = b.Q.ea,\n        d = this.YF;\n    0 >= d && (d = .1);\n\n    for (var e = this, f = b.An(c, d, function (b) {\n      return e.findValidLinkablePort(b, a);\n    }, null, !0), d = Infinity, b = null, f = f.i; f.next();) {\n      var h = f.value,\n          k = h.W;\n\n      if (k instanceof T) {\n        var l = h.Ya(Jb, w.K()),\n            m = c.x - l.x,\n            n = c.y - l.y;\n        w.v(l);\n        l = m * m + n * n;\n        l < d && (m = this.Fy.ka(h), null !== m ? m && (b = h, d = l) : a && this.isValidLink(this.Qg, this.Rg, k, h) || !a && this.isValidLink(k, h, this.Sg, this.Tg) ? (this.Fy.add(h, !0), b = h, d = l) : this.Fy.add(h, !1));\n      }\n    }\n\n    return null !== b && (c = b.W, c instanceof T && (null === c.layer || c.layer.St)) ? b : null;\n  };\n\n  Ui.prototype.isValidFrom = function (a, b) {\n    if (null === a || null === b) return this.iq;\n    if (null !== this.g && this.g.Xa === this && (null !== a.layer && !a.layer.St || !0 !== b.fF)) return !1;\n    var c = b.FA;\n\n    if (Infinity > c) {\n      if (null !== this.mc && a === this.Qg && b === this.Rg) return !0;\n      var d = b.le;\n      null === d && (d = \"\");\n      if (a.Dx(d).count >= c) return !1;\n    }\n\n    return !0;\n  };\n\n  Ui.prototype.isValidTo = function (a, b) {\n    if (null === a || null === b) return this.iq;\n    if (null !== this.g && this.g.Xa === this && (null !== a.layer && !a.layer.St || !0 !== b.CG)) return !1;\n    var c = b.VJ;\n\n    if (Infinity > c) {\n      if (null !== this.mc && a === this.Sg && b === this.Tg) return !0;\n      var d = b.le;\n      null === d && (d = \"\");\n      if (a.Mg(d).count >= c) return !1;\n    }\n\n    return !0;\n  };\n\n  Ui.prototype.isInSameNode = function (a, b) {\n    if (null === a || null === b) return !1;\n    if (a === b) return !0;\n    var c = a.W,\n        d = b.W;\n    return null !== c && c === d;\n  };\n\n  Ui.prototype.isLinked = function (a, b) {\n    if (null === a || null === b) return !1;\n    var c = a.W;\n    if (!(c instanceof T)) return !1;\n    var d = a.le;\n    null === d && (d = \"\");\n    var e = b.W;\n    if (!(e instanceof T)) return !1;\n    var f = b.le;\n    null === f && (f = \"\");\n\n    for (e = e.Mg(f); e.next();) {\n      if (f = e.value, f.V === c && f.Ng === d) return !0;\n    }\n\n    return !1;\n  };\n\n  Ui.prototype.isValidLink = function (a, b, c, d) {\n    if (!this.isValidFrom(a, b) || !this.isValidTo(c, d) || !(null === b || null === d || (b.aI && d.UJ || !this.isInSameNode(b, d)) && (b.$H && d.TJ || !this.isLinked(b, d))) || null !== this.mc && (null !== a && this.isLabelDependentOnLink(a, this.mc) || null !== c && this.isLabelDependentOnLink(c, this.mc)) || null !== a && null !== c && (null === a.data && null !== c.data || null !== a.data && null === c.data) || !this.isValidCycle(a, c, this.mc)) return !1;\n\n    if (null !== a) {\n      var e = a.Wx;\n      if (null !== e && !e(a, b, c, d, this.mc)) return !1;\n    }\n\n    if (null !== c && (e = c.Wx, null !== e && !e(a, b, c, d, this.mc))) return !1;\n    e = this.Wx;\n    return null !== e ? e(a, b, c, d, this.mc) : !0;\n  };\n\n  Ui.prototype.isLabelDependentOnLink = function (a, b) {\n    if (null === a) return !1;\n    var c = a.Xb;\n    if (null === c) return !1;\n    if (c === b) return !0;\n    var d = new I(T);\n    d.add(a);\n    return Vi(this, c, b, d);\n  };\n\n  function Vi(a, b, c, d) {\n    if (b === c) return !0;\n    var e = b.V;\n    if (null !== e && e.Df && (d.add(e), Vi(a, e.Xb, c, d))) return !0;\n    b = b.Z;\n    return null !== b && b.Df && (d.add(b), Vi(a, b.Xb, c, d)) ? !0 : !1;\n  }\n\n  Ui.prototype.isValidCycle = function (a, b, c) {\n    void 0 === c && (c = null);\n    if (null === a || null === b) return this.iq;\n    var d = null !== this.g ? this.g.aK : Wi;\n\n    if (d !== Wi) {\n      if (d === Xi) {\n        d = c || this.wf;\n        if (null !== d && !d.bc) return !0;\n\n        for (d = b.je; d.next();) {\n          var e = d.value;\n          if (e !== c && e.bc && e.Z === b) return !1;\n        }\n\n        return !Yi(this, a, b, c, !0);\n      }\n\n      if (d === Zi) {\n        d = c || this.wf;\n        if (null !== d && !d.bc) return !0;\n\n        for (d = a.je; d.next();) {\n          if (e = d.value, e !== c && e.bc && e.V === a) return !1;\n        }\n\n        return !Yi(this, a, b, c, !0);\n      }\n\n      if (d === $i) return a === b ? a = !0 : (d = new I(T), d.add(b), a = aj(this, d, a, b, c)), !a;\n      if (d === bj) return !Yi(this, a, b, c, !1);\n      if (d === cj) return a === b ? a = !0 : (d = new I(T), d.add(b), a = dj(this, d, a, b, c)), !a;\n    }\n\n    return !0;\n  };\n\n  function Yi(a, b, c, d, e) {\n    if (b === c) return !0;\n    if (null === b || null === c) return !1;\n\n    for (var f = b.je; f.next();) {\n      var h = f.value;\n      if (h !== d && (!e || h.bc) && h.Z === b && (h = h.V, h !== b && Yi(a, h, c, d, e))) return !0;\n    }\n\n    return !1;\n  }\n\n  function aj(a, b, c, d, e) {\n    if (c === d) return !0;\n    if (null === c || null === d || b.contains(c)) return !1;\n    b.add(c);\n\n    for (var f = c.je; f.next();) {\n      var h = f.value;\n      if (h !== e && h.Z === c && (h = h.V, h !== c && aj(a, b, h, d, e))) return !0;\n    }\n\n    return !1;\n  }\n\n  function dj(a, b, c, d, e) {\n    if (c === d) return !0;\n    if (null === c || null === d || b.contains(c)) return !1;\n    b.add(c);\n\n    for (var f = c.je; f.next();) {\n      var h = f.value;\n\n      if (h !== e) {\n        var k = h.V,\n            h = h.Z,\n            k = k === c ? h : k;\n        if (k !== c && dj(a, b, k, d, e)) return !0;\n      }\n    }\n\n    return !1;\n  }\n\n  w.defineProperty(Ui, {\n    Wx: \"linkValidation\"\n  }, function () {\n    return this.Bl;\n  }, function (a) {\n    null !== a && w.j(a, \"function\", Ui, \"linkValidation\");\n    this.Bl = a;\n  });\n  w.defineProperty(Ui, {\n    jy: \"portTargeted\"\n  }, function () {\n    return this.ND;\n  }, function (a) {\n    null !== a && w.j(a, \"function\", Ui, \"portTargeted\");\n    this.ND = a;\n  });\n\n  function ej() {\n    0 < arguments.length && w.od(ej);\n    Ui.call(this);\n    this.name = \"Linking\";\n    this.mC = {};\n    this.lC = null;\n    this.ba = fj;\n    this.WD = null;\n  }\n\n  w.La(ej, Ui);\n  w.ga(\"LinkingTool\", ej);\n  var fj;\n  ej.Either = fj = w.p(ej, \"Either\", 0);\n  var gj;\n  ej.ForwardsOnly = gj = w.p(ej, \"ForwardsOnly\", 0);\n  var hj;\n  ej.BackwardsOnly = hj = w.p(ej, \"BackwardsOnly\", 0);\n  w.defineProperty(ej, {\n    CE: \"archetypeLinkData\"\n  }, function () {\n    return this.mC;\n  }, function (a) {\n    null !== a && w.G(a, Object, ej, \"archetypeLinkData\");\n    a instanceof G && w.G(a, W, ej, \"archetypeLinkData\");\n    this.mC = a;\n  });\n  w.defineProperty(ej, {\n    BE: \"archetypeLabelNodeData\"\n  }, function () {\n    return this.lC;\n  }, function (a) {\n    null !== a && w.G(a, Object, ej, \"archetypeLabelNodeData\");\n    a instanceof G && w.G(a, T, ej, \"archetypeLabelNodeData\");\n    this.lC = a;\n  });\n  w.defineProperty(ej, {\n    direction: \"direction\"\n  }, function () {\n    return this.ba;\n  }, function (a) {\n    w.ob(a, ej, ej, \"direction\");\n    this.ba = a;\n  });\n  w.defineProperty(ej, {\n    wG: \"startObject\"\n  }, function () {\n    return this.WD;\n  }, function (a) {\n    null !== a && w.G(a, G, ej, \"startObject\");\n    this.WD = a;\n  });\n\n  ej.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    if (null === a || a.ib || a.Ef || !a.St) return !1;\n    var b = a.$;\n    return (b instanceof Q || b instanceof Zf) && a.Q.left && (a.Xa === this || this.isBeyondDragSize()) ? null !== this.findLinkablePort() : !1;\n  };\n\n  ej.prototype.findLinkablePort = function () {\n    var a = this.g;\n    if (null === a) return null;\n    var b = this.wG;\n    null === b && (b = a.Pe(a.uc.ea, null, null));\n    if (null === b || !(b.W instanceof T)) return null;\n    a = this.direction;\n\n    if (a === fj || a === gj) {\n      var c = this.findValidLinkablePort(b, !1);\n      if (null !== c) return this.Ud = !0, c;\n    }\n\n    if (a === fj || a === hj) if (c = this.findValidLinkablePort(b, !0), null !== c) return this.Ud = !1, c;\n    return null;\n  };\n\n  ej.prototype.doActivate = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = this.findLinkablePort();\n      null !== b && (this.Kb(this.name), a.ef = !0, a.kc = \"pointer\", this.Ud ? (null === this.Yd || this.Yd.location.I() || (this.Yd.location = a.Q.ea), this.Rg = b, b = this.Rg.W, b instanceof T && (this.Qg = b), this.copyPortProperties(this.Qg, this.Rg, this.Xd, this.fo, !1)) : (null === this.Xd || this.Xd.location.I() || (this.Xd.location = a.Q.ea), this.Tg = b, b = this.Tg.W, b instanceof T && (this.Sg = b), this.copyPortProperties(this.Sg, this.Tg, this.Yd, this.ho, !0)), a.add(this.Xd), a.add(this.Yd), null !== this.wf && (null !== this.Xd && (this.wf.V = this.Xd), null !== this.Yd && (this.wf.Z = this.Yd), this.wf.bc = this.isNewTreeLink(), this.wf.Tb(), a.add(this.wf)), this.ta = !0);\n    }\n  };\n\n  ej.prototype.doDeactivate = function () {\n    this.ta = !1;\n    var a = this.g;\n    null !== a && (a.remove(this.wf), a.remove(this.Xd), a.remove(this.Yd), a.ef = !1, a.kc = \"\", this.Wk());\n  };\n\n  ej.prototype.doStop = function () {\n    Ui.prototype.doStop.call(this);\n    this.wG = null;\n  };\n\n  ej.prototype.doMouseUp = function () {\n    if (this.ta) {\n      var a = this.g;\n      if (null === a) return;\n      var b = this.Lf = null,\n          c = null,\n          d = null,\n          e = null,\n          f = this.Kf = this.findTargetPort(this.Ud);\n\n      if (null !== f) {\n        var h = f.W;\n        h instanceof T && (this.Ud ? (null !== this.Qg && (b = this.Qg, c = this.Rg), d = h, e = f) : (b = h, c = f, null !== this.Sg && (d = this.Sg, e = this.Tg)));\n      } else this.Ud ? null !== this.Qg && this.iq && (b = this.Qg, c = this.Rg) : null !== this.Sg && this.iq && (d = this.Sg, e = this.Tg);\n\n      null !== b || null !== d ? (h = this.insertLink(b, c, d, e), null !== h ? (null === f && (this.Ud ? h.Tp = a.Q.ea : h.Sp = a.Q.ea), a.Bf && a.select(h), this.Lf = this.name, a.Aa(\"LinkDrawn\", h)) : (a.$.HE(), this.doNoLink(b, c, d, e))) : this.Ud ? this.doNoLink(this.Qg, this.Rg, null, null) : this.doNoLink(null, null, this.Sg, this.Tg);\n    }\n\n    this.stopTool();\n  };\n\n  ej.prototype.isNewTreeLink = function () {\n    var a = this.CE;\n    if (null === a) return !0;\n    if (a instanceof W) return a.bc;\n    var b = this.g;\n    if (null === b) return !0;\n    a = b.$p(a);\n    b = ij(b, a);\n    return null !== b ? b.bc : !0;\n  };\n\n  ej.prototype.insertLink = function (a, b, c, d) {\n    var e = this.g;\n    if (null === e) return null;\n    var f = e.$;\n\n    if (f instanceof Zf) {\n      var h = a;\n      b = c;\n      e.Wd || (h = c, b = a);\n      if (null !== h && null !== b) return f.ti(b.data, f.qb(h.data)), b.Bn();\n    } else if (f instanceof Q) if (h = \"\", null !== a && (null === b && (b = a), h = b.le, null === h && (h = \"\")), b = \"\", null !== c && (null === d && (d = c), b = d.le, null === b && (b = \"\")), d = this.CE, d instanceof W) {\n      if (lh(d), f = d.copy(), null !== f) return f.V = a, f.Ng = h, f.Z = c, f.Jh = b, e.add(f), a = this.BE, a instanceof T && (lh(a), a = a.copy(), null !== a && (a.Xb = f, e.add(a))), f;\n    } else if (null !== d && (d = f.nx(d), w.Pa(d))) return null !== a && f.AB(d, f.qb(a.data)), f.BB(d, h), null !== c && f.GB(d, f.qb(c.data)), f.HB(d, b), f.Ot(d), a = this.BE, null === a || a instanceof T || (a = f.copyNodeData(a), w.Pa(a) && (f.Pl(a), a = f.qb(a), void 0 !== a && f.wE(d, a))), f = e.Yf(d);\n\n    return null;\n  };\n\n  ej.prototype.doNoLink = function () {};\n\n  function Uh() {\n    0 < arguments.length && w.od(Uh);\n    Ui.call(this);\n    this.name = \"Relinking\";\n    var a = new Y();\n    a.Hb = \"Diamond\";\n    a.Da = Bd;\n    a.fill = \"lightblue\";\n    a.stroke = \"dodgerblue\";\n    a.cursor = \"pointer\";\n    a.Qe = 0;\n    this.ZC = a;\n    a = new Y();\n    a.Hb = \"Diamond\";\n    a.Da = Bd;\n    a.fill = \"lightblue\";\n    a.stroke = \"dodgerblue\";\n    a.cursor = \"pointer\";\n    a.Qe = -1;\n    this.iE = a;\n    this.qc = null;\n    this.HD = new B();\n  }\n\n  w.La(Uh, Ui);\n  w.ga(\"RelinkingTool\", Uh);\n\n  Uh.prototype.updateAdornments = function (a) {\n    if (null !== a && a instanceof W) {\n      var b = \"RelinkFrom\",\n          c = null;\n\n      if (a.jb && null !== this.g && !this.g.ib) {\n        var d = a.Dq;\n        null !== d && a.canRelinkFrom() && a.U.I() && a.isVisible() && d.U.I() && d.Cj() && (c = a.Wp(b), null === c && (c = this.makeAdornment(d, !1), a.Ol(b, c)));\n      }\n\n      null === c && a.Ij(b);\n      b = \"RelinkTo\";\n      c = null;\n      a.jb && null !== this.g && !this.g.ib && (d = a.Dq, null !== d && a.canRelinkTo() && a.U.I() && a.isVisible() && d.U.I() && d.Cj() && (c = a.Wp(b), null === c && (c = this.makeAdornment(d, !0), a.Ol(b, c))));\n      null === c && a.Ij(b);\n    }\n  };\n\n  Uh.prototype.makeAdornment = function (a, b) {\n    var c = new jh();\n    c.type = jj;\n    var d = b ? this.SJ : this.ZH;\n    null !== d && c.add(d.copy());\n    c.ub = a;\n    return c;\n  };\n\n  w.defineProperty(Uh, {\n    ZH: \"fromHandleArchetype\"\n  }, function () {\n    return this.ZC;\n  }, function (a) {\n    null !== a && w.G(a, G, Uh, \"fromHandleArchetype\");\n    this.ZC = a;\n  });\n  w.defineProperty(Uh, {\n    SJ: \"toHandleArchetype\"\n  }, function () {\n    return this.iE;\n  }, function (a) {\n    null !== a && w.G(a, G, Uh, \"toHandleArchetype\");\n    this.iE = a;\n  });\n  w.u(Uh, {\n    handle: \"handle\"\n  }, function () {\n    return this.qc;\n  });\n\n  Uh.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    if (null === a || a.ib || a.Ef || !a.on) return !1;\n    var b = a.$;\n    if (!(b instanceof Q || b instanceof Zf) || !a.Q.left) return !1;\n    b = this.findToolHandleAt(a.uc.ea, \"RelinkFrom\");\n    null === b && (b = this.findToolHandleAt(a.uc.ea, \"RelinkTo\"));\n    return null !== b;\n  };\n\n  Uh.prototype.doActivate = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      if (null === this.mc) {\n        var b = this.findToolHandleAt(a.uc.ea, \"RelinkFrom\");\n        null === b && (b = this.findToolHandleAt(a.uc.ea, \"RelinkTo\"));\n        if (null === b) return;\n        var c = b.W;\n        if (!(c instanceof jh && c.Ze instanceof W)) return;\n        this.qc = b;\n        this.Ud = null === c || \"RelinkTo\" === c.ld;\n        this.mc = c.Ze;\n      }\n\n      this.Kb(this.name);\n      a.ef = !0;\n      a.kc = \"pointer\";\n      this.Rg = this.mc.gc;\n      this.Qg = this.mc.V;\n      this.Tg = this.mc.zc;\n      this.Sg = this.mc.Z;\n      this.HD.set(this.mc.U);\n      null !== this.mc && 0 < this.mc.qa && (null === this.mc.V && (null !== this.fo && (this.fo.Da = qd), null !== this.Xd && (this.Xd.location = this.mc.l(0))), null === this.mc.Z && (null !== this.ho && (this.ho.Da = qd), null !== this.Yd && (this.Yd.location = this.mc.l(this.mc.qa - 1))));\n      this.copyPortProperties(this.Qg, this.Rg, this.Xd, this.fo, !1);\n      this.copyPortProperties(this.Sg, this.Tg, this.Yd, this.ho, !0);\n      a.add(this.Xd);\n      a.add(this.Yd);\n      null !== this.wf && (null !== this.Xd && (this.wf.V = this.Xd), null !== this.Yd && (this.wf.Z = this.Yd), this.copyLinkProperties(this.mc, this.wf), this.wf.Tb(), a.add(this.wf));\n      this.ta = !0;\n    }\n  };\n\n  Uh.prototype.copyLinkProperties = function (a, b) {\n    if (null !== a && null !== b) {\n      b.Hp = a.Hp;\n      b.wA = a.wA;\n      var c = a.nf;\n      if (c === kj || c === lj) c = mj;\n      b.nf = c;\n      b.qx = a.qx;\n      b.bc = a.bc;\n      b.points = a.points;\n      b.sy = a.sy;\n      b.Hq = a.Hq;\n      b.Cb = a.Cb;\n      b.am = a.am;\n      b.lu = a.lu;\n      b.mu = a.mu;\n      b.Db = a.Db;\n      b.um = a.um;\n      b.dv = a.dv;\n      b.ev = a.ev;\n    }\n  };\n\n  Uh.prototype.doDeactivate = function () {\n    this.ta = !1;\n    var a = this.g;\n    null !== a && (a.remove(this.wf), a.remove(this.Xd), a.remove(this.Yd), a.ef = !1, a.kc = \"\", this.Wk());\n  };\n\n  Uh.prototype.doStop = function () {\n    Ui.prototype.doStop.call(this);\n    this.qc = null;\n  };\n\n  Uh.prototype.doMouseUp = function () {\n    if (this.ta) {\n      var a = this.g;\n      if (null === a) return;\n      this.Lf = null;\n      var b = this.Qg,\n          c = this.Rg,\n          d = this.Sg,\n          e = this.Tg,\n          f = this.mc;\n      this.Kf = this.findTargetPort(this.Ud);\n\n      if (null !== this.Kf) {\n        var h = this.Kf.W;\n        h instanceof T && (this.Ud ? (d = h, e = this.Kf) : (b = h, c = this.Kf));\n      } else this.iq ? this.Ud ? e = d = null : c = b = null : f = null;\n\n      null !== f ? (this.reconnectLink(f, this.Ud ? d : b, this.Ud ? e : c, this.Ud), null === this.Kf && (this.Ud ? f.Tp = a.Q.ea : f.Sp = a.Q.ea, f.Tb()), a.Bf && (f.jb = !0), this.Lf = this.name, a.Aa(\"LinkRelinked\", f, this.Ud ? this.Tg : this.Rg)) : this.doNoRelink(this.mc, this.Ud);\n      nj(this.mc, this.HD);\n    }\n\n    this.stopTool();\n  };\n\n  Uh.prototype.reconnectLink = function (a, b, c, d) {\n    if (null === this.g) return !1;\n    c = null !== c && null !== c.le ? c.le : \"\";\n    d ? (a.Z = b, a.Jh = c) : (a.V = b, a.Ng = c);\n    return !0;\n  };\n\n  Uh.prototype.doNoRelink = function () {};\n\n  function Pi(a, b, c, d, e) {\n    null !== a.g && (null !== b ? (a.copyPortProperties(b, c, a.Xd, a.fo, !1), a.g.add(a.Xd)) : a.g.remove(a.Xd), null !== d ? (a.copyPortProperties(d, e, a.Yd, a.ho, !0), a.g.add(a.Yd)) : a.g.remove(a.Yd));\n  }\n\n  function oj() {\n    0 < arguments.length && w.od(oj);\n    qg.call(this);\n    this.name = \"LinkReshaping\";\n    var a = new Y();\n    a.Hb = \"Rectangle\";\n    a.Da = sd;\n    a.fill = \"lightblue\";\n    a.stroke = \"dodgerblue\";\n    this.rl = a;\n    a = new Y();\n    a.Hb = \"Diamond\";\n    a.Da = sd;\n    a.fill = \"lightblue\";\n    a.stroke = \"dodgerblue\";\n    this.vD = a;\n    this.OD = 3;\n    this.Uy = this.qc = null;\n    this.hp = new z();\n    this.xw = null;\n  }\n\n  w.La(oj, qg);\n  w.ga(\"LinkReshapingTool\", oj);\n  var pj;\n  oj.None = pj = w.p(oj, \"None\", 0);\n  var qj;\n  oj.Horizontal = qj = w.p(oj, \"Horizontal\", 1);\n  var rj;\n  oj.Vertical = rj = w.p(oj, \"Vertical\", 2);\n  var sj;\n  oj.All = sj = w.p(oj, \"All\", 3);\n\n  oj.prototype.getReshapingBehavior = oj.prototype.kF = function (a) {\n    return a && a.Oz ? a.Oz : pj;\n  };\n\n  oj.prototype.setReshapingBehavior = oj.prototype.$u = function (a, b) {\n    w.G(a, G, oj, \"setReshapingBehavior:obj\");\n    w.ob(b, oj, oj, \"setReshapingBehavior:behavior\");\n    a.Oz = b;\n  };\n\n  oj.prototype.updateAdornments = function (a) {\n    if (null !== a && a instanceof W) {\n      if (a.jb && null !== this.g && !this.g.ib) {\n        var b = a.path;\n\n        if (null !== b && a.canReshape() && a.U.I() && a.isVisible() && b.U.I() && b.Cj()) {\n          var c = a.Wp(this.name);\n          if (null === c || c.CD !== a.qa || c.pE !== a.Vu) c = this.makeAdornment(b), null !== c && (c.CD = a.qa, c.pE = a.Vu, a.Ol(this.name, c));\n\n          if (null !== c) {\n            c.location = a.position;\n            return;\n          }\n        }\n      }\n\n      a.Ij(this.name);\n    }\n  };\n\n  oj.prototype.makeAdornment = function (a) {\n    var b = a.W,\n        c = b.qa,\n        d = b.ac,\n        e = null;\n\n    if (null !== b.points && 1 < c) {\n      e = new jh();\n      e.type = jj;\n      var c = b.fu,\n          f = b.Rx,\n          h = d ? 1 : 0;\n      if (b.Vu && b.computeCurve() !== tj) for (var k = c + h; k < f - h; k++) {\n        var l = this.makeResegmentHandle(a, k);\n        null !== l && (l.Qe = k, l.xB = .5, l.FA = 999, e.add(l));\n      }\n\n      for (k = c + 1; k < f; k++) {\n        if (l = this.makeHandle(a, k), null !== l) {\n          l.Qe = k;\n          if (k !== c) if (k === c + 1 && d) {\n            var h = b.l(c),\n                m = b.l(c + 1);\n            J(h.x, m.x) && J(h.y, m.y) && (m = b.l(c - 1));\n            J(h.x, m.x) ? (this.$u(l, rj), l.cursor = \"n-resize\") : J(h.y, m.y) && (this.$u(l, qj), l.cursor = \"w-resize\");\n          } else k === f - 1 && d ? (h = b.l(f - 1), m = b.l(f), J(h.x, m.x) && J(h.y, m.y) && (h = b.l(f + 1)), J(h.x, m.x) ? (this.$u(l, rj), l.cursor = \"n-resize\") : J(h.y, m.y) && (this.$u(l, qj), l.cursor = \"w-resize\")) : k !== f && (this.$u(l, sj), l.cursor = \"move\");\n          e.add(l);\n        }\n      }\n\n      e.ub = a;\n    }\n\n    return e;\n  };\n\n  oj.prototype.makeHandle = function () {\n    var a = this.pu;\n    return null === a ? null : a.copy();\n  };\n\n  w.defineProperty(oj, {\n    pu: \"handleArchetype\"\n  }, function () {\n    return this.rl;\n  }, function (a) {\n    null !== a && w.G(a, G, oj, \"handleArchetype\");\n    this.rl = a;\n  });\n\n  oj.prototype.makeResegmentHandle = function () {\n    var a = this.ZI;\n    return null === a ? null : a.copy();\n  };\n\n  w.defineProperty(oj, {\n    ZI: \"midHandleArchetype\"\n  }, function () {\n    return this.vD;\n  }, function (a) {\n    null !== a && w.G(a, G, oj, \"midHandleArchetype\");\n    this.vD = a;\n  });\n  w.u(oj, {\n    handle: \"handle\"\n  }, function () {\n    return this.qc;\n  });\n  w.u(oj, {\n    Qt: \"adornedLink\"\n  }, function () {\n    return this.Uy;\n  });\n\n  oj.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    return null !== a && !a.ib && a.gx && a.Q.left ? null !== this.findToolHandleAt(a.uc.ea, this.name) : !1;\n  };\n\n  oj.prototype.doActivate = function () {\n    var a = this.g;\n\n    if (null !== a && (this.qc = this.findToolHandleAt(a.uc.ea, this.name), null !== this.qc)) {\n      var b = this.qc.W.Ze;\n\n      if (b instanceof W) {\n        this.Uy = b;\n        a.ef = !0;\n        this.Kb(this.name);\n\n        if (b.Vu && 999 === this.qc.FA) {\n          var c = b.points.copy(),\n              d = this.getResegmentingPoint();\n          c.Sd(this.qc.Qe + 1, d);\n          b.ac && c.Sd(this.qc.Qe + 1, d);\n          b.points = c;\n          b.Td();\n          this.qc = this.findToolHandleAt(a.uc.ea, this.name);\n\n          if (null === this.qc) {\n            this.doDeactivate();\n            return;\n          }\n        }\n\n        this.hp = b.l(this.qc.Qe);\n        this.xw = b.points.copy();\n        this.ta = !0;\n      }\n    }\n  };\n\n  oj.prototype.doDeactivate = function () {\n    this.Wk();\n    this.Uy = this.qc = null;\n    var a = this.g;\n    null !== a && (a.ef = !1);\n    this.ta = !1;\n  };\n\n  oj.prototype.doCancel = function () {\n    var a = this.Qt;\n    null !== a && (a.points = this.xw);\n    this.stopTool();\n  };\n\n  oj.prototype.getResegmentingPoint = function () {\n    return this.handle.Ya(Jb);\n  };\n\n  oj.prototype.doMouseMove = function () {\n    var a = this.g;\n    this.ta && null !== a && (a = this.computeReshape(a.Q.ea), this.reshape(a));\n  };\n\n  oj.prototype.doMouseUp = function () {\n    var a = this.g;\n\n    if (this.ta && null !== a) {\n      var b = this.computeReshape(a.Q.ea);\n      this.reshape(b);\n      b = this.Qt;\n\n      if (null !== b && b.Vu) {\n        var c = this.handle.Qe,\n            d = b.l(c - 1),\n            e = b.l(c),\n            f = b.l(c + 1);\n\n        if (b.ac) {\n          if (c > b.fu + 1 && c < b.Rx - 1) {\n            var h = b.l(c - 2);\n\n            if (Math.abs(d.x - e.x) < this.Gh && Math.abs(d.y - e.y) < this.Gh && (Mj(this, h, d, e, f, !0) || Mj(this, h, d, e, f, !1))) {\n              var k = b.points.copy();\n              Mj(this, h, d, e, f, !0) ? (k.kg(c - 2, new z(h.x, (f.y + h.y) / 2)), k.kg(c + 1, new z(f.x, (f.y + h.y) / 2))) : (k.kg(c - 2, new z((f.x + h.x) / 2, h.y)), k.kg(c + 1, new z((f.x + h.x) / 2, f.y)));\n              k.dd(c);\n              k.dd(c - 1);\n              b.points = k;\n              b.Td();\n            } else h = b.l(c + 2), Math.abs(e.x - f.x) < this.Gh && Math.abs(e.y - f.y) < this.Gh && (Mj(this, d, e, f, h, !0) || Mj(this, d, e, f, h, !1)) && (k = b.points.copy(), Mj(this, d, e, f, h, !0) ? (k.kg(c - 1, new z(d.x, (d.y + h.y) / 2)), k.kg(c + 2, new z(h.x, (d.y + h.y) / 2))) : (k.kg(c - 1, new z((d.x + h.x) / 2, d.y)), k.kg(c + 2, new z((d.x + h.x) / 2, h.y))), k.dd(c + 1), k.dd(c), b.points = k, b.Td());\n          }\n        } else h = w.K(), La(d.x, d.y, f.x, f.y, e.x, e.y, h) && h.Cf(e) < this.Gh * this.Gh && (k = b.points.copy(), k.dd(c), b.points = k, b.Td()), w.v(h);\n      }\n\n      a.Gc();\n      this.Lf = this.name;\n      a.Aa(\"LinkReshaped\", this.Qt, this.xw);\n    }\n\n    this.stopTool();\n  };\n\n  function Mj(a, b, c, d, e, f) {\n    return f ? Math.abs(b.y - c.y) < a.Gh && Math.abs(c.y - d.y) < a.Gh && Math.abs(d.y - e.y) < a.Gh : Math.abs(b.x - c.x) < a.Gh && Math.abs(c.x - d.x) < a.Gh && Math.abs(d.x - e.x) < a.Gh;\n  }\n\n  w.defineProperty(oj, {\n    Gh: \"resegmentingDistance\"\n  }, function () {\n    return this.OD;\n  }, function (a) {\n    w.j(a, \"number\", oj, \"resegmentingDistance\");\n    this.OD = a;\n  });\n\n  oj.prototype.reshape = function (a) {\n    var b = this.Qt;\n    b.qm();\n    var c = this.handle.Qe,\n        d = this.kF(this.handle);\n    if (b.ac) {\n      if (c === b.fu + 1) c = b.fu + 1, d === rj ? (b.ca(c, b.l(c - 1).x, a.y), b.ca(c + 1, b.l(c + 2).x, a.y)) : d === qj && (b.ca(c, a.x, b.l(c - 1).y), b.ca(c + 1, a.x, b.l(c + 2).y));else if (c === b.Rx - 1) c = b.Rx - 1, d === rj ? (b.ca(c - 1, b.l(c - 2).x, a.y), b.ca(c, b.l(c + 1).x, a.y)) : d === qj && (b.ca(c - 1, a.x, b.l(c - 2).y), b.ca(c, a.x, b.l(c + 1).y));else {\n        var d = c,\n            e = b.l(d),\n            f = b.l(d - 1),\n            h = b.l(d + 1);\n        J(f.x, e.x) && J(e.y, h.y) ? (J(f.x, b.l(d - 2).x) && !J(f.y, b.l(d - 2).y) ? (b.w(d, a.x, f.y), c++, d++) : b.ca(d - 1, a.x, f.y), J(h.y, b.l(d + 2).y) && !J(h.x, b.l(d + 2).x) ? b.w(d + 1, h.x, a.y) : b.ca(d + 1, h.x, a.y)) : J(f.y, e.y) && J(e.x, h.x) ? (J(f.y, b.l(d - 2).y) && !J(f.x, b.l(d - 2).x) ? (b.w(d, f.x, a.y), c++, d++) : b.ca(d - 1, f.x, a.y), J(h.x, b.l(d + 2).x) && !J(h.y, b.l(d + 2).y) ? b.w(d + 1, a.x, h.y) : b.ca(d + 1, a.x, h.y)) : J(f.x, e.x) && J(e.x, h.x) ? (J(f.x, b.l(d - 2).x) && !J(f.y, b.l(d - 2).y) ? (b.w(d, a.x, f.y), c++, d++) : b.ca(d - 1, a.x, f.y), J(h.x, b.l(d + 2).x) && !J(h.y, b.l(d + 2).y) ? b.w(d + 1, a.x, h.y) : b.ca(d + 1, a.x, h.y)) : J(f.y, e.y) && J(e.y, h.y) && (J(f.y, b.l(d - 2).y) && !J(f.x, b.l(d - 2).x) ? (b.w(d, f.x, a.y), c++, d++) : b.ca(d - 1, f.x, a.y), J(h.y, b.l(d + 2).y) && !J(h.x, b.l(d + 2).x) ? b.w(d + 1, h.x, a.y) : b.ca(d + 1, h.x, a.y));\n        b.ca(c, a.x, a.y);\n      }\n    } else b.ca(c, a.x, a.y), e = b.V, f = b.gc, null !== e && (d = e.findVisibleNode(), null !== d && d !== e && (e = d, f = e.port)), 1 === c && b.computeSpot(!0, f).Vd() && (d = f.Ya(Jb, w.K()), e = b.getLinkPointFromPoint(e, f, d, a, !0, w.K()), b.ca(0, e.x, e.y), w.v(d), w.v(e)), e = b.Z, f = b.zc, null !== e && (d = e.findVisibleNode(), null !== d && d !== e && (e = d, f = e.port)), c === b.qa - 2 && b.computeSpot(!1, f).Vd() && (d = f.Ya(Jb, w.K()), e = b.getLinkPointFromPoint(e, f, d, a, !1, w.K()), b.ca(b.qa - 1, e.x, e.y), w.v(d), w.v(e));\n    b.qj();\n  };\n\n  oj.prototype.computeReshape = function (a) {\n    var b = this.Qt,\n        c = this.handle.Qe;\n\n    switch (this.kF(this.handle)) {\n      case sj:\n        return a;\n\n      case rj:\n        return b = b.l(c), new z(b.x, a.y);\n\n      case qj:\n        return b = b.l(c), new z(a.x, b.y);\n\n      default:\n      case pj:\n        return b.l(c);\n    }\n  };\n\n  w.u(oj, {\n    EL: \"originalPoint\"\n  }, function () {\n    return this.hp;\n  });\n  w.u(oj, {\n    FL: \"originalPoints\"\n  }, function () {\n    return this.xw;\n  });\n\n  function Nj() {\n    0 < arguments.length && w.od(Nj);\n    qg.call(this);\n    this.name = \"Resizing\";\n    this.Zh = new ia(1, 1).freeze();\n    this.Yh = new ia(9999, 9999).freeze();\n    this.Rj = new ia(NaN, NaN).freeze();\n    this.Yr = !1;\n    this.Kc = null;\n    var a = new Y();\n    a.qh = Jb;\n    a.Hb = \"Rectangle\";\n    a.Da = sd;\n    a.fill = \"lightblue\";\n    a.stroke = \"dodgerblue\";\n    a.mb = 1;\n    a.cursor = \"pointer\";\n    this.rl = a;\n    this.qc = null;\n    this.hp = new z();\n    this.DD = new ia();\n    this.JD = new z();\n    this.rz = new ia(0, 0);\n    this.qz = new ia(Infinity, Infinity);\n    this.pz = new ia(1, 1);\n    this.BD = !0;\n  }\n\n  w.La(Nj, qg);\n  w.ga(\"ResizingTool\", Nj);\n\n  Nj.prototype.updateAdornments = function (a) {\n    if (!(null === a || a instanceof W)) {\n      if (a.jb && null !== this.g && !this.g.ib) {\n        var b = a.hG;\n\n        if (null !== b && a.canResize() && a.U.I() && a.isVisible() && b.U.I() && b.Cj()) {\n          var c = a.Wp(this.name);\n          if (null === c || c.ub !== b) c = this.makeAdornment(b);\n\n          if (null !== c) {\n            var d = b.bm();\n            c.angle = d;\n            var e = b.Ya(c.Gf, w.K()),\n                f = b.vj();\n            c.location = e;\n            w.v(e);\n            e = c.placeholder;\n\n            if (null !== e) {\n              var b = b.Ja,\n                  h = w.tm();\n              h.m(b.width * f, b.height * f);\n              e.Da = h;\n              w.Lk(h);\n            }\n\n            this.updateResizeHandles(c, d);\n            a.Ol(this.name, c);\n            return;\n          }\n        }\n      }\n\n      a.Ij(this.name);\n    }\n  };\n\n  Nj.prototype.makeAdornment = function (a) {\n    var b = null,\n        b = a.W.gG;\n\n    if (null === b) {\n      b = new jh();\n      b.type = Oj;\n      b.Gf = Jb;\n      var c = new Pj();\n      c.ff = !0;\n      b.add(c);\n      b.add(this.makeHandle(a, zb));\n      b.add(this.makeHandle(a, Gb));\n      b.add(this.makeHandle(a, Wb));\n      b.add(this.makeHandle(a, Qb));\n      b.add(this.makeHandle(a, Gc));\n      b.add(this.makeHandle(a, Ic));\n      b.add(this.makeHandle(a, Jc));\n      b.add(this.makeHandle(a, Hc));\n    } else if (lh(b), b = b.copy(), null === b) return null;\n\n    b.ub = a;\n    return b;\n  };\n\n  Nj.prototype.makeHandle = function (a, b) {\n    var c = this.pu;\n    if (null === c) return null;\n    c = c.copy();\n    c.alignment = b;\n    return c;\n  };\n\n  Nj.prototype.updateResizeHandles = function (a, b) {\n    if (null !== a) if (!a.alignment.Zc() && (\"pointer\" === a.cursor || 0 < a.cursor.indexOf(\"resize\"))) a: {\n      var c = a.alignment;\n      c.Vd() && (c = Jb);\n      var d = b;\n      if (0 >= c.x) d = 0 >= c.y ? d + 225 : 1 <= c.y ? d + 135 : d + 180;else if (1 <= c.x) 0 >= c.y ? d += 315 : 1 <= c.y && (d += 45);else if (0 >= c.y) d += 270;else if (1 <= c.y) d += 90;else break a;\n      0 > d ? d += 360 : 360 <= d && (d -= 360);\n      a.cursor = 22.5 > d ? \"e-resize\" : 67.5 > d ? \"se-resize\" : 112.5 > d ? \"s-resize\" : 157.5 > d ? \"sw-resize\" : 202.5 > d ? \"w-resize\" : 247.5 > d ? \"nw-resize\" : 292.5 > d ? \"n-resize\" : 337.5 > d ? \"ne-resize\" : \"e-resize\";\n    } else if (a instanceof D) for (c = a.elements; c.next();) {\n      this.updateResizeHandles(c.value, b);\n    }\n  };\n\n  w.defineProperty(Nj, {\n    pu: \"handleArchetype\"\n  }, function () {\n    return this.rl;\n  }, function (a) {\n    null !== a && w.G(a, G, Nj, \"handleArchetype\");\n    this.rl = a;\n  });\n  w.u(Nj, {\n    handle: \"handle\"\n  }, function () {\n    return this.qc;\n  });\n  w.defineProperty(Nj, {\n    ub: \"adornedObject\"\n  }, function () {\n    return this.Kc;\n  }, function (a) {\n    null !== a && w.G(a, G, Nj, \"adornedObject\");\n    this.Kc = a;\n  });\n\n  Nj.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    return null !== a && !a.ib && a.Tt && a.Q.left ? null !== this.findToolHandleAt(a.uc.ea, this.name) : !1;\n  };\n\n  Nj.prototype.doActivate = function () {\n    var a = this.g;\n    null !== a && (this.qc = this.findToolHandleAt(a.uc.ea, this.name), null !== this.qc && (this.Kc = this.qc.W.ub, this.hp.set(this.ub.Ya(this.handle.alignment.WF())), this.JD.set(this.Kc.W.location), this.DD.set(this.Kc.Da), this.pz = this.computeCellSize(), this.rz = this.computeMinSize(), this.qz = this.computeMaxSize(), a.ef = !0, this.BD = a.Ka.isEnabled, a.Ka.isEnabled = !1, this.Kb(this.name), this.ta = !0));\n  };\n\n  Nj.prototype.doDeactivate = function () {\n    var a = this.g;\n    null !== a && (this.Wk(), this.Kc = this.qc = null, this.ta = a.ef = !1, a.Ka.isEnabled = this.BD);\n  };\n\n  Nj.prototype.doCancel = function () {\n    null !== this.ub && (this.ub.Da = this.XF, this.ub.W.location = this.jJ);\n    this.stopTool();\n  };\n\n  Nj.prototype.doMouseMove = function () {\n    var a = this.g;\n\n    if (this.ta && null !== a) {\n      var b = this.rz,\n          c = this.qz,\n          d = this.pz,\n          e = this.ub.iF(a.Q.ea, w.K()),\n          f = this.computeReshape(),\n          b = this.computeResize(e, this.handle.alignment, b, c, d, f);\n      this.resize(b);\n      a.dg();\n      w.v(e);\n    }\n  };\n\n  Nj.prototype.doMouseUp = function () {\n    var a = this.g;\n\n    if (this.ta && null !== a) {\n      var b = this.rz,\n          c = this.qz,\n          d = this.pz,\n          e = this.ub.iF(a.Q.ea, w.K()),\n          f = this.computeReshape(),\n          b = this.computeResize(e, this.handle.alignment, b, c, d, f);\n      this.resize(b);\n      w.v(e);\n      a.Gc();\n      this.Lf = this.name;\n      a.Aa(\"PartResized\", this.ub, this.XF);\n    }\n\n    this.stopTool();\n  };\n\n  Nj.prototype.resize = function (a) {\n    var b = this.g;\n\n    if (null !== b) {\n      var c = this.ub,\n          d = c.W;\n      c.Da = a.size;\n      d.Ne();\n      a = this.ub.Ya(this.handle.alignment.WF());\n\n      if (d instanceof V) {\n        var c = b.Va.de,\n            e = !1;\n        null !== c && (e = c.Sk, c.Sk = !1);\n        var f = new H(R);\n        f.add(d);\n        b.moveParts(f, this.hp.copy().ui(a), !0);\n        null !== c && (c.Sk = e);\n      } else d.location = d.location.copy().ui(a).add(this.hp);\n    }\n  };\n\n  Nj.prototype.computeResize = function (a, b, c, d, e, f) {\n    b.Vd() && (b = Jb);\n    var h = this.ub.Ja,\n        k = h.x,\n        l = h.y,\n        m = h.x + h.width,\n        n = h.y + h.height,\n        p = 1;\n\n    if (!f) {\n      var p = h.width,\n          q = h.height;\n      0 >= p && (p = 1);\n      0 >= q && (q = 1);\n      p = q / p;\n    }\n\n    q = w.K();\n    Na(a.x, a.y, k, l, e.width, e.height, q);\n    a = h.copy();\n    0 >= b.x ? 0 >= b.y ? (a.x = Math.max(q.x, m - d.width), a.x = Math.min(a.x, m - c.width), a.width = Math.max(m - a.x, c.width), a.y = Math.max(q.y, n - d.height), a.y = Math.min(a.y, n - c.height), a.height = Math.max(n - a.y, c.height), f || (b = a.height / a.width, 1 <= b ? (a.height = Math.max(Math.min(p * a.width, d.height), c.height), a.width = a.height / p) : (a.width = Math.max(Math.min(a.height / p, d.width), c.width), a.height = p * a.width), a.x = m - a.width, a.y = n - a.height)) : 1 <= b.y ? (a.x = Math.max(q.x, m - d.width), a.x = Math.min(a.x, m - c.width), a.width = Math.max(m - a.x, c.width), a.height = Math.max(Math.min(q.y - l, d.height), c.height), f || (b = a.height / a.width, 1 <= b ? (a.height = Math.max(Math.min(p * a.width, d.height), c.height), a.width = a.height / p) : (a.width = Math.max(Math.min(a.height / p, d.width), c.width), a.height = p * a.width), a.x = m - a.width)) : (a.x = Math.max(q.x, m - d.width), a.x = Math.min(a.x, m - c.width), a.width = m - a.x, f || (a.height = Math.max(Math.min(p * a.width, d.height), c.height), a.width = a.height / p, a.y = l + .5 * (n - l - a.height))) : 1 <= b.x ? 0 >= b.y ? (a.width = Math.max(Math.min(q.x - k, d.width), c.width), a.y = Math.max(q.y, n - d.height), a.y = Math.min(a.y, n - c.height), a.height = Math.max(n - a.y, c.height), f || (b = a.height / a.width, 1 <= b ? (a.height = Math.max(Math.min(p * a.width, d.height), c.height), a.width = a.height / p) : (a.width = Math.max(Math.min(a.height / p, d.width), c.width), a.height = p * a.width), a.y = n - a.height)) : 1 <= b.y ? (a.width = Math.max(Math.min(q.x - k, d.width), c.width), a.height = Math.max(Math.min(q.y - l, d.height), c.height), f || (b = a.height / a.width, 1 <= b ? (a.height = Math.max(Math.min(p * a.width, d.height), c.height), a.width = a.height / p) : (a.width = Math.max(Math.min(a.height / p, d.width), c.width), a.height = p * a.width))) : (a.width = Math.max(Math.min(q.x - k, d.width), c.width), f || (a.height = Math.max(Math.min(p * a.width, d.height), c.height), a.width = a.height / p, a.y = l + .5 * (n - l - a.height))) : 0 >= b.y ? (a.y = Math.max(q.y, n - d.height), a.y = Math.min(a.y, n - c.height), a.height = n - a.y, f || (a.width = Math.max(Math.min(a.height / p, d.width), c.width), a.height = p * a.width, a.x = k + .5 * (m - k - a.width))) : 1 <= b.y && (a.height = Math.max(Math.min(q.y - l, d.height), c.height), f || (a.width = Math.max(Math.min(a.height / p, d.width), c.width), a.height = p * a.width, a.x = k + .5 * (m - k - a.width)));\n    w.v(q);\n    return a;\n  };\n\n  Nj.prototype.computeReshape = function () {\n    var a = Qj;\n    this.ub instanceof Y && (a = Rj(this.ub));\n    return !(a === Sj || null !== this.g && this.g.Q.shift);\n  };\n\n  Nj.prototype.computeMinSize = function () {\n    var a = this.ub.si.copy(),\n        b = this.si;\n    !isNaN(b.width) && b.width > a.width && (a.width = b.width);\n    !isNaN(b.height) && b.height > a.height && (a.height = b.height);\n    return a;\n  };\n\n  Nj.prototype.computeMaxSize = function () {\n    var a = this.ub.Hf.copy(),\n        b = this.Hf;\n    !isNaN(b.width) && b.width < a.width && (a.width = b.width);\n    !isNaN(b.height) && b.height < a.height && (a.height = b.height);\n    return a;\n  };\n\n  Nj.prototype.computeCellSize = function () {\n    var a = new ia(NaN, NaN),\n        b = this.ub.W;\n\n    if (null !== b) {\n      var c = b.uJ;\n      !isNaN(c.width) && 0 < c.width && (a.width = c.width);\n      !isNaN(c.height) && 0 < c.height && (a.height = c.height);\n    }\n\n    c = this.Lp;\n    isNaN(a.width) && !isNaN(c.width) && 0 < c.width && (a.width = c.width);\n    isNaN(a.height) && !isNaN(c.height) && 0 < c.height && (a.height = c.height);\n    b = this.g;\n    (isNaN(a.width) || isNaN(a.height)) && b && (c = b.Va.de, null !== c && c.Sk && (c = c.qF, isNaN(a.width) && !isNaN(c.width) && 0 < c.width && (a.width = c.width), isNaN(a.height) && !isNaN(c.height) && 0 < c.height && (a.height = c.height)), b = b.Gn, null !== b && b.visible && this.Sk && (c = b.Ix, isNaN(a.width) && !isNaN(c.width) && 0 < c.width && (a.width = c.width), isNaN(a.height) && !isNaN(c.height) && 0 < c.height && (a.height = c.height)));\n    if (isNaN(a.width) || 0 === a.width || Infinity === a.width) a.width = 1;\n    if (isNaN(a.height) || 0 === a.height || Infinity === a.height) a.height = 1;\n    return a;\n  };\n\n  w.defineProperty(Nj, {\n    si: \"minSize\"\n  }, function () {\n    return this.Zh;\n  }, function (a) {\n    w.G(a, ia, Nj, \"minSize\");\n\n    if (!this.Zh.L(a)) {\n      var b = a.width;\n      isNaN(b) && (b = 0);\n      a = a.height;\n      isNaN(a) && (a = 0);\n      this.Zh.m(b, a);\n    }\n  });\n  w.defineProperty(Nj, {\n    Hf: \"maxSize\"\n  }, function () {\n    return this.Yh;\n  }, function (a) {\n    w.G(a, ia, Nj, \"maxSize\");\n\n    if (!this.Yh.L(a)) {\n      var b = a.width;\n      isNaN(b) && (b = Infinity);\n      a = a.height;\n      isNaN(a) && (a = Infinity);\n      this.Yh.m(b, a);\n    }\n  });\n  w.defineProperty(Nj, {\n    Lp: \"cellSize\"\n  }, function () {\n    return this.Rj;\n  }, function (a) {\n    w.G(a, ia, Nj, \"cellSize\");\n    this.Rj.L(a) || this.Rj.assign(a);\n  });\n  w.defineProperty(Nj, {\n    Sk: \"isGridSnapEnabled\"\n  }, function () {\n    return this.Yr;\n  }, function (a) {\n    w.j(a, \"boolean\", Nj, \"isGridSnapEnabled\");\n    this.Yr = a;\n  });\n  w.u(Nj, {\n    XF: \"originalDesiredSize\"\n  }, function () {\n    return this.DD;\n  });\n  w.u(Nj, {\n    jJ: \"originalLocation\"\n  }, function () {\n    return this.JD;\n  });\n\n  function Tj() {\n    0 < arguments.length && w.od(Tj);\n    qg.call(this);\n    this.name = \"Rotating\";\n    this.UD = 45;\n    this.TD = 2;\n    this.Kc = null;\n    var a = new Y();\n    a.Hb = \"Ellipse\";\n    a.Da = Bd;\n    a.fill = \"lightblue\";\n    a.stroke = \"dodgerblue\";\n    a.mb = 1;\n    a.cursor = \"pointer\";\n    this.rl = a;\n    this.qc = null;\n    this.ww = 0;\n    this.PD = new z();\n  }\n\n  w.La(Tj, qg);\n  w.ga(\"RotatingTool\", Tj);\n\n  Tj.prototype.updateAdornments = function (a) {\n    if (null !== a) {\n      if (a instanceof W) {\n        var b = a.vB;\n        if (b === a || b === a.path || b.ff) return;\n      }\n\n      if (a.jb && null !== this.g && !this.g.ib && (b = a.vB, null !== b && a.canRotate() && a.U.I() && a.isVisible() && b.U.I() && b.Cj())) {\n        var c = a.Wp(this.name);\n        if (null === c || c.ub !== b) c = this.makeAdornment(b);\n\n        if (null !== c) {\n          c.angle = b.bm();\n          var d = null,\n              e = null;\n          b === a || b === a.cg ? (d = a.cg, e = a.Gf) : (d = b, e = Jb);\n\n          for (var f = d.Ja, e = w.wb(f.width * e.x + e.offsetX, f.height * e.y + e.offsetY); null !== d && d !== b;) {\n            d.transform.nb(e), d = d.R;\n          }\n\n          var d = e.y,\n              f = Math.max(e.x - b.Ja.width, 0),\n              h = w.K();\n          c.location = b.Ya(new K(1, 0, 50 + f, d), h);\n          w.v(h);\n          w.v(e);\n          a.Ol(this.name, c);\n          return;\n        }\n      }\n\n      a.Ij(this.name);\n    }\n  };\n\n  Tj.prototype.makeAdornment = function (a) {\n    var b = null,\n        b = a.W.xJ;\n\n    if (null === b) {\n      b = new jh();\n      b.type = Uj;\n      b.Gf = Jb;\n      var c = this.pu;\n      null !== c && b.add(c.copy());\n    } else if (lh(b), b = b.copy(), null === b) return null;\n\n    b.ub = a;\n    return b;\n  };\n\n  w.defineProperty(Tj, {\n    pu: \"handleArchetype\"\n  }, function () {\n    return this.rl;\n  }, function (a) {\n    null !== a && w.G(a, G, Tj, \"handleArchetype\");\n    this.rl = a;\n  });\n  w.u(Tj, {\n    handle: \"handle\"\n  }, function () {\n    return this.qc;\n  });\n  w.defineProperty(Tj, {\n    ub: \"adornedObject\"\n  }, function () {\n    return this.Kc;\n  }, function (a) {\n    null !== a && w.G(a, G, Tj, \"adornedObject\");\n    this.Kc = a;\n  });\n\n  Tj.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    return null !== a && !a.ib && a.hx && a.Q.left ? null !== this.findToolHandleAt(a.uc.ea, this.name) : !1;\n  };\n\n  Tj.prototype.doActivate = function () {\n    var a = this.g;\n\n    if (null !== a && (this.qc = this.findToolHandleAt(a.uc.ea, this.name), null !== this.qc)) {\n      this.Kc = this.qc.W.ub;\n      var b = this.Kc.W,\n          c = b.cg;\n      this.PD = this.Kc === b || this.Kc === c ? c.Ya(b.Gf) : this.Kc.Ya(Jb);\n      this.ww = this.Kc.angle;\n      a.ef = !0;\n      a.yA = !0;\n      this.Kb(this.name);\n      this.ta = !0;\n    }\n  };\n\n  Tj.prototype.doDeactivate = function () {\n    var a = this.g;\n    null !== a && (this.Wk(), this.Kc = this.qc = null, this.ta = a.ef = !1);\n  };\n\n  Tj.prototype.doCancel = function () {\n    var a = this.g;\n    null !== a && (a.yA = !1);\n    this.rotate(this.ww);\n    this.stopTool();\n  };\n\n  Tj.prototype.doMouseMove = function () {\n    var a = this.g;\n    this.ta && null !== a && (a = this.computeRotate(a.Q.ea), this.rotate(a));\n  };\n\n  Tj.prototype.doMouseUp = function () {\n    var a = this.g;\n\n    if (this.ta && null !== a) {\n      a.yA = !1;\n      var b = this.computeRotate(a.Q.ea);\n      this.rotate(b);\n      a.Gc();\n      this.Lf = this.name;\n      a.Aa(\"PartRotated\", this.Kc, this.ww);\n    }\n\n    this.stopTool();\n  };\n\n  Tj.prototype.rotate = function (a) {\n    null !== this.Kc && (this.Kc.angle = a);\n  };\n\n  Tj.prototype.computeRotate = function (a) {\n    a = this.PD.Qb(a);\n    var b = this.Kc.R;\n    null !== b && (a -= b.bm(), 360 <= a ? a -= 360 : 0 > a && (a += 360));\n    var b = Math.min(Math.abs(this.MJ), 180),\n        c = Math.min(Math.abs(this.LJ), b / 2);\n    (null === this.g || !this.g.Q.shift) && 0 < b && 0 < c && (a % b < c ? a = Math.floor(a / b) * b : a % b > b - c && (a = (Math.floor(a / b) + 1) * b));\n    360 <= a ? a -= 360 : 0 > a && (a += 360);\n    return a;\n  };\n\n  w.defineProperty(Tj, {\n    MJ: \"snapAngleMultiple\"\n  }, function () {\n    return this.UD;\n  }, function (a) {\n    w.j(a, \"number\", Tj, \"snapAngleMultiple\");\n    this.UD = a;\n  });\n  w.defineProperty(Tj, {\n    LJ: \"snapAngleEpsilon\"\n  }, function () {\n    return this.TD;\n  }, function (a) {\n    w.j(a, \"number\", Tj, \"snapAngleEpsilon\");\n    this.TD = a;\n  });\n  w.u(Tj, {\n    DL: \"originalAngle\"\n  }, function () {\n    return this.ww;\n  });\n\n  function Vj() {\n    qg.call(this);\n    0 < arguments.length && w.od(Vj);\n    this.name = \"ClickSelecting\";\n  }\n\n  w.La(Vj, qg);\n  w.ga(\"ClickSelectingTool\", Vj);\n\n  Vj.prototype.canStart = function () {\n    return !this.isEnabled || null === this.g || this.isBeyondDragSize() ? !1 : !0;\n  };\n\n  Vj.prototype.doMouseUp = function () {\n    this.ta && (this.standardMouseSelect(), !this.standardMouseClick() && null !== this.g && this.g.Q.Aj && this.g.Va.doToolTip());\n    this.stopTool();\n  };\n\n  function Wj() {\n    qg.call(this);\n    0 < arguments.length && w.od(Wj);\n    this.name = \"Action\";\n    this.no = null;\n  }\n\n  w.La(Wj, qg);\n  w.ga(\"ActionTool\", Wj);\n\n  Wj.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    if (null === a) return !1;\n    var b = a.Q,\n        c = a.Pe(b.ea, function (a) {\n      for (; null !== a.R && !a.Jx;) {\n        a = a.R;\n      }\n\n      return a;\n    });\n\n    if (null !== c) {\n      if (!c.Jx) return !1;\n      this.no = c;\n      a.yo = a.Pe(b.ea, null, null);\n      return !0;\n    }\n\n    return !1;\n  };\n\n  Wj.prototype.doMouseDown = function () {\n    if (this.ta) {\n      var a = this.g.Q,\n          b = this.no;\n      null !== b && (a.Be = b, null !== b.sE && b.sE(a, b));\n    } else this.canStart() && this.doActivate();\n  };\n\n  Wj.prototype.doMouseMove = function () {\n    if (this.ta) {\n      var a = this.g.Q,\n          b = this.no;\n      null !== b && (a.Be = b, null !== b.tE && b.tE(a, b));\n    }\n  };\n\n  Wj.prototype.doMouseUp = function () {\n    if (this.ta) {\n      var a = this.g,\n          b = a.Q,\n          c = this.no;\n      if (null === c) return;\n      b.Be = c;\n      null !== c.uE && c.uE(b, c);\n      this.isBeyondDragSize() || Nh(c, b, a);\n    }\n\n    this.stopTool();\n  };\n\n  Wj.prototype.doCancel = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var a = a.Q,\n          b = this.no;\n      if (null === b) return;\n      a.Be = b;\n      null !== b.rE && b.rE(a, b);\n    }\n\n    this.stopTool();\n  };\n\n  Wj.prototype.doStop = function () {\n    this.no = null;\n  };\n\n  function Xj() {\n    qg.call(this);\n    0 < arguments.length && w.od(Xj);\n    this.name = \"ClickCreating\";\n    this.zm = null;\n    this.jD = !0;\n    this.YC = new z(0, 0);\n  }\n\n  w.La(Xj, qg);\n  w.ga(\"ClickCreatingTool\", Xj);\n\n  Xj.prototype.canStart = function () {\n    if (!this.isEnabled || null === this.kA) return !1;\n    var a = this.g;\n    if (null === a || a.ib || a.Ef || !a.Ip || !a.Q.left || this.isBeyondDragSize()) return !1;\n\n    if (this.yI) {\n      if (1 === a.Q.te && (this.YC = a.Q.Ce.copy()), 2 !== a.Q.te || this.isBeyondDragSize(this.YC)) return !1;\n    } else if (1 !== a.Q.te) return !1;\n\n    return a.Xa !== this && null !== a.eu(a.Q.ea, !0) ? !1 : !0;\n  };\n\n  Xj.prototype.doMouseUp = function () {\n    var a = this.g;\n    this.ta && null !== a && this.insertPart(a.Q.ea);\n    this.stopTool();\n  };\n\n  Xj.prototype.insertPart = function (a) {\n    var b = this.g;\n    if (null === b) return null;\n    var c = this.kA;\n    if (null === c) return null;\n    this.Kb(this.name);\n    var d = null;\n    c instanceof R ? c.he() && (lh(c), d = c.copy(), null !== d && b.add(d)) : null !== c && (c = b.$.copyNodeData(c), w.Pa(c) && (b.$.Pl(c), d = b.wh(c)));\n    null !== d && (d.location = a, b.Bf && b.select(d));\n    b.Gc();\n    this.Lf = this.name;\n    b.Aa(\"PartCreated\", d);\n    this.Wk();\n    return d;\n  };\n\n  w.defineProperty(Xj, {\n    kA: \"archetypeNodeData\"\n  }, function () {\n    return this.zm;\n  }, function (a) {\n    null !== a && w.G(a, Object, Xj, \"archetypeNodeData\");\n    this.zm = a;\n  });\n  w.defineProperty(Xj, {\n    yI: \"isDoubleClick\"\n  }, function () {\n    return this.jD;\n  }, function (a) {\n    w.j(a, \"boolean\", Xj, \"isDoubleClick\");\n    this.jD = a;\n  });\n\n  function Yj() {\n    this.nE = this.tD = this.zz = this.Uz = null;\n  }\n\n  w.ga(\"HTMLInfo\", Yj);\n  w.defineProperty(Yj, {\n    bB: \"mainElement\"\n  }, function () {\n    return this.tD;\n  }, function (a) {\n    null !== a && w.G(a, HTMLElement, Yj, \"mainElement\");\n    this.tD = a;\n  });\n  w.defineProperty(Yj, {\n    show: \"show\"\n  }, function () {\n    return this.Uz;\n  }, function (a) {\n    this.Uz !== a && (null !== a && w.j(a, \"function\", Yj, \"show\"), this.Uz = a);\n  });\n  w.defineProperty(Yj, {\n    Hn: \"hide\"\n  }, function () {\n    return this.zz;\n  }, function (a) {\n    this.zz !== a && (null !== a && w.j(a, \"function\", Yj, \"hide\"), this.zz = a);\n  });\n  w.defineProperty(Yj, {\n    WB: \"valueFunction\"\n  }, function () {\n    return this.nE;\n  }, function (a) {\n    this.nE = a;\n  });\n\n  function Zj(a, b, c) {\n    this.text = a;\n    this.JE = b;\n    this.visible = c;\n  }\n\n  function ak() {\n    qg.call(this);\n    0 < arguments.length && w.od(ak);\n    this.name = \"ContextMenu\";\n    this.DC = this.bz = this.AC = null;\n    this.zD = new z();\n    this.dz = this.Em = null;\n    var a = this;\n\n    this.aA = function () {\n      a.stopTool();\n    };\n\n    bk(this);\n  }\n\n  w.La(ak, qg);\n  w.ga(\"ContextMenuTool\", ak);\n\n  function bk(a) {\n    var b = new Yj();\n\n    b.show = function (a, b, c) {\n      c.showDefaultContextMenu();\n    };\n\n    b.Hn = function (a, b) {\n      b.hideDefaultContextMenu();\n    };\n\n    a.Em = b;\n\n    a.aA = function () {\n      a.stopTool();\n    };\n\n    if (!1 === w.PE) {\n      var b = w.createElement(\"div\"),\n          c = w.createElement(\"div\");\n      b.style.cssText = \"top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px\";\n      c.style.cssText = \"z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;\";\n      var d = w.createElement(\"style\");\n      window.document.getElementsByTagName(\"head\")[0].appendChild(d);\n      d.sheet.insertRule(\".goCXul { list-style: none; }\", 0);\n      d.sheet.insertRule(\".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }\", 0);\n      d.sheet.insertRule(\".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }\", 0);\n      b.addEventListener(\"contextmenu\", ck, !1);\n      b.addEventListener(\"selectstart\", ck, !1);\n      c.addEventListener(\"contextmenu\", ck, !1);\n      window.document.body && (window.document.body.appendChild(b), window.document.body.appendChild(c));\n      w.Wt = b;\n      w.Vt = c;\n      w.PE = !0;\n    }\n  }\n\n  function ck(a) {\n    a.preventDefault();\n    return !1;\n  }\n\n  ak.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    return null === a || this.isBeyondDragSize() || !a.Q.right ? !1 : null !== this.Em && a.Q.Aj || null !== this.findObjectWithContextMenu() ? !0 : !1;\n  };\n\n  ak.prototype.doStart = function () {\n    var a = this.g;\n    null !== a && this.zD.set(a.uc.ea);\n  };\n\n  ak.prototype.doStop = function () {\n    this.hideContextMenu();\n    this.px = null;\n  };\n\n  ak.prototype.findObjectWithContextMenu = function (a) {\n    void 0 === a && (a = null);\n    var b = this.g;\n    if (null === b) return null;\n    var c = b.Q,\n        d = null;\n    a instanceof E || (d = a instanceof G ? a : b.Pe(c.ea, null, function (a) {\n      return !a.layer.Hc;\n    }));\n\n    if (null !== d) {\n      for (a = d; null !== a;) {\n        if (null !== a.contextMenu) return a;\n        a = a.R;\n      }\n\n      if (null !== this.Em && b.Q.Aj) return d.W;\n    } else if (null !== b.contextMenu) return b;\n\n    return null;\n  };\n\n  ak.prototype.doActivate = function () {};\n\n  ak.prototype.doMouseDown = function () {\n    qg.prototype.doMouseDown.call(this);\n    null !== this.g && this.g.Va.gf.contains(this) && dk(this);\n  };\n\n  ak.prototype.doMouseUp = function () {\n    dk(this);\n  };\n\n  function dk(a) {\n    var b = a.g;\n    if (null !== b) if (a.ta) {\n      var c = a.Wl;\n\n      if (null !== c) {\n        if (!(c instanceof Yj)) {\n          var d = b.Pe(b.Q.ea, null, null);\n          null !== d && d.hm(c) && a.standardMouseClick(null, null);\n        }\n\n        a.stopTool();\n        a.canStart() && (b.Xa = a, a.doMouseUp());\n      }\n    } else a.canStart() && (Mh(a, !0), a.ta || a.stopTool());\n  }\n\n  function Mh(a, b, c) {\n    void 0 === c && (c = null);\n    b && a.standardMouseSelect();\n    if (!a.standardMouseClick()) if (a.ta = !0, b = a.Em, null === c && (c = a.findObjectWithContextMenu()), null !== c) {\n      var d = c.contextMenu;\n      null !== d ? (a.px = c instanceof G ? c : null, a.showContextMenu(d, a.px)) : null !== b && a.showContextMenu(b, a.px);\n    } else null !== b && a.showContextMenu(b, null);\n  }\n\n  ak.prototype.doMouseMove = function () {\n    this.ta && null !== this.g && this.g.Va.doMouseMove();\n  };\n\n  ak.prototype.showContextMenu = function (a, b) {\n    null !== b && w.G(b, G, ak, \"showContextMenu:obj\");\n    var c = this.g;\n\n    if (null !== c) {\n      a !== this.Wl && this.hideContextMenu();\n\n      if (a instanceof jh) {\n        a.bg = \"Tool\";\n        a.nm = !1;\n        a.scale = 1 / c.scale;\n        a.ld = this.name;\n        null !== a.placeholder && (a.placeholder.scale = c.scale);\n        var d = a.g;\n        null !== d && d !== c && d.remove(a);\n        c.add(a);\n        null !== b ? (c = null, d = b.$l(), null !== d && (c = d.data), a.ub = b, a.data = c) : a.data = c.$;\n        a.Ne();\n        this.positionContextMenu(a, b);\n      } else a instanceof Yj && a.show(b, c, this);\n\n      this.Wl = a;\n    }\n  };\n\n  ak.prototype.positionContextMenu = function (a) {\n    if (null === a.placeholder) {\n      var b = this.g;\n\n      if (null !== b) {\n        var c = b.Q.ea.copy(),\n            d = a.za,\n            e = b.sb;\n        b.Q.Aj && (c.x -= d.width);\n        c.x + d.width > e.right && (c.x -= d.width + 5 / b.scale);\n        c.x < e.x && (c.x = e.x);\n        c.y + d.height > e.bottom && (c.y -= d.height + 5 / b.scale);\n        c.y < e.y && (c.y = e.y);\n        a.position = c;\n      }\n    }\n  };\n\n  ak.prototype.hideContextMenu = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = this.Wl;\n      null !== b && (b instanceof jh ? (a.remove(b), null !== this.bz && this.bz.Ij(b.ld), b.data = null, b.ub = null) : b instanceof Yj && (null !== b.Hn ? b.Hn(a, this) : null !== b.bB && (b.bB.style.display = \"none\")), this.Wl = null, this.standardMouseOver());\n    }\n  };\n\n  function ek(a) {\n    if (null === a.g) return null;\n    a = new H(Zj);\n    a.add(new Zj(\"Copy\", function (a) {\n      a.pb.copySelection();\n    }, function (a) {\n      return a.pb.canCopySelection();\n    }));\n    a.add(new Zj(\"Cut\", function (a) {\n      a.pb.cutSelection();\n    }, function (a) {\n      return a.pb.canCutSelection();\n    }));\n    a.add(new Zj(\"Delete\", function (a) {\n      a.pb.deleteSelection();\n    }, function (a) {\n      return a.pb.canDeleteSelection();\n    }));\n    a.add(new Zj(\"Paste\", function (a) {\n      a.pb.pasteSelection(a.Q.ea);\n    }, function (a) {\n      return a.pb.canPasteSelection();\n    }));\n    a.add(new Zj(\"Select All\", function (a) {\n      a.pb.selectAll();\n    }, function (a) {\n      return a.pb.canSelectAll();\n    }));\n    a.add(new Zj(\"Undo\", function (a) {\n      a.pb.undo();\n    }, function (a) {\n      return a.pb.canUndo();\n    }));\n    a.add(new Zj(\"Redo\", function (a) {\n      a.pb.redo();\n    }, function (a) {\n      return a.pb.canRedo();\n    }));\n    a.add(new Zj(\"Scroll To Part\", function (a) {\n      a.pb.scrollToPart();\n    }, function (a) {\n      return a.pb.canScrollToPart();\n    }));\n    a.add(new Zj(\"Zoom To Fit\", function (a) {\n      a.pb.zoomToFit();\n    }, function (a) {\n      return a.pb.canZoomToFit();\n    }));\n    a.add(new Zj(\"Reset Zoom\", function (a) {\n      a.pb.resetZoom();\n    }, function (a) {\n      return a.pb.canResetZoom();\n    }));\n    a.add(new Zj(\"Group Selection\", function (a) {\n      a.pb.groupSelection();\n    }, function (a) {\n      return a.pb.canGroupSelection();\n    }));\n    a.add(new Zj(\"Ungroup Selection\", function (a) {\n      a.pb.ungroupSelection();\n    }, function (a) {\n      return a.pb.canUngroupSelection();\n    }));\n    a.add(new Zj(\"Edit Text\", function (a) {\n      a.pb.editTextBlock();\n    }, function (a) {\n      return a.pb.canEditTextBlock();\n    }));\n    return a;\n  }\n\n  ak.prototype.showDefaultContextMenu = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      null === this.dz && (this.dz = ek(this));\n      w.Wt.innerHTML = \"\";\n      w.Vt.addEventListener(\"click\", this.aA, !1);\n      var b = this,\n          c = w.createElement(\"ul\");\n      c.className = \"goCXul\";\n      w.Wt.appendChild(c);\n      c.innerHTML = \"\";\n\n      for (var d = this.dz.i; d.next();) {\n        var e = d.value,\n            f = e.visible;\n\n        if (\"function\" === typeof e.JE && (\"function\" !== typeof f || f(a))) {\n          f = w.createElement(\"li\");\n          f.className = \"goCXli\";\n          var h = w.createElement(\"a\");\n          h.className = \"goCXa\";\n          h.href = \"#\";\n          h.RG = e.JE;\n          h.addEventListener(\"click\", function (c) {\n            this.RG(a);\n            b.stopTool();\n            c.preventDefault();\n            return !1;\n          }, !1);\n          h.textContent = e.text;\n          f.appendChild(h);\n          c.appendChild(f);\n        }\n      }\n\n      w.Wt.style.display = \"block\";\n      w.Vt.style.display = \"block\";\n    }\n  };\n\n  ak.prototype.hideDefaultContextMenu = function () {\n    null !== this.Wl && this.Wl === this.Em && (w.Wt.style.display = \"none\", w.Vt.style.display = \"none\", w.Vt.removeEventListener(\"click\", this.aA, !1), this.Wl = null);\n  };\n\n  w.defineProperty(ak, {\n    Wl: \"currentContextMenu\"\n  }, function () {\n    return this.AC;\n  }, function (a) {\n    this.AC = a;\n    this.bz = a instanceof jh ? a.Ze : null;\n  });\n  w.defineProperty(ak, {\n    $K: \"defaultTouchContextMenu\"\n  }, function () {\n    return this.Em;\n  }, function (a) {\n    this.Em = a;\n  });\n  w.defineProperty(ak, {\n    px: \"currentObject\"\n  }, function () {\n    return this.DC;\n  }, function (a) {\n    null !== a && w.G(a, G, ak, \"currentObject\");\n    this.DC = a;\n  });\n  w.u(ak, {\n    zL: \"mouseDownPoint\"\n  }, function () {\n    return this.zD;\n  });\n\n  function fk() {\n    qg.call(this);\n    0 < arguments.length && w.od(fk);\n    this.name = \"DragSelecting\";\n    this.Eo = 175;\n    this.oD = !1;\n    var a = new R();\n    a.bg = \"Tool\";\n    a.nm = !1;\n    var b = new Y();\n    b.name = \"SHAPE\";\n    b.Hb = \"Rectangle\";\n    b.fill = null;\n    b.stroke = \"magenta\";\n    a.add(b);\n    this.Bm = a;\n  }\n\n  w.La(fk, qg);\n  w.ga(\"DragSelectingTool\", fk);\n\n  fk.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    if (null === a || !a.Bf) return !1;\n    var b = a.Q;\n    return !b.left || a.Xa !== this && (!this.isBeyondDragSize() || b.timestamp - a.uc.timestamp < this.QE || null !== a.eu(b.ea, !0)) ? !1 : !0;\n  };\n\n  fk.prototype.doActivate = function () {\n    var a = this.g;\n    null !== a && (this.ta = !0, a.ef = !0, a.gb = !0, a.add(this.th), this.doMouseMove());\n  };\n\n  fk.prototype.doDeactivate = function () {\n    var a = this.g;\n    null !== a && (Yh(a), a.remove(this.th), a.gb = !1, this.ta = a.ef = !1);\n  };\n\n  fk.prototype.doMouseMove = function () {\n    var a = this.g;\n\n    if (null !== a && this.ta && null !== this.th) {\n      var b = this.computeBoxBounds(),\n          c = this.th.Dd(\"SHAPE\");\n      null === c && (c = this.th.Cd());\n      c.Da = b.size;\n      this.th.position = b.position;\n      (a.re || a.se) && a.zA(a.Q.Ce);\n    }\n  };\n\n  fk.prototype.doMouseUp = function () {\n    if (this.ta) {\n      var a = this.g;\n      a.remove(this.th);\n\n      try {\n        a.kc = \"wait\", this.selectInRect(this.computeBoxBounds());\n      } finally {\n        a.kc = \"\";\n      }\n    }\n\n    this.stopTool();\n  };\n\n  fk.prototype.computeBoxBounds = function () {\n    var a = this.g;\n    return null === a ? new B(0, 0, 0, 0) : new B(a.uc.ea, a.Q.ea);\n  };\n\n  fk.prototype.selectInRect = function (a) {\n    var b = this.g;\n\n    if (null !== b) {\n      var c = b.Q;\n      b.Aa(\"ChangingSelection\");\n      a = b.Jk(a, null, function (a) {\n        return a instanceof R ? a.canSelect() : !1;\n      }, this.EI);\n      if (w.zh ? c.Iu : c.control) {\n        if (c.shift) for (a = a.i; a.next();) {\n          c = a.value, c.jb && (c.jb = !1);\n        } else for (a = a.i; a.next();) {\n          c = a.value, c.jb = !c.jb;\n        }\n      } else {\n        if (!c.shift) {\n          for (var c = new H(R), d = b.selection.i; d.next();) {\n            var e = d.value;\n            a.contains(e) || c.add(e);\n          }\n\n          for (c = c.i; c.next();) {\n            c.value.jb = !1;\n          }\n        }\n\n        for (a = a.i; a.next();) {\n          c = a.value, c.jb || (c.jb = !0);\n        }\n      }\n      b.Aa(\"ChangedSelection\");\n    }\n  };\n\n  w.defineProperty(fk, {\n    QE: \"delay\"\n  }, function () {\n    return this.Eo;\n  }, function (a) {\n    w.j(a, \"number\", fk, \"delay\");\n    this.Eo = a;\n  });\n  w.defineProperty(fk, {\n    EI: \"isPartialInclusion\"\n  }, function () {\n    return this.oD;\n  }, function (a) {\n    w.j(a, \"boolean\", fk, \"isPartialInclusion\");\n    this.oD = a;\n  });\n  w.defineProperty(fk, {\n    th: \"box\"\n  }, function () {\n    return this.Bm;\n  }, function (a) {\n    null !== a && w.G(a, R, fk, \"box\");\n    this.Bm = a;\n  });\n\n  function gk() {\n    qg.call(this);\n    0 < arguments.length && w.od(gk);\n    this.name = \"Panning\";\n    this.Lz = new z();\n    this.Qj = !1;\n    var a = this;\n\n    this.YD = function () {\n      window.document.removeEventListener(\"scroll\", a.YD, !1);\n      a.stopTool();\n    };\n  }\n\n  w.La(gk, qg);\n  w.ga(\"PanningTool\", gk);\n\n  gk.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    return null === a || !a.re && !a.se || !a.Q.left || a.Xa !== this && !this.isBeyondDragSize() ? !1 : !0;\n  };\n\n  gk.prototype.doActivate = function () {\n    var a = this.g;\n    null !== a && (this.Qj ? (a.Q.bubbles = !0, window.document.addEventListener(\"scroll\", this.YD, !1)) : (a.kc = \"move\", a.ef = !0, this.Lz = a.position.copy()), this.ta = !0);\n  };\n\n  gk.prototype.doDeactivate = function () {\n    var a = this.g;\n    null !== a && (a.kc = \"\", this.ta = a.ef = !1);\n  };\n\n  gk.prototype.doCancel = function () {\n    var a = this.g;\n    null !== a && (a.position = this.Lz, a.ef = !1);\n    this.stopTool();\n  };\n\n  gk.prototype.doMouseMove = function () {\n    this.move();\n  };\n\n  gk.prototype.doMouseUp = function () {\n    this.move();\n    this.stopTool();\n  };\n\n  gk.prototype.move = function () {\n    var a = this.g;\n    if (this.ta && a) if (this.Qj) a.Q.bubbles = !0;else {\n      var b = a.position,\n          c = a.uc.ea,\n          d = a.Q.ea,\n          e = b.x + c.x - d.x,\n          c = b.y + c.y - d.y;\n      a.re || (e = b.x);\n      a.se || (c = b.y);\n      a.position = new z(e, c);\n    }\n  };\n\n  w.defineProperty(gk, {\n    bubbles: \"bubbles\"\n  }, function () {\n    return this.Qj;\n  }, function (a) {\n    w.j(a, \"boolean\", gk, \"bubbles\");\n    this.Qj = a;\n  });\n  w.u(gk, {\n    GL: \"originalPosition\"\n  }, function () {\n    return this.Lz;\n  });\n\n  function hk() {\n    0 < arguments.length && w.od(hk);\n    qg.call(this);\n    this.name = \"TextEditing\";\n    this.Zz = this.vk = null;\n    this.XD = ik;\n    this.Kl = null;\n    this.Ta = jk;\n    this.Ms = null;\n    this.wD = 1;\n    this.RD = !0;\n    var a = new Yj();\n    this.FC = null;\n    this.NC = a;\n    this.ez = null;\n    kk(this, a);\n  }\n\n  w.ga(\"TextEditingTool\", hk);\n  w.La(hk, qg);\n  var lk;\n  hk.LostFocus = lk = w.p(hk, \"LostFocus\", 0);\n  var mk;\n  hk.MouseDown = mk = w.p(hk, \"MouseDown\", 1);\n  var nk;\n  hk.Tab = nk = w.p(hk, \"Tab\", 2);\n  var ok;\n  hk.Enter = ok = w.p(hk, \"Enter\", 3);\n  hk.SingleClick = w.p(hk, \"SingleClick\", 0);\n  var ik;\n  hk.SingleClickSelected = ik = w.p(hk, \"SingleClickSelected\", 1);\n  var pk;\n  hk.DoubleClick = pk = w.p(hk, \"DoubleClick\", 2);\n  var jk;\n  hk.StateNone = jk = w.p(hk, \"StateNone\", 0);\n  var qk;\n  hk.StateActive = qk = w.p(hk, \"StateActive\", 1);\n  var rk;\n  hk.StateEditing = rk = w.p(hk, \"StateEditing\", 2);\n  var sk;\n  hk.StateValidating = sk = w.p(hk, \"StateValidating\", 3);\n  var tk;\n  hk.StateInvalid = tk = w.p(hk, \"StateInvalid\", 4);\n  var uk;\n  hk.StateValidated = uk = w.p(hk, \"StateValidated\", 5);\n\n  function kk(a, b) {\n    var c = w.createElement(\"textarea\");\n    a.ez = c;\n    c.addEventListener(\"input\", function () {\n      if (null !== a.Xg) {\n        var b = a.WI(this.value);\n        this.style.width = 20 + b.za.width * this.RJ + \"px\";\n        this.rows = b.Ux;\n      }\n    }, !1);\n    c.addEventListener(\"keydown\", function (b) {\n      if (null !== a.Xg) {\n        var c = b.which;\n        13 === c ? (!1 === a.Xg.Nx && b.preventDefault(), a.acceptText(ok)) : 9 === c ? (a.acceptText(nk), b.preventDefault()) : 27 === c && (a.doCancel(), null !== a.g && a.g.doFocus());\n      }\n    }, !1);\n    c.addEventListener(\"focus\", function () {\n      vk(a);\n    }, !1);\n    c.addEventListener(\"blur\", function () {\n      wk(a);\n    }, !1);\n\n    b.WB = function () {\n      return c.value;\n    };\n\n    b.bB = c;\n\n    b.show = function (a, b, f) {\n      if (f.state === tk) c.style.border = \"3px solid red\", c.focus();else {\n        var h = a.Ya(Jb),\n            k = b.position,\n            l = b.scale,\n            m = a.vj() * l;\n        m < f.RF && (m = f.RF);\n        var n = a.Ja.width * m + 6,\n            p = a.Ja.height * m + 2,\n            q = (h.x - k.x) * l,\n            h = (h.y - k.y) * l;\n        c.value = a.text;\n        b.tj.style.font = a.font;\n        c.style.position = \"absolute\";\n        c.style.zIndex = \"100\";\n        c.style.font = \"inherit\";\n        c.style.fontSize = 100 * m + \"%\";\n        c.style.lineHeight = \"normal\";\n        c.style.width = n + \"px\";\n        c.style.left = (q - n / 2 | 0) - 1 + \"px\";\n        c.style.top = (h - p / 2 | 0) - 1 + \"px\";\n        c.style.textAlign = a.textAlign;\n        c.style.margin = \"0\";\n        c.style.padding = \"1px\";\n        c.style.border = \"0\";\n        c.style.outline = \"none\";\n        c.style.whiteSpace = \"pre-wrap\";\n        c.style.overflow = \" hidden\";\n        c.rows = a.Ux;\n        c.RJ = m;\n        b.tj.appendChild(c);\n        c.focus();\n        f.wy && (c.select(), c.setSelectionRange(0, 9999));\n      }\n    };\n\n    b.Hn = function (a) {\n      a.tj.removeChild(c);\n    };\n  }\n\n  w.defineProperty(hk, {\n    Xg: \"textBlock\"\n  }, function () {\n    return this.Zz;\n  }, function (a) {\n    null !== a && w.G(a, Lh, hk, \"textBlock\");\n    this.Zz = a;\n  });\n  w.defineProperty(hk, {\n    rj: \"currentTextEditor\"\n  }, function () {\n    return this.FC;\n  }, function (a) {\n    this.FC = a;\n  });\n  w.defineProperty(hk, {\n    NH: \"defaultTextEditor\"\n  }, function () {\n    return this.NC;\n  }, function (a) {\n    this.NC = a;\n  });\n  w.defineProperty(hk, {\n    xG: \"starting\"\n  }, function () {\n    return this.XD;\n  }, function (a) {\n    w.ob(a, hk, hk, \"starting\");\n    this.XD = a;\n  });\n\n  hk.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    if (null === a || a.ib || !a.Q.left || this.isBeyondDragSize()) return !1;\n    var b = a.Pe(a.Q.ea);\n    if (!(null !== b && b instanceof Lh && b.AA && b.W.canEdit())) return !1;\n    b = b.W;\n    return null === b || this.xG === ik && !b.jb || this.xG === pk && 2 > a.Q.te ? !1 : !0;\n  };\n\n  hk.prototype.doStart = function () {\n    this.ta || null === this.Xg || this.doActivate();\n  };\n\n  hk.prototype.doActivate = function () {\n    if (!this.ta) {\n      var a = this.g;\n\n      if (null !== a) {\n        var b = this.Xg;\n        null === b && (b = a.Pe(a.Q.ea));\n\n        if (null !== b && b instanceof Lh && (this.Xg = b, null !== b.W)) {\n          this.ta = !0;\n          this.Ta = qk;\n          var c = this.NH;\n          null !== b.BG && (c = b.BG);\n          this.vk = this.Xg.copy();\n          var d = new B(this.Xg.Ya(zb), this.Xg.Ya(Wb));\n          a.lG(d);\n          if (c instanceof Yj) c.show(b, a, this);else {\n            c.style.position = \"absolute\";\n            c.style.zIndex = \"100\";\n            c.textEditingTool = this;\n            if (\"function\" === typeof c.onActivate) c.onActivate();\n            a.tj.appendChild(c);\n            \"function\" === typeof c.focus && c.focus();\n            \"function\" === typeof c.select && this.wy && (c.select(), c.setSelectionRange(0, 9999));\n          }\n          this.rj = c;\n        }\n      }\n    }\n  };\n\n  hk.prototype.doCancel = function () {\n    null !== this.Ms && this.rj instanceof HTMLElement && (this.rj.style.border = this.Ms, this.Ms = null);\n    this.stopTool();\n  };\n\n  hk.prototype.doMouseUp = function () {\n    !this.ta && this.canStart() && this.doActivate();\n  };\n\n  hk.prototype.doMouseDown = function () {\n    this.ta && this.acceptText(mk);\n  };\n\n  hk.prototype.acceptText = function (a) {\n    switch (a) {\n      case mk:\n        if (this.Ta === uk) this.rj instanceof HTMLElement && this.rj.focus();else if (this.Ta === qk || this.Ta === tk || this.Ta === rk) this.Ta = sk, xk(this);\n        break;\n\n      case lk:\n      case ok:\n      case nk:\n        if (ok === a && !0 === this.Zz.Nx) break;\n        if (this.Ta === qk || this.Ta === tk || this.Ta === rk) this.Ta = sk, xk(this);\n    }\n  };\n\n  function xk(a) {\n    var b = a.Xg,\n        c = a.g,\n        d = a.rj;\n\n    if (null !== b && null !== d) {\n      var e = b.text,\n          f = \"\";\n      d instanceof Yj ? null !== d.WB && (f = d.WB()) : (f = d.value, f = \"function\" === typeof f ? f() : f);\n      a.isValidText(b, e, f) ? (a.Kb(a.name), a.Ta = uk, a.Lf = a.name, b.text = f, null !== b.AG && b.AG(b, e, f), null !== c && c.Aa(\"TextEdited\", b, e), a.Wk(), a.stopTool(), null !== c && c.doFocus()) : (a.Ta = tk, null !== b.BA && b.BA(a, e, f), d instanceof Yj ? d.show(b, c, a) : (null === a.Ms && (a.Ms = d.style.border, d.style.border = \"3px solid red\"), \"function\" === typeof d.focus && d.focus()));\n    }\n  }\n\n  hk.prototype.doDeactivate = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      this.Ta = jk;\n      this.Xg = null;\n\n      if (null !== this.rj) {\n        var b = this.rj;\n        if (b instanceof Yj) b.Hn(a, this);else {\n          if (\"function\" === typeof b.onDeactivate) b.onDeactivate();\n          null !== b && a.tj.removeChild(b);\n        }\n      }\n\n      this.ta = !1;\n    }\n  };\n\n  hk.prototype.doFocus = function () {\n    vk(this);\n  };\n\n  hk.prototype.doBlur = function () {\n    wk(this);\n  };\n\n  function vk(a) {\n    if (null !== a.rj && a.state !== jk) {\n      var b = a.ez;\n      a.Ta === qk && (a.Ta = rk);\n      \"function\" === typeof b.select && a.wy && (b.select(), b.setSelectionRange(0, 9999));\n    }\n  }\n\n  function wk(a) {\n    if (null !== a.rj && a.state !== jk) {\n      var b = a.ez;\n      \"function\" === typeof b.focus && b.focus();\n      \"function\" === typeof b.select && a.wy && (b.select(), b.setSelectionRange(0, 9999));\n    }\n  }\n\n  hk.prototype.isValidText = function (a, b, c) {\n    w.G(a, Lh, hk, \"isValidText:textblock\");\n    var d = this.MB;\n    if (null !== d && !d(a, b, c)) return !1;\n    d = a.MB;\n    return null === d || d(a, b, c) ? !0 : !1;\n  };\n\n  w.defineProperty(hk, {\n    MB: \"textValidation\"\n  }, function () {\n    return this.Kl;\n  }, function (a) {\n    null !== a && w.j(a, \"function\", hk, \"textValidation\");\n    this.Kl = a;\n  });\n  w.defineProperty(hk, {\n    RF: \"minimumEditorScale\"\n  }, function () {\n    return this.wD;\n  }, function (a) {\n    null !== a && w.j(a, \"number\", hk, \"minimumEditorScale\");\n    this.wD = a;\n  });\n  w.defineProperty(hk, {\n    wy: \"selectsTextOnActivate\"\n  }, function () {\n    return this.RD;\n  }, function (a) {\n    null !== a && w.j(a, \"boolean\", hk, \"selectsTextOnActivate\");\n    this.RD = a;\n  });\n  w.defineProperty(hk, {\n    state: \"state\"\n  }, function () {\n    return this.Ta;\n  }, function (a) {\n    this.Ta !== a && (w.ob(a, hk, hk, \"starting\"), this.Ta = a);\n  });\n\n  hk.prototype.measureTemporaryTextBlock = hk.prototype.WI = function (a) {\n    var b = this.vk;\n    b.text = a;\n    yk(b, this.Xg.Yo, Infinity);\n    return b;\n  };\n\n  function hh() {\n    qg.call(this);\n    this.name = \"ToolManager\";\n    this.WG = new H(qg);\n    this.XG = new H(qg);\n    this.YG = new H(qg);\n    this.bD = this.cD = 850;\n    this.SC = new ia(2, 2).Ha();\n    this.jE = 5E3;\n    this.AD = Ph;\n    this.$C = zk;\n    this.Fv = this.GC = null;\n    this.ln = -1;\n  }\n\n  w.La(hh, qg);\n  w.ga(\"ToolManager\", hh);\n  var Ph;\n  hh.WheelScroll = Ph = w.p(hh, \"WheelScroll\", 0);\n  var Oh;\n  hh.WheelZoom = Oh = w.p(hh, \"WheelZoom\", 1);\n  hh.WheelNone = w.p(hh, \"WheelNone\", 2);\n  var zk;\n  hh.GestureZoom = zk = w.p(hh, \"GestureZoom\", 3);\n  var Ak;\n  hh.GestureCancel = Ak = w.p(hh, \"GestureCancel\", 4);\n  var Bk;\n  hh.GestureNone = Bk = w.p(hh, \"GestureNone\", 5);\n  w.defineProperty(hh, {\n    Lu: \"mouseWheelBehavior\"\n  }, function () {\n    return this.AD;\n  }, function (a) {\n    w.ob(a, hh, hh, \"mouseWheelBehavior\");\n    this.AD = a;\n  });\n  w.defineProperty(hh, {\n    Mk: \"gestureBehavior\"\n  }, function () {\n    return this.$C;\n  }, function (a) {\n    w.ob(a, hh, hh, \"gestureBehavior\");\n    this.$C = a;\n  });\n\n  hh.prototype.initializeStandardTools = function () {\n    this.iH = new Wj();\n    this.$F = new Uh();\n    this.NI = new oj();\n    this.jG = new Nj();\n    this.zJ = new Tj();\n    this.NF = new ej();\n    this.de = new nh();\n    this.SH = new fk();\n    this.kJ = new gk();\n    this.tA = new ak();\n    this.LB = new hk();\n    this.vH = new Xj();\n    this.wH = new Vj();\n  };\n\n  hh.prototype.updateAdornments = function (a) {\n    var b = this.Xl;\n\n    if (b instanceof jh && this.Fv === a) {\n      var c = b.ub;\n      (null !== a ? c.W === a : null === c) ? this.showToolTip(b, c) : this.hideToolTip();\n    }\n  };\n\n  hh.prototype.doMouseDown = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.Q;\n      b.Aj && this.Mk === Ak && (b.bubbles = !1);\n\n      if (b.zu) {\n        this.cancelWaitAfter();\n\n        if (this.Mk === Bk) {\n          b.bubbles = !0;\n          return;\n        }\n\n        if (this.Mk === Ak) return;\n\n        if (a.Xa.canStartMultiTouch()) {\n          a.Xa.standardPinchZoomStart();\n          return;\n        }\n      }\n\n      var c = a.ja;\n      c.nA && 0 !== c.wi && w.trace(\"WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero\");\n\n      for (var c = this.gf.length, d = 0; d < c; d++) {\n        var e = this.gf.fa(d);\n        null === e.g && e.Tc(this.g);\n\n        if (e.canStart()) {\n          a.doFocus();\n          a.Xa = e;\n          a.Xa === e && (e.ta || e.doActivate(), e.doMouseDown());\n          return;\n        }\n      }\n\n      1 === a.Q.button && (this.Lu === Ph ? this.Lu = Oh : this.Lu === Oh && (this.Lu = Ph));\n      this.doActivate();\n      this.standardWaitAfter(this.tF, b);\n    }\n  };\n\n  hh.prototype.doMouseMove = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.Q;\n\n      if (b.zu) {\n        if (this.Mk === Bk) {\n          b.bubbles = !0;\n          return;\n        }\n\n        if (this.Mk === Ak) return;\n\n        if (a.Xa.canStartMultiTouch()) {\n          a.Xa.standardPinchZoomMove();\n          return;\n        }\n      }\n\n      if (this.ta) for (var c = this.eg.length, d = 0; d < c; d++) {\n        var e = this.eg.fa(d);\n        null === e.g && e.Tc(this.g);\n\n        if (e.canStart()) {\n          a.doFocus();\n          a.Xa = e;\n          a.Xa === e && (e.ta || e.doActivate(), e.doMouseMove());\n          return;\n        }\n      }\n      Ck(this, a);\n      a = b.event;\n      null === a || \"mousemove\" !== a.type && \"pointermove\" !== a.type && a.cancelable || (b.bubbles = !0);\n    }\n  };\n\n  function Ck(a, b) {\n    a.standardMouseOver();\n    a.isBeyondDragSize() && a.standardWaitAfter(a.ta ? a.tF : a.qI, b.Q);\n  }\n\n  hh.prototype.doCurrentObjectChanged = function (a, b) {\n    var c = this.Xl;\n    null === c || null !== b && c instanceof jh && (b === c || b.hm(c)) || this.hideToolTip();\n  };\n\n  hh.prototype.doWaitAfter = function (a) {\n    var b = this.g;\n    null !== b && b.zb && (this.doMouseHover(), this.ta || this.doToolTip(), a.Aj && !b.Q.vc && (a = a.copy(), a.button = 2, a.buttons = 2, b.Q = a, b.zp = !0, b.doMouseUp()));\n  };\n\n  hh.prototype.doMouseHover = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.Q;\n      null === b.Be && (b.Be = a.Pe(b.ea, null, null));\n      var c = b.Be;\n      if (null !== c) for (b.vc = !1; null !== c;) {\n        a = this.ta ? c.gB : c.hB;\n        if (null !== a && (a(b, c), b.vc)) break;\n        c = c.R;\n      } else c = this.ta ? a.gB : a.hB, null !== c && c(b);\n    }\n  };\n\n  hh.prototype.doToolTip = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      var b = a.Q;\n      null === b.Be && (b.Be = a.Pe(b.ea, null, null));\n      b = b.Be;\n\n      if (null !== b) {\n        if (a = this.Xl, !(a instanceof jh) || b !== a && !b.hm(a)) {\n          for (; null !== b;) {\n            a = b.OB;\n\n            if (null !== a) {\n              this.showToolTip(a, b);\n              return;\n            }\n\n            b = b.R;\n          }\n\n          this.hideToolTip();\n        }\n      } else a = a.OB, null !== a ? this.showToolTip(a, null) : this.hideToolTip();\n    }\n  };\n\n  hh.prototype.showToolTip = function (a, b) {\n    null !== b && w.G(b, G, hh, \"showToolTip:obj\");\n    var c = this.g;\n\n    if (null !== c) {\n      a !== this.Xl && this.hideToolTip();\n\n      if (a instanceof jh) {\n        a.bg = \"Tool\";\n        a.nm = !1;\n        a.scale = 1 / c.scale;\n        a.ld = \"ToolTip\";\n        null !== a.placeholder && (a.placeholder.scale = c.scale);\n        var d = a.g;\n        null !== d && d !== c && d.remove(a);\n        c.add(a);\n        null !== b ? (c = null, d = b.$l(), null !== d && (c = d.data), a.ub = b, a.data = c) : a.data = c.$;\n        a.Ne();\n        this.positionToolTip(a, b);\n      } else a instanceof Yj && a !== this.Xl && a.show(b, c, this);\n\n      this.Xl = a;\n      -1 !== this.ln && (w.clearTimeout(this.ln), this.ln = -1);\n      c = this.WJ;\n\n      if (0 < c && Infinity !== c) {\n        var e = this;\n        this.ln = w.setTimeout(function () {\n          e.hideToolTip();\n        }, c);\n      }\n    }\n  };\n\n  hh.prototype.positionToolTip = function (a) {\n    if (null === a.placeholder) {\n      var b = this.g;\n\n      if (null !== b) {\n        var c = b.Q.ea.copy(),\n            d = a.za,\n            e = b.sb;\n        b.Q.Aj && (c.x -= d.width);\n        c.x + d.width > e.right && (c.x -= d.width + 5 / b.scale);\n        c.x < e.x && (c.x = e.x);\n        c.y = c.y + 20 / b.scale + d.height > e.bottom ? c.y - (d.height + 5 / b.scale) : c.y + 20 / b.scale;\n        c.y < e.y && (c.y = e.y);\n        a.position = c;\n      }\n    }\n  };\n\n  hh.prototype.hideToolTip = function () {\n    -1 !== this.ln && (w.clearTimeout(this.ln), this.ln = -1);\n    var a = this.g;\n\n    if (null !== a) {\n      var b = this.Xl;\n      null !== b && (b instanceof jh ? (a.remove(b), null !== this.Fv && this.Fv.Ij(b.ld), b.data = null, b.ub = null) : b instanceof Yj && null !== b.Hn && b.Hn(a, this), this.Xl = null);\n    }\n  };\n\n  w.defineProperty(hh, {\n    Xl: \"currentToolTip\"\n  }, function () {\n    return this.GC;\n  }, function (a) {\n    this.GC = a;\n    this.Fv = null !== a && a instanceof jh ? a.Ze : null;\n  });\n\n  hh.prototype.doMouseUp = function () {\n    this.cancelWaitAfter();\n    var a = this.g;\n\n    if (null !== a) {\n      if (this.ta) for (var b = this.fg.length, c = 0; c < b; c++) {\n        var d = this.fg.fa(c);\n        null === d.g && d.Tc(this.g);\n\n        if (d.canStart()) {\n          a.doFocus();\n          a.Xa = d;\n          a.Xa === d && (d.ta || d.doActivate(), d.doMouseUp());\n          return;\n        }\n      }\n      a.doFocus();\n      this.doDeactivate();\n    }\n  };\n\n  hh.prototype.doMouseWheel = function () {\n    this.standardMouseWheel();\n  };\n\n  hh.prototype.doKeyDown = function () {\n    var a = this.g;\n    null !== a && a.pb.doKeyDown();\n  };\n\n  hh.prototype.doKeyUp = function () {\n    var a = this.g;\n    null !== a && a.pb.doKeyUp();\n  };\n\n  hh.prototype.doCancel = function () {\n    null !== Sh && Sh.doCancel();\n    qg.prototype.doCancel.call(this);\n  };\n\n  hh.prototype.findTool = function (a) {\n    w.j(a, \"string\", hh, \"findTool:name\");\n\n    for (var b = this.gf.length, c = 0; c < b; c++) {\n      var d = this.gf.fa(c);\n      if (d.name === a) return d;\n    }\n\n    b = this.eg.length;\n\n    for (c = 0; c < b; c++) {\n      if (d = this.eg.fa(c), d.name === a) return d;\n    }\n\n    b = this.fg.length;\n\n    for (c = 0; c < b; c++) {\n      if (d = this.fg.fa(c), d.name === a) return d;\n    }\n\n    return null;\n  };\n\n  hh.prototype.replaceTool = function (a, b) {\n    w.j(a, \"string\", hh, \"replaceTool:name\");\n    null !== b && (w.G(b, qg, hh, \"replaceTool:newtool\"), b.g && b.g !== this.g && w.k(\"Cannot share tools between Diagrams: \" + b.toString()), b.Tc(this.g));\n\n    for (var c = this.gf.length, d = 0; d < c; d++) {\n      var e = this.gf.fa(d);\n      if (e.name === a) return null !== b ? this.gf.kg(d, b) : this.gf.dd(d), e;\n    }\n\n    c = this.eg.length;\n\n    for (d = 0; d < c; d++) {\n      if (e = this.eg.fa(d), e.name === a) return null !== b ? this.eg.kg(d, b) : this.eg.dd(d), e;\n    }\n\n    c = this.fg.length;\n\n    for (d = 0; d < c; d++) {\n      if (e = this.fg.fa(d), e.name === a) return null !== b ? this.fg.kg(d, b) : this.fg.dd(d), e;\n    }\n\n    return null;\n  };\n\n  function Dk(a, b, c, d) {\n    w.j(b, \"string\", hh, \"replaceStandardTool:name\");\n    w.G(d, H, hh, \"replaceStandardTool:list\");\n    null !== c && (w.G(c, qg, hh, \"replaceStandardTool:newtool\"), c.g && c.g !== a.g && w.k(\"Cannot share tools between Diagrams: \" + c.toString()), c.name = b, c.Tc(a.g));\n    a.findTool(b) ? a.replaceTool(b, c) : null !== c && d.add(c);\n  }\n\n  w.u(hh, {\n    gf: \"mouseDownTools\"\n  }, function () {\n    return this.WG;\n  });\n  w.u(hh, {\n    eg: \"mouseMoveTools\"\n  }, function () {\n    return this.XG;\n  });\n  w.u(hh, {\n    fg: \"mouseUpTools\"\n  }, function () {\n    return this.YG;\n  });\n  w.defineProperty(hh, {\n    qI: \"hoverDelay\"\n  }, function () {\n    return this.cD;\n  }, function (a) {\n    w.j(a, \"number\", hh, \"hoverDelay\");\n    this.cD = a;\n  });\n  w.defineProperty(hh, {\n    tF: \"holdDelay\"\n  }, function () {\n    return this.bD;\n  }, function (a) {\n    w.j(a, \"number\", hh, \"holdDelay\");\n    this.bD = a;\n  });\n  w.defineProperty(hh, {\n    TH: \"dragSize\"\n  }, function () {\n    return this.SC;\n  }, function (a) {\n    w.G(a, ia, hh, \"dragSize\");\n    this.SC = a.S();\n  });\n  w.defineProperty(hh, {\n    WJ: \"toolTipDuration\"\n  }, function () {\n    return this.jE;\n  }, function (a) {\n    w.j(a, \"number\", hh, \"toolTipDuration\");\n    this.jE = a;\n  });\n  w.defineProperty(hh, {\n    iH: \"actionTool\"\n  }, function () {\n    return this.findTool(\"Action\");\n  }, function (a) {\n    Dk(this, \"Action\", a, this.gf);\n  });\n  w.defineProperty(hh, {\n    $F: \"relinkingTool\"\n  }, function () {\n    return this.findTool(\"Relinking\");\n  }, function (a) {\n    Dk(this, \"Relinking\", a, this.gf);\n  });\n  w.defineProperty(hh, {\n    NI: \"linkReshapingTool\"\n  }, function () {\n    return this.findTool(\"LinkReshaping\");\n  }, function (a) {\n    Dk(this, \"LinkReshaping\", a, this.gf);\n  });\n  w.defineProperty(hh, {\n    jG: \"resizingTool\"\n  }, function () {\n    return this.findTool(\"Resizing\");\n  }, function (a) {\n    Dk(this, \"Resizing\", a, this.gf);\n  });\n  w.defineProperty(hh, {\n    zJ: \"rotatingTool\"\n  }, function () {\n    return this.findTool(\"Rotating\");\n  }, function (a) {\n    Dk(this, \"Rotating\", a, this.gf);\n  });\n  w.defineProperty(hh, {\n    NF: \"linkingTool\"\n  }, function () {\n    return this.findTool(\"Linking\");\n  }, function (a) {\n    Dk(this, \"Linking\", a, this.eg);\n  });\n  w.defineProperty(hh, {\n    de: \"draggingTool\"\n  }, function () {\n    return this.findTool(\"Dragging\");\n  }, function (a) {\n    Dk(this, \"Dragging\", a, this.eg);\n  });\n  w.defineProperty(hh, {\n    SH: \"dragSelectingTool\"\n  }, function () {\n    return this.findTool(\"DragSelecting\");\n  }, function (a) {\n    Dk(this, \"DragSelecting\", a, this.eg);\n  });\n  w.defineProperty(hh, {\n    kJ: \"panningTool\"\n  }, function () {\n    return this.findTool(\"Panning\");\n  }, function (a) {\n    Dk(this, \"Panning\", a, this.eg);\n  });\n  w.defineProperty(hh, {\n    tA: \"contextMenuTool\"\n  }, function () {\n    return this.findTool(\"ContextMenu\");\n  }, function (a) {\n    Dk(this, \"ContextMenu\", a, this.fg);\n  });\n  w.defineProperty(hh, {\n    LB: \"textEditingTool\"\n  }, function () {\n    return this.findTool(\"TextEditing\");\n  }, function (a) {\n    Dk(this, \"TextEditing\", a, this.fg);\n  });\n  w.defineProperty(hh, {\n    vH: \"clickCreatingTool\"\n  }, function () {\n    return this.findTool(\"ClickCreating\");\n  }, function (a) {\n    Dk(this, \"ClickCreating\", a, this.fg);\n  });\n  w.defineProperty(hh, {\n    wH: \"clickSelectingTool\"\n  }, function () {\n    return this.findTool(\"ClickSelecting\");\n  }, function (a) {\n    Dk(this, \"ClickSelecting\", a, this.fg);\n  });\n\n  function Wg() {\n    this.HC = Ek;\n    this.wr = this.xr = this.aa = null;\n    this.ym = this.yr = this.zr = 0;\n    this.qo = this.sc = this.Uo = this.dk = !1;\n    this.wl = this.jf = !0;\n    this.Dv = this.Cv = this.CC = null;\n    this.BC = 0;\n    this.Ev = null;\n    this.sv = new I(\"string\");\n    this.mz = 600;\n    this.ZG = new z(0, 0);\n    this.pC = this.oC = this.mE = !1;\n    this.Wm = new ma(G, Fk);\n  }\n\n  w.ga(\"AnimationManager\", Wg);\n\n  Wg.prototype.Tc = function (a) {\n    this.aa = a;\n  };\n\n  function Ek(a, b, c, d) {\n    a /= d / 2;\n    return 1 > a ? c / 2 * a * a + b : -c / 2 * (--a * (a - 2) - 1) + b;\n  }\n\n  w.u(Wg, {\n    CK: \"animationReasons\"\n  }, function () {\n    return this.sv;\n  });\n\n  Wg.prototype.canStart = function () {\n    return !0;\n  };\n\n  Wg.prototype.prepareAutomaticAnimation = Wg.prototype.Yn = function (a) {\n    this.jf && (this.wl || this.aa.Kn) && (this.sv.add(a), this.canStart(a) && (this.dk && this.Ih(), this.sc = !0));\n  };\n\n  function Gk(a) {\n    if (a.jf && (a.sv.clear(), a.sc)) if (!a.qo) a.sc = !1;else if (0 === a.ym) {\n      var b = +new Date();\n      a.ym = b;\n      requestAnimationFrame(function () {\n        if (!1 !== a.sc && !a.dk && a.ym === b) {\n          var c = a.aa;\n          c.Ok(\"temporaryPixelRatio\") && (c.uk = 1);\n          Hk(c);\n          a.sc = !1;\n          c.Aa(\"AnimationStarting\");\n          Uk(a, b);\n        }\n      });\n    }\n  }\n\n  function Vk(a, b, c, d, e, f) {\n    if (!(!a.sc || \"position\" === c && d.L(e) || b instanceof R && !b.xF)) {\n      var h = a.Wm;\n\n      if (h.contains(b)) {\n        var h = h.ka(b),\n            k = h.start,\n            l = h.end;\n        void 0 === k[c] && (k[c] = Wk(d));\n        h.ox && void 0 !== l[c] ? h.au[c] = Wk(e) : (f || (h.au[c] = Wk(e)), l[c] = Wk(e));\n        f && 0 === c.indexOf(\"position:\") && b instanceof R && (h.au.location = Wk(b.location));\n      } else k = new ra(), l = new ra(), k[c] = Wk(d), l[c] = Wk(e), d = l, e = k.position, e instanceof z && !e.I() && a.sv.contains(\"Expand SubGraph\") && e.assign(d.position), k = new Fk(k, l, f), f && 0 === c.indexOf(\"position:\") && b instanceof R && (k.au.location = Wk(b.location)), h.add(b, k);\n\n      a.qo = !0;\n    }\n  }\n\n  function Wk(a) {\n    return a instanceof z ? a.copy() : a instanceof ia ? a.copy() : a;\n  }\n\n  function Uk(a, b) {\n    var c;\n\n    function d() {\n      if (!1 !== f.dk && f.ym === b) {\n        var a = +new Date(),\n            c = a > s ? m : a - r;\n        Xk(f);\n        bl(f, e, q, h, c, m);\n        f.Cv && f.Cv();\n        Si(e);\n        cl(f);\n        a > s ? dl(f) : requestAnimationFrame(d);\n      }\n    }\n\n    void 0 === c && (c = new ra());\n    var e = a.aa;\n\n    if (null !== e) {\n      var f = a,\n          h = c.cL || a.HC,\n          k = c.BL || null,\n          l = c.CL || null,\n          m = c.duration || a.mz,\n          n = a.ZG;\n\n      for (c = a.Wm.i; c.next();) {\n        var p = c.value.start.position;\n        p instanceof z && (p.I() || p.assign(n));\n      }\n\n      a.CC = h;\n      a.Cv = k;\n      a.Dv = l;\n      a.BC = m;\n      a.Ev = a.Wm;\n      var q = a.Ev;\n\n      for (c = q.i; c.next();) {\n        k = c.value.end, k[\"position:placeholder\"] && (l = c.key.findVisibleNode(), l instanceof V && null !== l.placeholder && (l = l.placeholder, n = l.Ya(zb), n.x += l.padding.left, n.y += l.padding.top, k[\"position:placeholder\"] = n));\n      }\n\n      a.dk = !0;\n      Xk(a);\n      bl(a, e, q, h, 0, m);\n      Si(a.aa, !0);\n      cl(a);\n      var r = +new Date(),\n          s = r + m;\n      f.ym === b && requestAnimationFrame(function () {\n        d();\n      });\n    }\n  }\n\n  function Xk(a) {\n    if (!a.Uo) {\n      var b = a.aa;\n      a.mE = b.gb;\n      a.oC = b.Re;\n      a.pC = b.eo;\n      b.gb = !0;\n      b.Re = !0;\n      b.eo = !0;\n      a.Uo = !0;\n    }\n  }\n\n  function cl(a) {\n    var b = a.aa;\n    b.gb = a.mE;\n    b.Re = a.oC;\n    b.eo = a.pC;\n    a.Uo = !1;\n  }\n\n  function bl(a, b, c, d, e, f) {\n    for (c = c.i; c.next();) {\n      var h = c.key,\n          k = c.value,\n          l = k.start,\n          k = k.end,\n          m;\n\n      for (m in k) {\n        if ((\"position\" !== m || !k[\"position:placeholder\"] && !k[\"position:node\"]) && void 0 !== el[m]) el[m](h, l[m], k[m], d, e, f);\n      }\n    }\n\n    d = b.TA;\n    b.TA = !0;\n    m = a.HC;\n    0 !== a.zr && 0 !== a.yr && (c = a.zr, b.rb = m(e, c, a.yr - c, f));\n    null !== a.xr && null !== a.wr && (c = a.xr, a = a.wr, b.ab = new z(m(e, c.x, a.x - c.x, f), m(e, c.y, a.y - c.y, f)));\n    b.TA = d;\n  }\n\n  Wg.prototype.stopAnimation = Wg.prototype.Ih = function () {\n    !0 === this.sc && (this.sc = !1, this.ym = 0, this.qo && this.aa.ye());\n    this.dk && this.jf && dl(this);\n  };\n\n  function dl(a) {\n    a.dk = !1;\n    a.qo = !1;\n    Xk(a);\n\n    for (var b = a.aa, c = a.CC, d = a.BC, e = a.Ev.i; e.next();) {\n      var f = e.key,\n          h = e.value,\n          k = h.start,\n          l = h.end,\n          m = h.au,\n          n;\n\n      for (n in l) {\n        if (void 0 !== el[n]) {\n          var p = n;\n          !h.ox || \"position:node\" !== p && \"position:placeholder\" !== p || (p = \"position\");\n          el[p](f, k[n], void 0 !== m[n] ? m[n] : h.ox ? k[n] : l[n], c, d, d);\n        }\n      }\n\n      h.ox && void 0 !== m.location && f instanceof R && (f.location = m.location);\n      h.my && f instanceof R && f.Ed(!1);\n    }\n\n    for (c = a.aa.links; c.next();) {\n      d = c.value, null !== d.np && (d.points = d.np, d.np = null);\n    }\n\n    b.Xx.clear();\n    b.uk = null;\n    b.Gc();\n    b.oa();\n    b.dg();\n    fl(b);\n    cl(a);\n    a.Dv && a.Dv();\n    a.ym = 0;\n    a.Ev = null;\n    a.Dv = null;\n    a.Cv = null;\n    a.xr = null;\n    a.wr = null;\n    a.zr = 0;\n    a.yr = 0;\n    a.Wm = new ma(G, Fk);\n    b.Aa(\"AnimationFinished\");\n    b.ye();\n  }\n\n  function gl(a, b, c) {\n    var d = b.U,\n        e = c.U,\n        f = null;\n    c instanceof V && (f = c.placeholder);\n    null !== f ? (d = f.Ya(zb), d.x += f.padding.left, d.y += f.padding.top, Vk(a, b, \"position\", d, b.position, !1)) : Vk(a, b, \"position\", new z(e.x + e.width / 2 - d.width / 2, e.y + e.height / 2 - d.height / 2), b.position, !1);\n    Vk(a, b, \"scale\", .01, b.scale, !1);\n    if (b instanceof V) for (b = b.hc; b.next();) {\n      f = b.value, f instanceof T && gl(a, f, c);\n    }\n  }\n\n  function hl(a, b, c) {\n    if (b.isVisible()) {\n      var d = null;\n      c instanceof V && (d = c.placeholder);\n      null !== d ? Vk(a, b, \"position:placeholder\", b.position, d, !0) : Vk(a, b, \"position:node\", b.position, c, !0);\n      Vk(a, b, \"scale\", b.scale, .01, !0);\n      a.sc && (d = a.Wm, d.contains(b) && (d.ka(b).my = !0));\n      if (b instanceof V) for (b = b.hc; b.next();) {\n        d = b.value, d instanceof T && hl(a, d, c);\n      }\n    }\n  }\n\n  function il(a, b, c) {\n    a.sc && (null === a.xr && b.I() && null === a.wr && (a.xr = b.copy()), a.wr = c.copy(), a.qo = !0);\n  }\n\n  function jl(a, b, c) {\n    a.sc && a.aa.Kn && (0 === a.zr && 0 === a.yr && (a.zr = b), a.yr = c, a.qo = !0);\n  }\n\n  w.defineProperty(Wg, {\n    isEnabled: \"isEnabled\"\n  }, function () {\n    return this.jf;\n  }, function (a) {\n    w.j(a, \"boolean\", Wg, \"isEnabled\");\n    this.jf = a;\n  });\n  w.defineProperty(Wg, {\n    duration: \"duration\"\n  }, function () {\n    return this.mz;\n  }, function (a) {\n    w.j(a, \"number\", Wg, \"duration\");\n    1 > a && w.Fa(a, \">= 1\", Wg, \"duration\");\n    this.mz = a;\n  });\n  w.u(Wg, {\n    df: \"isAnimating\"\n  }, function () {\n    return this.dk;\n  });\n  w.u(Wg, {\n    FI: \"isTicking\"\n  }, function () {\n    return this.Uo;\n  });\n  w.defineProperty(Wg, {\n    EF: \"isInitial\"\n  }, function () {\n    return this.wl;\n  }, function (a) {\n    w.j(a, \"boolean\", Wg, \"isInitial\");\n    this.wl = a;\n  });\n\n  function Fk(a, b, c) {\n    this.start = a;\n    this.end = b;\n    this.au = new ra();\n    this.ox = c;\n    this.my = !1;\n  }\n\n  var el = {\n    opacity: function opacity(a, b, c, d, e, f) {\n      a.opacity = d(e, b, c - b, f);\n    },\n    position: function position(a, b, c, d, e, f) {\n      e !== f ? a.Ay(d(e, b.x, c.x - b.x, f), d(e, b.y, c.y - b.y, f)) : a.position = new z(d(e, b.x, c.x - b.x, f), d(e, b.y, c.y - b.y, f));\n    },\n    \"position:node\": function positionNode(a, b, c, d, e, f) {\n      var h = a.U,\n          k = c.U;\n      c = k.x + k.width / 2 - h.width / 2;\n      h = k.y + k.height / 2 - h.height / 2;\n      e !== f ? a.Ay(d(e, b.x, c - b.x, f), d(e, b.y, h - b.y, f)) : a.position = new z(d(e, b.x, c - b.x, f), d(e, b.y, h - b.y, f));\n    },\n    \"position:placeholder\": function positionPlaceholder(a, b, c, d, e, f) {\n      e !== f ? a.Ay(d(e, b.x, c.x - b.x, f), d(e, b.y, c.y - b.y, f)) : a.position = new z(d(e, b.x, c.x - b.x, f), d(e, b.y, c.y - b.y, f));\n    },\n    scale: function scale(a, b, c, d, e, f) {\n      a.scale = d(e, b, c - b, f);\n    },\n    visible: function visible(a, b, c, d, e, f) {\n      a.visible = e !== f ? b : c;\n    }\n  };\n\n  function pg() {\n    0 < arguments.length && w.od(pg);\n    w.oc(this);\n    this.aa = null;\n    this.xb = new H(R);\n    this.Sb = \"\";\n    this.Dc = 1;\n    this.Cz = !1;\n    this.Fl = this.fA = this.gl = this.fl = this.el = this.dl = this.bl = this.cl = this.al = this.il = this.$k = this.hl = this.Zk = this.Yk = !0;\n    this.Az = !1;\n    this.Qs = [];\n  }\n\n  w.ga(\"Layer\", pg);\n\n  pg.prototype.Tc = function (a) {\n    this.aa = a;\n  };\n\n  pg.prototype.toString = function (a) {\n    void 0 === a && (a = 0);\n    var b = 'Layer \"' + this.name + '\"';\n    if (0 >= a) return b;\n\n    for (var c = 0, d = 0, e = 0, f = 0, h = 0, k = this.xb.i; k.next();) {\n      var l = k.value;\n      l instanceof V ? e++ : l instanceof T ? d++ : l instanceof W ? f++ : l instanceof jh ? h++ : c++;\n    }\n\n    k = \"\";\n    0 < c && (k += c + \" Parts \");\n    0 < d && (k += d + \" Nodes \");\n    0 < e && (k += e + \" Groups \");\n    0 < f && (k += f + \" Links \");\n    0 < h && (k += h + \" Adornments \");\n    if (1 < a) for (a = this.xb.i; a.next();) {\n      c = a.value, k += \"\\n    \" + c.toString(), d = c.data, null !== d && w.Qd(d) && (k += \" #\" + w.Qd(d)), c instanceof T ? k += \" \" + Qf(d) : c instanceof W && (k += \" \" + Qf(c.V) + \" \" + Qf(c.Z));\n    }\n    return b + \" \" + this.xb.count + \": \" + k;\n  };\n\n  pg.prototype.findObjectAt = pg.prototype.Pe = function (a, b, c) {\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    if (!1 === this.Fl) return null;\n    var d = !1;\n    null !== this.g && this.g.sb.Ia(a) && (d = !0);\n\n    for (var e = w.K(), f = this.xb.n, h = f.length; h--;) {\n      var k = f[h];\n      if ((!0 !== d || !1 !== kl(k)) && k.isVisible() && (e.assign(a), Pa(e, k.rh), k = k.Pe(e, b, c), null !== k && (null !== b && (k = b(k)), null !== k && (null === c || c(k))))) return w.v(e), k;\n    }\n\n    w.v(e);\n    return null;\n  };\n\n  pg.prototype.findObjectsAt = pg.prototype.du = function (a, b, c, d) {\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    d instanceof H || d instanceof I || (d = new I(G));\n    if (!1 === this.Fl) return d;\n    var e = !1;\n    null !== this.g && this.g.sb.Ia(a) && (e = !0);\n\n    for (var f = w.K(), h = this.xb.n, k = h.length; k--;) {\n      var l = h[k];\n\n      if ((!0 !== e || !1 !== kl(l)) && l.isVisible()) {\n        f.assign(a);\n        Pa(f, l.rh);\n        var m = l;\n        l.du(f, b, c, d) && (null !== b && (m = b(m)), null === m || null !== c && !c(m) || (d instanceof I && d.add(m), d instanceof H && d.add(m)));\n      }\n    }\n\n    w.v(f);\n    return d;\n  };\n\n  pg.prototype.findObjectsIn = pg.prototype.Jk = function (a, b, c, d, e) {\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    void 0 === d && (d = !1);\n    e instanceof H || e instanceof I || (e = new I(G));\n    if (!1 === this.Fl) return e;\n    var f = !1;\n    null !== this.g && this.g.sb.Fk(a) && (f = !0);\n\n    for (var h = this.xb.n, k = h.length; k--;) {\n      var l = h[k];\n\n      if ((!0 !== f || !1 !== kl(l)) && l.isVisible()) {\n        var m = l;\n        l.Jk(a, b, c, d, e) && (null !== b && (m = b(m)), null === m || null !== c && !c(m) || (e instanceof I && e.add(m), e instanceof H && e.add(m)));\n      }\n    }\n\n    return e;\n  };\n\n  pg.prototype.CA = function (a, b, c, d, e, f, h) {\n    if (!1 === this.Fl) return e;\n\n    for (var k = this.xb.n, l = k.length; l--;) {\n      var m = k[l];\n\n      if ((!0 !== h || !1 !== kl(m)) && f(m) && m.isVisible()) {\n        var n = m;\n        m.Jk(a, b, c, d, e) && (null !== b && (n = b(n)), null === n || null !== c && !c(n) || (e instanceof I && e.add(n), e instanceof H && e.add(n)));\n      }\n    }\n\n    return e;\n  };\n\n  pg.prototype.findObjectsNear = pg.prototype.An = function (a, b, c, d, e, f) {\n    void 0 === c && (c = null);\n    void 0 === d && (d = null);\n    void 0 === e && (e = !0);\n\n    if (!1 !== e && !0 !== e) {\n      if (e instanceof H || e instanceof I) f = e;\n      e = !0;\n    }\n\n    f instanceof H || f instanceof I || (f = new I(G));\n    if (!1 === this.Fl) return f;\n    var h = !1;\n    null !== this.g && this.g.sb.Ia(a) && (h = !0);\n\n    for (var k = w.K(), l = w.K(), m = this.xb.n, n = m.length; n--;) {\n      var p = m[n];\n\n      if ((!0 !== h || !1 !== kl(p)) && p.isVisible()) {\n        k.assign(a);\n        Pa(k, p.rh);\n        l.m(a.x + b, a.y);\n        Pa(l, p.rh);\n        var q = p;\n        p.An(k, l, c, d, e, f) && (null !== c && (q = c(q)), null === q || null !== d && !d(q) || (f instanceof I && f.add(q), f instanceof H && f.add(q)));\n      }\n    }\n\n    w.v(k);\n    w.v(l);\n    return f;\n  };\n\n  g = pg.prototype;\n\n  g.If = function (a, b) {\n    if (this.visible) {\n      var c;\n      c = void 0 === b ? a.sb : b;\n\n      for (var d = this.xb.n, e = d.length, f = w.Za(), h = w.Za(), k = 0; k < e; k++) {\n        var l = d[k];\n        l.sD = k;\n\n        if (!(l instanceof W && !1 === l.Mf)) {\n          if (l instanceof jh) {\n            var m = l;\n            if (null !== m.Ze) continue;\n          }\n\n          $a(l.U, c) ? (l.If(!0), f.push(l)) : (l.If(!1), null !== l.bx && 0 < l.bx.count && h.push(l));\n        }\n      }\n\n      for (k = 0; k < f.length; k++) {\n        for (m = l = f[k], 0 !== (m.P & 16384) !== !1 && (m.updateAdornments(), ll(m, !1)), l = l.bx; l.next();) {\n          m = l.value, yk(m, Infinity, Infinity), m.jc(), m.If(!0);\n        }\n      }\n\n      for (k = 0; k < h.length; k++) {\n        l = h[k], l.updateAdornments(), ll(l, !0);\n      }\n\n      w.ra(f);\n      w.ra(h);\n    }\n  };\n\n  g.ve = function (a, b, c) {\n    if (this.visible && 0 !== this.Dc && (void 0 === c && (c = !0), c || !this.Hc)) {\n      c = this.xb.n;\n      var d = c.length;\n\n      if (0 !== d) {\n        1 !== this.Dc && (a.globalAlpha = this.Dc);\n        var e = this.Qs;\n        e.length = 0;\n\n        for (var f = b.scale, h = 0; h < d; h++) {\n          var k = c[h];\n\n          if (kl(k)) {\n            if (k instanceof W) {\n              var l = k;\n              l.ac && e.push(l);\n              if (!1 === l.Mf) continue;\n            }\n\n            l = k.U;\n            1 < l.width * f || 1 < l.height * f ? k.ve(a, b) : ml(k, a);\n          }\n        }\n\n        a.globalAlpha = 1;\n      }\n    }\n  };\n\n  function nl(a, b, c, d) {\n    if (a.visible && 0 !== a.Dc) {\n      1 !== a.Dc && (b.globalAlpha = a.Dc);\n      var e = a.Qs;\n      e.length = 0;\n      var f = c.scale;\n      a = a.xb.n;\n\n      for (var h = a.length, k = d.length, l = 0; l < h; l++) {\n        var m = a[l];\n\n        if (kl(m)) {\n          if (m instanceof W) {\n            var n = m;\n            n.ac && e.push(n);\n            if (!1 === n.Mf) continue;\n          }\n\n          var n = ol(m, m.U),\n              p;\n\n          a: {\n            p = n;\n\n            for (var q = d, r = k, s = 2 / f, t = 4 / f, u = 0; u < r; u++) {\n              var y = q[u];\n\n              if (0 !== y.width && 0 !== y.height && p.vF(y.x - s, y.y - s, y.width + t, y.height + t)) {\n                p = !0;\n                break a;\n              }\n            }\n\n            p = !1;\n          }\n\n          p && (1 < n.width * f || 1 < n.height * f ? m.ve(b, c) : ml(m, b));\n        }\n      }\n\n      b.globalAlpha = 1;\n    }\n  }\n\n  g.h = function (a, b, c, d, e) {\n    var f = this.g;\n    null !== f && f.cd(Cf, a, this, b, c, d, e);\n  };\n\n  g.cq = function (a, b, c) {\n    var d = this.xb;\n    b.hw = this;\n    if (a >= d.count) a = d.count;else if (d.fa(a) === b) return -1;\n    d.Sd(a, b);\n    b.qu(c);\n    d = this.g;\n    null !== d && (c ? d.oa() : d.cq(b));\n    pl(this, a, b);\n    return a;\n  };\n\n  g.rf = function (a, b, c) {\n    if (!c && b.layer !== this && null !== b.layer) return b.layer.rf(a, b, c);\n    var d = this.xb;\n\n    if (0 > a || a >= d.length) {\n      if (a = d.indexOf(b), 0 > a) return -1;\n    } else if (d.fa(a) !== b && (a = d.indexOf(b), 0 > a)) return -1;\n\n    b.ru(c);\n    d.dd(a);\n    d = this.g;\n    null !== d && (c ? d.oa() : d.rf(b));\n    b.hw = null;\n    return a;\n  };\n\n  function pl(a, b, c) {\n    b = ql(a, b, c);\n\n    if (c instanceof V && null !== c && isNaN(c.lo)) {\n      if (0 !== c.hc.count) {\n        for (var d = -1, e = a.xb.n, f = e.length, h = 0; h < f; h++) {\n          var k = e[h];\n          if (k === c && (b = h, 0 <= d)) break;\n          if (0 > d && k.Ca === c && (d = h, 0 <= b)) break;\n        }\n\n        !(0 > d) && d < b && (e = a.xb, e.dd(b), e.Sd(d, c));\n      }\n\n      c = c.Ca;\n      null !== c && pl(a, -1, c);\n    }\n  }\n\n  function ql(a, b, c) {\n    var d = c.lo;\n    if (isNaN(d)) return b;\n    a = a.xb;\n    var e = a.count;\n    if (1 >= e) return b;\n    0 > b && (b = a.indexOf(c));\n    if (0 > b) return -1;\n\n    for (var f = b - 1, h = NaN; 0 <= f;) {\n      h = a.fa(f).lo;\n      if (!isNaN(h)) break;\n      f--;\n    }\n\n    for (var k = b + 1, l = NaN; k < e;) {\n      l = a.fa(k).lo;\n      if (!isNaN(l)) break;\n      k++;\n    }\n\n    if (!isNaN(h) && h > d) for (;;) {\n      if (-1 === f || h <= d) {\n        f++;\n        if (f === b) break;\n        a.dd(b);\n        a.Sd(f, c);\n        return f;\n      }\n\n      for (h = NaN; 0 <= --f && (h = a.fa(f).lo, isNaN(h));) {\n        ;\n      }\n    } else if (!isNaN(l) && l < d) for (;;) {\n      if (k === e || l >= d) {\n        k--;\n        if (k === b) break;\n        a.dd(b);\n        a.Sd(k, c);\n        return k;\n      }\n\n      for (l = NaN; ++k < e && (l = a.fa(k).lo, isNaN(l));) {\n        ;\n      }\n    }\n    return b;\n  }\n\n  g.clear = function () {\n    for (var a = this.xb.yc(), b = a.length, c = 0; c < b; c++) {\n      a[c].If(!1), this.rf(-1, a[c], !1);\n    }\n\n    this.Qs.length = 0;\n  };\n\n  w.u(pg, {\n    Hj: \"parts\"\n  }, function () {\n    return this.xb.i;\n  });\n  w.u(pg, {\n    JL: \"partsBackwards\"\n  }, function () {\n    return this.xb.Ln;\n  });\n  w.u(pg, {\n    g: \"diagram\"\n  }, function () {\n    return this.aa;\n  });\n  w.defineProperty(pg, {\n    name: \"name\"\n  }, function () {\n    return this.Sb;\n  }, function (a) {\n    w.j(a, \"string\", pg, \"name\");\n    var b = this.Sb;\n\n    if (b !== a) {\n      var c = this.g;\n      if (null !== c) for (\"\" === b && w.k(\"Cannot rename default Layer to: \" + a), c = c.Tx; c.next();) {\n        c.value.name === a && w.k(\"Layer.name is already present in this diagram: \" + a);\n      }\n      this.Sb = a;\n      this.h(\"name\", b, a);\n\n      for (a = this.xb.i; a.next();) {\n        a.value.bg = this.Sb;\n      }\n    }\n  });\n  w.defineProperty(pg, {\n    opacity: \"opacity\"\n  }, function () {\n    return this.Dc;\n  }, function (a) {\n    var b = this.Dc;\n    b !== a && (w.j(a, \"number\", pg, \"opacity\"), (0 > a || 1 < a) && w.Fa(a, \"0 <= value <= 1\", pg, \"opacity\"), this.Dc = a, this.h(\"opacity\", b, a), a = this.g, null !== a && a.oa());\n  });\n  w.defineProperty(pg, {\n    Hc: \"isTemporary\"\n  }, function () {\n    return this.Cz;\n  }, function (a) {\n    var b = this.Cz;\n    b !== a && (w.j(a, \"boolean\", pg, \"isTemporary\"), this.Cz = a, this.h(\"isTemporary\", b, a));\n  });\n  w.defineProperty(pg, {\n    visible: \"visible\"\n  }, function () {\n    return this.fA;\n  }, function (a) {\n    var b = this.fA;\n\n    if (b !== a) {\n      w.j(a, \"boolean\", pg, \"visible\");\n      this.fA = a;\n      this.h(\"visible\", b, a);\n\n      for (b = this.xb.i; b.next();) {\n        b.value.Ed(a);\n      }\n\n      a = this.g;\n      null !== a && a.oa();\n    }\n  });\n  w.defineProperty(pg, {\n    Ug: \"pickable\"\n  }, function () {\n    return this.Fl;\n  }, function (a) {\n    var b = this.Fl;\n    b !== a && (w.j(a, \"boolean\", pg, \"pickable\"), this.Fl = a, this.h(\"pickable\", b, a));\n  });\n  w.defineProperty(pg, {\n    yF: \"isBoundsIncluded\"\n  }, function () {\n    return this.Az;\n  }, function (a) {\n    this.Az !== a && (this.Az = a, null !== this.g && this.g.Gc());\n  });\n  w.defineProperty(pg, {\n    Ck: \"allowCopy\"\n  }, function () {\n    return this.Yk;\n  }, function (a) {\n    var b = this.Yk;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowCopy\"), this.Yk = a, this.h(\"allowCopy\", b, a));\n  });\n  w.defineProperty(pg, {\n    nn: \"allowDelete\"\n  }, function () {\n    return this.Zk;\n  }, function (a) {\n    var b = this.Zk;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowDelete\"), this.Zk = a, this.h(\"allowDelete\", b, a));\n  });\n  w.defineProperty(pg, {\n    ix: \"allowTextEdit\"\n  }, function () {\n    return this.hl;\n  }, function (a) {\n    var b = this.hl;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowTextEdit\"), this.hl = a, this.h(\"allowTextEdit\", b, a));\n  });\n  w.defineProperty(pg, {\n    ex: \"allowGroup\"\n  }, function () {\n    return this.$k;\n  }, function (a) {\n    var b = this.$k;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowGroup\"), this.$k = a, this.h(\"allowGroup\", b, a));\n  });\n  w.defineProperty(pg, {\n    jx: \"allowUngroup\"\n  }, function () {\n    return this.il;\n  }, function (a) {\n    var b = this.il;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowUngroup\"), this.il = a, this.h(\"allowUngroup\", b, a));\n  });\n  w.defineProperty(pg, {\n    St: \"allowLink\"\n  }, function () {\n    return this.al;\n  }, function (a) {\n    var b = this.al;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowLink\"), this.al = a, this.h(\"allowLink\", b, a));\n  });\n  w.defineProperty(pg, {\n    on: \"allowRelink\"\n  }, function () {\n    return this.cl;\n  }, function (a) {\n    var b = this.cl;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowRelink\"), this.cl = a, this.h(\"allowRelink\", b, a));\n  });\n  w.defineProperty(pg, {\n    Rl: \"allowMove\"\n  }, function () {\n    return this.bl;\n  }, function (a) {\n    var b = this.bl;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowMove\"), this.bl = a, this.h(\"allowMove\", b, a));\n  });\n  w.defineProperty(pg, {\n    gx: \"allowReshape\"\n  }, function () {\n    return this.dl;\n  }, function (a) {\n    var b = this.dl;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowReshape\"), this.dl = a, this.h(\"allowReshape\", b, a));\n  });\n  w.defineProperty(pg, {\n    Tt: \"allowResize\"\n  }, function () {\n    return this.el;\n  }, function (a) {\n    var b = this.el;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowResize\"), this.el = a, this.h(\"allowResize\", b, a));\n  });\n  w.defineProperty(pg, {\n    hx: \"allowRotate\"\n  }, function () {\n    return this.fl;\n  }, function (a) {\n    var b = this.fl;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowRotate\"), this.fl = a, this.h(\"allowRotate\", b, a));\n  });\n  w.defineProperty(pg, {\n    Bf: \"allowSelect\"\n  }, function () {\n    return this.gl;\n  }, function (a) {\n    var b = this.gl;\n    b !== a && (w.j(a, \"boolean\", pg, \"allowSelect\"), this.gl = a, this.h(\"allowSelect\", b, a));\n  });\n\n  function E(a) {\n    function b() {\n      window.document.removeEventListener(\"DOMContentLoaded\", b, !1);\n      c.setScrollWidth();\n    }\n\n    1 < arguments.length && w.k(\"Diagram constructor can only take one optional argument, the DIV HTML element or its id.\");\n    w.oc(this);\n    rl = [];\n    this.Wc = !0;\n    this.jC = new Wg();\n    this.jC.Tc(this);\n    this.Ad = 17;\n    this.as = !1;\n    this.Pz = \"default\";\n    var c = this;\n    null !== window.document.body ? this.setScrollWidth() : window.document.addEventListener(\"DOMContentLoaded\", b, !1);\n    this.dc = new H(pg);\n    this.Eb = this.Fb = 0;\n    this.qk = this.Ob = this.hf = this.zb = null;\n    this.fG();\n    this.Ro = null;\n    this.eG();\n    this.ab = new z(NaN, NaN).freeze();\n    this.rb = 1;\n    this.Xv = new z(NaN, NaN).freeze();\n    this.Yv = NaN;\n    this.pw = 1E-4;\n    this.nw = 100;\n    this.kd = new ka();\n    this.Zw = new z(NaN, NaN).freeze();\n    this.Pv = new B(NaN, NaN, NaN, NaN).freeze();\n    this.Gw = new hb(0, 0, 0, 0).freeze();\n    this.Hw = sl;\n    this.Kw = !0;\n    this.Dw = this.Bw = null;\n    this.Am = oh;\n    this.Dm = qc;\n    this.ul = oh;\n    this.Oo = qc;\n    this.Zv = this.Wv = zb;\n    this.Fe = !0;\n    this.Wr = !1;\n    this.vg = new I(R);\n    this.ol = new ma(W, B);\n    this.Cr = !0;\n    this.Zq = 250;\n    this.ro = -1;\n    this.uv = new hb(16, 16, 16, 16).freeze();\n    this.Ar = this.Tf = !1;\n    this.Jo = !0;\n    this.Pi = new yf();\n    this.yd = new yf();\n    this.Rb = new yf();\n    this.jh = this.Di = null;\n    this.zp = !1;\n    this.hz = this.iz = null;\n    this.Vy = window.PointerEvent && (w.fq || w.gq || w.UA) && window.navigator && !1 !== window.navigator.msPointerEnabled;\n    tl(this);\n    this.gp = new I(T);\n    this.Ll = new I(V);\n    this.$o = new I(W);\n    this.xb = new I(R);\n    this.dw = !0;\n    this.Uw = ul;\n    this.fD = !1;\n    this.Ww = Wi;\n    this.cz = this.fz = this.$z = null;\n    this.Bv = \"\";\n    this.vr = \"auto\";\n    this.Hi = this.jj = this.Yi = this.sw = this.Zi = this.$i = this.aj = this.Gi = this.Mi = this.Ei = null;\n    this.Jz = !1;\n    this.Nz = {};\n    this.jp = [null, null];\n    this.$y = null;\n    this.Rq = this.gz = this.Vz = this.SD = this.ij = !1;\n    this.qD = !0;\n    this.Jm = this.ae = !1;\n    this.qe = null;\n    var d = this;\n\n    this.xD = function (a) {\n      if (a.$ === d.$ && d.Ua) {\n        d.Ua = !1;\n\n        try {\n          var b = a.Fc;\n          \"\" === a.tf && b === Cf && vl(d, a.object, a.propertyName);\n        } finally {\n          d.Ua = !0;\n        }\n      }\n    };\n\n    this.yD = function (a) {\n      wl(d, a);\n    };\n\n    this.oE = !0;\n    this.dh = -2;\n    this.Ii = new ma(Object, R);\n    this.Sj = new ma(Object, W);\n    this.Mm = new ma(Object, Array);\n    this.ip = new ma(\"string\", Array);\n    this.Mz = new H(xl);\n    this.Si = !1;\n    this.Zk = this.Yk = this.kv = this.jf = !0;\n    this.mv = this.lv = !1;\n    this.rv = this.pv = this.gl = this.fl = this.el = this.dl = this.bl = this.cl = this.al = this.ov = this.il = this.$k = this.hl = !0;\n    this.fh = this.nD = !1;\n    this.qv = this.nv = this.Uv = this.Tv = !0;\n    this.Jw = this.Fw = 16;\n    this.Rz = this.Ew = !1;\n    this.kt = this.Iw = null;\n    this.Sz = this.Tz = 0;\n    this.lf = new hb(5).freeze();\n    this.Mw = new I(R).freeze();\n    this.ow = 999999999;\n    this.Vv = new I(R).freeze();\n    this.vl = this.Im = this.ck = !0;\n    this.sl = this.bk = !1;\n    this.oe = null;\n    this.Pj = !0;\n    this.eh = !1;\n    this.VG = new I(W);\n    this.dD = new I(yl);\n    this.rk = this.Ld = null;\n    this.Ps = 1;\n    this.VD = 0;\n    this.ph = {\n      scale: 1,\n      position: new z(),\n      bounds: new B(),\n      isScroll: !1\n    };\n    this.eA = new B(NaN, NaN, NaN, NaN).freeze();\n    this.Iv = new B(NaN, NaN, NaN, NaN).freeze();\n    this.ew = !1;\n    this.Kv = null;\n    this.yw = new I(zl);\n    Al(this);\n    this.jw = this.Rv = this.tw = this.KC = this.JC = this.LC = this.jk = this.ql = this.bj = null;\n    Bl(this);\n    this.ud = null;\n    this.Qv = !1;\n    this.yo = null;\n    this.Va = new hh();\n    this.Va.initializeStandardTools();\n    this.Xa = this.Xt = this.Va;\n    this.pb = new rg();\n    this.$ = new Q();\n    this.ij = !0;\n    this.Ub = new sg();\n    this.ij = !1;\n    this.WC = this.lz = null;\n    this.xd = 1;\n    this.uk = null;\n    var e = w.vfo.split(\".\");\n    !0 !== w.ux.licenseKey && \"1\" === e[0] && 7 > parseInt(e[1], 10) && (w.trace(\"Warning: You have entered a license key for GoJS version 1.7 or later, but this library is version \" + w.vfo + \". This license key will do nothing until you upgrade to GoJS 1.7 or later.\"), w.ux.licenseKey = !0);\n    this.Vh = 1;\n    this.ik = 0;\n    this.gw = new z();\n    this.bA = 500;\n    this.tv = new z();\n    this.tt = null;\n    this.fk = !1;\n    this.preventDefault = this.ly = this.sq = this.tq = this.rq = this.qq = this.Tn = this.Vn = this.Un = this.Rn = this.Sn = this.XB = this.PB = this.QB = this.RB = this.Hl = this.gt = this.Gl = this.ft = null;\n    this.aw = !1;\n    this.tl = new Cl();\n    void 0 !== a && Dl(this, a);\n    this.Wc = !1;\n  }\n\n  w.ga(\"Diagram\", E);\n\n  E.prototype.clear = E.prototype.clear = function () {\n    this.$.clear();\n    fh = null;\n    gh = \"\";\n    El(this, !1);\n    this.Iv = new B(NaN, NaN, NaN, NaN).freeze();\n    this.oa();\n  };\n\n  function El(a, b) {\n    var c = null;\n    null !== a.ud && (c = a.ud.W);\n    a.Ka.Ih();\n\n    for (var d = [], e = a.dc.length, f = 0; f < e; f++) {\n      var h = a.dc.n[f];\n      if (b) for (var k = h.Hj; k.next();) {\n        var l = k.value;\n        l !== c && null === l.data && d.push(l);\n      }\n      h.clear();\n    }\n\n    a.vg.clear();\n    a.ol.clear();\n    a.gp.clear();\n    a.Ll.clear();\n    a.$o.clear();\n    a.xb.clear();\n    a.Ii.clear();\n    a.Sj.clear();\n    a.Mm.clear();\n    a.Mw.Qa();\n    a.Mw.clear();\n    a.Mw.freeze();\n    a.Vv.Qa();\n    a.Vv.clear();\n    a.Vv.freeze();\n    a.yo = null;\n    w.My = [];\n    null !== c && (a.add(c), a.xb.remove(c));\n    if (b) for (c = 0; c < d.length; c++) {\n      a.add(d[c]);\n    }\n  }\n\n  E.prototype.reset = E.prototype.reset = function () {\n    this.Wc = !0;\n    this.clear();\n    this.dc = new H(pg);\n    this.fG();\n    this.eG();\n    this.ab = new z(NaN, NaN).freeze();\n    this.rb = 1;\n    this.Xv = new z(NaN, NaN).freeze();\n    this.Yv = NaN;\n    this.pw = 1E-4;\n    this.nw = 100;\n    this.Zw = new z(NaN, NaN).freeze();\n    this.Pv = new B(NaN, NaN, NaN, NaN).freeze();\n    this.Gw = new hb(0, 0, 0, 0).freeze();\n    this.Hw = sl;\n    this.Kw = !0;\n    this.Dw = this.Bw = null;\n    this.Am = oh;\n    this.Dm = qc;\n    this.ul = oh;\n    this.Oo = qc;\n    this.Zv = this.Wv = zb;\n    this.Zq = 250;\n    this.uv = new hb(16, 16, 16, 16).freeze();\n    this.dw = !0;\n    this.Uw = ul;\n    this.Ww = Wi;\n    this.vr = \"auto\";\n    this.Hi = this.jj = this.Yi = this.sw = this.Zi = this.$i = this.aj = this.Gi = this.Mi = this.Ei = null;\n    this.Si = !1;\n    this.Zk = this.Yk = this.kv = this.jf = !0;\n    this.mv = this.lv = !1;\n    this.qv = this.nv = this.Uv = this.Tv = this.rv = this.pv = this.gl = this.fl = this.el = this.dl = this.bl = this.cl = this.al = this.ov = this.il = this.$k = this.hl = !0;\n    this.Jw = this.Fw = 16;\n    this.lf = new hb(5).freeze();\n    this.ow = 999999999;\n    this.oe = null;\n    this.ew = !1;\n    Bl(this);\n    this.ud = null;\n    this.Va = new hh();\n    this.Va.initializeStandardTools();\n    this.Xa = this.Xt = this.Va;\n    this.pb = new rg();\n    this.ij = !0;\n    Al(this);\n    this.Ub = new sg();\n    this.ij = !1;\n    this.$ = new Q();\n    this.eh = !1;\n    this.Jo = !0;\n    this.Wc = this.Tf = !1;\n    this.oa();\n    this.jh = this.Di = null;\n    tl(this);\n    this.Bv = \"\";\n  };\n\n  function Bl(a) {\n    a.bj = new ma(\"string\", R);\n    var b = new T(),\n        c = new Lh();\n    c.bind(new ah(\"text\", \"\", Qf));\n    b.add(c);\n    a.LC = b;\n    a.bj.add(\"\", b);\n    b = new T();\n    c = new Lh();\n    c.stroke = \"brown\";\n    c.bind(new ah(\"text\", \"\", Qf));\n    b.add(c);\n    a.bj.add(\"Comment\", b);\n    b = new T();\n    b.nm = !1;\n    b.lA = !1;\n    c = new Y();\n    c.Hb = \"Ellipse\";\n    c.fill = \"black\";\n    c.stroke = null;\n    c.Da = new ia(3, 3).Ha();\n    b.add(c);\n    a.bj.add(\"LinkLabel\", b);\n    a.ql = new ma(\"string\", V);\n    b = new V();\n    b.zB = \"GROUPPANEL\";\n    b.type = Fl;\n    c = new Lh();\n    c.font = \"bold 12pt sans-serif\";\n    c.bind(new ah(\"text\", \"\", Qf));\n    b.add(c);\n    c = new D(Gl);\n    c.name = \"GROUPPANEL\";\n    var d = new Y();\n    d.Hb = \"Rectangle\";\n    d.fill = \"rgba(128,128,128,0.2)\";\n    d.stroke = \"black\";\n    c.add(d);\n    d = new Pj();\n    d.padding = new hb(5, 5, 5, 5).Ha();\n    c.add(d);\n    b.add(c);\n    a.JC = b;\n    a.ql.add(\"\", b);\n    a.jk = new ma(\"string\", W);\n    b = new W();\n    c = new Y();\n    c.ff = !0;\n    b.add(c);\n    c = new Y();\n    c.Kq = \"Standard\";\n    c.fill = \"black\";\n    c.stroke = null;\n    c.mb = 0;\n    b.add(c);\n    a.KC = b;\n    a.jk.add(\"\", b);\n    b = new W();\n    c = new Y();\n    c.ff = !0;\n    c.stroke = \"brown\";\n    b.add(c);\n    a.jk.add(\"Comment\", b);\n    b = new jh();\n    b.type = Gl;\n    c = new Y();\n    c.fill = null;\n    c.stroke = \"dodgerblue\";\n    c.mb = 3;\n    b.add(c);\n    c = new Pj();\n    c.margin = new hb(1.5, 1.5, 1.5, 1.5).Ha();\n    b.add(c);\n    a.tw = b;\n    a.Rv = b;\n    b = new jh();\n    b.type = jj;\n    c = new Y();\n    c.ff = !0;\n    c.fill = null;\n    c.stroke = \"dodgerblue\";\n    c.mb = 3;\n    b.add(c);\n    a.jw = b;\n  }\n\n  E.prototype.setScrollWidth = function (a) {\n    a = void 0 === a ? window.document.body : a;\n    var b = w.createElement(\"p\");\n    b.style.width = \"100%\";\n    b.style.height = \"200px\";\n    b.style.boxSizing = \"content-box\";\n    var c = w.createElement(\"div\");\n    c.style.position = \"absolute\";\n    c.style.visibility = \"hidden\";\n    c.style.width = \"200px\";\n    c.style.height = \"150px\";\n    c.style.overflow = \"hidden\";\n    c.style.boxSizing = \"content-box\";\n    c.appendChild(b);\n    a.appendChild(c);\n    var d = b.offsetWidth;\n    c.style.overflow = \"scroll\";\n    b = b.offsetWidth;\n    d === b && (b = c.clientWidth);\n    a.removeChild(c);\n    c = d - b;\n    0 !== c || w.CF || (c = 11);\n    this.Ad = c;\n    c = w.createElement(\"div\");\n    c.dir = \"rtl\";\n    c.style.cssText = \"font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;\";\n    c.textContent = \"A\";\n    a.appendChild(c);\n    d = \"reverse\";\n    0 < c.scrollLeft ? d = \"default\" : (c.scrollLeft = 1, 0 === c.scrollLeft && (d = \"negative\"));\n    a.removeChild(c);\n    this.Pz = d;\n  };\n\n  E.prototype.ic = function (a) {\n    a.Je === E ? this.Tl = a : w.Lj(this, a);\n  };\n\n  E.prototype.toString = function (a) {\n    void 0 === a && (a = 0);\n    var b = \"\";\n    this.tj && this.tj.id && (b = this.tj.id);\n    b = 'Diagram \"' + b + '\"';\n    if (0 >= a) return b;\n\n    for (var c = this.dc.i; c.next();) {\n      b += \"\\n  \" + c.value.toString(a - 1);\n    }\n\n    return b;\n  };\n\n  E.fromDiv = function (a) {\n    var b = a;\n    \"string\" === typeof a && (b = window.document.getElementById(a));\n    return b instanceof HTMLDivElement && b.aa instanceof E ? b.aa : null;\n  };\n\n  w.defineProperty(E, {\n    tj: \"div\"\n  }, function () {\n    return this.Ob;\n  }, function (a) {\n    null !== a && w.G(a, HTMLDivElement, E, \"div\");\n\n    if (this.Ob !== a) {\n      rl = [];\n      var b = this.Ob;\n      null !== b ? (b.aa = void 0, b.innerHTML = \"\", null !== this.zb && (this.zb.removeEventListener(\"touchstart\", this.RB, !1), this.zb.removeEventListener(\"touchmove\", this.QB, !1), this.zb.removeEventListener(\"touchend\", this.PB, !1), this.zb.Pd.aa = null), b = this.Va, null !== b && (b.gf.each(function (a) {\n        a.cancelWaitAfter();\n      }), b.eg.each(function (a) {\n        a.cancelWaitAfter();\n      }), b.fg.each(function (a) {\n        a.cancelWaitAfter();\n      })), b.cancelWaitAfter(), this.Xa.doCancel(), this.hf = this.zb = null, window.removeEventListener(\"resize\", this.XB, !1), window.removeEventListener(\"mousemove\", this.Sn, !0), window.removeEventListener(\"mousedown\", this.Rn, !0), window.removeEventListener(\"mouseup\", this.Un, !0), window.removeEventListener(\"wheel\", this.Vn, !0), window.removeEventListener(\"mouseout\", this.Tn, !0)) : this.eh = !1;\n      this.Ob = null;\n\n      if (null !== a) {\n        if (b = a.aa) b.tj = null;\n        Dl(this, a);\n        this.wq();\n      }\n    }\n  });\n\n  function Hl(a) {\n    var b = a.zb;\n    a.Vy ? (b.addEventListener(\"pointerdown\", a.qq, !1), b.addEventListener(\"pointermove\", a.rq, !1), b.addEventListener(\"pointerup\", a.tq, !1), b.addEventListener(\"pointerout\", a.sq, !1)) : (b.addEventListener(\"touchstart\", a.RB, !1), b.addEventListener(\"touchmove\", a.QB, !1), b.addEventListener(\"touchend\", a.PB, !1), b.addEventListener(\"mousemove\", a.Sn, !1), b.addEventListener(\"mousedown\", a.Rn, !1), b.addEventListener(\"mouseup\", a.Un, !1), b.addEventListener(\"mouseout\", a.Tn, !1));\n    b.addEventListener(\"wheel\", a.Vn, !1);\n    b.addEventListener(\"keydown\", a.HI, !1);\n    b.addEventListener(\"keyup\", a.II, !1);\n    b.addEventListener(\"selectstart\", function (a) {\n      a.preventDefault();\n      return !1;\n    }, !1);\n    b.addEventListener(\"contextmenu\", function (a) {\n      a.preventDefault();\n      return !1;\n    }, !1);\n    b.addEventListener(\"gesturestart\", function (b) {\n      a.Va.Mk !== Bk && (a.Va.Mk === Ak ? b.preventDefault() : (b.preventDefault(), a.Ps = a.scale, a.Xa.doCancel()));\n    }, !1);\n    b.addEventListener(\"gesturechange\", function (b) {\n      if (a.Va.Mk !== Bk) if (a.Va.Mk === Ak) b.preventDefault();else {\n        b.preventDefault();\n        var d = b.scale;\n\n        if (null !== a.Ps) {\n          var e = a.Fb,\n              f = a.Eb,\n              h = a.zb.getBoundingClientRect();\n          b = new z(b.pageX - window.scrollX - e / h.width * h.left, b.pageY - window.scrollY - f / h.height * h.top);\n          d *= a.Ps;\n          e = a.pb;\n          d !== a.scale && e.canResetZoom(d) && (f = a.zi, a.zi = b, e.resetZoom(d), a.zi = f);\n        }\n      }\n    }, !1);\n    window.addEventListener(\"resize\", a.XB, !1);\n  }\n\n  E.prototype.computePixelRatio = function () {\n    if (null !== this.uk) return this.uk;\n    var a = this.hf;\n    return (window.devicePixelRatio || 1) / (a.ua.webkitBackingStorePixelRatio || a.ua.mozBackingStorePixelRatio || a.ua.msBackingStorePixelRatio || a.ua.oBackingStorePixelRatio || a.ua.backingStorePixelRatio || 1);\n  };\n\n  E.prototype.doMouseMove = function () {\n    this.Xa.doMouseMove();\n  };\n\n  E.prototype.doMouseDown = function () {\n    this.Xa.doMouseDown();\n  };\n\n  E.prototype.doMouseUp = function () {\n    this.Xa.doMouseUp();\n  };\n\n  E.prototype.doMouseWheel = function () {\n    this.Xa.doMouseWheel();\n  };\n\n  E.prototype.doKeyDown = function () {\n    this.Xa.doKeyDown();\n  };\n\n  E.prototype.doKeyUp = function () {\n    this.Xa.doKeyUp();\n  };\n\n  E.prototype.doFocus = function () {\n    this.focus();\n  };\n\n  E.prototype.focus = E.prototype.focus = function () {\n    if (this.zb) if (this.DJ) this.zb.focus();else {\n      var a = window.scrollX || window.pageXOffset,\n          b = window.scrollY || window.pageYOffset;\n      this.zb.focus();\n      window.scrollTo(a, b);\n    }\n  };\n\n  function Hk(a) {\n    if (null !== a.zb) {\n      var b = a.Ob;\n\n      if (0 !== b.clientWidth && 0 !== b.clientHeight) {\n        var c = a.sl ? a.Ad : 0,\n            d = a.bk ? a.Ad : 0,\n            e = a.xd;\n        a.xd = a.computePixelRatio();\n        a.xd !== e && (a.Wr = !0, a.ye());\n        if (b.clientWidth !== a.Fb + c || b.clientHeight !== a.Eb + d) a.Im = !0, a.Fe = !0, b = a.Ub, null !== b && b.Px && a.Tl === oh && (a.Ar = !0, b.J()), a.ae || a.ye();\n      }\n    }\n  }\n\n  function Al(a) {\n    var b = new pg();\n    b.name = \"Background\";\n    a.Nt(b);\n    b = new pg();\n    b.name = \"\";\n    a.Nt(b);\n    b = new pg();\n    b.name = \"Foreground\";\n    a.Nt(b);\n    b = new pg();\n    b.name = \"Adornment\";\n    b.Hc = !0;\n    a.Nt(b);\n    b = new pg();\n    b.name = \"Tool\";\n    b.Hc = !0;\n    b.yF = !0;\n    a.Nt(b);\n    b = new pg();\n    b.name = \"Grid\";\n    b.Bf = !1;\n    b.Ug = !1;\n    b.Hc = !0;\n    a.lH(b, a.cu(\"Background\"));\n  }\n\n  function Il(a) {\n    a.ud = new D(Jl);\n    a.ud.name = \"GRID\";\n    var b = new Y();\n    b.Hb = \"LineH\";\n    b.stroke = \"lightgray\";\n    b.mb = .5;\n    b.interval = 1;\n    a.ud.add(b);\n    b = new Y();\n    b.Hb = \"LineH\";\n    b.stroke = \"gray\";\n    b.mb = .5;\n    b.interval = 5;\n    a.ud.add(b);\n    b = new Y();\n    b.Hb = \"LineH\";\n    b.stroke = \"gray\";\n    b.mb = 1;\n    b.interval = 10;\n    a.ud.add(b);\n    b = new Y();\n    b.Hb = \"LineV\";\n    b.stroke = \"lightgray\";\n    b.mb = .5;\n    b.interval = 1;\n    a.ud.add(b);\n    b = new Y();\n    b.Hb = \"LineV\";\n    b.stroke = \"gray\";\n    b.mb = .5;\n    b.interval = 5;\n    a.ud.add(b);\n    b = new Y();\n    b.Hb = \"LineV\";\n    b.stroke = \"gray\";\n    b.mb = 1;\n    b.interval = 10;\n    a.ud.add(b);\n    b = new R();\n    b.add(a.ud);\n    b.bg = \"Grid\";\n    b.lo = 0;\n    b.WA = !1;\n    b.xF = !1;\n    b.Ug = !1;\n    b.aB = \"GRID\";\n    a.add(b);\n    a.xb.remove(b);\n    a.ud.visible = !1;\n  }\n\n  function Kl() {\n    this.aa.Rz ? this.aa.Rz = !1 : this.aa.isEnabled ? this.aa.RH(this) : Ll(this.aa);\n  }\n\n  function Ml(a) {\n    this.aa.isEnabled ? (this.aa.Tz = a.target.scrollTop, this.aa.Sz = a.target.scrollLeft) : Ll(this.aa);\n  }\n\n  E.prototype.diagramScroll = E.prototype.RH = function (a) {\n    if (null !== this.zb) {\n      this.Ew = !0;\n      var b = this.Od,\n          c = this.sb,\n          d = this.ty,\n          e = b.x - d.left,\n          f = b.y - d.top,\n          h = b.width + d.left + d.right,\n          k = b.height + d.top + d.bottom,\n          l = b.right + d.right,\n          d = b.bottom + d.bottom,\n          m = c.x,\n          b = c.y,\n          n = c.width,\n          p = c.height,\n          q = c.right,\n          r = c.bottom,\n          c = this.scale,\n          s;\n      s = a.scrollLeft;\n      if (this.as) switch (this.Pz) {\n        case \"negative\":\n          s = s + a.scrollWidth - a.clientWidth;\n          break;\n\n        case \"reverse\":\n          s = a.scrollWidth - s - a.clientWidth;\n      }\n      var t = s;\n      n < h || p < k ? (s = w.wb(this.position.x, this.position.y), this.re && this.Sz !== t && (s.x = t / c + e, this.Sz = t), this.se && this.Tz !== a.scrollTop && (s.y = a.scrollTop / c + f, this.Tz = a.scrollTop), this.position = s, w.v(s), this.Im = this.Ew = !1) : (s = w.K(), a.bH && this.re && (e < m && (this.position = s.m(t + e, this.position.y)), l > q && (this.position = s.m(-(this.Iw.scrollWidth - this.Fb) + t - this.Fb / c + l, this.position.y))), a.cH && this.se && (f < b && (this.position = s.m(this.position.x, a.scrollTop + f)), d > r && (this.position = s.m(this.position.x, -(this.Iw.scrollHeight - this.Eb) + a.scrollTop - this.Eb / c + d))), w.v(s), Nl(this), this.Im = this.Ew = !1, b = this.Od, c = this.sb, l = b.right, q = c.right, d = b.bottom, r = c.bottom, e = b.x, m = c.x, f = b.y, b = c.y, n >= h && e >= m && l <= q && (this.kt.style.width = \"1px\"), p >= k && f >= b && d <= r && (this.kt.style.height = \"1px\"));\n    }\n  };\n\n  E.prototype.computeBounds = function () {\n    0 < this.vg.count && Ii(this);\n    return Ol(this);\n  };\n\n  function Ol(a) {\n    if (a.eF.I()) {\n      var b = a.eF.copy();\n      b.ax(a.padding);\n      return b;\n    }\n\n    for (var c = !0, d = a.dc.n, e = d.length, f = 0; f < e; f++) {\n      var h = d[f];\n      if (h.visible && (!h.Hc || h.yF)) for (var h = h.xb.n, k = h.length, l = 0; l < k; l++) {\n        var m = h[l];\n        m.WA && m.isVisible() && (m = m.U, m.I() && (c ? (c = !1, b = m.copy()) : b.Zg(m)));\n      }\n    }\n\n    c && (b = new B(0, 0, 0, 0));\n    b.ax(a.padding);\n    return b;\n  }\n\n  E.prototype.computePartsBounds = function (a, b) {\n    void 0 === b && (b = !1);\n\n    for (var c = null, d = a.i; d.next();) {\n      var e = d.value;\n      !b && e instanceof W || (e.Ne(), null === c ? c = e.U.copy() : c.Zg(e.U));\n    }\n\n    return null === c ? new B(NaN, NaN, 0, 0) : c;\n  };\n\n  function Pl(a, b) {\n    if ((b || a.eh) && !a.Wc && null !== a.zb && !a.Ka.df && a.Od.I()) {\n      a.Wc = !0;\n      var c = a.Am;\n      b && a.ul !== oh && (c = a.ul);\n      var d = c !== oh ? Ql(a, c) : a.scale,\n          c = a.sb.copy(),\n          e = a.Fb / d,\n          f = a.Eb / d,\n          h = null,\n          k = a.Ka;\n      k.sc && (h = a.ab.copy());\n      a.position.Qa();\n      var l = a.Dm;\n      b && !l.$c() && a.Oo.$c() && (l = a.Oo);\n      Rl(a, a.ab, a.Od, e, f, l, b);\n      a.position.freeze();\n      null !== h && il(k, h, a.ab);\n      e = a.scale;\n      a.scale = d;\n      a.Wc = !1;\n      d = a.sb;\n      d.Qc(c) || a.Pu(c, d, e, a.scale, !1);\n    }\n  }\n\n  function Ql(a, b) {\n    var c = a.pb.sx;\n    if (null === a.zb) return c;\n    a.ck && Sl(a, a.computeBounds());\n    var d = a.Od;\n    if (!d.I()) return c;\n    var e = d.width,\n        d = d.height,\n        f = a.Fb,\n        h = a.Eb,\n        k = f / e,\n        l = h / d;\n    return b === Tl ? (e = Math.min(l, k), e > c && (e = c), e < a.Ch && (e = a.Ch), e > a.Bh && (e = a.Bh), e) : b === Ul ? (e = l > k ? (h - a.Ad) / d : (f - a.Ad) / e, e > c && (e = c), e < a.Ch && (e = a.Ch), e > a.Bh && (e = a.Bh), e) : a.scale;\n  }\n\n  E.prototype.zoomToFit = E.prototype.zoomToFit = function () {\n    this.scale = Ql(this, Tl);\n    this.uy !== sl && (this.ab.Qa(), Rl(this, this.ab, this.Od, this.Fb / this.rb, this.Eb / this.rb, this.Dm, !0), this.ab.freeze());\n  };\n\n  E.prototype.zoomToRect = function (a, b) {\n    void 0 === b && (b = Tl);\n    var c = a.width,\n        d = a.height;\n\n    if (!(0 === c || 0 === d || isNaN(c) && isNaN(d))) {\n      var e = 1;\n      if (b === Tl || b === Ul) if (isNaN(c)) e = this.sb.height * this.scale / d;else if (isNaN(d)) e = this.sb.width * this.scale / c;else var e = this.Fb,\n          f = this.Eb,\n          e = b === Ul ? f / d > e / c ? (f - (this.bk ? this.Ad : 0)) / d : (e - (this.sl ? this.Ad : 0)) / c : Math.min(f / d, e / c);\n      this.scale = e;\n      this.position = new z(a.x, a.y);\n    }\n  };\n\n  w.defineProperty(E, {\n    TA: null\n  }, function () {\n    return this.Wc;\n  }, function (a) {\n    this.Wc = a;\n  });\n\n  E.prototype.alignDocument = function (a, b) {\n    this.ck && Sl(this, this.computeBounds());\n    var c = this.Od,\n        d = this.sb;\n    this.position = new z(c.x + (a.x * c.width + a.offsetX) - (b.x * d.width - b.offsetX), c.y + (a.y * c.height + a.offsetY) - (b.y * d.height - b.offsetY));\n  };\n\n  function Rl(a, b, c, d, e, f, h) {\n    var k = b.x,\n        l = b.y;\n    if (h || a.uy === sl) f.$c() && (d > c.width && (k = c.x + (f.x * c.width + f.offsetX) - (f.x * d - f.offsetX)), e > c.height && (l = c.y + (f.y * c.height + f.offsetY) - (f.y * e - f.offsetY))), f = a.ty, h = d - c.width, d < c.width + f.left + f.right ? (k = Math.min(k + d / 2, c.right + Math.max(h, f.right) - d / 2), k = Math.max(k, c.left - Math.max(h, f.left) + d / 2), k -= d / 2) : k > c.left ? k = c.left : k < c.right - d && (k = c.right - d), d = e - c.height, e < c.height + f.top + f.bottom ? (l = Math.min(l + e / 2, c.bottom + Math.max(d, f.bottom) - e / 2), l = Math.max(l, c.top - Math.max(d, f.top) + e / 2), l -= e / 2) : l > c.top ? l = c.top : l < c.bottom - e && (l = c.bottom - e);\n    b.x = isFinite(k) ? k : -a.padding.left;\n    b.y = isFinite(l) ? l : -a.padding.top;\n    null !== a.ZF && (a = a.ZF(a, b), b.x = a.x, b.y = a.y);\n  }\n\n  E.prototype.findPartAt = E.prototype.eu = function (a, b) {\n    var c = b ? Mi(this, a, function (a) {\n      return a.W;\n    }, function (a) {\n      return a.canSelect();\n    }) : Mi(this, a, function (a) {\n      return a.W;\n    });\n    return c instanceof R ? c : null;\n  };\n\n  E.prototype.findObjectAt = E.prototype.Pe = function (a, b, c) {\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    Ii(this);\n\n    for (var d = this.dc.Ln; d.next();) {\n      var e = d.value;\n      if (e.visible && (e = e.Pe(a, b, c), null !== e)) return e;\n    }\n\n    return null;\n  };\n\n  function Mi(a, b, c, d) {\n    void 0 === c && (c = null);\n    void 0 === d && (d = null);\n    Ii(a);\n\n    for (a = a.dc.Ln; a.next();) {\n      var e = a.value;\n      if (e.visible && !e.Hc && (e = e.Pe(b, c, d), null !== e)) return e;\n    }\n\n    return null;\n  }\n\n  E.prototype.findObjectsAt = E.prototype.du = function (a, b, c, d) {\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    d instanceof H || d instanceof I || (d = new I(G));\n    Ii(this);\n\n    for (var e = this.dc.Ln; e.next();) {\n      var f = e.value;\n      f.visible && f.du(a, b, c, d);\n    }\n\n    return d;\n  };\n\n  E.prototype.findObjectsIn = E.prototype.Jk = function (a, b, c, d, e) {\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    void 0 === d && (d = !1);\n    e instanceof H || e instanceof I || (e = new I(G));\n    Ii(this);\n\n    for (var f = this.dc.Ln; f.next();) {\n      var h = f.value;\n      h.visible && h.Jk(a, b, c, d, e);\n    }\n\n    return e;\n  };\n\n  E.prototype.CA = function (a, b, c, d, e, f) {\n    var h = new I(G);\n    Ii(this);\n\n    for (var k = this.dc.Ln; k.next();) {\n      var l = k.value;\n      l.visible && l.CA(a, b, c, d, h, e, f);\n    }\n\n    return h;\n  };\n\n  E.prototype.findObjectsNear = E.prototype.An = function (a, b, c, d, e, f) {\n    void 0 === c && (c = null);\n    void 0 === d && (d = null);\n    void 0 === e && (e = !0);\n\n    if (!1 !== e && !0 !== e) {\n      if (e instanceof H || e instanceof I) f = e;\n      e = !0;\n    }\n\n    f instanceof H || f instanceof I || (f = new I(G));\n    Ii(this);\n\n    for (var h = this.dc.Ln; h.next();) {\n      var k = h.value;\n      k.visible && k.An(a, b, c, d, e, f);\n    }\n\n    return f;\n  };\n\n  E.prototype.acceptEvent = function (a) {\n    var b = this.yd;\n    this.yd = this.Rb;\n    this.Rb = b;\n    Vl(this, this, a, b, a instanceof MouseEvent);\n    return b;\n  };\n\n  function Vl(a, b, c, d, e) {\n    d.g = b;\n    d.event = c;\n    e ? Wl(a, c, d) : (d.Ce = b.Rb.Ce, d.ea = b.Rb.ea);\n    a = 0;\n    c.ctrlKey && (a += 1);\n    c.altKey && (a += 2);\n    c.shiftKey && (a += 4);\n    c.metaKey && (a += 8);\n    d.nd = a;\n    d.button = c.button;\n    void 0 === c.buttons || w.xu || (d.buttons = c.buttons);\n    w.zh && 0 === c.button && c.ctrlKey && (d.button = 2);\n    d.Hk = !1;\n    d.up = !1;\n    d.te = 1;\n    d.oi = 0;\n    d.vc = !1;\n    d.bubbles = !1;\n    d.timestamp = Date.now();\n    d.zu = !1;\n    d.Jf = Xl(c);\n    d.Be = null;\n  }\n\n  function Xl(a) {\n    var b = a.target.aa;\n\n    if (!b) {\n      var c = a.path;\n      c || \"function\" !== typeof a.AH || (c = a.AH());\n      c && c[0] && (b = c[0].aa);\n    }\n\n    return b ? b : null;\n  }\n\n  function Yl(a, b, c, d) {\n    var e = a.yd;\n    a.yd = a.Rb;\n    a.Rb = e;\n    e.g = a;\n    Wl(a, c, e);\n    e.button = 0;\n    e.buttons = 1;\n    c = 0;\n    b.ctrlKey && (c += 1);\n    b.altKey && (c += 2);\n    b.shiftKey && (c += 4);\n    b.metaKey && (c += 8);\n    e.nd = c;\n    e.Hk = !0;\n    e.up = !1;\n    e.te = 1;\n    e.oi = 0;\n    e.vc = !1;\n    e.bubbles = !0;\n    e.event = b;\n    e.timestamp = Date.now();\n    e.zu = d;\n    e.Jf = Xl(b);\n    e.Be = null;\n    d || (a.Pi = e.copy());\n    Sh = null;\n    return e;\n  }\n\n  function Zl(a, b, c, d) {\n    var e = a.yd;\n    a.yd = a.Rb;\n    a.Rb = e;\n    var f = null;\n    e.g = a;\n    null !== c ? ((f = window.document.elementFromPoint(c.clientX, c.clientY)) && f.aa ? f = f.aa : (c = void 0 !== b.targetTouches ? b.targetTouches[0] : b, f = a), e.Jf = f, Wl(a, c, e)) : null !== a.yd ? (e.ea = a.yd.ea, e.Ce = a.yd.Ce, e.Jf = a.yd.Jf) : null !== a.Pi && (e.ea = a.Pi.ea, e.Ce = a.Pi.Ce, e.Jf = a.Pi.Jf);\n    e.button = 0;\n    e.buttons = 1;\n    a = 0;\n    b.ctrlKey && (a += 1);\n    b.altKey && (a += 2);\n    b.shiftKey && (a += 4);\n    b.metaKey && (a += 8);\n    e.nd = a;\n    e.Hk = !1;\n    e.up = !1;\n    e.te = 1;\n    e.oi = 0;\n    e.vc = !1;\n    e.bubbles = !1;\n    e.event = b;\n    e.timestamp = Date.now();\n    e.zu = d;\n    e.Be = null;\n    return e;\n  }\n\n  function $l(a, b) {\n    if (a.bubbles) return !0;\n    void 0 !== b.stopPropagation && b.stopPropagation();\n    b.preventDefault();\n    b.cancelBubble = !0;\n    return !1;\n  }\n\n  E.prototype.HI = function (a) {\n    if (!this.aa.isEnabled) return !1;\n    var b = this.aa.Rb;\n    Vl(this.aa, this.aa, a, b, !1);\n    b.key = String.fromCharCode(a.which);\n    b.Hk = !0;\n\n    switch (a.which) {\n      case 8:\n        b.key = \"Backspace\";\n        break;\n\n      case 33:\n        b.key = \"PageUp\";\n        break;\n\n      case 34:\n        b.key = \"PageDown\";\n        break;\n\n      case 35:\n        b.key = \"End\";\n        break;\n\n      case 36:\n        b.key = \"Home\";\n        break;\n\n      case 37:\n        b.key = \"Left\";\n        break;\n\n      case 38:\n        b.key = \"Up\";\n        break;\n\n      case 39:\n        b.key = \"Right\";\n        break;\n\n      case 40:\n        b.key = \"Down\";\n        break;\n\n      case 45:\n        b.key = \"Insert\";\n        break;\n\n      case 46:\n        b.key = \"Del\";\n        break;\n\n      case 48:\n        b.key = \"0\";\n        break;\n\n      case 187:\n      case 61:\n      case 107:\n        b.key = \"Add\";\n        break;\n\n      case 189:\n      case 173:\n      case 109:\n        b.key = \"Subtract\";\n        break;\n\n      case 27:\n        b.key = \"Esc\";\n    }\n\n    this.aa.doKeyDown();\n    return $l(b, a);\n  };\n\n  E.prototype.II = function (a) {\n    if (!this.aa.isEnabled) return !1;\n    var b = this.aa.Rb;\n    Vl(this.aa, this.aa, a, b, !1);\n    b.key = String.fromCharCode(a.which);\n    b.up = !0;\n\n    switch (a.which) {\n      case 8:\n        b.key = \"Backspace\";\n        break;\n\n      case 33:\n        b.key = \"PageUp\";\n        break;\n\n      case 34:\n        b.key = \"PageDown\";\n        break;\n\n      case 35:\n        b.key = \"End\";\n        break;\n\n      case 36:\n        b.key = \"Home\";\n        break;\n\n      case 37:\n        b.key = \"Left\";\n        break;\n\n      case 38:\n        b.key = \"Up\";\n        break;\n\n      case 39:\n        b.key = \"Right\";\n        break;\n\n      case 40:\n        b.key = \"Down\";\n        break;\n\n      case 45:\n        b.key = \"Insert\";\n        break;\n\n      case 46:\n        b.key = \"Del\";\n    }\n\n    this.aa.doKeyUp();\n    return $l(b, a);\n  };\n\n  E.prototype.Nr = function (a) {\n    var b = this.zb;\n    if (null === b) return new z(0, 0);\n    var c = this.Fb,\n        d = this.Eb,\n        b = b.getBoundingClientRect(),\n        c = a.clientX - c / b.width * b.left;\n    a = a.clientY - d / b.height * b.top;\n    return null !== this.kd ? (a = new z(c, a), Pa(a, this.kd), a) : new z(c, a);\n  };\n\n  function Wl(a, b, c) {\n    var d = a.zb,\n        e = a.Fb,\n        f = a.Eb,\n        h = 0,\n        k = 0;\n    null !== d && (d = d.getBoundingClientRect(), h = b.clientX - e / d.width * d.left, k = b.clientY - f / d.height * d.top);\n    c.Ce.m(h, k);\n    null !== a.kd ? (b = w.wb(h, k), a.kd.xh(b), c.ea.assign(b), w.v(b)) : c.ea.m(h, k);\n  }\n\n  function zf(a, b, c, d) {\n    var e = null;\n\n    if (void 0 !== b.targetTouches) {\n      if (2 > b.targetTouches.length) return;\n      e = b.targetTouches[c];\n    } else if (null !== a.jp[0]) e = a.jp[c];else return;\n\n    c = a.zb;\n    b = a.Fb;\n    a = a.Eb;\n    var f = 0,\n        h = 0;\n    null !== c && null !== e && (c = c.getBoundingClientRect(), f = e.clientX - b / c.width * c.left, h = e.clientY - a / c.height * c.top);\n    d.m(f, h);\n  }\n\n  E.prototype.invalidateDocumentBounds = E.prototype.Gc = function () {\n    this.ck || (this.ck = !0, this.ye(!0));\n  };\n\n  function fl(a) {\n    a.ae || Ii(a);\n    a.ck && Sl(a, a.computeBounds());\n  }\n\n  E.prototype.redraw = E.prototype.wq = function () {\n    this.Wc || this.ae || (this.oa(), am(this), Nl(this), this.Gc(), this.dg());\n  };\n\n  E.prototype.isUpdateRequested = function () {\n    return this.Tf;\n  };\n\n  E.prototype.delayInitialization = function (a) {\n    void 0 === a && (a = null);\n    var b = this.Ka,\n        c = b.isEnabled;\n    b.Ih();\n    b.isEnabled = !1;\n    Si(this);\n    this.eh = !1;\n    b.isEnabled = c;\n    null !== a && w.setTimeout(a, 1);\n  };\n\n  E.prototype.requestUpdate = E.prototype.ye = function (a) {\n    void 0 === a && (a = !1);\n\n    if (!0 !== this.Tf && !(this.Wc || !1 === a && this.ae)) {\n      this.Tf = !0;\n      var b = this;\n      requestAnimationFrame(function () {\n        b.Tf && b.dg();\n      });\n    }\n  };\n\n  E.prototype.maybeUpdate = E.prototype.dg = function () {\n    if (!this.Jo || this.Tf) this.Jo && (this.Jo = !1), Si(this);\n  };\n\n  function bm(a, b) {\n    a.Ka.df || a.Wc || !a.Im || Ll(a) || (b && Ii(a), Pl(a, !1));\n  }\n\n  function Si(a, b) {\n    if (!a.ae && (a.Tf = !1, null !== a.Ob)) {\n      a.ae = !0;\n      var c = a.Ka,\n          d = a.Mz;\n\n      if (!c.Uo && 0 !== d.length) {\n        for (var e = d.n, f = e.length, h = 0; h < f; h++) {\n          var k = e[h];\n          cm(k, !1);\n          k.H();\n        }\n\n        d.clear();\n      }\n\n      d = a.dD;\n      0 < d.count && (d.each(function (a) {\n        a.VB();\n      }), d.clear());\n      e = d = !1;\n      c.df && (e = !0, d = a.gb, a.gb = !0);\n      c.sc || Hk(a);\n      bm(a, !1);\n      null !== a.ud && (a.ud.visible && !a.Qv && (dm(a), a.Qv = !0), !a.ud.visible && a.Qv && (a.Qv = !1));\n      Ii(a);\n      f = !1;\n      if (!a.eh || a.Pj) a.eh ? em(a, !a.Ar) : (a.Kb(\"Initial Layout\"), !1 === c.isEnabled && c.Ih(), em(a, !1)), f = !0;\n      a.Ar = !1;\n      Ii(a);\n      a.Vz || c.df || fl(a);\n      bm(a, !0);\n      f && (a.eh || fm(a), a.Aa(\"LayoutCompleted\"));\n      Ii(a);\n      f && !a.eh && (a.eh = !0, a.Yc(\"Initial Layout\"), a.gb || a.ja.clear(), w.setTimeout(function () {\n        a.ri = !1;\n      }, 1));\n      gm(a);\n      Gk(c);\n      b || a.ve(a.hf);\n      e && (a.gb = d);\n      a.ae = !1;\n    }\n  }\n\n  w.u(E, {\n    Kn: null\n  }, function () {\n    return this.eh;\n  });\n\n  function fm(a) {\n    var b = a.dc.n;\n    a.If(b, b.length, a);\n    a.ul !== oh ? a.scale = Ql(a, a.ul) : a.Am !== oh ? a.scale = Ql(a, a.Am) : (b = a.uI, isFinite(b) && 0 < b && (a.scale = b));\n    b = a.tI;\n    if (b.I()) a.position = b;else {\n      b = w.K();\n      b.ao(a.Od, a.sI);\n      var c = a.sb,\n          c = w.lg(0, 0, c.width, c.height),\n          d = w.K();\n      d.ao(c, a.vI);\n      d.m(b.x - d.x, b.y - d.y);\n      a.position = d;\n      w.Bb(c);\n      w.v(d);\n      w.v(b);\n      am(a);\n      bm(a, !0);\n      Pl(a, !0);\n    }\n    a.Aa(\"InitialLayoutCompleted\");\n    dm(a);\n  }\n\n  function Ii(a) {\n    if ((a.ae || !a.Ka.df) && 0 !== a.vg.count) {\n      for (var b = 0; 23 > b; b++) {\n        var c = a.vg.i;\n        if (null === c || 0 === a.vg.count) break;\n        a.vg = new I(R);\n        a.VB(c, a.vg);\n      }\n\n      a.ig.each(function (a) {\n        a instanceof V && 0 !== (a.ya & 65536) !== !1 && (a.ya ^= 65536);\n      });\n    }\n  }\n\n  E.prototype.VB = function (a, b) {\n    for (a.reset(); a.next();) {\n      var c = a.value;\n      !c.he() || c instanceof V || (c.im() ? (yk(c, Infinity, Infinity), c.jc()) : b.add(c));\n    }\n\n    for (a.reset(); a.next();) {\n      c = a.value, c instanceof V && c.isVisible() && hm(this, c);\n    }\n\n    for (a.reset(); a.next();) {\n      c = a.value, c instanceof W && c.isVisible() && (c.im() ? (yk(c, Infinity, Infinity), c.jc()) : b.add(c));\n    }\n\n    for (a.reset(); a.next();) {\n      c = a.value, c instanceof jh && c.isVisible() && (c.im() ? (yk(c, Infinity, Infinity), c.jc()) : b.add(c));\n    }\n  };\n\n  function hm(a, b) {\n    for (var c = w.Za(), d = w.Za(), e = b.hc; e.next();) {\n      var f = e.value;\n      f.isVisible() && (f instanceof V ? (km(f) || sm(f) || Gm(f)) && hm(a, f) : f instanceof W ? f.V === b || f.Z === b ? d.push(f) : c.push(f) : (yk(f, Infinity, Infinity), f.jc()));\n    }\n\n    for (var e = c.length, h = 0; h < e; h++) {\n      f = c[h], yk(f, Infinity, Infinity), f.jc();\n    }\n\n    w.ra(c);\n    yk(b, Infinity, Infinity);\n    b.jc();\n    e = d.length;\n\n    for (h = 0; h < e; h++) {\n      f = d[h], yk(f, Infinity, Infinity), f.jc();\n    }\n\n    w.ra(d);\n  }\n\n  E.prototype.If = function (a, b, c, d) {\n    var e = this.Ka;\n    if (this.vl || e.df) for (e = 0; e < b; e++) {\n      a[e].If(c, d);\n    }\n  };\n\n  E.prototype.ve = function (a, b) {\n    void 0 === b && (b = null);\n    null === this.Ob && w.k(\"No div specified\");\n    var c = this.zb;\n    null === c && w.k(\"No canvas specified\");\n    var d = this.Ka;\n\n    if (!d.sc && (Hm(this), \"0\" !== this.Ob.style.opacity)) {\n      var e = a !== this.hf,\n          f = this.dc.n,\n          h = f.length,\n          k = this;\n      this.If(f, h, k);\n      if (e) a.Ke(!0), Nl(this);else if (!this.Fe && null === b && !d.dk) return;\n      var h = this.ab,\n          l = this.rb,\n          m = Math.round(h.x * l) / l,\n          n = Math.round(h.y * l) / l,\n          d = this.kd;\n      d.reset();\n      1 !== l && d.scale(l);\n      0 === h.x && 0 === h.y || d.translate(-m, -n);\n      l = this.xd;\n      w.In ? (c.width = c.width, a.Ke(!0), a.scale(l, l)) : (a.setTransform(1, 0, 0, 1, 0, 0), a.scale(l, l), a.clearRect(0, 0, this.Fb, this.Eb));\n      a.setTransform(1, 0, 0, 1, 0, 0);\n      a.scale(l, l);\n      a.transform(d.m11, d.m12, d.m21, d.m22, d.dx, d.dy);\n      c = null !== b ? function (c) {\n        var d = b;\n\n        if (c.visible && 0 !== c.Dc) {\n          var e = c.xb.n,\n              f = e.length;\n\n          if (0 !== f) {\n            1 !== c.Dc && (a.globalAlpha = c.Dc);\n            c = c.Qs;\n            c.length = 0;\n\n            for (var h = k.scale, l = 0; l < f; l++) {\n              var m = e[l];\n\n              if (kl(m) && !d.contains(m)) {\n                if (m instanceof W) {\n                  var n = m;\n                  n.ac && c.push(n);\n                  if (!1 === n.Mf) continue;\n                }\n\n                n = m.U;\n                1 < n.width * h || 1 < n.height * h ? m.ve(a, k) : ml(m, a);\n              }\n            }\n\n            a.globalAlpha = 1;\n          }\n        }\n      } : function (b) {\n        b.ve(a, k);\n      };\n      Im(this, a);\n      h = f.length;\n\n      for (m = 0; m < h; m++) {\n        a.setTransform(1, 0, 0, 1, 0, 0), a.scale(l, l), a.transform(d.m11, d.m12, d.m21, d.m22, d.dx, d.dy), c(f[m]);\n      }\n\n      this.tl ? this.tl.vm(this) && this.Kv() : this.Nr = function () {\n        return new z(0, 0);\n      };\n      e ? (this.hf.Ke(!0), Nl(this)) : this.Fe = this.vl = !1;\n    }\n  };\n\n  function Jm(a, b, c, d, e) {\n    null === a.Ob && w.k(\"No div specified\");\n    var f = a.zb;\n    null === f && w.k(\"No canvas specified\");\n\n    if (!a.Ka.sc) {\n      var h = a.hf;\n\n      if (a.Fe) {\n        Hm(a);\n        var k = a.xd;\n        w.In ? (f.width = f.width, h.Ke(!0)) : (h.setTransform(1, 0, 0, 1, 0, 0), h.clearRect(0, 0, a.Fb * k, a.Eb * k));\n        h.yy(!1);\n        h.drawImage(a.lz.Pd, 0 < d ? 0 : Math.round(-d), 0 < e ? 0 : Math.round(-e));\n        e = a.ab;\n        var f = a.rb,\n            l = Math.round(e.x * f) / f,\n            m = Math.round(e.y * f) / f;\n        d = a.kd;\n        d.reset();\n        1 !== f && d.scale(f);\n        0 === e.x && 0 === e.y || d.translate(-l, -m);\n        h.save();\n        h.beginPath();\n        e = c.length;\n\n        for (f = 0; f < e; f++) {\n          l = c[f], 0 !== l.width && 0 !== l.height && h.rect(Math.floor(l.x), Math.floor(l.y), Math.ceil(l.width), Math.ceil(l.height));\n        }\n\n        h.clip();\n        h.setTransform(1, 0, 0, 1, 0, 0);\n        h.scale(k, k);\n        h.transform(d.m11, d.m12, d.m21, d.m22, d.dx, d.dy);\n        c = a.dc.n;\n        e = c.length;\n        a.If(c, e, a);\n        Im(a, h);\n\n        for (f = 0; f < e; f++) {\n          nl(c[f], h, a, b);\n        }\n\n        h.restore();\n        h.Ke(!0);\n        a.tl ? a.tl.vm(a) && a.Kv() : a.Nr = function () {\n          return new z(0, 0);\n        };\n        a.vl = !1;\n        a.Fe = !1;\n        a.ly();\n      }\n    }\n  }\n\n  function Km(a, b, c, d, e, f, h, k, l, m) {\n    null === a.Ob && w.k(\"No div specified\");\n    null === a.zb && w.k(\"No canvas specified\");\n    void 0 === h && (h = null);\n    void 0 === k && (k = null);\n    void 0 === l && (l = !1);\n    void 0 === m && (m = !1);\n    Hm(a);\n    a.hf.Ke(!0);\n    Nl(a);\n    a.Jm = !0;\n    var n = a.rb;\n    a.rb = e;\n    var p = a.dc.n,\n        q = p.length;\n\n    try {\n      var r = new B(f.x, f.y, d.width / e, d.height / e),\n          s = r.copy();\n      s.ax(c);\n      dm(a, s);\n      Ii(a);\n      a.If(p, q, a, r);\n      var t = a.xd;\n      b.setTransform(1, 0, 0, 1, 0, 0);\n      b.scale(t, t);\n      b.clearRect(0, 0, d.width, d.height);\n      null !== k && \"\" !== k && (b.fillStyle = k, b.fillRect(0, 0, d.width, d.height));\n      var u = w.Wg();\n      u.reset();\n      u.translate(c.left, c.top);\n      u.scale(e);\n      0 === f.x && 0 === f.y || u.translate(-f.x, -f.y);\n      b.setTransform(u.m11, u.m12, u.m21, u.m22, u.dx, u.dy);\n      w.bf(u);\n      Im(a, b);\n      var y;\n\n      if (null !== h) {\n        var v = new I(R),\n            x = h.i;\n\n        for (x.reset(); x.next();) {\n          var A = x.value;\n          !1 === m && \"Grid\" === A.layer.name || null === A || v.add(A);\n        }\n\n        y = function y(c) {\n          var d = l;\n\n          if (c.visible && 0 !== c.Dc && (void 0 === d && (d = !0), d || !c.Hc)) {\n            var d = c.xb.n,\n                e = d.length;\n\n            if (0 !== e) {\n              1 !== c.Dc && (b.globalAlpha = c.Dc);\n              c = c.Qs;\n              c.length = 0;\n\n              for (var f = a.scale, h = 0; h < e; h++) {\n                var k = d[h];\n\n                if (kl(k) && v.contains(k)) {\n                  if (k instanceof W) {\n                    var m = k;\n                    m.ac && c.push(m);\n                    if (!1 === m.Mf) continue;\n                  }\n\n                  m = k.U;\n                  1 < m.width * f || 1 < m.height * f ? k.ve(b, a) : ml(k, b);\n                }\n              }\n\n              b.globalAlpha = 1;\n            }\n          }\n        };\n      } else if (!l && m) {\n        var L = a.Gn.W,\n            C = L.layer;\n\n        y = function y(c) {\n          c === C ? L.ve(b, a) : c.ve(b, a, l);\n        };\n      } else y = function y(c) {\n        c.ve(b, a, l);\n      };\n\n      for (c = 0; c < q; c++) {\n        y(p[c]);\n      }\n\n      a.Jm = !1;\n      a.tl ? a.tl.vm(a) && a.Kv() : a.Nr = function () {\n        return new z(0, 0);\n      };\n    } finally {\n      a.rb = n, a.hf.Ke(!0), Nl(a), a.If(p, q, a), dm(a);\n    }\n  }\n\n  E.prototype.getRenderingHint = E.prototype.Ok = function (a) {\n    return this.qk[a];\n  };\n\n  E.prototype.setRenderingHint = E.prototype.JJ = function (a, b) {\n    this.qk[a] = b;\n    this.wq();\n  };\n\n  E.prototype.resetRenderingHints = E.prototype.fG = function () {\n    this.qk = new ra();\n    this.qk.drawShadows = !0;\n    this.qk.textGreeking = !0;\n    this.qk.viewportOptimizations = w.CF || w.fq || w.gq ? !1 : !0;\n    this.qk.temporaryPixelRatio = !0;\n    this.qk.pictureRatioOptimization = !0;\n  };\n\n  function Im(a, b) {\n    var c = a.qk;\n    null !== c && (void 0 !== c.imageSmoothingEnabled && b.yy(!!c.imageSmoothingEnabled), c = c.defaultFont, void 0 !== c && null !== c && (b.font = c));\n  }\n\n  E.prototype.getInputOption = E.prototype.nu = function (a) {\n    return this.Ro[a];\n  };\n\n  E.prototype.setInputOption = function (a, b) {\n    this.Ro[a] = b;\n  };\n\n  E.prototype.resetInputOptions = E.prototype.eG = function () {\n    this.Ro = new ra();\n    this.Ro.extraTouchArea = 10;\n    this.Ro.extraTouchThreshold = 10;\n    this.Ro.hasGestureZoom = !0;\n  };\n\n  E.prototype.setProperties = function (a) {\n    w.Zu(this, a);\n  };\n\n  function gm(a) {\n    if (0 === a.ja.wi && 0 !== a.ol.count) {\n      for (; 0 < a.ol.count;) {\n        var b = a.ol;\n        a.ol = new ma(W, B);\n\n        for (b = b.i; b.next();) {\n          var c = b.key;\n          nj(c, b.value);\n          c.ge();\n        }\n      }\n\n      a.oa();\n    }\n  }\n\n  E.prototype.oa = function (a) {\n    void 0 === a && (a = null);\n    if (null === a) this.Fe = !0, this.ye();else {\n      var b = this.sb;\n      null !== a && a.I() && b.$f(a) && (this.Fe = !0, this.ye());\n    }\n\n    for (b = this.yw.i; b.next();) {\n      b.value.oa(a);\n    }\n  };\n\n  E.prototype.wF = function (a, b) {\n    if (!0 !== this.Fe) {\n      this.Fe = !0;\n      var c = !0 === this.Ok(\"temporaryPixelRatio\");\n\n      if (!0 === this.Ok(\"viewportOptimizations\") && this.uy !== Lm && this.ty.Ax(0, 0, 0, 0) && b.width === a.width && b.height === a.height) {\n        var d = this.scale,\n            e = w.vf(),\n            f = Math.max(a.x, b.x),\n            h = Math.max(a.y, b.y),\n            k = Math.min(a.x + a.width, b.x + b.width),\n            l = Math.min(a.y + a.height, b.y + b.height);\n        e.x = f;\n        e.y = h;\n        e.width = Math.max(0, k - f) * d;\n        e.height = Math.max(0, l - h) * d;\n\n        if (0 < e.width && 0 < e.height) {\n          if (!this.ae && (this.Tf = !1, null !== this.Ob)) {\n            this.ae = !0;\n            gm(this);\n            this.Od.I() || Sl(this, this.computeBounds());\n            var m = this.zb;\n\n            if (null !== m) {\n              var n = this.xd,\n                  h = this.Fb * n,\n                  k = this.Eb * n,\n                  f = this.scale * n,\n                  d = Math.round(Math.round(b.x * f) - Math.round(a.x * f)),\n                  f = Math.round(Math.round(b.y * f) - Math.round(a.y * f)),\n                  l = this.lz,\n                  p = this.WC;\n              l.width !== h && (l.width = h);\n              l.height !== k && (l.height = k);\n              p.clearRect(0, 0, h, k);\n              var l = 190 * this.xd,\n                  q = 70 * this.xd,\n                  r = Math.max(d, 0),\n                  s = Math.max(f, 0),\n                  t = Math.floor(h - r),\n                  u = Math.floor(k - s);\n              p.yy(!1);\n              p.drawImage(m.Pd, r, s, t, u, 0, 0, t, u);\n              this.tl.vm(this) && p.clearRect(0, 0, l, q);\n              var m = w.Za(),\n                  p = w.Za(),\n                  u = Math.abs(d),\n                  t = Math.abs(f),\n                  y = 0 === r ? 0 : h - u,\n                  r = w.wb(y, 0),\n                  u = w.wb(u + y, k);\n              p.push(new B(Math.min(r.x, u.x), Math.min(r.y, u.y), Math.abs(r.x - u.x), Math.abs(r.y - u.y)));\n              var v = this.kd;\n              v.reset();\n              v.scale(n, n);\n              1 !== this.rb && v.scale(this.rb);\n              n = this.ab;\n              (0 !== n.x || 0 !== n.y) && isFinite(n.x) && isFinite(n.y) && v.translate(-n.x, -n.y);\n              Pa(r, v);\n              Pa(u, v);\n              m.push(new B(Math.min(r.x, u.x), Math.min(r.y, u.y), Math.abs(r.x - u.x), Math.abs(r.y - u.y)));\n              y = 0 === s ? 0 : k - t;\n              r.m(0, y);\n              u.m(h, t + y);\n              p.push(new B(Math.min(r.x, u.x), Math.min(r.y, u.y), Math.abs(r.x - u.x), Math.abs(r.y - u.y)));\n              Pa(r, v);\n              Pa(u, v);\n              m.push(new B(Math.min(r.x, u.x), Math.min(r.y, u.y), Math.abs(r.x - u.x), Math.abs(r.y - u.y)));\n              this.tl.vm(this) && (h = 0 < d ? 0 : -d, k = 0 < f ? 0 : -f, r.m(h, k), u.m(l + h, q + k), p.push(new B(Math.min(r.x, u.x), Math.min(r.y, u.y), Math.abs(r.x - u.x), Math.abs(r.y - u.y))), Pa(r, v), Pa(u, v), m.push(new B(Math.min(r.x, u.x), Math.min(r.y, u.y), Math.abs(r.x - u.x), Math.abs(r.y - u.y))));\n              w.v(r);\n              w.v(u);\n              bm(this, !1);\n              Jm(this, m, p, d, f);\n              w.ra(m);\n              w.ra(p);\n              this.ae = !1;\n            }\n          }\n        } else this.dg();\n\n        w.Bb(e);\n        c && (this.uk = 1, this.dg(), this.uk = null, this.ly());\n      } else c ? (this.uk = 1, this.dg(), this.uk = null, this.ly()) : this.dg();\n    }\n  };\n\n  function am(a) {\n    !1 === a.Im && (a.Im = !0);\n  }\n\n  function Nl(a) {\n    !1 === a.vl && (a.vl = !0);\n  }\n\n  function Hm(a) {\n    !1 !== a.Wr && (a.Wr = !1, Mm(a, a.Fb, a.Eb));\n  }\n\n  function Mm(a, b, c) {\n    var d = a.zb,\n        e = a.xd,\n        f = b * e,\n        e = c * e;\n    if (d.width !== f || d.height !== e) d.width = f, d.height = e, d.style.width = b + \"px\", d.style.height = c + \"px\", a.Fe = !0, a.hf.Ke(!0);\n  }\n\n  function Ll(a) {\n    var b = a.zb;\n    if (null === b) return !0;\n    var c = a.Ob,\n        d = a.Fb,\n        e = a.Eb,\n        f = a.eA.copy();\n    if (!f.I()) return !0;\n    var h = !1,\n        k = a.sl ? a.Ad : 0,\n        l = a.bk ? a.Ad : 0,\n        m = c.clientWidth || d + k,\n        c = c.clientHeight || e + l;\n    if (m !== d + k || c !== e + l) a.sl = !1, a.bk = !1, l = k = 0, a.Fb = m, a.Eb = c, h = a.Wr = !0;\n    a.Im = !1;\n    var n = a.sb,\n        p = a.Od,\n        q = 0,\n        r = 0,\n        s = 0,\n        t = 0,\n        m = n.width,\n        c = n.height,\n        u = a.ty;\n    a.rA.$c() ? (p.width > m && (q = u.left, r = u.right), p.height > c && (s = u.top, t = u.bottom)) : (q = u.left, r = u.right, s = u.top, t = u.bottom);\n    var u = p.width + q + r,\n        y = p.height + s + t,\n        q = p.x - q,\n        v = n.x,\n        r = p.right + r,\n        x = n.right + k,\n        s = p.y - s,\n        A = n.y,\n        t = p.bottom + t,\n        n = n.bottom + l,\n        L = \"1px\",\n        C = \"1px\",\n        p = a.scale,\n        O = !(u < m + k),\n        X = !(y < c + l);\n    a.uy === sl && (O || X) && (O && a.MA && a.re && (L = 1, q + 1 < v && (L = Math.max((v - q) * p + a.Fb, L)), r > x + 1 && (L = Math.max((r - x) * p + a.Fb, L)), m + k + 1 < u && (L = Math.max((u - m + k) * p + a.Fb, L)), L = L.toString() + \"px\"), X && a.NA && a.se && (C = 1, s + 1 < A && (C = Math.max((A - s) * p + a.Eb, C)), t > n + 1 && (C = Math.max((t - n) * p + a.Eb, C)), c + l + 1 < y && (C = Math.max((y - c + l) * p + a.Eb, C)), C = C.toString() + \"px\"));\n    var O = \"1px\" !== L,\n        S = \"1px\" !== C;\n    O && S || !O && !S || (X = !(y < c + l), S && (x -= a.Ad), O && (n -= a.Ad), u < m + k || !a.MA || !a.re || (L = 1, q + 1 < v && (L = Math.max((v - q) * p + a.Fb, L)), r > x + 1 && (L = Math.max((r - x) * p + a.Fb, L)), m + 1 < u && (L = Math.max((u - m) * p + a.Fb, L)), L = L.toString() + \"px\"), O = \"1px\" !== L, k = a.Eb, O !== a.bk && (k = O ? a.Eb - a.Ad : a.Eb + a.Ad), X && a.NA && a.se && (C = 1, s + 1 < A && (C = Math.max((A - s) * p + k, C)), t > n + 1 && (C = Math.max((t - n) * p + k, C)), c + 1 < y && (C = Math.max((y - c) * p + k, C)), C = C.toString() + \"px\"), S = \"1px\" !== C);\n    if (a.Ew && O === a.bk && S === a.sl) return d === a.Fb && e === a.Eb || a.dg(), !1;\n    O !== a.bk && (a.Eb = \"1px\" === L ? a.Eb + a.Ad : Math.max(a.Eb - a.Ad, 1), h = !0);\n    a.bk = O;\n    a.kt.style.width = L;\n    S !== a.sl && (a.Fb = \"1px\" === C ? a.Fb + a.Ad : Math.max(a.Fb - a.Ad, 1), h = !0, a.as && (k = w.K(), S ? (b.style.left = a.Ad + \"px\", a.position = k.m(a.ab.x + a.Ad / a.scale, a.ab.y)) : (b.style.left = \"0px\", a.position = k.m(a.ab.x - a.Ad / a.scale, a.ab.y)), w.v(k)));\n    a.sl = S;\n    a.kt.style.height = C;\n    a.Rz = !0;\n    h && (a.Wr = !0);\n    b = a.Iw;\n    k = b.scrollLeft;\n    a.MA && a.re && (m + 1 < u ? k = (a.position.x - q) * p : q + 1 < v ? k = b.scrollWidth - b.clientWidth : r > x + 1 && (k = a.position.x * p));\n    if (a.as) switch (a.Pz) {\n      case \"negative\":\n        k = -(b.scrollWidth - k - b.clientWidth);\n        break;\n\n      case \"reverse\":\n        k = b.scrollWidth - k - b.clientWidth;\n    }\n    b.scrollLeft = k;\n    a.NA && a.se && (c + 1 < y ? b.scrollTop = (a.position.y - s) * p : s + 1 < A ? b.scrollTop = b.scrollHeight - b.clientHeight : t > n + 1 && (b.scrollTop = a.position.y * p));\n    m = a.Fb;\n    c = a.Eb;\n    b.style.width = m + (a.sl ? a.Ad : 0) + \"px\";\n    b.style.height = c + (a.bk ? a.Ad : 0) + \"px\";\n    return d !== m || e !== c || a.Ka.sc ? (n = a.sb, a.Pu(f, n, p, a.scale, h), !1) : !0;\n  }\n\n  E.prototype.add = E.prototype.add = function (a) {\n    w.G(a, R, E, \"add:part\");\n    var b = a.g;\n\n    if (b !== this) {\n      null !== b && w.k(\"Cannot add part \" + a.toString() + \" to \" + this.toString() + \". It is already a part of \" + b.toString());\n      this.Rq && (a.zl = \"Tool\");\n      var c = a.bg,\n          b = this.cu(c);\n      null === b && (b = this.cu(\"\"));\n      null === b && w.k('Cannot add a Part when unable find a Layer named \"' + c + '\" and there is no default Layer');\n      a.layer !== b && (c = b.cq(99999999, a, a.g === this), 0 <= c && this.cd(Ef, \"parts\", b, null, a, null, c), b.Hc || this.Gc(), a.J(Nm), c = a.Sx, null !== c && c(a, null, b));\n    }\n  };\n\n  E.prototype.cq = function (a) {\n    if (a instanceof T) {\n      if (this.gp.add(a), a instanceof V) {\n        var b = a.Ca;\n        null === b ? this.Ll.add(a) : b.dp.add(a);\n        b = a.Ub;\n        null !== b && (b.g = this);\n      }\n    } else a instanceof W ? this.$o.add(a) : a instanceof jh || this.xb.add(a);\n\n    var c = this;\n    Om(a, function (a) {\n      Pm(c, a);\n    });\n    (a instanceof jh || a instanceof V && null !== a.Nb) && a.H();\n    b = a.data;\n    null !== b && (a instanceof jh || (a instanceof W ? this.Sj.add(b, a) : this.Ii.add(b, a)), Om(a, function (a) {\n      Qm(c, a);\n    }));\n    !0 !== sm(a) && !0 !== Gm(a) || this.vg.add(a);\n    Rm(a, !0, this);\n    Sm(a) ? (a.U.I() && this.oa(ol(a, a.U)), this.Gc()) : a.isVisible() && a.U.I() && this.oa(ol(a, a.U));\n    this.ye();\n  };\n\n  E.prototype.rf = function (a) {\n    a.Ut();\n\n    if (a instanceof T) {\n      if (this.gp.remove(a), a instanceof V) {\n        var b = a.Ca;\n        null === b ? this.Ll.remove(a) : b.dp.remove(a);\n        b = a.Ub;\n        null !== b && (b.g = null);\n      }\n    } else a instanceof W ? this.$o.remove(a) : a instanceof jh || this.xb.remove(a);\n\n    var c = this;\n    Om(a, function (a) {\n      Tm(c, a);\n    });\n    b = a.data;\n    null !== b && (a instanceof jh || (a instanceof W ? this.Sj.remove(b) : this.Ii.remove(b)), Om(a, function (a) {\n      Um(c, a);\n    }));\n    this.vg.remove(a);\n    Sm(a) ? (a.U.I() && this.oa(ol(a, a.U)), this.Gc()) : a.isVisible() && a.U.I() && this.oa(ol(a, a.U));\n    this.ye();\n  };\n\n  E.prototype.remove = E.prototype.remove = function (a) {\n    w.G(a, R, E, \"remove:part\");\n    Vm(this, a, !0);\n  };\n\n  function Vm(a, b, c) {\n    var d = b.layer;\n    null !== d && d.g === a && (b.jb = !1, b.Og = !1, b.J(Wm), c && b.zn(), c = d.rf(-1, b, !1), 0 <= c && a.cd(Ff, \"parts\", d, b, null, c, null), a = b.Sx, null !== a && a(b, d, null));\n  }\n\n  E.prototype.removeParts = E.prototype.tB = function (a, b) {\n    if (w.isArray(a)) for (var c = w.cb(a), d = 0; d < c; d++) {\n      var e = w.Ba(a, d);\n      b && !e.canDelete() || this.remove(e);\n    } else for (e = new I(R), e.Pc(a), c = e.i; c.next();) {\n      e = c.value, b && !e.canDelete() || this.remove(e);\n    }\n  };\n\n  E.prototype.copyParts = E.prototype.Rp = function (a, b, c) {\n    return this.pb.Rp(a, b, c);\n  };\n\n  E.prototype.moveParts = E.prototype.moveParts = function (a, b, c) {\n    w.G(b, z, E, \"moveParts:offset\");\n    var d = this.Va;\n\n    if (null !== d) {\n      d = d.de;\n      null === d && (d = new nh(), d.Tc(this));\n      var e = new ma(R);\n      if (null !== a) a = a.i;else {\n        for (a = this.Hj; a.next();) {\n          Vh(d, e, a.value, c);\n        }\n\n        for (a = this.ig; a.next();) {\n          Vh(d, e, a.value, c);\n        }\n\n        a = this.links;\n      }\n\n      for (; a.next();) {\n        Vh(d, e, a.value, c);\n      }\n\n      d.moveParts(e, b, c);\n    }\n  };\n\n  function Xm(a, b, c) {\n    w.G(b, pg, E, \"addLayer:layer\");\n    null !== b.g && b.g !== a && w.k(\"Cannot share a Layer with another Diagram: \" + b + \" of \" + b.g);\n    null === c ? null !== b.g && w.k(\"Cannot add an existing Layer to this Diagram again: \" + b) : (w.G(c, pg, E, \"addLayer:existingLayer\"), c.g !== a && w.k(\"Existing Layer must be in this Diagram: \" + c + \" not in \" + c.g), b === c && w.k(\"Cannot move a Layer before or after itself: \" + b));\n\n    if (b.g !== a) {\n      b = b.name;\n      a = a.dc;\n      c = a.count;\n\n      for (var d = 0; d < c; d++) {\n        a.fa(d).name === b && w.k(\"Cannot add Layer with the name '\" + b + \"'; a Layer with the same name is already present in this Diagram.\");\n      }\n    }\n  }\n\n  E.prototype.addLayer = E.prototype.Nt = function (a) {\n    Xm(this, a, null);\n    a.Tc(this);\n    var b = this.dc,\n        c = b.count - 1;\n    if (!a.Hc) for (; 0 <= c && b.fa(c).Hc;) {\n      c--;\n    }\n    b.Sd(c + 1, a);\n    null !== this.qe && this.cd(Ef, \"layers\", this, null, a, null, c + 1);\n    this.oa();\n    this.Gc();\n  };\n\n  E.prototype.addLayerBefore = E.prototype.lH = function (a, b) {\n    Xm(this, a, b);\n    a.Tc(this);\n    var c = this.dc,\n        d = c.indexOf(a);\n    0 <= d && (c.remove(a), null !== this.qe && this.cd(Ff, \"layers\", this, a, null, d, null));\n\n    for (var e = c.count, f = 0; f < e; f++) {\n      if (c.fa(f) === b) {\n        c.Sd(f, a);\n        break;\n      }\n    }\n\n    null !== this.qe && this.cd(Ef, \"layers\", this, null, a, null, f);\n    this.oa();\n    0 > d && this.Gc();\n  };\n\n  E.prototype.addLayerAfter = function (a, b) {\n    Xm(this, a, b);\n    a.Tc(this);\n    var c = this.dc,\n        d = c.indexOf(a);\n    0 <= d && (c.remove(a), null !== this.qe && this.cd(Ff, \"layers\", this, a, null, d, null));\n\n    for (var e = c.count, f = 0; f < e; f++) {\n      if (c.fa(f) === b) {\n        c.Sd(f + 1, a);\n        break;\n      }\n    }\n\n    null !== this.qe && this.cd(Ef, \"layers\", this, null, a, null, f + 1);\n    this.oa();\n    0 > d && this.Gc();\n  };\n\n  E.prototype.removeLayer = function (a) {\n    w.G(a, pg, E, \"removeLayer:layer\");\n    a.g !== this && w.k(\"Cannot remove a Layer from another Diagram: \" + a + \" of \" + a.g);\n\n    if (\"\" !== a.name) {\n      var b = this.dc,\n          c = b.indexOf(a);\n\n      if (b.remove(a)) {\n        for (b = a.xb.copy().i; b.next();) {\n          var d = b.value,\n              e = d.bg;\n          d.bg = e !== a.name ? e : \"\";\n        }\n\n        null !== this.qe && this.cd(Ff, \"layers\", this, a, null, c, null);\n        this.oa();\n        this.Gc();\n      }\n    }\n  };\n\n  E.prototype.findLayer = E.prototype.cu = function (a) {\n    for (var b = this.Tx; b.next();) {\n      var c = b.value;\n      if (c.name === a) return c;\n    }\n\n    return null;\n  };\n\n  E.prototype.addModelChangedListener = E.prototype.nH = function (a) {\n    w.j(a, \"function\", E, \"addModelChangedListener:listener\");\n    null === this.jh && (this.jh = new H(\"function\"));\n    this.jh.add(a);\n    this.$.mn(a);\n  };\n\n  E.prototype.removeModelChangedListener = function (a) {\n    w.j(a, \"function\", E, \"removeModelChangedListener:listener\");\n    null !== this.jh && (this.jh.remove(a), 0 === this.jh.count && (this.jh = null));\n    this.$.Su(a);\n  };\n\n  E.prototype.addChangedListener = E.prototype.mn = function (a) {\n    w.j(a, \"function\", E, \"addChangedListener:listener\");\n    null === this.Di && (this.Di = new H(\"function\"));\n    this.Di.add(a);\n  };\n\n  E.prototype.removeChangedListener = E.prototype.Su = function (a) {\n    w.j(a, \"function\", E, \"removeChangedListener:listener\");\n    null !== this.Di && (this.Di.remove(a), 0 === this.Di.count && (this.Di = null));\n  };\n\n  E.prototype.lx = function (a) {\n    this.gb || this.ja.rF(a);\n    a.Fc !== Df && (this.ri = !0);\n    if (null !== this.Di) for (var b = this.Di, c = b.length, d = 0; d < c; d++) {\n      b.fa(d)(a);\n    }\n  };\n\n  E.prototype.raiseChangedEvent = E.prototype.cd = function (a, b, c, d, e, f, h) {\n    void 0 === f && (f = null);\n    void 0 === h && (h = null);\n    var k = new Bf();\n    k.g = this;\n    k.Fc = a;\n    k.propertyName = b;\n    k.object = c;\n    k.oldValue = d;\n    k.Gj = f;\n    k.newValue = e;\n    k.Fj = h;\n    this.lx(k);\n  };\n\n  E.prototype.raiseChanged = E.prototype.h = function (a, b, c, d, e) {\n    this.cd(Cf, a, this, b, c, d, e);\n  };\n\n  w.u(E, {\n    Ka: \"animationManager\"\n  }, function () {\n    return this.jC;\n  });\n  w.u(E, {\n    ja: \"undoManager\"\n  }, function () {\n    return this.qe.ja;\n  });\n  w.defineProperty(E, {\n    gb: \"skipsUndoManager\"\n  }, function () {\n    return this.ij;\n  }, function (a) {\n    w.j(a, \"boolean\", E, \"skipsUndoManager\");\n    this.ij = a;\n    this.qe.ij = a;\n  });\n  w.defineProperty(E, {\n    yA: \"delaysLayout\"\n  }, function () {\n    return this.gz;\n  }, function (a) {\n    this.gz = a;\n  });\n\n  E.prototype.rn = function (a, b) {\n    if (null !== a && a.g === this) {\n      var c = this.Re;\n\n      try {\n        this.Re = !0;\n        var d = a.Fc,\n            e;\n\n        if (d === Cf) {\n          var f = a.object,\n              h = a.propertyName,\n              k = a.ka(b);\n          w.Ma(f, h, k);\n\n          if (f instanceof G) {\n            var l,\n                m = f.W;\n            null !== m && m.Td();\n          }\n\n          this.ri = !0;\n        } else if (d === Ef) {\n          var n = a.object,\n              p = a.Fj,\n              f = a.newValue;\n          if (n instanceof D) {\n            if (\"number\" === typeof p && f instanceof G) {\n              l = f;\n              var q = n;\n              b ? q.rf(p) : q.Sd(p, l);\n              m = n.W;\n              null !== m && m.Td();\n            } else {\n              if (\"number\" === typeof p && f instanceof Dg) {\n                var r = f,\n                    q = n;\n                b ? r.xe ? q.dG(p) : q.bG(p) : (e = r.xe ? q.fe(r.index) : q.ee(r.index), e.Qp(r));\n              }\n            }\n          } else if (n instanceof pg) {\n            var s = !0 === a.Gj;\n\n            if (\"number\" === typeof p && f instanceof R) {\n              var m = f,\n                  t = n;\n              b ? (m.jb = !1, m.Og = !1, m.Td(), t.rf(s ? p : -1, m, s)) : t.cq(p, m, s);\n            }\n          } else if (n instanceof E) {\n            if (\"number\" === typeof p && f instanceof pg) {\n              var u = f;\n              b ? this.dc.dd(p) : (d = u, d.Tc(this), this.dc.Sd(p, d));\n            }\n          } else w.k(\"unknown ChangedEvent.Insert object: \" + a.toString());\n          this.ri = !0;\n        } else d === Ff ? (n = a.object, p = a.Gj, f = a.oldValue, n instanceof D ? \"number\" === typeof p && f instanceof G ? (q = n, b ? q.Sd(p, f) : q.rf(p)) : \"number\" === typeof p && f instanceof Dg && (r = f, q = n, b ? (e = r.xe ? q.fe(r.index) : q.ee(r.index), e.Qp(r)) : r.xe ? q.dG(p) : q.bG(p)) : n instanceof pg ? (s = !0 === a.Fj, \"number\" === typeof p && f instanceof R && (m = f, t = n, b ? 0 > t.xb.indexOf(m) && t.cq(p, m, s) : (m.jb = !1, m.Og = !1, m.Td(), t.rf(s ? p : -1, m, s)))) : n instanceof E ? \"number\" === typeof p && f instanceof pg && (u = f, b ? (d = u, d.Tc(this), this.dc.Sd(p, d)) : this.dc.dd(p)) : w.k(\"unknown ChangedEvent.Remove object: \" + a.toString()), this.ri = !0) : d !== Df && w.k(\"unknown ChangedEvent: \" + a.toString());\n      } finally {\n        this.Re = c;\n      }\n    }\n  };\n\n  E.prototype.startTransaction = E.prototype.Kb = function (a) {\n    return this.ja.Kb(a);\n  };\n\n  E.prototype.commitTransaction = E.prototype.Yc = function (a) {\n    return this.ja.Yc(a);\n  };\n\n  E.prototype.rollbackTransaction = E.prototype.mm = function () {\n    return this.ja.mm();\n  };\n\n  E.prototype.commit = E.prototype.commit = function (a, b) {\n    var c = b;\n    void 0 === c && (c = \"\");\n    var d = this.gb;\n    null === c && (this.gb = !0, c = \"\");\n    this.ja.Kb(c);\n    var e = !1;\n\n    try {\n      a(this), e = !0;\n    } finally {\n      e ? this.ja.Yc(c) : this.ja.mm(), this.gb = d;\n    }\n  };\n\n  E.prototype.updateAllTargetBindings = E.prototype.JG = function (a) {\n    void 0 === a && (a = \"\");\n\n    for (var b = this.Hj; b.next();) {\n      b.value.Lb(a);\n    }\n\n    for (b = this.ig; b.next();) {\n      b.value.Lb(a);\n    }\n\n    for (b = this.links; b.next();) {\n      b.value.Lb(a);\n    }\n  };\n\n  E.prototype.updateAllRelationshipsFromData = E.prototype.$J = function () {\n    for (var a = this.$, b = new I(), c = a.Pg, d = 0; d < c.length; d++) {\n      var e = c[d];\n      b.add(e);\n    }\n\n    var f = [];\n    this.ig.each(function (a) {\n      null === a.data || b.contains(a.data) || f.push(a.data);\n    });\n    this.Hj.each(function (a) {\n      null === a.data || b.contains(a.data) || f.push(a.data);\n    });\n    f.forEach(function (b) {\n      yg(a, b, !1);\n    });\n\n    for (d = 0; d < c.length; d++) {\n      var e = c[d],\n          h = this.wh(e);\n      null === h && xg(a, e, !1);\n    }\n\n    if (a instanceof Q) {\n      for (var k = new I(), c = a.Ah, d = 0; d < c.length; d++) {\n        e = c[d], k.add(e);\n      }\n\n      var l = [];\n      this.links.each(function (a) {\n        null === a.data || k.contains(a.data) || l.push(a.data);\n      });\n      l.forEach(function (b) {\n        $g(a, b, !1);\n      });\n\n      for (d = 0; d < c.length; d++) {\n        e = c[d], h = this.Yf(e), null === h && Zg(a, e, !1);\n      }\n    }\n\n    for (d = this.Hj; d.next();) {\n      h = d.value, h.updateRelationshipsFromData();\n    }\n\n    for (d = this.ig; d.next();) {\n      d.value.updateRelationshipsFromData();\n    }\n\n    for (d = this.links; d.next();) {\n      h = d.value, h.updateRelationshipsFromData();\n    }\n  };\n\n  function Ym(a, b, c) {\n    if (a.Wc || a.ae) a.rb = c, c = a.Ka, c.sc && jl(c, b, a.rb);else if (a.Wc = !0, null === a.zb) a.rb = c;else {\n      var d = a.sb.copy(),\n          e = a.Fb,\n          f = a.Eb;\n      d.width = a.Fb / b;\n      d.height = a.Eb / b;\n      var h = a.zi.x,\n          k = a.zi.y,\n          l = a.rA;\n      isNaN(h) && (l.zj() ? l.xj(Yb) ? h = 0 : l.xj(Zb) && (h = e - 1) : h = l.$c() ? l.x * (e - 1) : e / 2);\n      isNaN(k) && (l.zj() ? l.xj(Xb) ? k = 0 : l.xj($b) && (k = f - 1) : k = l.$c() ? l.y * (f - 1) : f / 2);\n      null !== a.kG && (c = a.kG(a, c));\n      c < a.Ch && (c = a.Ch);\n      c > a.Bh && (c = a.Bh);\n      e = w.wb(a.ab.x + h / b - h / c, a.ab.y + k / b - k / c);\n      a.position = e;\n      w.v(e);\n      a.rb = c;\n      a.Pu(d, a.sb, b, c, !1);\n      a.Wc = !1;\n      Pl(a, !1);\n      c = a.Ka;\n      c.sc && jl(c, b, a.rb);\n      a.oa();\n      am(a);\n    }\n  }\n\n  E.prototype.Pu = function (a, b, c, d, e) {\n    a.L(b) || (void 0 === e && (e = !1), e || am(this), Nl(this), d = this.Ub, null === d || !d.Px || this.Tl !== oh || e || a.width === b.width && a.height === b.height || d.J(), d = this.Xa, !0 === this.fh && d instanceof hh && (this.Q.ea = this.SB(this.Q.Ce), Ck(d, this)), this.Wc || this.wF(a, b), dm(this), this.ph.scale = c, this.ph.position.x = a.x, this.ph.position.y = a.y, this.ph.bounds.set(a), this.ph.isScroll = e, this.Aa(\"ViewportBoundsChanged\", this.ph, a), this.YA && this.links.each(function (a) {\n      a.fm && a.U.$f(b) && a.Tb();\n    }));\n  };\n\n  function dm(a, b) {\n    void 0 === b && (b = null);\n    var c = a.ud;\n\n    if (null !== c && c.visible) {\n      for (var d = w.tm(), e = 1, f = 1, h = c.xa.n, k = h.length, l = 0; l < k; l++) {\n        var m = h[l],\n            n = m.interval;\n        2 > n || (Zm(m.Hb) ? f = f * n / re(f, n) : e = e * n / re(e, n));\n      }\n\n      h = c.Ix;\n      d.m(f * h.width, e * h.height);\n      h = f = l = k = 0;\n      if (null !== b) k = b.width, l = b.height, f = b.x, h = b.y;else {\n        e = w.vf();\n        f = a.sb;\n        e.m(f.x, f.y, f.width, f.height);\n\n        for (h = a.yw.i; h.next();) {\n          f = h.value.sb, f.I() && ab(e, f.x, f.y, f.width, f.height);\n        }\n\n        if (!e.I()) {\n          w.Bb(e);\n          return;\n        }\n\n        k = e.width;\n        l = e.height;\n        f = e.x;\n        h = e.y;\n        w.Bb(e);\n      }\n      c.width = k + 2 * d.width;\n      c.height = l + 2 * d.height;\n      e = w.K();\n      Na(f, h, 0, 0, d.width, d.height, e);\n      e.offset(-d.width, -d.height);\n      w.Lk(d);\n      c.W.location = e;\n      w.v(e);\n    }\n  }\n\n  E.prototype.clearSelection = E.prototype.oA = function () {\n    var a = 0 < this.selection.count;\n    a && this.Aa(\"ChangingSelection\");\n    mh(this);\n    a && this.Aa(\"ChangedSelection\");\n  };\n\n  function mh(a) {\n    a = a.selection;\n\n    if (0 < a.count) {\n      for (var b = a.yc(), c = b.length, d = 0; d < c; d++) {\n        b[d].jb = !1;\n      }\n\n      a.Qa();\n      a.clear();\n      a.freeze();\n    }\n  }\n\n  E.prototype.select = E.prototype.select = function (a) {\n    null !== a && (w.G(a, R, E, \"select:part\"), a.layer.g === this && (!a.jb || 1 < this.selection.count) && (this.Aa(\"ChangingSelection\"), mh(this), a.jb = !0, this.Aa(\"ChangedSelection\")));\n  };\n\n  E.prototype.selectCollection = E.prototype.oG = function (a) {\n    this.Aa(\"ChangingSelection\");\n    mh(this);\n    if (w.isArray(a)) for (var b = w.cb(a), c = 0; c < b; c++) {\n      var d = w.Ba(a, c);\n      d instanceof R || w.k(\"Diagram.selectCollection given something that is not a Part: \" + d);\n      d.jb = !0;\n    } else for (a = a.i; a.next();) {\n      d = a.value, d instanceof R || w.k(\"Diagram.selectCollection given something that is not a Part: \" + d), d.jb = !0;\n    }\n    this.Aa(\"ChangedSelection\");\n  };\n\n  E.prototype.clearHighlighteds = E.prototype.uH = function () {\n    var a = this.em;\n\n    if (0 < a.count) {\n      for (var b = a.yc(), c = b.length, d = 0; d < c; d++) {\n        b[d].Og = !1;\n      }\n\n      a.Qa();\n      a.clear();\n      a.freeze();\n    }\n  };\n\n  E.prototype.highlight = function (a) {\n    null !== a && a.layer.g === this && (w.G(a, R, E, \"highlight:part\"), !a.Og || 1 < this.em.count) && (this.uH(), a.Og = !0);\n  };\n\n  E.prototype.highlightCollection = function (a) {\n    for (var b = new I(R).Pc(a), c = this.em.copy().ny(b).i; c.next();) {\n      a = c.value, a.Og = !1;\n    }\n\n    for (b = b.i; b.next();) {\n      a = b.value, a instanceof R || w.k(\"Diagram.highlightCollection given something that is not a Part: \" + a), a.Og = !0;\n    }\n  };\n\n  E.prototype.scroll = E.prototype.scroll = function (a, b, c) {\n    void 0 === c && (c = 1);\n    var d = \"up\" === b || \"down\" === b,\n        e = 0;\n    if (\"pixel\" === a) e = c;else if (\"line\" === a) e = c * (d ? this.Yu : this.Xu);else if (\"page\" === a) a = d ? this.sb.height : this.sb.width, a *= this.scale, 0 !== a && (e = Math.max(a - (d ? this.Yu : this.Xu), 0), e *= c);else {\n      if (\"document\" === a) {\n        e = this.Od;\n        d = this.sb;\n        c = w.K();\n        \"up\" === b ? this.position = c.m(d.x, e.y) : \"left\" === b ? this.position = c.m(e.x, d.y) : \"down\" === b ? this.position = c.m(d.x, e.bottom - d.height) : \"right\" === b && (this.position = c.m(e.right - d.width, d.y));\n        w.v(c);\n        return;\n      }\n\n      w.k(\"scrolling unit must be 'pixel', 'line', 'page', or 'document', not: \" + a);\n    }\n    e /= this.scale;\n    c = this.position.copy();\n    \"up\" === b ? c.y = this.position.y - e : \"down\" === b ? c.y = this.position.y + e : \"left\" === b ? c.x = this.position.x - e : \"right\" === b ? c.x = this.position.x + e : w.k(\"scrolling direction must be 'up', 'down', 'left', or 'right', not: \" + b);\n    this.position = c;\n  };\n\n  E.prototype.scrollToRect = E.prototype.lG = function (a) {\n    var b = this.sb;\n    b.Fk(a) || (a = a.Ul, a.x -= b.width / 2, a.y -= b.height / 2, this.position = a);\n  };\n\n  E.prototype.centerRect = E.prototype.GE = function (a) {\n    var b = this.sb;\n    a = a.Ul;\n    a.x -= b.width / 2;\n    a.y -= b.height / 2;\n    this.position = a;\n  };\n\n  E.prototype.transformDocToView = E.prototype.Dy = function (a) {\n    var b = this.kd;\n    b.reset();\n    1 !== this.rb && b.scale(this.rb);\n    var c = this.ab;\n    (0 !== c.x || 0 !== c.y) && isFinite(c.x) && isFinite(c.y) && b.translate(-c.x, -c.y);\n    return a.copy().transform(this.kd);\n  };\n\n  E.prototype.transformViewToDoc = E.prototype.SB = function (a) {\n    var b = this.kd;\n    b.reset();\n    1 !== this.rb && b.scale(this.rb);\n    var c = this.ab;\n    (0 !== c.x || 0 !== c.y) && isFinite(c.x) && isFinite(c.y) && b.translate(-c.x, -c.y);\n    return Pa(a.copy(), this.kd);\n  };\n\n  var oh;\n  E.None = oh = w.p(E, \"None\", 0);\n  var Tl;\n  E.Uniform = Tl = w.p(E, \"Uniform\", 1);\n  var Ul;\n  E.UniformToFill = Ul = w.p(E, \"UniformToFill\", 2);\n  var Wi;\n  E.CycleAll = Wi = w.p(E, \"CycleAll\", 10);\n  var $i;\n  E.CycleNotDirected = $i = w.p(E, \"CycleNotDirected\", 11);\n  var bj;\n  E.CycleNotDirectedFast = bj = w.p(E, \"CycleNotDirectedFast\", 12);\n  var cj;\n  E.CycleNotUndirected = cj = w.p(E, \"CycleNotUndirected\", 13);\n  var Xi;\n  E.CycleDestinationTree = Xi = w.p(E, \"CycleDestinationTree\", 14);\n  var Zi;\n  E.CycleSourceTree = Zi = w.p(E, \"CycleSourceTree\", 15);\n  var sl;\n  E.DocumentScroll = sl = w.p(E, \"DocumentScroll\", 1);\n  var Lm;\n  E.InfiniteScroll = Lm = w.p(E, \"InfiniteScroll\", 2);\n  var ul;\n  E.TreeParentCollapsed = ul = w.p(E, \"TreeParentCollapsed\", 21);\n  var $m;\n  E.AllParentsCollapsed = $m = w.p(E, \"AllParentsCollapsed\", 22);\n  var an;\n  E.AnyParentsCollapsed = an = w.p(E, \"AnyParentsCollapsed\", 23);\n  w.defineProperty(E, {\n    aK: \"validCycle\"\n  }, function () {\n    return this.Ww;\n  }, function (a) {\n    var b = this.Ww;\n    b !== a && (w.ob(a, E, E, \"validCycle\"), this.Ww = a, this.h(\"validCycle\", b, a));\n  });\n  w.u(E, {\n    Tx: \"layers\"\n  }, function () {\n    return this.dc.i;\n  });\n  w.defineProperty(E, {\n    Ef: \"isModelReadOnly\"\n  }, function () {\n    var a = this.qe;\n    return null === a ? !1 : a.ib;\n  }, function (a) {\n    var b = this.qe;\n    null !== b && (b.ib = a);\n  });\n  w.defineProperty(E, {\n    ib: \"isReadOnly\"\n  }, function () {\n    return this.Si;\n  }, function (a) {\n    var b = this.Si;\n    b !== a && (w.j(a, \"boolean\", E, \"isReadOnly\"), this.Si = a, this.h(\"isReadOnly\", b, a));\n  });\n  w.defineProperty(E, {\n    isEnabled: \"isEnabled\"\n  }, function () {\n    return this.jf;\n  }, function (a) {\n    var b = this.jf;\n    b !== a && (w.j(a, \"boolean\", E, \"isEnabled\"), this.jf = a, this.h(\"isEnabled\", b, a));\n  });\n  w.defineProperty(E, {\n    iA: \"allowClipboard\"\n  }, function () {\n    return this.kv;\n  }, function (a) {\n    var b = this.kv;\n    b !== a && (w.j(a, \"boolean\", E, \"allowClipboard\"), this.kv = a, this.h(\"allowClipboard\", b, a));\n  });\n  w.defineProperty(E, {\n    Ck: \"allowCopy\"\n  }, function () {\n    return this.Yk;\n  }, function (a) {\n    var b = this.Yk;\n    b !== a && (w.j(a, \"boolean\", E, \"allowCopy\"), this.Yk = a, this.h(\"allowCopy\", b, a));\n  });\n  w.defineProperty(E, {\n    nn: \"allowDelete\"\n  }, function () {\n    return this.Zk;\n  }, function (a) {\n    var b = this.Zk;\n    b !== a && (w.j(a, \"boolean\", E, \"allowDelete\"), this.Zk = a, this.h(\"allowDelete\", b, a));\n  });\n  w.defineProperty(E, {\n    Rt: \"allowDragOut\"\n  }, function () {\n    return this.lv;\n  }, function (a) {\n    var b = this.lv;\n    b !== a && (w.j(a, \"boolean\", E, \"allowDragOut\"), this.lv = a, this.h(\"allowDragOut\", b, a));\n  });\n  w.defineProperty(E, {\n    yE: \"allowDrop\"\n  }, function () {\n    return this.mv;\n  }, function (a) {\n    var b = this.mv;\n    b !== a && (w.j(a, \"boolean\", E, \"allowDrop\"), this.mv = a, this.h(\"allowDrop\", b, a));\n  });\n  w.defineProperty(E, {\n    ix: \"allowTextEdit\"\n  }, function () {\n    return this.hl;\n  }, function (a) {\n    var b = this.hl;\n    b !== a && (w.j(a, \"boolean\", E, \"allowTextEdit\"), this.hl = a, this.h(\"allowTextEdit\", b, a));\n  });\n  w.defineProperty(E, {\n    ex: \"allowGroup\"\n  }, function () {\n    return this.$k;\n  }, function (a) {\n    var b = this.$k;\n    b !== a && (w.j(a, \"boolean\", E, \"allowGroup\"), this.$k = a, this.h(\"allowGroup\", b, a));\n  });\n  w.defineProperty(E, {\n    jx: \"allowUngroup\"\n  }, function () {\n    return this.il;\n  }, function (a) {\n    var b = this.il;\n    b !== a && (w.j(a, \"boolean\", E, \"allowUngroup\"), this.il = a, this.h(\"allowUngroup\", b, a));\n  });\n  w.defineProperty(E, {\n    Ip: \"allowInsert\"\n  }, function () {\n    return this.ov;\n  }, function (a) {\n    var b = this.ov;\n    b !== a && (w.j(a, \"boolean\", E, \"allowInsert\"), this.ov = a, this.h(\"allowInsert\", b, a));\n  });\n  w.defineProperty(E, {\n    St: \"allowLink\"\n  }, function () {\n    return this.al;\n  }, function (a) {\n    var b = this.al;\n    b !== a && (w.j(a, \"boolean\", E, \"allowLink\"), this.al = a, this.h(\"allowLink\", b, a));\n  });\n  w.defineProperty(E, {\n    on: \"allowRelink\"\n  }, function () {\n    return this.cl;\n  }, function (a) {\n    var b = this.cl;\n    b !== a && (w.j(a, \"boolean\", E, \"allowRelink\"), this.cl = a, this.h(\"allowRelink\", b, a));\n  });\n  w.defineProperty(E, {\n    Rl: \"allowMove\"\n  }, function () {\n    return this.bl;\n  }, function (a) {\n    var b = this.bl;\n    b !== a && (w.j(a, \"boolean\", E, \"allowMove\"), this.bl = a, this.h(\"allowMove\", b, a));\n  });\n  w.defineProperty(E, {\n    gx: \"allowReshape\"\n  }, function () {\n    return this.dl;\n  }, function (a) {\n    var b = this.dl;\n    b !== a && (w.j(a, \"boolean\", E, \"allowReshape\"), this.dl = a, this.h(\"allowReshape\", b, a));\n  });\n  w.defineProperty(E, {\n    Tt: \"allowResize\"\n  }, function () {\n    return this.el;\n  }, function (a) {\n    var b = this.el;\n    b !== a && (w.j(a, \"boolean\", E, \"allowResize\"), this.el = a, this.h(\"allowResize\", b, a));\n  });\n  w.defineProperty(E, {\n    hx: \"allowRotate\"\n  }, function () {\n    return this.fl;\n  }, function (a) {\n    var b = this.fl;\n    b !== a && (w.j(a, \"boolean\", E, \"allowRotate\"), this.fl = a, this.h(\"allowRotate\", b, a));\n  });\n  w.defineProperty(E, {\n    Bf: \"allowSelect\"\n  }, function () {\n    return this.gl;\n  }, function (a) {\n    var b = this.gl;\n    b !== a && (w.j(a, \"boolean\", E, \"allowSelect\"), this.gl = a, this.h(\"allowSelect\", b, a));\n  });\n  w.defineProperty(E, {\n    zE: \"allowUndo\"\n  }, function () {\n    return this.pv;\n  }, function (a) {\n    var b = this.pv;\n    b !== a && (w.j(a, \"boolean\", E, \"allowUndo\"), this.pv = a, this.h(\"allowUndo\", b, a));\n  });\n  w.defineProperty(E, {\n    kx: \"allowZoom\"\n  }, function () {\n    return this.rv;\n  }, function (a) {\n    var b = this.rv;\n    b !== a && (w.j(a, \"boolean\", E, \"allowZoom\"), this.rv = a, this.h(\"allowZoom\", b, a));\n  });\n  w.defineProperty(E, {\n    NA: \"hasVerticalScrollbar\"\n  }, function () {\n    return this.Uv;\n  }, function (a) {\n    var b = this.Uv;\n    b !== a && (w.j(a, \"boolean\", E, \"hasVerticalScrollbar\"), this.Uv = a, am(this), this.oa(), this.h(\"hasVerticalScrollbar\", b, a), Pl(this, !1));\n  });\n  w.defineProperty(E, {\n    MA: \"hasHorizontalScrollbar\"\n  }, function () {\n    return this.Tv;\n  }, function (a) {\n    var b = this.Tv;\n    b !== a && (w.j(a, \"boolean\", E, \"hasHorizontalScrollbar\"), this.Tv = a, am(this), this.oa(), this.h(\"hasHorizontalScrollbar\", b, a), Pl(this, !1));\n  });\n  w.defineProperty(E, {\n    re: \"allowHorizontalScroll\"\n  }, function () {\n    return this.nv;\n  }, function (a) {\n    var b = this.nv;\n    b !== a && (w.j(a, \"boolean\", E, \"allowHorizontalScroll\"), this.nv = a, this.h(\"allowHorizontalScroll\", b, a), Pl(this, !1));\n  });\n  w.defineProperty(E, {\n    se: \"allowVerticalScroll\"\n  }, function () {\n    return this.qv;\n  }, function (a) {\n    var b = this.qv;\n    b !== a && (w.j(a, \"boolean\", E, \"allowVerticalScroll\"), this.qv = a, this.h(\"allowVerticalScroll\", b, a), Pl(this, !1));\n  });\n  w.defineProperty(E, {\n    Xu: \"scrollHorizontalLineChange\"\n  }, function () {\n    return this.Fw;\n  }, function (a) {\n    var b = this.Fw;\n    b !== a && (w.j(a, \"number\", E, \"scrollHorizontalLineChange\"), 0 > a && w.Fa(a, \">= 0\", E, \"scrollHorizontalLineChange\"), this.Fw = a, this.h(\"scrollHorizontalLineChange\", b, a));\n  });\n  w.defineProperty(E, {\n    Yu: \"scrollVerticalLineChange\"\n  }, function () {\n    return this.Jw;\n  }, function (a) {\n    var b = this.Jw;\n    b !== a && (w.j(a, \"number\", E, \"scrollVerticalLineChange\"), 0 > a && w.Fa(a, \">= 0\", E, \"scrollVerticalLineChange\"), this.Jw = a, this.h(\"scrollVerticalLineChange\", b, a));\n  });\n  w.defineProperty(E, {\n    Q: \"lastInput\"\n  }, function () {\n    return this.Rb;\n  }, function (a) {\n    this.Rb = a;\n  });\n  w.defineProperty(E, {\n    uc: \"firstInput\"\n  }, function () {\n    return this.Pi;\n  }, function (a) {\n    this.Pi = a;\n  });\n  w.defineProperty(E, {\n    kc: \"currentCursor\"\n  }, function () {\n    return this.Bv;\n  }, function (a) {\n    \"\" === a && (a = this.vr);\n\n    if (this.Bv !== a) {\n      w.j(a, \"string\", E, \"currentCursor\");\n      var b = this.zb,\n          c = this.Ob;\n\n      if (null !== b) {\n        this.Bv = a;\n        var d = b.style.cursor;\n        b.style.cursor = a;\n        c.style.cursor = a;\n        b.style.cursor === d && (b.style.cursor = \"-webkit-\" + a, c.style.cursor = \"-webkit-\" + a, b.style.cursor === d && (b.style.cursor = \"-moz-\" + a, c.style.cursor = \"-moz-\" + a, b.style.cursor === d && (b.style.cursor = a, c.style.cursor = a)));\n      }\n    }\n  });\n  w.defineProperty(E, {\n    RK: \"defaultCursor\"\n  }, function () {\n    return this.vr;\n  }, function (a) {\n    \"\" === a && (a = \"auto\");\n    var b = this.vr;\n    b !== a && (w.j(a, \"string\", E, \"defaultCursor\"), this.vr = a, this.h(\"defaultCursor\", b, a));\n  });\n  w.defineProperty(E, {\n    click: \"click\"\n  }, function () {\n    return this.Ei;\n  }, function (a) {\n    var b = this.Ei;\n    b !== a && (null !== a && w.j(a, \"function\", E, \"click\"), this.Ei = a, this.h(\"click\", b, a));\n  });\n  w.defineProperty(E, {\n    Zt: \"doubleClick\"\n  }, function () {\n    return this.Mi;\n  }, function (a) {\n    var b = this.Mi;\n    b !== a && (null !== a && w.j(a, \"function\", E, \"doubleClick\"), this.Mi = a, this.h(\"doubleClick\", b, a));\n  });\n  w.defineProperty(E, {\n    sA: \"contextClick\"\n  }, function () {\n    return this.Gi;\n  }, function (a) {\n    var b = this.Gi;\n    b !== a && (null !== a && w.j(a, \"function\", E, \"contextClick\"), this.Gi = a, this.h(\"contextClick\", b, a));\n  });\n  w.defineProperty(E, {\n    iB: \"mouseOver\"\n  }, function () {\n    return this.aj;\n  }, function (a) {\n    var b = this.aj;\n    b !== a && (null !== a && w.j(a, \"function\", E, \"mouseOver\"), this.aj = a, this.h(\"mouseOver\", b, a));\n  });\n  w.defineProperty(E, {\n    hB: \"mouseHover\"\n  }, function () {\n    return this.$i;\n  }, function (a) {\n    var b = this.$i;\n    b !== a && (null !== a && w.j(a, \"function\", E, \"mouseHover\"), this.$i = a, this.h(\"mouseHover\", b, a));\n  });\n  w.defineProperty(E, {\n    gB: \"mouseHold\"\n  }, function () {\n    return this.Zi;\n  }, function (a) {\n    var b = this.Zi;\n    b !== a && (null !== a && w.j(a, \"function\", E, \"mouseHold\"), this.Zi = a, this.h(\"mouseHold\", b, a));\n  });\n  w.defineProperty(E, {\n    dJ: \"mouseDragOver\"\n  }, function () {\n    return this.sw;\n  }, function (a) {\n    var b = this.sw;\n    b !== a && (null !== a && w.j(a, \"function\", E, \"mouseDragOver\"), this.sw = a, this.h(\"mouseDragOver\", b, a));\n  });\n  w.defineProperty(E, {\n    fB: \"mouseDrop\"\n  }, function () {\n    return this.Yi;\n  }, function (a) {\n    var b = this.Yi;\n    b !== a && (null !== a && w.j(a, \"function\", E, \"mouseDrop\"), this.Yi = a, this.h(\"mouseDrop\", b, a));\n  });\n  w.defineProperty(E, {\n    OB: \"toolTip\"\n  }, function () {\n    return this.jj;\n  }, function (a) {\n    var b = this.jj;\n    b !== a && (this.jj = a, this.h(\"toolTip\", b, a));\n  });\n  w.defineProperty(E, {\n    contextMenu: \"contextMenu\"\n  }, function () {\n    return this.Hi;\n  }, function (a) {\n    var b = this.Hi;\n    b !== a && (this.Hi = a, this.h(\"contextMenu\", b, a));\n  });\n  w.defineProperty(E, {\n    pb: \"commandHandler\"\n  }, function () {\n    return this.$y;\n  }, function (a) {\n    var b = this.$y;\n    b !== a && (w.G(a, rg, E, \"commandHandler\"), null !== a.g && w.k(\"Cannot share CommandHandlers between Diagrams: \" + a.toString()), null !== b && b.Tc(null), this.$y = a, a.Tc(this));\n  });\n  w.defineProperty(E, {\n    Va: \"toolManager\"\n  }, function () {\n    return this.$z;\n  }, function (a) {\n    var b = this.$z;\n    b !== a && (w.G(a, hh, E, \"toolManager\"), null !== a.g && w.k(\"Cannot share ToolManagers between Diagrams: \" + a.toString()), null !== b && b.Tc(null), this.$z = a, a.Tc(this));\n  });\n  w.defineProperty(E, {\n    Xt: \"defaultTool\"\n  }, function () {\n    return this.fz;\n  }, function (a) {\n    var b = this.fz;\n    b !== a && (w.G(a, qg, E, \"defaultTool\"), this.fz = a, this.Xa === b && (this.Xa = a));\n  });\n  w.defineProperty(E, {\n    Xa: \"currentTool\"\n  }, function () {\n    return this.cz;\n  }, function (a) {\n    var b = this.cz;\n    null !== b && (b.ta && b.doDeactivate(), b.cancelWaitAfter(), b.doStop());\n    null === a && (a = this.Xt);\n    null !== a && (w.G(a, qg, E, \"currentTool\"), this.cz = a, a.Tc(this), a.doStart());\n  });\n  w.u(E, {\n    selection: \"selection\"\n  }, function () {\n    return this.Mw;\n  });\n  w.defineProperty(E, {\n    VI: \"maxSelectionCount\"\n  }, function () {\n    return this.ow;\n  }, function (a) {\n    var b = this.ow;\n    if (b !== a) if (w.j(a, \"number\", E, \"maxSelectionCount\"), 0 <= a && !isNaN(a)) {\n      if (this.ow = a, this.h(\"maxSelectionCount\", b, a), !this.ja.lb && (a = this.selection.count - a, 0 < a)) {\n        this.Aa(\"ChangingSelection\");\n\n        for (var b = this.selection.yc(), c = 0; c < a; c++) {\n          b[c].jb = !1;\n        }\n\n        this.Aa(\"ChangedSelection\");\n      }\n    } else w.Fa(a, \">= 0\", E, \"maxSelectionCount\");\n  });\n  w.defineProperty(E, {\n    hJ: \"nodeSelectionAdornmentTemplate\"\n  }, function () {\n    return this.tw;\n  }, function (a) {\n    var b = this.tw;\n    b !== a && (w.G(a, jh, E, \"nodeSelectionAdornmentTemplate\"), this.tw = a, this.h(\"nodeSelectionAdornmentTemplate\", b, a));\n  });\n  w.defineProperty(E, {\n    lI: \"groupSelectionAdornmentTemplate\"\n  }, function () {\n    return this.Rv;\n  }, function (a) {\n    var b = this.Rv;\n    b !== a && (w.G(a, jh, E, \"groupSelectionAdornmentTemplate\"), this.Rv = a, this.h(\"groupSelectionAdornmentTemplate\", b, a));\n  });\n  w.defineProperty(E, {\n    OI: \"linkSelectionAdornmentTemplate\"\n  }, function () {\n    return this.jw;\n  }, function (a) {\n    var b = this.jw;\n    b !== a && (w.G(a, jh, E, \"linkSelectionAdornmentTemplate\"), this.jw = a, this.h(\"linkSelectionAdornmentTemplate\", b, a));\n  });\n  w.u(E, {\n    em: \"highlighteds\"\n  }, function () {\n    return this.Vv;\n  });\n  w.defineProperty(E, {\n    ri: \"isModified\"\n  }, function () {\n    var a = this.ja;\n    return a.isEnabled ? null !== a.sj ? !0 : this.aw && this.dh !== a.wj : this.aw;\n  }, function (a) {\n    if (this.aw !== a) {\n      w.j(a, \"boolean\", E, \"isModified\");\n      this.aw = a;\n      var b = this.ja;\n      !a && b.isEnabled && (this.dh = b.wj);\n      a || bn(this);\n    }\n  });\n\n  function bn(a) {\n    var b = a.ri;\n    a.oE !== b && (a.oE = b, a.Aa(\"Modified\"));\n  }\n\n  w.defineProperty(E, {\n    $: \"model\"\n  }, function () {\n    return this.qe;\n  }, function (a) {\n    var b = this.qe;\n\n    if (b !== a) {\n      w.G(a, F, E, \"model\");\n      this.Xa.doCancel();\n      null !== b && b.ja !== a.ja && b.ja.DF && w.k(\"Do not replace a Diagram.model while a transaction is in progress.\");\n      El(this, !0);\n      this.eh = !1;\n      this.Jo = !0;\n      this.dh = -2;\n      this.Tf = !1;\n      var c = this.ae;\n      this.ae = !0;\n      this.Ka.Yn(\"Model\");\n      null !== b && (null !== this.jh && this.jh.each(function (a) {\n        b.Su(a);\n      }), b.Su(this.yD));\n      this.qe = a;\n      a.mn(this.xD);\n      cn(this, a.Pg);\n      a instanceof Q && dn(this, a.Ah);\n      a.Su(this.xD);\n      a.mn(this.yD);\n      null !== this.jh && this.jh.each(function (b) {\n        a.mn(b);\n      });\n      this.ae = c;\n      this.Wc || this.oa();\n      null !== b && (a.ja.isEnabled = b.ja.isEnabled);\n    }\n  });\n  w.defineProperty(E, {\n    Ua: null\n  }, function () {\n    return this.qD;\n  }, function (a) {\n    this.qD = a;\n  });\n  w.u(E, {\n    Xx: null\n  }, function () {\n    return this.VG;\n  });\n\n  function wl(a, b) {\n    if (b.$ === a.$) {\n      var c = b.Fc,\n          d = b.propertyName;\n      if (c === Df && \"S\" === d[0]) {\n        if (\"StartingFirstTransaction\" === d) c = a.Va, c.gf.each(function (b) {\n          b.Tc(a);\n        }), c.eg.each(function (b) {\n          b.Tc(a);\n        }), c.fg.each(function (b) {\n          b.Tc(a);\n        }), a.ae || a.eh || (a.Ar = !0, a.Jo && (a.Tf = !0));else if (\"StartingUndo\" === d || \"StartingRedo\" === d) {\n          var e = a.Ka;\n          e.df && !a.gb && e.Ih();\n          a.Aa(\"ChangingSelection\");\n        } else \"StartedTransaction\" === d && (e = a.Ka, e.df && !a.gb && e.Ih());\n      } else if (a.Ua) {\n        a.Ua = !1;\n\n        try {\n          var f = b.tf;\n          if (\"\" !== f) {\n            if (c === Cf) {\n              if (\"linkFromKey\" === f) {\n                var h = b.object,\n                    k = a.Yf(h);\n\n                if (null !== k) {\n                  var l = b.newValue,\n                      m = a.Oe(l);\n                  k.V = m;\n                }\n              } else if (\"linkToKey\" === f) h = b.object, k = a.Yf(h), null !== k && (l = b.newValue, m = a.Oe(l), k.Z = m);else if (\"linkFromPortId\" === f) {\n                if (h = b.object, k = a.Yf(h), null !== k) {\n                  var n = b.newValue;\n                  \"string\" === typeof n && (k.Ng = n);\n                }\n              } else if (\"linkToPortId\" === f) h = b.object, k = a.Yf(h), null !== k && (n = b.newValue, \"string\" === typeof n && (k.Jh = n));else if (\"nodeGroupKey\" === f) {\n                var h = b.object,\n                    p = a.wh(h);\n\n                if (null !== p) {\n                  var q = b.newValue;\n\n                  if (void 0 !== q) {\n                    var r = a.Oe(q);\n                    p.Ca = r instanceof V ? r : null;\n                  } else p.Ca = null;\n                }\n              } else if (\"linkLabelKeys\" === f) {\n                if (h = b.object, k = a.Yf(h), null !== k) {\n                  var s = b.oldValue,\n                      t = b.newValue;\n                  if (w.isArray(s)) for (var u = w.cb(s), y = 0; y < u; y++) {\n                    var v = w.Ba(s, y),\n                        m = a.Oe(v);\n                    null !== m && (m.Xb = null);\n                  }\n                  if (w.isArray(t)) for (u = w.cb(t), y = 0; y < u; y++) {\n                    v = w.Ba(t, y), m = a.Oe(v), null !== m && (m.Xb = k);\n                  }\n                }\n              } else if (\"nodeParentKey\" === f) {\n                var x = b.object,\n                    A = a.Oe(b.newValue),\n                    L = a.Ex(x);\n                if (null !== a.rk) null !== A && (a.rk.data = x, a.rk.ld = a.$p(x));else if (null !== L) {\n                  var C = L.Bn();\n                  null !== C ? null === A ? a.remove(C) : a.Wd ? C.V = A : C.Z = A : en(a, A, L);\n                }\n              } else if (\"parentLinkCategory\" === f) {\n                var x = b.object,\n                    L = a.Ex(x),\n                    O = b.newValue;\n                null !== L && \"string\" === typeof O && (C = L.Bn(), null !== C && (C.ld = O));\n              } else if (\"nodeCategory\" === f) {\n                var h = b.object,\n                    X = a.wh(h),\n                    O = b.newValue;\n                null !== X && \"string\" === typeof O && (X.ld = O);\n              } else if (\"linkCategory\" === f) {\n                var h = b.object,\n                    S = a.Yf(h),\n                    O = b.newValue;\n                null !== S && \"string\" === typeof O && (S.ld = O);\n              } else if (\"nodeDataArray\" === f) {\n                var ba = b.oldValue;\n                fn(a, ba);\n                var ha = b.newValue;\n                cn(a, ha);\n              } else \"linkDataArray\" === f && (ba = b.oldValue, fn(a, ba), ha = b.newValue, dn(a, ha));\n\n              a.ri = !0;\n            } else c === Ef ? (ha = b.newValue, \"nodeDataArray\" === f && w.Pa(ha) ? gn(a, ha) : \"linkDataArray\" === f && w.Pa(ha) ? hn(a, ha) : \"linkLabelKeys\" === f && wg(ha) && (k = a.Yf(b.object), m = a.Oe(ha), null !== k && null !== m && (m.Xb = k)), a.ri = !0) : c === Ff ? (ba = b.oldValue, \"nodeDataArray\" === f && w.Pa(ba) ? jn(a, ba) : \"linkDataArray\" === f && w.Pa(ba) ? jn(a, ba) : \"linkLabelKeys\" === f && wg(ba) && (m = a.Oe(ba), null !== m && (m.Xb = null)), a.ri = !0) : c === Df && (\"SourceChanged\" === f ? null !== b.object ? vl(a, b.object, b.propertyName) : (a.$J(), a.JG()) : \"ModelDisplaced\" === f && a.lm());\n          } else if (c === Cf) {\n            var ya = b.propertyName,\n                h = b.object;\n\n            if (h === a.$) {\n              if (\"nodeKeyProperty\" === ya || \"nodeCategoryProperty\" === ya || \"linkFromKeyProperty\" === ya || \"linkToKeyProperty\" === ya || \"linkFromPortIdProperty\" === ya || \"linkToPortIdProperty\" === ya || \"linkLabelKeysProperty\" === ya || \"nodeIsGroupProperty\" === ya || \"nodeGroupKeyProperty\" === ya || \"nodeParentKeyProperty\" === ya || \"linkCategoryProperty\" === ya) a.ja.lb || a.lm();\n            } else vl(a, h, ya);\n\n            a.ri = !0;\n          } else if (c === Ef || c === Ff) kn(a, b), a.ri = !0;else if (c === Df) {\n            if (\"FinishedUndo\" === d || \"FinishedRedo\" === d) a.Aa(\"ChangedSelection\"), Ii(a);\n            e = a.Ka;\n            \"RolledBackTransaction\" === d && e.Ih();\n            a.Ar = !0;\n            a.dg();\n            0 === a.ja.wi && Gk(e);\n            \"CommittedTransaction\" === d && a.ja.Dz && (a.dh = Math.min(a.dh, a.ja.wj - 1));\n            var Ga = b.IF;\n            Ga && (bn(a), a.Xx.clear());\n            !a.Jz && Ga && (a.Jz = !0, w.setTimeout(function () {\n              a.Xa.standardMouseOver();\n              a.Jz = !1;\n            }, 10));\n          }\n        } finally {\n          a.Ua = !0;\n        }\n      }\n    }\n  }\n\n  function vl(a, b, c) {\n    if (\"string\" === typeof c) {\n      var d = a.wh(b);\n      if (null !== d) d.Lb(c), a.$ instanceof Zf && (d = a.Yf(b), null !== d && d.Lb(c));else {\n        for (var d = null, e = a.Mm.i; e.next();) {\n          for (var f = e.value, h = 0; h < f.length; h++) {\n            var k = f[h].XH(b);\n            null !== k && (null === d && (d = w.Za()), d.push(k));\n          }\n\n          if (null !== d) break;\n        }\n\n        if (null !== d) {\n          for (e = 0; e < d.length; e++) {\n            d[e].Lb(c);\n          }\n\n          w.ra(d);\n        }\n      }\n      b === a.$.Tk && a.JG(c);\n    }\n  }\n\n  w.defineProperty(E, {\n    Re: \"skipsModelSourceBindings\"\n  }, function () {\n    return this.SD;\n  }, function (a) {\n    this.SD = a;\n  });\n  w.defineProperty(E, {\n    eo: null\n  }, function () {\n    return this.Vz;\n  }, function (a) {\n    this.Vz = a;\n  });\n\n  function kn(a, b) {\n    var c = b.Fc === Ef,\n        d = c ? b.Fj : b.Gj,\n        e = c ? b.newValue : b.oldValue,\n        f = a.Mm.ka(b.object);\n    if (Array.isArray(f)) for (var h = 0; h < f.length; h++) {\n      var k = f[h];\n      if (c) ln(k, e, d);else {\n        var l = d;\n\n        if (!(0 > l)) {\n          var m = l;\n          mn(k) && m++;\n          k.rf(m, !0);\n          nn(k, m, l);\n        }\n      }\n    }\n  }\n\n  function Qm(a, b) {\n    var c = b.hk;\n\n    if (w.isArray(c)) {\n      var d = a.Mm.ka(c);\n      if (null === d) d = [], d.push(b), a.Mm.add(c, d);else {\n        for (c = 0; c < d.length; c++) {\n          if (d[c] === b) return;\n        }\n\n        d.push(b);\n      }\n    }\n  }\n\n  function Um(a, b) {\n    var c = b.hk;\n\n    if (w.isArray(c)) {\n      var d = a.Mm.ka(c);\n      if (null !== d) for (var e = 0; e < d.length; e++) {\n        if (d[e] === b) {\n          d.splice(e, 1);\n          0 === d.length && a.Mm.remove(c);\n          break;\n        }\n      }\n    }\n  }\n\n  function Pm(a, b) {\n    for (var c = b.xa.n, d = c.length, e = 0; e < d; e++) {\n      var f = c[e];\n      f instanceof xl && on(a, f);\n    }\n  }\n\n  function on(a, b) {\n    var c = b.element;\n\n    if (null !== c && c instanceof HTMLImageElement) {\n      var d = b.Ve;\n      null !== d && (d.Lo instanceof Event && null !== b.We && b.We(b, d.Lo), !0 === d.Zr && (null !== b.ki && b.ki(b, d.Qz), null !== b.g && b.g.Mz.add(b)));\n      c = c.src;\n      d = a.ip.ka(c);\n      if (null === d) d = [], d.push(b), a.ip.add(c, d);else {\n        for (c = 0; c < d.length; c++) {\n          if (d[c] === b) return;\n        }\n\n        d.push(b);\n      }\n    }\n  }\n\n  function Tm(a, b) {\n    for (var c = b.xa.n, d = c.length, e = 0; e < d; e++) {\n      var f = c[e];\n      f instanceof xl && pn(a, f);\n    }\n  }\n\n  function pn(a, b) {\n    var c = b.element;\n\n    if (null !== c && c instanceof HTMLImageElement) {\n      var c = c.src,\n          d = a.ip.ka(c);\n      if (null !== d) for (var e = 0; e < d.length; e++) {\n        if (d[e] === b) {\n          d.splice(e, 1);\n          0 === d.length && (a.ip.remove(c), qn(c));\n          break;\n        }\n      }\n    }\n  }\n\n  E.prototype.rebuildParts = E.prototype.lm = function () {\n    for (var a = this.lB.i; a.next();) {\n      var b = a.value,\n          c = a.key;\n      (!b.he() || b instanceof V) && w.k('Invalid node template in Diagram.nodeTemplateMap: template for \"' + c + '\" must be a Node or a simple Part, not a Group or Link: ' + b);\n    }\n\n    for (a = this.LA.i; a.next();) {\n      b = a.value, c = a.key, b instanceof V || w.k('Invalid group template in Diagram.groupTemplateMap: template for \"' + c + '\" must be a Group, not a normal Node or Link: ' + b);\n    }\n\n    for (a = this.$A.i; a.next();) {\n      b = a.value, c = a.key, b instanceof W || w.k('Invalid link template in Diagram.linkTemplateMap: template for \"' + c + '\" must be a Link, not a normal Node or simple Part: ' + b);\n    }\n\n    a = w.Za();\n\n    for (b = this.selection.i; b.next();) {\n      (c = b.value.data) && a.push(c);\n    }\n\n    for (var b = w.Za(), d = this.em.i; d.next();) {\n      (c = d.value.data) && b.push(c);\n    }\n\n    c = w.Za();\n\n    for (d = this.ig.i; d.next();) {\n      var e = d.value;\n      null !== e.data && (c.push(e.data), c.push(e.location));\n    }\n\n    for (d = this.links.i; d.next();) {\n      e = d.value, null !== e.data && (c.push(e.data), c.push(e.location));\n    }\n\n    for (d = this.Hj.i; d.next();) {\n      e = d.value, null !== e.data && (c.push(e.data), c.push(e.location));\n    }\n\n    d = this.$;\n    d instanceof Q && fn(this, d.Ah);\n    fn(this, d.Pg);\n    cn(this, d.Pg);\n    d instanceof Q && dn(this, d.Ah);\n\n    for (d = 0; d < a.length; d++) {\n      e = this.wh(a[d]), null !== e && (e.jb = !0);\n    }\n\n    for (d = 0; d < b.length; d++) {\n      e = this.wh(b[d]), null !== e && (e.Og = !0);\n    }\n\n    for (d = 0; d < c.length; d += 2) {\n      e = this.wh(c[d]), null !== e && (e.location = c[d + 1]);\n    }\n\n    w.ra(a);\n    w.ra(b);\n    w.ra(c);\n  };\n\n  function cn(a, b) {\n    if (null !== b) {\n      for (var c = a.$, d = c instanceof Q, e = w.cb(b), f = 0; f < e; f++) {\n        var h = w.Ba(b, f);\n        c.Le(h) ? gn(a, h, !1) : d && hn(a, h);\n      }\n\n      if (d || c instanceof Zf) {\n        for (f = 0; f < e; f++) {\n          h = w.Ba(b, f), c.Le(h) && rn(a, h);\n        }\n\n        if (d) for (c = a.links; c.next();) {\n          sn(c.value);\n        }\n      }\n\n      tn(a, !1);\n    }\n  }\n\n  function gn(a, b, c) {\n    if (void 0 !== b && null !== b && !a.ja.lb && !a.Ii.contains(b)) {\n      void 0 === c && (c = !0);\n      var d = a.HA(b),\n          e = un(a, b, d);\n\n      if (null !== e && (lh(e), e = e.copy(), null !== e)) {\n        var f = a.Re;\n        a.Re = !0;\n        e.Ci = d;\n        e.$d = b;\n        a.add(e);\n        e.$d = null;\n        e.data = b;\n        c && rn(a, b);\n        a.Re = f;\n      }\n    }\n  }\n\n  E.prototype.HA = function (a) {\n    return this.$.HA(a);\n  };\n\n  var vn = !1,\n      wn = !1;\n\n  function un(a, b, c) {\n    var d = !1,\n        e = a.$;\n    e instanceof Q && (d = e.VA(b));\n    d ? (b = a.LA.ka(c), null === b && (b = a.LA.ka(\"\"), null === b && (wn || (wn = !0, w.trace('No Group template found for category \"' + c + '\"'), w.trace(\"  Using default group template\")), b = a.JC))) : (b = a.lB.ka(c), null === b && (b = a.lB.ka(\"\"), null === b && (vn || (vn = !0, w.trace('No Node template found for category \"' + c + '\"'), w.trace(\"  Using default node template\")), b = a.LC)));\n    return b;\n  }\n\n  function rn(a, b) {\n    var c = a.$;\n\n    if (c instanceof Q || c instanceof Zf) {\n      var d = c.qb(b);\n\n      if (void 0 !== d) {\n        var e = zg(c, d),\n            f = a.wh(b);\n\n        if (null !== e && null !== f) {\n          for (e = e.i; e.next();) {\n            var h = e.value;\n\n            if (c instanceof Q) {\n              var k = c;\n\n              if (k.Le(h)) {\n                if (f instanceof V && k.Dn(h) === d) {\n                  var l = f,\n                      h = a.wh(h);\n                  null !== h && (h.Ca = l);\n                }\n              } else {\n                var m = a.Yf(h);\n                if (null !== m && f instanceof T && (l = f, k.cm(h) === d && (m.V = l), k.dm(h) === d && (m.Z = l), h = k.Nk(h), w.isArray(h))) for (k = 0; k < w.cb(h); k++) {\n                  if (w.Ba(h, k) === d) {\n                    l.Xb = m;\n                    break;\n                  }\n                }\n              }\n            } else c instanceof Zf && (m = c, m.Le(h) && f instanceof T && (l = f, m.Fn(h) === d && (h = a.Ex(h), en(a, l, h))));\n          }\n\n          Bg(c, d);\n        }\n\n        c instanceof Q ? (c = c.Dn(b), void 0 !== c && (c = a.Oe(c), c instanceof V && (f.Ca = c))) : c instanceof Zf && (c = c.Fn(b), void 0 !== c && f instanceof T && (l = f, f = a.Oe(c), en(a, f, l)));\n      }\n    }\n  }\n\n  function en(a, b, c) {\n    if (null !== b && null !== c) {\n      var d = a.Va.NF,\n          e = b,\n          f = c;\n      if (a.Wd) for (b = f.je; b.next();) {\n        if (b.value.Z === f) return;\n      } else for (e = c, f = b, b = e.je; b.next();) {\n        if (b.value.V === e) return;\n      }\n      if (null === d || !Yi(d, e, f, null, !0)) if (d = a.$p(c.data), b = ij(a, d), null !== b && (lh(b), b = b.copy(), null !== b)) {\n        var h = a.Re;\n        a.Re = !0;\n        b.Ci = d;\n        b.$d = c.data;\n        b.V = e;\n        b.Z = f;\n        a.add(b);\n        b.$d = null;\n        b.data = c.data;\n        a.Re = h;\n      }\n    }\n  }\n\n  function dn(a, b) {\n    if (null !== b) {\n      for (var c = w.cb(b), d = 0; d < c; d++) {\n        var e = w.Ba(b, d);\n        hn(a, e);\n      }\n\n      tn(a, !1);\n    }\n  }\n\n  function hn(a, b) {\n    if (void 0 !== b && null !== b && !a.ja.lb && !a.Sj.contains(b)) {\n      var c = a.$p(b),\n          d = ij(a, c);\n\n      if (null !== d && (lh(d), d = d.copy(), null !== d)) {\n        var e = a.Re;\n        a.Re = !0;\n        d.Ci = c;\n        d.$d = b;\n        var c = a.$,\n            f = c.dI(b);\n        \"\" !== f && (d.Ng = f);\n        f = c.cm(b);\n        void 0 !== f && (f = a.Oe(f), f instanceof T && (d.V = f));\n        f = c.hI(b);\n        \"\" !== f && (d.Jh = f);\n        f = c.dm(b);\n        void 0 !== f && (f = a.Oe(f), f instanceof T && (d.Z = f));\n        c = c.Nk(b);\n        if (w.isArray(c)) for (var f = w.cb(c), h = 0; h < f; h++) {\n          var k = w.Ba(c, h),\n              k = a.Oe(k);\n          null !== k && (k.Xb = d);\n        }\n        a.add(d);\n        d.$d = null;\n        d.data = b;\n        a.Re = e;\n      }\n    }\n  }\n\n  E.prototype.$p = function (a) {\n    var b = this.$,\n        c = \"\";\n    b instanceof Q ? c = b.$p(a) : b instanceof Zf && (c = b.fI(a));\n    return c;\n  };\n\n  var xn = !1;\n\n  function ij(a, b) {\n    var c = a.$A.ka(b);\n    null === c && (c = a.$A.ka(\"\"), null === c && (xn || (xn = !0, w.trace('No Link template found for category \"' + b + '\"'), w.trace(\"  Using default link template\")), c = a.KC));\n    return c;\n  }\n\n  function fn(a, b) {\n    for (var c = w.cb(b), d = 0; d < c; d++) {\n      var e = w.Ba(b, d);\n      jn(a, e);\n    }\n  }\n\n  function jn(a, b) {\n    if (void 0 !== b && null !== b) {\n      var c = a.wh(b);\n\n      if (null !== c) {\n        Vm(a, c, !1);\n        var d = a.$;\n\n        if (d instanceof Q && c instanceof T) {\n          var e = c,\n              c = d.qb(e.data);\n\n          if (void 0 !== c) {\n            for (var f = e.je; f.next();) {\n              Ag(d, c, f.value.data);\n            }\n\n            e.Df && (f = e.Xb, null !== f && Ag(d, c, f.data));\n            if (e instanceof V) for (e = e.hc; e.next();) {\n              f = e.value.data, d.Le(f) && Ag(d, c, f);\n            }\n          }\n        } else if (d instanceof Zf && c instanceof T) {\n          e = c;\n          c = d.qb(e.data);\n          f = a.Yf(e.data);\n\n          if (null !== f) {\n            f.jb = !1;\n            f.Og = !1;\n            var h = f.layer;\n\n            if (null !== h) {\n              var k = h.rf(-1, f, !1);\n              0 <= k && a.cd(Ff, \"parts\", h, f, null, k, null);\n              k = f.Sx;\n              null !== k && k(f, h, null);\n            }\n          }\n\n          f = a.Wd;\n\n          for (e = e.je; e.next();) {\n            h = e.value, h = (f ? h.Z : h.V).data, d.Le(h) && Ag(d, c, h);\n          }\n        }\n      }\n    }\n  }\n\n  E.prototype.findPartForKey = E.prototype.YH = function (a) {\n    if (null === a || void 0 === a) return null;\n    var b = this.$.we(a);\n    return null !== b ? this.Ii.ka(b) : this.$ instanceof Q && (b = this.$.Xp(a), null !== b) ? this.Sj.ka(b) : null;\n  };\n\n  E.prototype.findNodeForKey = E.prototype.Oe = function (a) {\n    if (null === a || void 0 === a) return null;\n    a = this.$.we(a);\n    if (null === a) return null;\n    a = this.Ii.ka(a);\n    return a instanceof T ? a : null;\n  };\n\n  E.prototype.findPartForData = E.prototype.wh = function (a) {\n    if (null === a) return null;\n    var b = this.Ii.ka(a);\n    return null !== b ? b : b = this.Sj.ka(a);\n  };\n\n  E.prototype.findNodeForData = E.prototype.Ex = function (a) {\n    if (null === a) return null;\n    a = this.Ii.ka(a);\n    return a instanceof T ? a : null;\n  };\n\n  E.prototype.findLinkForData = E.prototype.Yf = function (a) {\n    return null === a ? null : this.Sj.ka(a);\n  };\n\n  E.prototype.findNodesByExample = function (a) {\n    for (var b = new I(T), c = this.gp.i; c.next();) {\n      var d = c.value,\n          e = d.data;\n      if (null !== e) for (var f = 0; f < arguments.length; f++) {\n        var h = arguments[f];\n\n        if (w.Pa(h) && yn(this, e, h)) {\n          b.add(d);\n          break;\n        }\n      }\n    }\n\n    return b.i;\n  };\n\n  E.prototype.findLinksByExample = function (a) {\n    for (var b = new I(W), c = this.$o.i; c.next();) {\n      var d = c.value,\n          e = d.data;\n      if (null !== e) for (var f = 0; f < arguments.length; f++) {\n        var h = arguments[f];\n\n        if (w.Pa(h) && yn(this, e, h)) {\n          b.add(d);\n          break;\n        }\n      }\n    }\n\n    return b.i;\n  };\n\n  function yn(a, b, c) {\n    for (var d in c) {\n      var e = b[d],\n          f = c[d];\n\n      if (w.isArray(f)) {\n        if (!w.isArray(e) || e.length < f.length) return !1;\n\n        for (var h = 0; h < e.length; h++) {\n          var k = e[h],\n              l = f[h];\n          if (void 0 !== l && !zn(a, k, l)) return !1;\n        }\n      } else if (!zn(a, e, f)) return !1;\n    }\n\n    return !0;\n  }\n\n  function zn(a, b, c) {\n    if (\"function\" === typeof c) {\n      if (!c(b)) return !1;\n    } else if (c instanceof RegExp) {\n      if (!b || !c.test(b.toString())) return !1;\n    } else if (w.Pa(b) && w.Pa(c)) {\n      if (!yn(a, b, c)) return !1;\n    } else if (b !== c) return !1;\n\n    return !0;\n  }\n\n  w.defineProperty(E, {\n    AL: \"nodeTemplate\"\n  }, function () {\n    return this.bj.ka(\"\");\n  }, function (a) {\n    var b = this.bj.ka(\"\");\n    b !== a && (w.G(a, R, E, \"nodeTemplate\"), this.bj.add(\"\", a), this.h(\"nodeTemplate\", b, a), this.ja.lb || this.lm());\n  });\n  w.defineProperty(E, {\n    lB: \"nodeTemplateMap\"\n  }, function () {\n    return this.bj;\n  }, function (a) {\n    var b = this.bj;\n    b !== a && (w.G(a, ma, E, \"nodeTemplateMap\"), this.bj = a, this.h(\"nodeTemplateMap\", b, a), this.ja.lb || this.lm());\n  });\n  w.defineProperty(E, {\n    eL: \"groupTemplate\"\n  }, function () {\n    return this.ql.ka(\"\");\n  }, function (a) {\n    var b = this.ql.ka(\"\");\n    b !== a && (w.G(a, V, E, \"groupTemplate\"), this.ql.add(\"\", a), this.h(\"groupTemplate\", b, a), this.ja.lb || this.lm());\n  });\n  w.defineProperty(E, {\n    LA: \"groupTemplateMap\"\n  }, function () {\n    return this.ql;\n  }, function (a) {\n    var b = this.ql;\n    b !== a && (w.G(a, ma, E, \"groupTemplateMap\"), this.ql = a, this.h(\"groupTemplateMap\", b, a), this.ja.lb || this.lm());\n  });\n  w.defineProperty(E, {\n    pL: \"linkTemplate\"\n  }, function () {\n    return this.jk.ka(\"\");\n  }, function (a) {\n    var b = this.jk.ka(\"\");\n    b !== a && (w.G(a, W, E, \"linkTemplate\"), this.jk.add(\"\", a), this.h(\"linkTemplate\", b, a), this.ja.lb || this.lm());\n  });\n  w.defineProperty(E, {\n    $A: \"linkTemplateMap\"\n  }, function () {\n    return this.jk;\n  }, function (a) {\n    var b = this.jk;\n    b !== a && (w.G(a, ma, E, \"linkTemplateMap\"), this.jk = a, this.h(\"linkTemplateMap\", b, a), this.ja.lb || this.lm());\n  });\n  w.defineProperty(E, {\n    BI: null\n  }, function () {\n    return this.fh;\n  }, function (a) {\n    this.fh = a;\n  });\n  w.defineProperty(E, {\n    ef: \"isMouseCaptured\"\n  }, function () {\n    return this.nD;\n  }, function (a) {\n    var b = this.zb;\n    null !== b && (a ? (this.Q.bubbles = !1, this.Vy ? (b.removeEventListener(\"pointermove\", this.rq, !1), b.removeEventListener(\"pointerdown\", this.qq, !1), b.removeEventListener(\"pointerup\", this.tq, !1), b.removeEventListener(\"pointerout\", this.sq, !1), window.addEventListener(\"pointermove\", this.rq, !0), window.addEventListener(\"pointerdown\", this.qq, !0), window.addEventListener(\"pointerup\", this.tq, !0), window.addEventListener(\"pointerout\", this.sq, !0)) : (b.removeEventListener(\"mousemove\", this.Sn, !1), b.removeEventListener(\"mousedown\", this.Rn, !1), b.removeEventListener(\"mouseup\", this.Un, !1), b.removeEventListener(\"mouseout\", this.Tn, !1), window.addEventListener(\"mousemove\", this.Sn, !0), window.addEventListener(\"mousedown\", this.Rn, !0), window.addEventListener(\"mouseup\", this.Un, !0), window.addEventListener(\"mouseout\", this.Tn, !0)), b.removeEventListener(\"wheel\", this.Vn, !1), window.addEventListener(\"wheel\", this.Vn, !0), window.addEventListener(\"selectstart\", this.preventDefault, !1)) : (this.Vy ? (window.removeEventListener(\"pointermove\", this.rq, !0), window.removeEventListener(\"pointerdown\", this.qq, !0), window.removeEventListener(\"pointerup\", this.tq, !0), window.removeEventListener(\"pointerout\", this.sq, !0), b.addEventListener(\"pointermove\", this.rq, !1), b.addEventListener(\"pointerdown\", this.qq, !1), b.addEventListener(\"pointerup\", this.tq, !1), b.addEventListener(\"pointerout\", this.sq, !1)) : (window.removeEventListener(\"mousemove\", this.Sn, !0), window.removeEventListener(\"mousedown\", this.Rn, !0), window.removeEventListener(\"mouseup\", this.Un, !0), window.removeEventListener(\"mouseout\", this.Tn, !0), b.addEventListener(\"mousemove\", this.Sn, !1), b.addEventListener(\"mousedown\", this.Rn, !1), b.addEventListener(\"mouseup\", this.Un, !1), b.addEventListener(\"mouseout\", this.Tn, !1)), window.removeEventListener(\"wheel\", this.Vn, !0), window.removeEventListener(\"selectstart\", this.preventDefault, !1), b.addEventListener(\"wheel\", this.Vn, !1)), this.nD = a);\n  });\n  w.defineProperty(E, {\n    position: \"position\"\n  }, function () {\n    return this.ab;\n  }, function (a) {\n    var b = this.ab;\n\n    if (!b.L(a)) {\n      w.G(a, z, E, \"position\");\n      var c = this.sb.copy();\n      a = a.copy();\n\n      if (!this.Wc && null !== this.zb) {\n        this.Wc = !0;\n        var d = this.scale;\n        Rl(this, a, this.Od, this.Fb / d, this.Eb / d, this.Dm, !1);\n        this.Wc = !1;\n      }\n\n      this.ab = a.S();\n      a = this.Ka;\n      a.sc && il(a, b, this.ab);\n      this.Wc || this.Pu(c, this.sb, this.rb, this.rb, !1);\n    }\n  });\n  w.defineProperty(E, {\n    tI: \"initialPosition\"\n  }, function () {\n    return this.Xv;\n  }, function (a) {\n    this.Xv.L(a) || (w.G(a, z, E, \"initialPosition\"), this.Xv = a.S());\n  });\n  w.defineProperty(E, {\n    uI: \"initialScale\"\n  }, function () {\n    return this.Yv;\n  }, function (a) {\n    this.Yv !== a && (w.j(a, \"number\", E, \"initialScale\"), this.Yv = a);\n  });\n  w.defineProperty(E, {\n    Gn: \"grid\"\n  }, function () {\n    null === this.ud && Il(this);\n    return this.ud;\n  }, function (a) {\n    var b = this.ud;\n\n    if (b !== a) {\n      null === b && (Il(this), b = this.ud);\n      w.G(a, D, E, \"grid\");\n      a.type !== Jl && w.k(\"Diagram.grid must be a Panel of type Panel.Grid\");\n      var c = b.R;\n      null !== c && c.remove(b);\n      this.ud = a;\n      a.name = \"GRID\";\n      null !== c && c.add(a);\n      dm(this);\n      this.oa();\n      this.h(\"grid\", b, a);\n    }\n  });\n  w.u(E, {\n    sb: \"viewportBounds\"\n  }, function () {\n    var a = this.eA;\n    if (null === this.zb) return a;\n    var b = this.ab,\n        c = this.rb;\n    a.m(b.x, b.y, Math.max(this.Fb, 0) / c, Math.max(this.Eb, 0) / c);\n    return a;\n  });\n  w.defineProperty(E, {\n    eF: \"fixedBounds\"\n  }, function () {\n    return this.Pv;\n  }, function (a) {\n    var b = this.Pv;\n    b.L(a) || (w.G(a, B, E, \"fixedBounds\"), -Infinity !== a.width && Infinity !== a.height && -Infinity !== a.height || w.k(\"fixedBounds width/height must not be Infinity\"), this.Pv = a = a.S(), this.Gc(), this.h(\"fixedBounds\", b, a));\n  });\n  w.defineProperty(E, {\n    ty: \"scrollMargin\"\n  }, function () {\n    return this.Gw;\n  }, function (a) {\n    \"number\" === typeof a ? a = new hb(a) : w.G(a, hb, E, \"scrollMargin\");\n    var b = this.Gw;\n    b.L(a) || (this.Gw = a = a.S(), this.h(\"scrollMargin\", b, a), this.wq());\n  });\n  w.defineProperty(E, {\n    uy: \"scrollMode\"\n  }, function () {\n    return this.Hw;\n  }, function (a) {\n    var b = this.Hw;\n    b !== a && (w.ob(a, E, E, \"scrollMode\"), this.Hw = a, a === sl && Pl(this, !1), this.h(\"scrollMode\", b, a), this.wq());\n  });\n  w.defineProperty(E, {\n    DJ: \"scrollsPageOnFocus\"\n  }, function () {\n    return this.Kw;\n  }, function (a) {\n    var b = this.Kw;\n    b !== a && (w.j(a, \"boolean\", E, \"scrollsPageOnFocus\"), this.Kw = a, this.h(\"scrollsPageOnFocus\", b, a));\n  });\n  w.defineProperty(E, {\n    ZF: \"positionComputation\"\n  }, function () {\n    return this.Bw;\n  }, function (a) {\n    var b = this.Bw;\n    b !== a && (null !== a && w.j(a, \"function\", E, \"positionComputation\"), this.Bw = a, Pl(this, !1), this.h(\"positionComputation\", b, a));\n  });\n  w.defineProperty(E, {\n    kG: \"scaleComputation\"\n  }, function () {\n    return this.Dw;\n  }, function (a) {\n    var b = this.Dw;\n    b !== a && (null !== a && w.j(a, \"function\", E, \"scaleComputation\"), this.Dw = a, Ym(this, this.scale, this.scale), this.h(\"scaleComputation\", b, a));\n  });\n  w.u(E, {\n    Od: \"documentBounds\"\n  }, function () {\n    return this.Iv;\n  });\n\n  function Sl(a, b) {\n    a.ck = !1;\n    var c = a.Iv;\n    c.L(b) || (b = b.S(), a.Iv = b, Pl(a, !1), a.Aa(\"DocumentBoundsChanged\", null, c.copy()), am(a));\n  }\n\n  w.defineProperty(E, {\n    YA: \"isVirtualized\"\n  }, function () {\n    return this.ew;\n  }, function (a) {\n    var b = this.ew;\n    b !== a && (w.j(a, \"boolean\", E, \"isVirtualized\"), this.ew = a, this.h(\"isVirtualized\", b, a));\n  });\n  w.defineProperty(E, {\n    scale: \"scale\"\n  }, function () {\n    return this.rb;\n  }, function (a) {\n    var b = this.rb;\n    w.Bd(a, E, \"scale\");\n    b !== a && Ym(this, b, a);\n  });\n  w.defineProperty(E, {\n    Tl: \"autoScale\"\n  }, function () {\n    return this.Am;\n  }, function (a) {\n    var b = this.Am;\n    b !== a && (w.ob(a, E, E, \"autoScale\"), this.Am = a, this.h(\"autoScale\", b, a), a !== oh && Pl(this, !1));\n  });\n  w.defineProperty(E, {\n    hL: \"initialAutoScale\"\n  }, function () {\n    return this.ul;\n  }, function (a) {\n    var b = this.ul;\n    b !== a && (w.ob(a, E, E, \"initialAutoScale\"), this.ul = a, this.h(\"initialAutoScale\", b, a));\n  });\n  w.defineProperty(E, {\n    vI: \"initialViewportSpot\"\n  }, function () {\n    return this.Zv;\n  }, function (a) {\n    var b = this.Zv;\n    b !== a && (w.G(a, K, E, \"initialViewportSpot\"), a.$c() || w.k(\"initialViewportSpot must be a specific Spot: \" + a), this.Zv = a, this.h(\"initialViewportSpot\", b, a));\n  });\n  w.defineProperty(E, {\n    sI: \"initialDocumentSpot\"\n  }, function () {\n    return this.Wv;\n  }, function (a) {\n    var b = this.Wv;\n    b !== a && (w.G(a, K, E, \"initialDocumentSpot\"), a.$c() || w.k(\"initialViewportSpot must be a specific Spot: \" + a), this.Wv = a, this.h(\"initialDocumentSpot\", b, a));\n  });\n  w.defineProperty(E, {\n    Ch: \"minScale\"\n  }, function () {\n    return this.pw;\n  }, function (a) {\n    w.Bd(a, E, \"minScale\");\n    var b = this.pw;\n    b !== a && (0 < a ? (this.pw = a, this.h(\"minScale\", b, a), a > this.scale && (this.scale = a)) : w.Fa(a, \"> 0\", E, \"minScale\"));\n  });\n  w.defineProperty(E, {\n    Bh: \"maxScale\"\n  }, function () {\n    return this.nw;\n  }, function (a) {\n    w.Bd(a, E, \"maxScale\");\n    var b = this.nw;\n    b !== a && (0 < a ? (this.nw = a, this.h(\"maxScale\", b, a), a < this.scale && (this.scale = a)) : w.Fa(a, \"> 0\", E, \"maxScale\"));\n  });\n  w.defineProperty(E, {\n    zi: \"zoomPoint\"\n  }, function () {\n    return this.Zw;\n  }, function (a) {\n    this.Zw.L(a) || (w.G(a, z, E, \"zoomPoint\"), this.Zw = a = a.S());\n  });\n  w.defineProperty(E, {\n    rA: \"contentAlignment\"\n  }, function () {\n    return this.Dm;\n  }, function (a) {\n    var b = this.Dm;\n    b.L(a) || (w.G(a, K, E, \"contentAlignment\"), this.Dm = a = a.S(), this.h(\"contentAlignment\", b, a), Pl(this, !1));\n  });\n  w.defineProperty(E, {\n    iL: \"initialContentAlignment\"\n  }, function () {\n    return this.Oo;\n  }, function (a) {\n    var b = this.Oo;\n    b.L(a) || (w.G(a, K, E, \"initialContentAlignment\"), this.Oo = a = a.S(), this.h(\"initialContentAlignment\", b, a));\n  });\n  w.defineProperty(E, {\n    padding: \"padding\"\n  }, function () {\n    return this.lf;\n  }, function (a) {\n    \"number\" === typeof a ? a = new hb(a) : w.G(a, hb, E, \"padding\");\n    var b = this.lf;\n    b.L(a) || (this.lf = a = a.S(), this.Gc(), this.h(\"padding\", b, a));\n  });\n  w.u(E, {\n    ig: \"nodes\"\n  }, function () {\n    return this.gp.i;\n  });\n  w.u(E, {\n    links: \"links\"\n  }, function () {\n    return this.$o.i;\n  });\n  w.u(E, {\n    Hj: \"parts\"\n  }, function () {\n    return this.xb.i;\n  });\n\n  E.prototype.findTopLevelNodesAndLinks = function () {\n    for (var a = new I(R), b = this.gp.i; b.next();) {\n      var c = b.value;\n      c.hq && a.add(c);\n    }\n\n    for (b = this.$o.i; b.next();) {\n      c = b.value, c.hq && a.add(c);\n    }\n\n    return a.i;\n  };\n\n  E.prototype.findTopLevelGroups = function () {\n    return this.Ll.i;\n  };\n\n  w.defineProperty(E, {\n    Ub: \"layout\"\n  }, function () {\n    return this.oe;\n  }, function (a) {\n    var b = this.oe;\n    b !== a && (w.G(a, sg, E, \"layout\"), null !== b && (b.g = null, b.group = null), this.oe = a, a.g = this, a.group = null, this.Pj = !0, this.h(\"layout\", b, a), this.ye());\n  });\n\n  E.prototype.layoutDiagram = function (a) {\n    Ii(this);\n    a && tn(this, !0);\n    em(this, !1);\n  };\n\n  function tn(a, b) {\n    for (var c = a.Ll.i; c.next();) {\n      An(a, c.value, b);\n    }\n\n    null !== a.Ub && (b ? a.Ub.sf = !1 : a.Ub.J());\n  }\n\n  function An(a, b, c) {\n    if (null !== b) {\n      for (var d = b.dp.i; d.next();) {\n        An(a, d.value, c);\n      }\n\n      null !== b.Ub && (c ? b.Ub.sf = !1 : b.Ub.J());\n    }\n  }\n\n  function em(a, b) {\n    if (a.Pj && !a.gz) {\n      var c = a.Ua;\n      a.Ua = !0;\n      var d = a.ja.wi,\n          e = a.Ub;\n\n      try {\n        0 === d && a.Kb(\"Layout\");\n        var f = a.Ka;\n        1 >= d && !f.df && !f.sc && (b || f.Yn(\"Layout\"));\n        a.Pj = !1;\n\n        for (var h = a.Ll.i; h.next();) {\n          Bn(a, h.value, b, d);\n        }\n\n        e.sf || (!b || e.HF || 0 === d ? (e.doLayout(a), Ii(a), e.sf = !0) : a.Pj = !0);\n      } finally {\n        0 === d && a.Yc(\"Layout\"), a.Pj = !e.sf, a.Ua = c;\n      }\n    }\n  }\n\n  function Bn(a, b, c, d) {\n    if (null !== b) {\n      for (var e = b.dp.i; e.next();) {\n        Bn(a, e.value, c, d);\n      }\n\n      e = b.Ub;\n      null === e || e.sf || (!c || e.HF || 0 === d ? (b.Wn = !b.location.I(), e.doLayout(b), b.J(Cn), hm(a, b), e.sf = !0) : a.Pj = !0);\n    }\n  }\n\n  w.defineProperty(E, {\n    Wd: \"isTreePathToChildren\"\n  }, function () {\n    return this.dw;\n  }, function (a) {\n    var b = this.dw;\n    if (b !== a && (w.j(a, \"boolean\", E, \"isTreePathToChildren\"), this.dw = a, this.h(\"isTreePathToChildren\", b, a), !this.ja.lb)) for (a = this.ig; a.next();) {\n      Dn(a.value);\n    }\n  });\n\n  E.prototype.findTreeRoots = function () {\n    for (var a = new H(T), b = this.ig; b.next();) {\n      var c = b.value;\n      c.hq && null === c.Bn() && a.add(c);\n    }\n\n    return a.i;\n  };\n\n  w.defineProperty(E, {\n    TB: \"treeCollapsePolicy\"\n  }, function () {\n    return this.Uw;\n  }, function (a) {\n    var b = this.Uw;\n    b !== a && (a !== ul && a !== $m && a !== an && w.k(\"Unknown Diagram.treeCollapsePolicy: \" + a), this.Uw = a, this.h(\"treeCollapsePolicy\", b, a));\n  });\n  w.defineProperty(E, {\n    yh: null\n  }, function () {\n    return this.fD;\n  }, function (a) {\n    this.fD = a;\n  });\n\n  function tl(a) {\n    function b(a) {\n      var b = a.toLowerCase(),\n          h = new H(\"function\");\n      c.add(a, h);\n      c.add(b, h);\n      d.add(a, a);\n      d.add(b, a);\n    }\n\n    var c = new ma(\"string\", H),\n        d = new ma(\"string\", \"string\");\n    b(\"AnimationStarting\");\n    b(\"AnimationFinished\");\n    b(\"BackgroundSingleClicked\");\n    b(\"BackgroundDoubleClicked\");\n    b(\"BackgroundContextClicked\");\n    b(\"ClipboardChanged\");\n    b(\"ClipboardPasted\");\n    b(\"DocumentBoundsChanged\");\n    b(\"ExternalObjectsDropped\");\n    b(\"InitialLayoutCompleted\");\n    b(\"LayoutCompleted\");\n    b(\"LinkDrawn\");\n    b(\"LinkRelinked\");\n    b(\"LinkReshaped\");\n    b(\"Modified\");\n    b(\"ObjectSingleClicked\");\n    b(\"ObjectDoubleClicked\");\n    b(\"ObjectContextClicked\");\n    b(\"PartCreated\");\n    b(\"PartResized\");\n    b(\"PartRotated\");\n    b(\"SelectionMoved\");\n    b(\"SelectionCopied\");\n    b(\"SelectionDeleting\");\n    b(\"SelectionDeleted\");\n    b(\"SelectionGrouped\");\n    b(\"SelectionUngrouped\");\n    b(\"ChangingSelection\");\n    b(\"ChangedSelection\");\n    b(\"SubGraphCollapsed\");\n    b(\"SubGraphExpanded\");\n    b(\"TextEdited\");\n    b(\"TreeCollapsed\");\n    b(\"TreeExpanded\");\n    b(\"ViewportBoundsChanged\");\n    a.iz = c;\n    a.hz = d;\n  }\n\n  function oa(a, b) {\n    var c = a.hz.ka(b);\n    return null !== c ? c : a.hz.ka(b.toLowerCase());\n  }\n\n  function En(a, b) {\n    var c = a.iz.ka(b);\n    if (null !== c) return c;\n    c = a.iz.ka(b.toLowerCase());\n    if (null !== c) return c;\n    w.k(\"Unknown DiagramEvent name: \" + b);\n    return null;\n  }\n\n  E.prototype.addDiagramListener = E.prototype.$w = function (a, b) {\n    w.j(a, \"string\", E, \"addDiagramListener:name\");\n    w.j(b, \"function\", E, \"addDiagramListener:listener\");\n    var c = En(this, a);\n    null !== c && c.add(b);\n  };\n\n  E.prototype.removeDiagramListener = E.prototype.sB = function (a, b) {\n    w.j(a, \"string\", E, \"removeDiagramListener:name\");\n    w.j(b, \"function\", E, \"addDiagramListener:listener\");\n    var c = En(this, a);\n    null !== c && c.remove(b);\n  };\n\n  E.prototype.raiseDiagramEvent = E.prototype.Aa = function (a, b, c) {\n    var d = En(this, a),\n        e = new Af();\n    e.g = this;\n    a = oa(this, a);\n    null !== a && (e.name = a);\n    void 0 !== b && (e.KB = b);\n    void 0 !== c && (e.nB = c);\n    b = d.length;\n    if (1 === b) d = d.fa(0), d(e);else if (0 !== b) for (c = d.yc(), a = 0; a < b; a++) {\n      d = c[a], d(e);\n    }\n    return e.cancel;\n  };\n\n  function Fn(a) {\n    if (a.Ka.df) return !1;\n    a = a.Xa;\n    return a instanceof nh ? !a.Rw || a.xI : !0;\n  }\n\n  E.prototype.isUnoccupied = E.prototype.jq = function (a, b) {\n    void 0 === b && (b = null);\n    return Gn(this, !1, null, b).jq(a.x, a.y, a.width, a.height);\n  };\n\n  E.prototype.computeOccupiedArea = function () {\n    return this.YA ? this.sb.copy() : this.ck ? Ol(this) : this.Od.copy();\n  };\n\n  function Gn(a, b, c, d) {\n    null === a.Ld && (a.Ld = new Hn());\n\n    if (a.Ld.su || a.Ld.group !== c || a.Ld.JB !== d) {\n      if (null === c) {\n        b = a.computeOccupiedArea();\n        b.Zf(100, 100);\n        a.Ld.initialize(b);\n        b = w.vf();\n\n        for (var e = a.ig; e.next();) {\n          var f = e.value,\n              h = f.layer;\n          null !== h && h.visible && !h.Hc && In(a, f, d, b);\n        }\n      } else for (0 < c.hc.count && (b = a.computePartsBounds(c.hc, !1), b.Zf(20, 20), a.Ld.initialize(b)), b = w.vf(), e = c.hc; e.next();) {\n        f = e.value, f instanceof T && In(a, f, d, b);\n      }\n\n      w.Bb(b);\n      a.Ld.group = c;\n      a.Ld.JB = d;\n      a.Ld.su = !1;\n    } else b && Jn(a.Ld);\n\n    return a.Ld;\n  }\n\n  function In(a, b, c, d) {\n    if (b !== c) if (b.isVisible() && b.lA && !b.Df) {\n      c = b.getAvoidableRect(d);\n      d = a.Ld.Mp;\n      b = a.Ld.Kp;\n\n      for (var e = c.x + c.width, f = c.y + c.height, h = c.x; h < e; h += d) {\n        for (var k = c.y; k < f; k += b) {\n          Kn(a.Ld, h, k);\n        }\n\n        Kn(a.Ld, h, f);\n      }\n\n      for (k = c.y; k < f; k += b) {\n        Kn(a.Ld, e, k);\n      }\n\n      Kn(a.Ld, e, f);\n    } else if (b instanceof V) for (b = b.hc; b.next();) {\n      e = b.value, e instanceof T && In(a, e, c, d);\n    }\n  }\n\n  E.invalidatePositionArray = E.prototype.RA = function (a) {\n    null !== this.Ld && !this.Ld.su && (void 0 === a && (a = null), null === a || a.lA && !a.Df) && (this.Ld.su = !0);\n  };\n\n  E.prototype.simulatedMouseMove = function (a, b, c) {\n    if (null !== Sh) {\n      var d = Sh.g;\n      c instanceof E || (c = null);\n      var e = Th;\n      c !== e && (null !== e && e !== d && null !== e.Va.de && (Yh(e), Sh.Lx = !1, e.Va.de.doSimulatedDragLeave()), Th = c, null !== c && c !== d && null !== c.Va.de && (ei(), e = c.Va.de, ai.contains(e) || ai.add(e), c.Va.de.doSimulatedDragEnter()));\n      if (null === c || c === d || !c.yE || c.ib || !c.Ip) return !1;\n      d = c.Va.de;\n      null !== d && (null !== a ? b = c.Nr(a) : null === b && (b = new z()), c.Rb.ea = b, c.Rb.Ce = c.Dy(b), c.Rb.Hk = !1, c.Rb.up = !1, d.doSimulatedDragOver());\n      return !0;\n    }\n\n    return !1;\n  };\n\n  E.prototype.simulatedMouseUp = function (a, b, c, d) {\n    if (null !== Sh) {\n      null === d && (d = b);\n      b = Th;\n      var e = Sh.g;\n\n      if (d !== b) {\n        if (null !== b && b !== e && null !== b.Va.de) return Yh(b), Sh.Lx = !1, b.Va.de.doSimulatedDragLeave(), !1;\n        Th = d;\n        null !== d && null !== d.Va.de && (ei(), b = d.Va.de, ai.contains(b) || ai.add(b), d.Va.de.doSimulatedDragEnter());\n      }\n\n      if (null === d) return Sh.doCancel(), !0;\n      if (d !== this) return null !== a && (c = d.Nr(a)), d.Rb.ea = c, d.Rb.Ce = d.Dy(c), d.Rb.Hk = !1, d.Rb.up = !0, a = d.Va.de, null !== a && a.doSimulatedDrop(), a = Sh, null !== a && (d = a.mayCopy(), a.Lf = d ? \"Copy\" : \"Move\", a.stopTool()), !0;\n    }\n\n    return !1;\n  };\n\n  w.defineProperty(E, {\n    FK: \"autoScrollInterval\"\n  }, function () {\n    return this.Zq;\n  }, function (a) {\n    var b = this.Zq;\n    w.Bd(a, E, \"scale\");\n    b !== a && (this.Zq = a, this.h(\"autoScrollInterval\", b, a));\n  });\n  w.defineProperty(E, {\n    FE: \"autoScrollRegion\"\n  }, function () {\n    return this.uv;\n  }, function (a) {\n    \"number\" === typeof a ? a = new hb(a) : w.G(a, hb, E, \"autoScrollRegion\");\n    var b = this.uv;\n    b.L(a) || (this.uv = a = a.S(), this.Gc(), this.h(\"autoScrollRegion\", b, a));\n  });\n\n  E.prototype.doAutoScroll = E.prototype.zA = function (a) {\n    this.tv.assign(a);\n    Ln(this, this.tv).Qc(this.position) ? Yh(this) : Mn(this);\n  };\n\n  function Mn(a) {\n    -1 === a.ro && (a.ro = w.setTimeout(function () {\n      if (-1 !== a.ro) {\n        Yh(a);\n        var b = a.Q.event;\n\n        if (null !== b) {\n          var c = Ln(a, a.tv);\n          c.Qc(a.position) || (a.position = c, a.Q.ea = a.SB(a.tv), c = Xl(b), a.simulatedMouseMove(b, null, c) || a.doMouseMove(), a.ck = !0, Sl(a, a.Od.copy().Zg(a.computeBounds())), a.Fe = !0, a.dg(), Mn(a));\n        }\n      }\n    }, a.Zq));\n  }\n\n  function Yh(a) {\n    -1 !== a.ro && (w.clearTimeout(a.ro), a.ro = -1);\n  }\n\n  function Ln(a, b) {\n    var c = a.position,\n        d = a.FE;\n    if (0 >= d.top && 0 >= d.left && 0 >= d.right && 0 >= d.bottom) return c;\n    var e = a.sb,\n        f = a.scale,\n        e = w.lg(0, 0, e.width * f, e.height * f),\n        h = w.wb(0, 0);\n\n    if (b.x >= e.x && b.x < e.x + d.left) {\n      var k = Math.max(a.Xu, 1),\n          k = k | 0;\n      h.x -= k;\n      b.x < e.x + d.left / 2 && (h.x -= k);\n      b.x < e.x + d.left / 4 && (h.x -= 4 * k);\n    } else b.x <= e.x + e.width && b.x > e.x + e.width - d.right && (k = Math.max(a.Xu, 1), k |= 0, h.x += k, b.x > e.x + e.width - d.right / 2 && (h.x += k), b.x > e.x + e.width - d.right / 4 && (h.x += 4 * k));\n\n    b.y >= e.y && b.y < e.y + d.top ? (k = Math.max(a.Yu, 1), k |= 0, h.y -= k, b.y < e.y + d.top / 2 && (h.y -= k), b.y < e.y + d.top / 4 && (h.y -= 4 * k)) : b.y <= e.y + e.height && b.y > e.y + e.height - d.bottom && (k = Math.max(a.Yu, 1), k |= 0, h.y += k, b.y > e.y + e.height - d.bottom / 2 && (h.y += k), b.y > e.y + e.height - d.bottom / 4 && (h.y += 4 * k));\n    h.Qc(cd) || (c = new z(c.x + h.x / f, c.y + h.y / f));\n    w.Bb(e);\n    w.v(h);\n    return c;\n  }\n\n  E.prototype.makeSvg = E.prototype.makeSVG = function (a) {\n    void 0 === a && (a = new ra());\n    a.context = \"svg\";\n    a = Nn(this, a);\n    return null !== a ? a.rm : null;\n  };\n\n  E.prototype.makeImage = function (a) {\n    void 0 === a && (a = new ra());\n    var b = (a.document || document).createElement(\"img\");\n    b.src = this.QI(a);\n    return b;\n  };\n\n  E.prototype.makeImageData = E.prototype.QI = function (a) {\n    void 0 === a && (a = new ra());\n    var b = Nn(this, a);\n\n    if (null !== b) {\n      var c = a.returnType,\n          c = void 0 === c ? \"string\" : c.toLowerCase();\n\n      switch (c) {\n        case \"imagedata\":\n          return b.Gk.getImageData(0, 0, b.width, b.height);\n\n        case \"blob\":\n          b = b.Pd;\n          c = a.callback;\n\n          if (\"function\" !== typeof c) {\n            w.k('Error: Diagram.makeImageData called with \"returnType: toBlob\", but no \"callback\" function property defined.');\n            break;\n          }\n\n          if (\"function\" === typeof b.toBlob) return b.toBlob(c, a.type, a.details), \"toBlob\";\n          if (\"function\" === typeof b.msToBlob) return c(b.msToBlob()), \"msToBlob\";\n          c(null);\n          break;\n\n        default:\n          return b.toDataURL(a.type, a.details);\n      }\n    }\n\n    return \"\";\n  };\n\n  var On = !1;\n\n  function Nn(a, b) {\n    a.Ka.Ih();\n    a.dg();\n    if (null === a.zb) return null;\n    \"object\" !== typeof b && w.k(\"properties argument must be an Object.\");\n    var c = !1,\n        d = b.size || null,\n        e = b.scale || null;\n    void 0 !== b.scale && isNaN(b.scale) && (e = \"NaN\");\n    var f = b.maxSize;\n    void 0 === b.maxSize && (c = !0, f = \"svg\" === b.context ? new ia(Infinity, Infinity) : new ia(2E3, 2E3));\n    var h = b.position || null,\n        k = b.parts || null,\n        l = void 0 === b.padding ? 1 : b.padding,\n        m = b.background || null,\n        n = b.omitTemporary;\n    void 0 === n && (n = !0);\n    var p = b.document || document,\n        q = b.elementFinished || null,\n        r = b.showTemporary;\n    void 0 === r && (r = !n);\n    n = b.showGrid;\n    void 0 === n && (n = r);\n    null !== d && isNaN(d.width) && isNaN(d.height) && (d = null);\n    \"number\" === typeof l ? l = new hb(l) : l instanceof hb || w.k(\"MakeImage padding must be a Margin or a number.\");\n    l.left = Math.max(l.left, 0);\n    l.right = Math.max(l.right, 0);\n    l.top = Math.max(l.top, 0);\n    l.bottom = Math.max(l.bottom, 0);\n    a.hf.Ke(!0);\n    var s = new Vc(null, p),\n        t = s.Gk;\n\n    if (!(d || e || k || h)) {\n      s.width = a.Fb + Math.ceil(l.left + l.right);\n      s.height = a.Eb + Math.ceil(l.top + l.bottom);\n      if (\"svg\" === b.context) return t = new Oc(s.Pd, p, q), Km(a, t, l, new ia(s.width, s.height), a.rb, a.ab, k, m, r, n), t;\n      a.Cr = !1;\n      Km(a, t, l, new ia(s.width, s.height), a.rb, a.ab, k, m, r, n);\n      a.Cr = !0;\n      return s;\n    }\n\n    var u = a.pb.sx,\n        y = new z(0, 0),\n        v = a.Od.copy();\n    v.zG(a.padding);\n    if (r) for (var x = !0, x = a.dc.n, A = x.length, L = 0; L < A; L++) {\n      var C = x[L];\n      if (C.visible && C.Hc) for (var C = C.xb.n, O = C.length, X = 0; X < O; X++) {\n        var S = C[X];\n        S.WA && S.isVisible() && (S = S.U, S.I() && v.Zg(S));\n      }\n    }\n    y.x = v.x;\n    y.y = v.y;\n\n    if (null !== k) {\n      var ba,\n          x = !0,\n          A = k.i;\n\n      for (A.reset(); A.next();) {\n        S = A.value, S instanceof R && (C = S.layer, null !== C && !C.visible || null !== C && !r && C.Hc || !S.isVisible() || (S = S.U, S.I() && (x ? (x = !1, ba = S.copy()) : ba.Zg(S))));\n      }\n\n      x && (ba = new B(0, 0, 0, 0));\n      v.width = ba.width;\n      v.height = ba.height;\n      y.x = ba.x;\n      y.y = ba.y;\n    }\n\n    null !== h && h.I() && (y = h, e || (e = u));\n    x = S = 0;\n    null !== l && (S = l.left + l.right, x = l.top + l.bottom);\n    L = A = 0;\n    null !== d && (A = d.width, L = d.height, isFinite(A) && (A = Math.max(0, A - S)), isFinite(L) && (L = Math.max(0, L - x)));\n    ba = h = 0;\n    null !== d && null !== e ? (\"NaN\" === e && (e = u), d.I() ? (h = A, ba = L) : isNaN(L) ? (h = A, ba = v.height * e) : (h = v.width * e, ba = L)) : null !== d ? d.I() ? (e = Math.min(A / v.width, L / v.height), h = A, ba = L) : isNaN(L) ? (e = A / v.width, h = A, ba = v.height * e) : (e = L / v.height, h = v.width * e, ba = L) : null !== e ? \"NaN\" === e && f.I() ? (e = Math.min((f.width - S) / v.width, (f.height - x) / v.height), e > u ? (e = u, h = v.width, ba = v.height) : (h = f.width, ba = f.height)) : (h = v.width * e, ba = v.height * e) : (e = u, h = v.width, ba = v.height);\n    null !== l ? (h += S, ba += x) : l = new hb(0);\n    null !== f && (d = f.width, f = f.height, \"svg\" !== b.context && c && !On && (h > d || ba > f) && (w.trace(\"Diagram.makeImage(data): Diagram width or height is larger than the default max size. (\" + Math.ceil(h) + \"x\" + Math.ceil(ba) + \" vs 2000x2000) Consider increasing the max size.\"), On = !0), isNaN(d) && (d = 2E3), isNaN(f) && (f = 2E3), isFinite(d) && (h = Math.min(h, d)), isFinite(f) && (ba = Math.min(ba, f)));\n    s.width = Math.ceil(h);\n    s.height = Math.ceil(ba);\n    if (\"svg\" === b.context) return t = new Oc(s.Pd, p, q), Km(a, t, l, new ia(Math.ceil(h), Math.ceil(ba)), e, y, k, m, r, n), t;\n    a.Cr = !1;\n    Km(a, t, l, new ia(Math.ceil(h), Math.ceil(ba)), e, y, k, m, r, n);\n    a.Cr = !0;\n    return s;\n  }\n\n  E.inherit = function (a, b) {\n    if (\"function\" === typeof a && Object.getPrototypeOf(a).prototype) throw Error(\"Used go.Diagram.inherit defining already defined class \\n\" + a);\n    w.j(a, \"function\", E, \"inherit\");\n    w.j(b, \"function\", E, \"inherit\");\n    b.dH && w.k(\"Cannot inherit from \" + w.pf(b));\n    w.La(a, b);\n  };\n\n  function Cl() {\n    this.ZD = null;\n    this.fH = \"63ad05bbe23a1786468a4c741b6d2\";\n    this.Ni = this.fH === this._tk ? !0 : null;\n  }\n\n  Cl.prototype.vm = function (a) {\n    a.hf.setTransform(a.xd, 0, 0, a.xd, 0, 0);\n\n    if (null === this.Ni) {\n      var b = \"f\",\n          c = window[w.Kg(\"76a715b2f73f148a\")][w.Kg(\"72ba13b5\")];\n      a = w.Kg;\n      this.Ni = !0;\n\n      if (window[a(\"7da7\")] && window[a(\"7da7\")][a(\"76a115b6ed251eaf4692\")]) {\n        var d = window[a(\"7da7\")][a(\"76a115b6ed251eaf4692\")],\n            d = a(d).split(a(\"39e9\"));\n\n        if (!(6 > d.length)) {\n          var e = a(d[1]).split(\".\");\n\n          if (\"7da71ca0\" === d[4]) {\n            var f = a(w[a(\"6cae19\")]).split(\".\");\n\n            if (e[0] > f[0] || e[0] === f[0] && e[1] >= f[1]) {\n              f = c[a(\"76ad18b4f73e\")];\n\n              for (e = c[a(\"73a612b6fb191d\")](a(\"35e7\")) + 2; e < f; e++) {\n                b += c[e];\n              }\n\n              c = b[a(\"73a612b6fb191d\")](a(d[2]));\n              0 > c && a(d[2]) !== a(\"7da71ca0ad381e90\") && (c = b[a(\"73a612b6fb191d\")](a(\"76a715b2ef3e149757\")));\n              0 > c && (c = b[a(\"73a612b6fb191d\")](a(\"76a715b2ef3e149757\")));\n              if (this.Ni = !(0 <= c && c < b[a(\"73a612b6fb191d\")](a(\"35\")))) if (b = a(d[2]), \"#\" === b[0]) {\n                c = window.document[a(\"79ba13b2f7333e8846865a7d00\")](\"div\");\n\n                for (e = d[0].replace(/[A-Za-z]/g, \"\"); 4 > e.length;) {\n                  e += \"9\";\n                }\n\n                e = e.substr(e.length - 4);\n                d = \"\" + [\"gsh\", \"gsf\"][parseInt(e.substr(0, 1), 10) % 2];\n                d += [\"Header\", \"Background\", \"Display\", \"Feedback\"][parseInt(e.substr(0, 1), 10) % 4];\n                c[a(\"79a417a0f0181a8946\")] = d;\n\n                if (window.document[a(\"78a712aa\")]) {\n                  if (window.document[a(\"78a712aa\")][a(\"7bb806b6ed32388c4a875b\")](c), e = window[a(\"7dad0290ec3b0b91578e5b40007031bf\")](c)[a(\"7dad0283f1390b81519f4645156528bf\")](a(\"78a704b7e62456904c9b12701b6532a8\")), window.document[a(\"78a712aa\")][a(\"68ad1bbcf533388c4a875b\")](c), e) if (-1 !== e.indexOf(parseInt(b[1] + b[2], 16)) && -1 !== e.indexOf(parseInt(b[3] + b[4], 16))) this.Ni = !1;else if (w.xu || w.fq || w.gq || w.UA) for (d = \".\" + d, e = 0; e < document.styleSheets.length; e++) {\n                    a = document.styleSheets[e].rules || document.styleSheets[e].cssRules;\n\n                    for (var h in a) {\n                      if (d === a[h].selectorText) {\n                        this.Ni = !1;\n                        break;\n                      }\n                    }\n                  }\n                } else this.Ni = null, this.Ni = !1;\n              }\n            }\n          }\n        }\n      } else {\n        f = c[a(\"76ad18b4f73e\")];\n\n        for (e = c[a(\"73a612b6fb191d\")](a(\"35e7\")) + 2; e < f; e++) {\n          b += c[e];\n        }\n\n        c = b[a(\"73a612b6fb191d\")](a(\"7da71ca0ad381e90\"));\n        this.Ni = !(0 <= c && c < b[a(\"73a612b6fb191d\")](a(\"35\")));\n      }\n    }\n\n    return 0 < this.Ni && this !== this.ZD ? !0 : !1;\n  };\n\n  Cl.prototype.t = function () {\n    this.ZD = null;\n  };\n\n  function Dl(a, b) {\n    void 0 !== b && null !== b || w.k(\"Diagram setup requires an argument DIV.\");\n    null !== a.Ob && w.k(\"Diagram has already completed setup.\");\n    \"string\" === typeof b ? a.Ob = window.document.getElementById(b) : b instanceof HTMLDivElement ? a.Ob = b : w.k(\"No DIV or DIV id supplied: \" + b);\n    null === a.Ob && w.k(\"Invalid DIV id; could not get element with id: \" + b);\n    void 0 !== a.Ob.aa && w.k(\"Invalid div id; div already has a Diagram associated with it.\");\n    \"static\" === window.getComputedStyle(a.Ob, null).position && (a.Ob.style.position = \"relative\");\n    a.Ob.style[\"-webkit-tap-highlight-color\"] = \"rgba(255, 255, 255, 0)\";\n    a.Ob.style[\"-ms-touch-action\"] = \"none\";\n    a.Ob.innerHTML = \"\";\n    a.Ob.aa = a;\n    var c = new Vc(a);\n    c.Pd.innerHTML = \"This text is displayed if your browser does not support the Canvas HTML element.\";\n    void 0 !== c.style && (c.style.position = \"absolute\", c.style.top = \"0px\", c.style.left = \"0px\", \"rtl\" === window.getComputedStyle(a.Ob, null).getPropertyValue(\"direction\") && (a.as = !0), c.style.zIndex = \"2\", c.style.aM = \"none\", c.style.webkitUserSelect = \"none\", c.style.MozUserSelect = \"none\");\n    a.Fb = a.Ob.clientWidth || 1;\n    a.Eb = a.Ob.clientHeight || 1;\n    a.zb = c;\n    a.hf = c.Gk;\n    var d = a.hf;\n    a.xd = a.computePixelRatio();\n    Mm(a, a.Fb, a.Eb);\n    a.Kv = d[w.Kg(\"7eba17a4ca3b1a8346\")][w.Kg(\"78a118b7\")](d, w.vm, 4, 4);\n    a.Ob.insertBefore(c.Pd, a.Ob.firstChild);\n    c = new Vc(null);\n    c.width = 1;\n    c.height = 1;\n    a.lz = c;\n    a.WC = c.Gk;\n    var c = w.createElement(\"div\"),\n        e = w.createElement(\"div\");\n    c.style.position = \"absolute\";\n    c.style.overflow = \"auto\";\n    c.style.width = a.Fb + \"px\";\n    c.style.height = a.Eb + \"px\";\n    c.style.zIndex = \"1\";\n    e.style.position = \"absolute\";\n    e.style.width = \"1px\";\n    e.style.height = \"1px\";\n    a.Ob.appendChild(c);\n    c.appendChild(e);\n    c.onscroll = Kl;\n    c.onmousedown = Ml;\n    c.ontouchstart = Ml;\n    c.aa = a;\n    c.bH = !0;\n    c.cH = !0;\n    a.Iw = c;\n    a.kt = e;\n    a.ly = w.OE(function () {\n      a.uk = null;\n      a.oa();\n    }, 300, !1);\n    a.XB = w.OE(function () {\n      Hk(a);\n    }, 250, !1);\n\n    a.preventDefault = function (a) {\n      a.preventDefault();\n      return !1;\n    };\n\n    a.Sn = function (b) {\n      if (a.isEnabled) {\n        a.fh = !0;\n        var c = a.yd;\n        w.In && c.Aj ? (b.preventDefault(), b.simulated = !0, a.tt = b) : (a.yd = a.Rb, a.Rb = c, Vl(a, a, b, c, !0), a.simulatedMouseMove(b, null, b.target.aa) || (a.doMouseMove(), a.Xa.isBeyondDragSize() && (a.Vh = 0), $l(c, b)));\n      }\n    };\n\n    a.Rn = function (b) {\n      if (a.isEnabled) {\n        a.fh = !0;\n        var c = a.yd;\n        if (w.In && null !== a.tt) a.tt = b, b.preventDefault();else if (w.In && 400 > b.timeStamp - a.ik) b.preventDefault();else if (a.fk) b.preventDefault();else {\n          a.yd = a.Rb;\n          a.Rb = c;\n          Vl(a, a, b, c, !0);\n          c.Hk = !0;\n          c.te = b.detail;\n          if (w.fq || w.gq) b.timeStamp - a.ik < a.bA && !a.Xa.isBeyondDragSize() ? a.Vh++ : a.Vh = 1, a.ik = b.timeStamp, c.te = a.Vh;\n          a.Pi = c;\n          !0 === c.Ir.simulated ? (b.preventDefault(), b.simulated = !0) : (Sh = null, a.doMouseDown(), a.Pi = a.Pi.copy(), 1 === b.button ? b.preventDefault() : $l(c, b));\n        }\n      }\n    };\n\n    a.Un = function (b) {\n      if (a.isEnabled) if (a.fk && 2 === b.button) b.preventDefault();else if (a.fk && 0 === b.button && (a.fk = !1), a.zp) b.preventDefault();else {\n        a.fh = !0;\n        var c = a.yd;\n\n        if (w.In) {\n          if (400 > b.timeStamp - a.ik) {\n            b.preventDefault();\n            return;\n          }\n\n          a.ik = b.timeStamp;\n        }\n\n        if (w.In && null !== a.tt) a.tt = null, b.preventDefault();else {\n          a.yd = a.Rb;\n          a.Rb = c;\n          Vl(a, a, b, c, !0);\n          c.up = !0;\n          c.te = b.detail;\n          if (w.fq || w.gq) c.te = a.Vh;\n          c.bubbles = b.bubbles;\n          c.Jf = Xl(b);\n          a.simulatedMouseUp(b, null, new z(), c.Jf) || (a.doMouseUp(), Yh(a), $l(c, b));\n        }\n      }\n    };\n\n    a.Vn = function (b) {\n      if (a.isEnabled) {\n        var c = a.yd;\n        a.yd = a.Rb;\n        a.Rb = c;\n        Vl(a, a, b, c, !0);\n        c.bubbles = !0;\n        var d = 0,\n            e = 0;\n        void 0 !== b.deltaX ? (d = 0 < b.deltaX ? 1 : -1, e = 0 < b.deltaY ? 1 : -1, c.oi = Math.abs(b.deltaX) > Math.abs(b.deltaY) ? -d : -e) : void 0 !== b.wheelDeltaX ? (d = 0 < b.wheelDeltaX ? -1 : 1, e = 0 < b.wheelDeltaY ? -1 : 1, c.oi = Math.abs(b.wheelDeltaX) > Math.abs(b.wheelDeltaY) ? -d : -e) : c.oi = void 0 !== b.wheelDelta ? 0 < b.wheelDelta ? 1 : -1 : 0;\n        a.doMouseWheel();\n        $l(c, b);\n      }\n    };\n\n    a.Tn = function () {\n      if (a.isEnabled) {\n        a.fh = !1;\n        var b = a.Xa;\n        b.cancelWaitAfter();\n        b.standardMouseOver();\n      }\n    };\n\n    a.RB = function (b) {\n      if (a.isEnabled) {\n        a.zp = !1;\n        a.fk = !0;\n        var c = Yl(a, b, b.targetTouches[0], 1 < b.touches.length);\n        a.doMouseDown();\n        $l(c, b);\n      }\n    };\n\n    a.QB = function (b) {\n      if (a.isEnabled) {\n        var c = null;\n        0 < b.targetTouches.length ? c = b.targetTouches[0] : 0 < b.changedTouches.length && (c = b.changedTouches[0]);\n        var d = Zl(a, b, c, 1 < b.touches.length);\n        a.simulatedMouseMove(c ? c : b, null, d.Jf) || a.doMouseMove();\n        $l(d, b);\n      }\n    };\n\n    a.PB = function (b) {\n      if (a.isEnabled) if (a.zp) b.preventDefault();else if (!(1 < b.touches.length)) {\n        var c = null,\n            d = null;\n        0 < b.targetTouches.length ? d = b.targetTouches[0] : 0 < b.changedTouches.length && (d = b.changedTouches[0]);\n        var e = a.yd;\n        a.yd = a.Rb;\n        a.Rb = e;\n        e.g = a;\n        e.te = 1;\n\n        if (null !== d) {\n          c = window.document.elementFromPoint(d.clientX, d.clientY);\n          null !== c && c.aa instanceof E && c.aa !== a && Wl(c.aa, d, e);\n          Wl(a, d, e);\n          var m = d.screenX,\n              n = d.screenY,\n              p = a.gw;\n          b.timeStamp - a.ik < a.bA && !(25 < Math.abs(p.x - m) || 25 < Math.abs(p.y - n)) ? a.Vh++ : a.Vh = 1;\n          e.te = a.Vh;\n          a.ik = b.timeStamp;\n          a.gw.m(m, n);\n        }\n\n        m = 0;\n        b.ctrlKey && (m += 1);\n        b.altKey && (m += 2);\n        b.shiftKey && (m += 4);\n        b.metaKey && (m += 8);\n        e.nd = m;\n        e.button = 0;\n        e.buttons = 1;\n        e.Hk = !1;\n        e.up = !0;\n        e.oi = 0;\n        e.vc = !1;\n        e.bubbles = !1;\n        e.event = b;\n        e.timestamp = Date.now();\n        e.Jf = null === c ? Xl(b) : c.aa ? c.aa : null;\n        e.Be = null;\n        a.simulatedMouseUp(d ? d : b, null, new z(), e.Jf) || a.doMouseUp();\n        $l(e, b);\n        a.fk = !1;\n      }\n    };\n\n    a.qq = function (b) {\n      if (a.isEnabled) {\n        a.fh = !0;\n        var c = a.Nz;\n        void 0 === c[b.pointerId] && (c[b.pointerId] = b);\n        var c = a.jp,\n            d = !1;\n        if (null !== c[0] && c[0].pointerId === b.pointerId) c[0] = b;else if (null !== c[1] && c[1].pointerId === b.pointerId) c[1] = b, d = !0;else if (null === c[0]) c[0] = b;else if (null === c[1]) c[1] = b, d = !0;else {\n          b.preventDefault();\n          return;\n        }\n        if (\"touch\" === b.pointerType || \"pen\" === b.pointerType) a.zp = !1, a.fk = !0;\n        c = Yl(a, b, b, d);\n        \"touch\" !== b.pointerType && (c.button = b.button, void 0 === b.buttons || w.xu || (c.buttons = b.buttons), w.zh && 0 === b.button && b.ctrlKey && (c.button = 2));\n        a.doMouseDown();\n        1 === b.button ? b.preventDefault() : $l(c, b);\n      }\n    };\n\n    a.rq = function (b) {\n      if (a.isEnabled) {\n        a.fh = !0;\n        var c = a.jp;\n        if (null !== c[0] && c[0].pointerId === b.pointerId) c[0] = b;else {\n          if (null !== c[1] && c[1].pointerId === b.pointerId) {\n            c[1] = b;\n            return;\n          }\n\n          if (null === c[0]) c[0] = b;else return;\n        }\n        c[0].pointerId === b.pointerId && (c = Zl(a, b, b, null !== c[1]), \"touch\" !== b.pointerType && (c.button = b.button, void 0 === b.buttons || w.xu || (c.buttons = b.buttons), w.zh && 0 === b.button && b.ctrlKey && (c.button = 2)), a.simulatedMouseMove(b, null, c.Jf) || (a.doMouseMove(), $l(c, b)));\n      }\n    };\n\n    a.tq = function (b) {\n      if (a.isEnabled) {\n        a.fh = !0;\n        var c = \"touch\" === b.pointerType || \"pen\" === b.pointerType,\n            d = a.Nz;\n        if (c && a.zp) delete d[b.pointerId], b.preventDefault();else if (d = a.jp, null !== d[0] && d[0].pointerId === b.pointerId) {\n          d[0] = null;\n          d = a.yd;\n          a.yd = a.Rb;\n          a.Rb = d;\n          var e = window.document.elementFromPoint(b.clientX, b.clientY);\n          null !== e && e.aa instanceof E && e.aa !== a && Wl(e.aa, b, d);\n          Wl(a, b, d);\n          d.g = a;\n          var m = a.gw,\n              n = c ? 25 : 10;\n          b.timeStamp - a.ik < a.bA && !(Math.abs(m.x - b.screenX) > n || Math.abs(m.y - b.screenY) > n) ? a.Vh++ : a.Vh = 1;\n          d.te = a.Vh;\n          a.ik = b.timeStamp;\n          a.gw.m(b.screenX, b.screenY);\n          m = 0;\n          b.ctrlKey && (m += 1);\n          b.altKey && (m += 2);\n          b.shiftKey && (m += 4);\n          b.metaKey && (m += 8);\n          d.nd = m;\n          d.button = b.button;\n          void 0 === b.buttons || w.xu || (d.buttons = b.buttons);\n          w.zh && 0 === b.button && b.ctrlKey && (d.button = 2);\n          d.Hk = !1;\n          d.up = !0;\n          d.oi = 0;\n          d.vc = !1;\n          d.bubbles = !0;\n          d.event = b;\n          d.timestamp = Date.now();\n          d.Jf = null === e ? Xl(b) : e.aa ? e.aa : null;\n          d.Be = null;\n          a.simulatedMouseUp(b, null, new z(), d.Jf) || (a.doMouseUp(), Yh(a), $l(d, b), c && (a.fk = !1));\n        } else null !== d[1] && d[1].pointerId === b.pointerId && (d[1] = null);\n      }\n    };\n\n    a.sq = function (b) {\n      if (a.isEnabled) {\n        a.fh = !1;\n        var c = a.Nz;\n        c[b.pointerId] && delete c[b.pointerId];\n        c = a.jp;\n        null !== c[0] && c[0].pointerId === b.pointerId && (c[0] = null);\n        null !== c[1] && c[1].pointerId === b.pointerId && (c[1] = null);\n        \"touch\" !== b.pointerType && \"pen\" !== b.pointerType && (b = a.Xa, b.cancelWaitAfter(), b.standardMouseOver());\n      }\n    };\n\n    d.Ke(!0);\n    Hl(a);\n  }\n\n  function Pn(a) {\n    1 < arguments.length && w.k(\"Palette constructor can only take one optional argument, the DIV HTML element or its id.\");\n    E.call(this, a);\n    this.Rt = !0;\n    this.Rl = !1;\n    this.ib = !0;\n    this.rA = Bb;\n    this.Ub = new Qn();\n  }\n\n  w.La(Pn, E);\n  w.ga(\"Palette\", Pn);\n\n  function zl(a) {\n    1 < arguments.length && w.k(\"Overview constructor can only take one optional argument, the DIV HTML element or its id.\");\n    E.call(this, a);\n    this.Ka.isEnabled = !1;\n    this.Wc = !0;\n    this.pk = null;\n    this.Lv = !0;\n    this.JJ(\"drawShadows\", !1);\n    var b = new R(),\n        c = new Y();\n    c.stroke = \"magenta\";\n    c.mb = 2;\n    c.fill = \"transparent\";\n    c.name = \"BOXSHAPE\";\n    b.nm = !0;\n    b.zB = \"BOXSHAPE\";\n    b.aB = \"BOXSHAPE\";\n    b.iG = \"BOXSHAPE\";\n    b.cursor = \"move\";\n    b.add(c);\n    this.Bm = b;\n    c = new jh();\n    c.type = Oj;\n    c.Gf = Jb;\n    var d = new Pj();\n    d.ff = !0;\n    c.add(d);\n    d = new Y();\n    d.qh = Jb;\n    d.Hb = \"Rectangle\";\n    d.Da = new ia(64, 64);\n    d.cursor = \"se-resize\";\n    d.alignment = Wb;\n    c.add(d);\n    b.gG = c;\n    this.nn = this.Ck = !1;\n    this.Bf = this.Tt = !0;\n    this.FE = new hb(0, 0, 0, 0);\n    this.Xz = new Vc(null);\n    this.eH = this.Xz.Gk;\n    this.Va.de = new Rn();\n    this.Va.jG = new Sn();\n    var e = this;\n\n    this.click = function () {\n      var a = e.pk;\n\n      if (null !== a) {\n        var b = a.sb,\n            c = e.Q.ea;\n        a.position = new z(c.x - b.width / 2, c.y - b.height / 2);\n      }\n    };\n\n    this.VF = function () {\n      Tn(e);\n    };\n\n    this.UF = function () {\n      null !== e.pk && (e.Gc(), e.oa());\n    };\n\n    this.Tl = Tl;\n    this.Wc = !1;\n  }\n\n  w.La(zl, E);\n  w.ga(\"Overview\", zl);\n\n  function Un(a) {\n    a.Wc || a.ae || !1 !== a.Tf || (a.Tf = !0, requestAnimationFrame(function () {\n      if (a.Tf && !a.ae && (a.Tf = !1, null !== a.Ob)) {\n        a.ae = !0;\n        Ii(a);\n        a.Od.I() || Sl(a, a.computeBounds());\n        null === a.Ob && w.k(\"No div specified\");\n        null === a.zb && w.k(\"No canvas specified\");\n\n        if (a.Fe) {\n          var b = a.pk;\n\n          if (null !== b && !b.Ka.df && !b.Ka.sc) {\n            var b = a.hf,\n                c = a.Xz;\n            b.setTransform(1, 0, 0, 1, 0, 0);\n            b.clearRect(0, 0, a.zb.width, a.zb.height);\n            b.drawImage(c.Pd, 0, 0);\n            c = a.kd;\n            c.reset();\n            1 !== a.scale && c.scale(a.scale);\n            0 === a.position.x && 0 === a.position.y || c.translate(-a.position.x, -a.position.y);\n            b.scale(a.xd, a.xd);\n            b.transform(c.m11, c.m12, c.m21, c.m22, c.dx, c.dy);\n\n            for (var c = a.dc.n, d = c.length, e = 0; e < d; e++) {\n              c[e].ve(b, a);\n            }\n\n            a.vl = !1;\n            a.Fe = !1;\n          }\n        }\n\n        a.ae = !1;\n      }\n    }));\n  }\n\n  zl.prototype.computePixelRatio = function () {\n    return 1;\n  };\n\n  zl.prototype.ve = function () {\n    null === this.Ob && w.k(\"No div specified\");\n    null === this.zb && w.k(\"No canvas specified\");\n\n    if (this.Fe) {\n      var a = this.pk;\n\n      if (null !== a && !a.Ka.df) {\n        Hm(this);\n        var b = a.Gn;\n        (null !== b && b.visible && isNaN(b.width) || isNaN(b.height)) && dm(a);\n        var c = this.zb,\n            b = this.hf,\n            d = this.Xz,\n            e = this.eH;\n        d.width = c.width;\n        d.height = c.height;\n        b.Ke(!0);\n        b.setTransform(1, 0, 0, 1, 0, 0);\n        b.clearRect(0, 0, c.width, c.height);\n        d = this.kd;\n        d.reset();\n        1 !== this.scale && d.scale(this.scale);\n        0 === this.position.x && 0 === this.position.y || d.translate(-this.position.x, -this.position.y);\n        b.scale(this.xd, this.xd);\n        b.transform(d.m11, d.m12, d.m21, d.m22, d.dx, d.dy);\n\n        for (var d = this.Lv, f = this.sb, h = a.dc.n, k = h.length, a = 0; a < k; a++) {\n          var l = h[a],\n              m = b,\n              n = f,\n              p = d;\n\n          if (l.visible && 0 !== l.Dc && (void 0 === p && (p = !0), p || !l.Hc)) {\n            1 !== l.Dc && (m.globalAlpha = l.Dc);\n\n            for (var p = this.scale, l = l.xb.n, q = l.length, r = 0; r < q; r++) {\n              var s = l[r],\n                  t = s.U;\n              t.$f(n) && (1 < t.width * p || 1 < t.height * p ? s.ve(m, this) : ml(s, m));\n            }\n\n            m.globalAlpha = 1;\n          }\n        }\n\n        e.drawImage(c.Pd, 0, 0);\n        c = this.dc.n;\n        e = c.length;\n\n        for (a = 0; a < e; a++) {\n          c[a].ve(b, this);\n        }\n\n        this.Fe = this.vl = !1;\n      }\n    }\n  };\n\n  w.defineProperty(zl, {\n    mB: \"observed\"\n  }, function () {\n    return this.pk;\n  }, function (a) {\n    var b = this.pk;\n    null !== a && w.G(a, E, zl, \"observed\");\n    a instanceof zl && w.k(\"Overview.observed Diagram may not be an Overview itself: \" + a);\n    b !== a && (null !== b && (this.remove(this.th), b.sB(\"ViewportBoundsChanged\", this.VF), b.sB(\"DocumentBoundsChanged\", this.UF), b.yw.remove(this)), this.pk = a, null !== a && (a.$w(\"ViewportBoundsChanged\", this.VF), a.$w(\"DocumentBoundsChanged\", this.UF), a.yw.add(this), this.add(this.th), Tn(this)), this.Gc(), this.h(\"observed\", b, a));\n  });\n  w.defineProperty(zl, {\n    th: \"box\"\n  }, function () {\n    return this.Bm;\n  }, function (a) {\n    var b = this.Bm;\n    b !== a && (this.Bm = a, this.remove(b), this.add(this.Bm), Tn(this), this.h(\"box\", b, a));\n  });\n  w.defineProperty(zl, {\n    bL: \"drawsTemporaryLayers\"\n  }, function () {\n    return this.Lv;\n  }, function (a) {\n    this.Lv !== a && (this.Lv = a, this.wq());\n  });\n\n  function Tn(a) {\n    var b = a.th;\n\n    if (null !== b) {\n      var c = a.pk;\n\n      if (null !== c) {\n        a.Fe = !0;\n        var c = c.sb,\n            d = b.Dq,\n            e = w.tm();\n        e.m(c.width, c.height);\n        d.Da = e;\n        w.Lk(e);\n        a = 2 / a.scale;\n        d instanceof Y && (d.mb = a);\n        b.location = new z(c.x - a / 2, c.y - a / 2);\n      }\n    }\n  }\n\n  zl.prototype.computeBounds = function () {\n    var a = this.pk;\n    return null === a ? dd : a.Od;\n  };\n\n  zl.prototype.wF = function () {\n    !0 !== this.Fe && (this.Fe = !0, Un(this));\n  };\n\n  zl.prototype.Pu = function (a, b, c, d, e) {\n    this.Wc || (Nl(this), this.oa(), am(this), this.Gc(), Tn(this), this.ph.scale = c, this.ph.position.x = a.x, this.ph.position.y = a.y, this.ph.bounds.set(a), this.ph.isScroll = e, this.Aa(\"ViewportBoundsChanged\", this.ph, a));\n  };\n\n  function Rn() {\n    nh.call(this);\n    this.El = null;\n  }\n\n  w.La(Rn, nh);\n\n  Rn.prototype.canStart = function () {\n    if (!this.isEnabled) return !1;\n    var a = this.g;\n    if (null === a || !a.Rl || !a.Bf) return !1;\n    var b = a.mB;\n    if (null === b) return !1;\n\n    if (null === this.findDraggablePart()) {\n      var c = b.sb;\n      this.El = new z(c.width / 2, c.height / 2);\n      a = a.uc.ea;\n      b.position = new z(a.x - this.El.x, a.y - this.El.y);\n    }\n\n    return !0;\n  };\n\n  Rn.prototype.doActivate = function () {\n    this.El = null;\n    nh.prototype.doActivate.call(this);\n  };\n\n  Rn.prototype.moveParts = function () {\n    var a = this.g,\n        b = a.mB;\n\n    if (null !== b) {\n      var c = a.th;\n\n      if (null !== c) {\n        if (null === this.El) {\n          var d = a.uc.ea,\n              c = c.location;\n          this.El = new z(d.x - c.x, d.y - c.y);\n        }\n\n        a = a.Q.ea;\n        b.position = new z(a.x - this.El.x, a.y - this.El.y);\n      }\n    }\n  };\n\n  function Sn() {\n    Nj.call(this);\n  }\n\n  w.La(Sn, Nj);\n\n  Sn.prototype.resize = function (a) {\n    var b = this.g.mB;\n\n    if (null !== b) {\n      var c = b.sb.copy(),\n          d = b.scale;\n      (c.width !== a.width || c.height !== a.height) && 0 < a.width && 0 < a.height && (b.scale = Math.min(d * c.width / a.width, d * c.height / a.height));\n    }\n  };\n\n  function Vn() {\n    this.hg = this.bd = this.Fd = this.Ic = 0;\n  }\n\n  function ga(a) {\n    1 < arguments.length && w.k(\"Brush constructor can take at most one optional argument, the Brush type.\");\n    w.oc(this);\n    this.O = !1;\n    void 0 === a ? (this.na = ng, this.uo = \"black\") : \"string\" === typeof a ? (this.na = ng, this.uo = a) : (this.na = a, this.uo = \"black\");\n    var b = this.na;\n    b === og ? (this.sp = Bb, this.Ho = Rb) : this.Ho = b === Xc ? this.sp = Jb : this.sp = yb;\n    this.Pw = 0;\n    this.Mv = NaN;\n    this.bh = this.Aw = this.ah = null;\n    this.az = this.vo = 0;\n  }\n\n  w.ga(\"Brush\", ga);\n  var ng;\n  ga.Solid = ng = w.p(ga, \"Solid\", 0);\n  var og;\n  ga.Linear = og = w.p(ga, \"Linear\", 1);\n  var Xc;\n  ga.Radial = Xc = w.p(ga, \"Radial\", 2);\n  var Wn;\n  ga.Pattern = Wn = w.p(ga, \"Pattern\", 4);\n  var Xn;\n  ga.Lab = Xn = w.p(ga, \"Lab\", 5);\n  var Yn;\n  ga.HSL = Yn = w.p(ga, \"HSL\", 6);\n\n  ga.prototype.copy = function () {\n    var a = new ga();\n    a.na = this.na;\n    a.uo = this.uo;\n    a.sp = this.sp.S();\n    a.Ho = this.Ho.S();\n    a.Pw = this.Pw;\n    a.Mv = this.Mv;\n    null !== this.ah && (a.ah = this.ah.copy());\n    a.Aw = this.Aw;\n    return a;\n  };\n\n  g = ga.prototype;\n\n  g.Ha = function () {\n    this.freeze();\n    Object.freeze(this);\n    return this;\n  };\n\n  g.freeze = function () {\n    this.O = !0;\n    null !== this.ah && this.ah.freeze();\n    return this;\n  };\n\n  g.Qa = function () {\n    Object.isFrozen(this) && w.k(\"cannot thaw constant: \" + this);\n    this.O = !1;\n    null !== this.ah && this.ah.Qa();\n    return this;\n  };\n\n  g.ic = function (a) {\n    a.Je === ga ? this.type = a : w.Lj(this, a);\n  };\n\n  g.toString = function () {\n    var a = \"Brush(\";\n    if (this.type === ng) a += this.color;else if (a = this.type === og ? a + \"Linear \" : this.type === Xc ? a + \"Radial \" : this.type === Wn ? a + \"Pattern \" : a + \"(unknown) \", a += this.start + \" \" + this.end, null !== this.Dk) for (var b = this.Dk.i; b.next();) {\n      a += \" \" + b.key + \":\" + b.value;\n    }\n    return a + \")\";\n  };\n\n  ga.prototype.addColorStop = ga.prototype.addColorStop = function (a, b) {\n    this.O && w.ma(this);\n    (\"number\" !== typeof a || !isFinite(a) || 1 < a || 0 > a) && w.Fa(a, \"0 <= loc <= 1\", ga, \"addColorStop:loc\");\n    w.j(b, \"string\", ga, \"addColorStop:color\");\n    null === this.ah && (this.ah = new ma(\"number\", \"string\"));\n    this.ah.add(a, b);\n    this.na === ng && (this.type = og);\n    this.bh = null;\n  };\n\n  w.defineProperty(ga, {\n    type: \"type\"\n  }, function () {\n    return this.na;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    w.ob(a, ga, ga, \"type\");\n    this.na = a;\n    this.start.Vd() && (a === og ? this.start = Bb : a === Xc && (this.start = Jb));\n    this.end.Vd() && (a === og ? this.end = Rb : a === Xc && (this.end = Jb));\n    this.bh = null;\n  });\n  w.defineProperty(ga, {\n    color: \"color\"\n  }, function () {\n    return this.uo;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.uo = a;\n    this.bh = null;\n  });\n  w.defineProperty(ga, {\n    start: \"start\"\n  }, function () {\n    return this.sp;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    w.G(a, K, ga, \"start\");\n    this.sp = a.S();\n    this.bh = null;\n  });\n  w.defineProperty(ga, {\n    end: \"end\"\n  }, function () {\n    return this.Ho;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    w.G(a, K, ga, \"end\");\n    this.Ho = a.S();\n    this.bh = null;\n  });\n  w.defineProperty(ga, {\n    cv: \"startRadius\"\n  }, function () {\n    return this.Pw;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    w.Bd(a, ga, \"startRadius\");\n    0 > a && w.Fa(a, \">= zero\", ga, \"startRadius\");\n    this.Pw = a;\n    this.bh = null;\n  });\n  w.defineProperty(ga, {\n    $t: \"endRadius\"\n  }, function () {\n    return this.Mv;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    w.Bd(a, ga, \"endRadius\");\n    0 > a && w.Fa(a, \">= zero\", ga, \"endRadius\");\n    this.Mv = a;\n    this.bh = null;\n  });\n  w.defineProperty(ga, {\n    Dk: \"colorStops\"\n  }, function () {\n    return this.ah;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.ah = a;\n    this.bh = null;\n  });\n  w.defineProperty(ga, {\n    pattern: \"pattern\"\n  }, function () {\n    return this.Aw;\n  }, function (a) {\n    this.O && w.ma(this, a);\n    this.Aw = a;\n    this.bh = null;\n  });\n\n  ga.randomColor = function (a, b) {\n    void 0 === a && (a = 128);\n    void 0 === b && (b = Math.max(a, 255));\n    var c = Math.abs(b - a),\n        d = Math.floor(a + Math.random() * c).toString(16),\n        e = Math.floor(a + Math.random() * c).toString(16),\n        c = Math.floor(a + Math.random() * c).toString(16);\n    2 > d.length && (d = \"0\" + d);\n    2 > e.length && (e = \"0\" + e);\n    2 > c.length && (c = \"0\" + c);\n    return \"#\" + d + e + c;\n  };\n\n  var Zn = new Vc(null).Gk,\n      fa;\n\n  ga.isValidColor = fa = function fa(a) {\n    if (\"black\" === a) return !0;\n    if (\"\" === a) return !1;\n    Zn.fillStyle = \"#000000\";\n    var b = Zn.fillStyle;\n    Zn.fillStyle = a;\n    if (Zn.fillStyle !== b) return !0;\n    Zn.fillStyle = \"#FFFFFF\";\n    b = Zn.fillStyle;\n    Zn.fillStyle = a;\n    return Zn.fillStyle !== b;\n  };\n\n  var $n = new Vn(),\n      ao = new Vn(),\n      bo = new Vn(),\n      co = new Vn();\n\n  ga.lighten = function (a) {\n    return eo(a);\n  };\n\n  ga.prototype.lightenBy = function (a, b) {\n    this.O && w.ma(this);\n    var c = void 0 === a || \"number\" !== typeof a ? .2 : a,\n        d = void 0 === b ? Xn : b;\n    if (this.type === ng) fo(this.color), this.color = ho(c, d);else if ((this.type === og || this.type === Xc) && null !== this.Dk) for (var e = this.Dk.i; e.next();) {\n      fo(e.value), this.addColorStop(e.key, ho(c, d));\n    }\n    return this;\n  };\n\n  var eo;\n\n  ga.lightenBy = eo = function eo(a, b, c) {\n    b = void 0 === b || \"number\" !== typeof b ? .2 : b;\n    c = void 0 === c ? Xn : c;\n    fo(a);\n    return ho(b, c);\n  };\n\n  ga.darken = function (a) {\n    return io(a);\n  };\n\n  ga.prototype.darkenBy = function (a, b) {\n    this.O && w.ma(this);\n    var c = void 0 === a || \"number\" !== typeof a ? .2 : a,\n        d = void 0 === b ? Xn : b;\n    if (this.type === ng) fo(this.color), this.color = ho(-c, d);else if ((this.type === og || this.type === Xc) && null !== this.Dk) for (var e = this.Dk.i; e.next();) {\n      fo(e.value), this.addColorStop(e.key, ho(-c, d));\n    }\n    return this;\n  };\n\n  var io;\n\n  ga.darkenBy = io = function io(a, b, c) {\n    b = void 0 === b || \"number\" !== typeof b ? .2 : b;\n    c = void 0 === c ? Xn : c;\n    fo(a);\n    return ho(-b, c);\n  };\n\n  function ho(a, b) {\n    switch (b) {\n      case Xn:\n        var c = 100 * jo($n.Ic),\n            d = 100 * jo($n.Fd),\n            e = 100 * jo($n.bd);\n        bo.Ic = .4124564 * c + .3575761 * d + .1804375 * e;\n        bo.Fd = .2126729 * c + .7151522 * d + .072175 * e;\n        bo.bd = .0193339 * c + .119192 * d + .9503041 * e;\n        bo.hg = $n.hg;\n        c = ko(bo.Ic / lo[0]);\n        d = ko(bo.Fd / lo[1]);\n        e = ko(bo.bd / lo[2]);\n        co.Ic = 116 * d - 16;\n        co.Fd = 500 * (c - d);\n        co.bd = 200 * (d - e);\n        co.hg = bo.hg;\n        co.Ic = Math.min(100, Math.max(0, co.Ic + 100 * a));\n        c = (co.Ic + 16) / 116;\n        d = c - co.bd / 200;\n        bo.Ic = lo[0] * mo(co.Fd / 500 + c);\n        bo.Fd = lo[1] * (co.Ic > no * oo ? Math.pow(c, 3) : co.Ic / no);\n        bo.bd = lo[2] * mo(d);\n        bo.hg = co.hg;\n        c = -.969266 * bo.Ic + 1.8760108 * bo.Fd + .041556 * bo.bd;\n        d = .0556434 * bo.Ic + -.2040259 * bo.Fd + 1.0572252 * bo.bd;\n        $n.Ic = 255 * po((3.2404542 * bo.Ic + -1.5371385 * bo.Fd + -.4985314 * bo.bd) / 100);\n        $n.Fd = 255 * po(c / 100);\n        $n.bd = 255 * po(d / 100);\n        $n.hg = bo.hg;\n        $n.Ic = Math.round($n.Ic);\n        255 < $n.Ic ? $n.Ic = 255 : 0 > $n.Ic && ($n.Ic = 0);\n        $n.Fd = Math.round($n.Fd);\n        255 < $n.Fd ? $n.Fd = 255 : 0 > $n.Fd && ($n.Fd = 0);\n        $n.bd = Math.round($n.bd);\n        255 < $n.bd ? $n.bd = 255 : 0 > $n.bd && ($n.bd = 0);\n        return \"rgba(\" + $n.Ic + \", \" + $n.Fd + \", \" + $n.bd + \", \" + $n.hg + \")\";\n\n      case Yn:\n        var e = $n.Ic / 255,\n            f = $n.Fd / 255,\n            h = $n.bd / 255,\n            k = Math.max(e, f, h),\n            d = Math.min(e, f, h),\n            l = k - d,\n            d = (k + d) / 2;\n        if (0 === l) c = e = 0;else {\n          switch (k) {\n            case e:\n              c = (f - h) / l % 6;\n              break;\n\n            case f:\n              c = (h - e) / l + 2;\n              break;\n\n            case h:\n              c = (e - f) / l + 4;\n          }\n\n          c *= 60;\n          0 > c && (c += 360);\n          e = l / (1 - Math.abs(2 * d - 1));\n        }\n        ao.Ic = Math.round(c);\n        ao.Fd = Math.round(100 * e);\n        ao.bd = Math.round(100 * d);\n        ao.hg = $n.hg;\n        ao.bd = Math.min(100, Math.max(0, ao.bd + 100 * a));\n        return \"hsla(\" + ao.Ic + \", \" + ao.Fd + \"%, \" + ao.bd + \"%, \" + ao.hg + \")\";\n\n      default:\n        return w.k(\"Unknown color space: \" + b), \"rgba(0, 0, 0, 1)\";\n    }\n  }\n\n  function fo(a) {\n    Zn.clearRect(0, 0, 1, 1);\n    Zn.fillStyle = \"#000000\";\n    var b = Zn.fillStyle;\n    Zn.fillStyle = a;\n    Zn.fillStyle !== b ? (Zn.fillRect(0, 0, 1, 1), a = Zn.getImageData(0, 0, 1, 1).data, $n.Ic = a[0], $n.Fd = a[1], $n.bd = a[2], $n.hg = a[3] / 255) : (Zn.fillStyle = \"#FFFFFF\", Zn.fillStyle = a, $n.Ic = 0, $n.Fd = 0, $n.bd = 0, $n.hg = 1);\n  }\n\n  function jo(a) {\n    a /= 255;\n    return .04045 >= a ? a / 12.92 : Math.pow((a + .055) / 1.055, 2.4);\n  }\n\n  function po(a) {\n    return .0031308 >= a ? 12.92 * a : 1.055 * Math.pow(a, 1 / 2.4) - .055;\n  }\n\n  var oo = 216 / 24389,\n      no = 24389 / 27,\n      lo = [95.047, 100, 108.883];\n\n  function ko(a) {\n    return a > oo ? Math.pow(a, 1 / 3) : (no * a + 16) / 116;\n  }\n\n  function mo(a) {\n    var b = a * a * a;\n    return b > oo ? b : (116 * a - 16) / no;\n  }\n\n  function G() {\n    w.oc(this);\n    this.M = 4225027;\n    this.Dc = 1;\n    this.ej = null;\n    this.Sb = \"\";\n    this.cc = this.Ib = null;\n    this.ab = new z(NaN, NaN).freeze();\n    this.Ue = Fd;\n    this.Zh = qd;\n    this.Yh = Dd;\n    this.kd = new ka();\n    this.Xk = new ka();\n    this.Wi = new ka();\n    this.rb = this.Fo = 1;\n    this.mg = 0;\n    this.Fg = qo;\n    this.Sm = ed;\n    this.vd = new B(NaN, NaN, NaN, NaN).freeze();\n    this.pc = new B(NaN, NaN, NaN, NaN).freeze();\n    this.Nc = new B(0, 0, NaN, NaN).freeze();\n    this.Y = this.Vs = this.Ws = null;\n    this.xm = this.me = qc;\n    this.ht = 0;\n    this.gj = 1;\n    this.fr = 0;\n    this.Fi = 1;\n    this.xt = null;\n    this.lt = -Infinity;\n    this.cn = 0;\n    this.dn = cd;\n    this.en = mj;\n    this.or = \"\";\n    this.Ac = this.ia = null;\n    this.so = -1;\n    this.jn = this.og = this.ll = this.rp = null;\n    this.Oz = pj;\n    this.Zm = null;\n  }\n\n  w.ni(G);\n  w.ga(\"GraphObject\", G);\n\n  G.prototype.cloneProtected = function (a) {\n    a.M = this.M | 6144;\n    a.Dc = this.Dc;\n    a.Sb = this.Sb;\n    a.Ib = this.Ib;\n    a.cc = this.cc;\n    a.ab.assign(this.ab);\n    a.Ue = this.Ue.S();\n    a.Zh = this.Zh.S();\n    a.Yh = this.Yh.S();\n    a.Wi = this.Wi.copy();\n    a.rb = this.rb;\n    a.mg = this.mg;\n    a.Fg = this.Fg;\n    a.Sm = this.Sm.S();\n    a.vd.assign(this.vd);\n    a.pc.assign(this.pc);\n    a.Nc.assign(this.Nc);\n    a.Vs = this.Vs;\n    null !== this.Y && (a.Y = this.Y.copy());\n    a.me = this.me.S();\n    a.xm = this.xm.S();\n    a.ht = this.ht;\n    a.gj = this.gj;\n    a.fr = this.fr;\n    a.Fi = this.Fi;\n    a.xt = this.xt;\n    a.lt = this.lt;\n    a.cn = this.cn;\n    a.dn = this.dn.S();\n    a.en = this.en;\n    a.or = this.or;\n    null !== this.ia && (a.ia = this.ia.copy());\n    a.Ac = this.Ac;\n    a.so = this.so;\n    null !== this.ll && (a.ll = w.Vl(this.ll));\n    null !== this.og && (a.og = this.og.copy());\n    a.jn = this.jn;\n  };\n\n  G.prototype.addCopyProperty = G.prototype.kH = function (a) {\n    var b = this.ll;\n    if (w.isArray(b)) for (var c = 0; c < b.length; c++) {\n      if (b[c] === a) return;\n    } else this.ll = b = [];\n    b.push(a);\n  };\n\n  G.prototype.pi = function (a) {\n    a.Ws = null;\n    a.Zm = null;\n    a.H();\n  };\n\n  G.prototype.clone = function () {\n    var a = new this.constructor();\n    this.cloneProtected(a);\n    if (null !== this.ll) for (var b = 0; b < this.ll.length; b++) {\n      var c = this.ll[b];\n      a[c] = this[c];\n    }\n    return a;\n  };\n\n  G.prototype.copy = function () {\n    return this.clone();\n  };\n\n  G.prototype.ic = function (a) {\n    a.Je === W ? 0 === a.name.indexOf(\"Orient\") ? this.Cq = a : w.k(\"Unknown Link enum value for GraphObject.segmentOrientation property: \" + a) : a.Je === G ? this.stretch = a : w.Lj(this, a);\n  };\n\n  G.prototype.toString = function () {\n    return w.pf(Object.getPrototypeOf(this)) + \"#\" + w.Qd(this);\n  };\n\n  var Qj;\n  G.None = Qj = w.p(G, \"None\", 0);\n  var qo;\n  G.Default = qo = w.p(G, \"Default\", 0);\n  var ro;\n  G.Vertical = ro = w.p(G, \"Vertical\", 4);\n  var so;\n  G.Horizontal = so = w.p(G, \"Horizontal\", 5);\n  var Ee;\n  G.Fill = Ee = w.p(G, \"Fill\", 3);\n  var Sj;\n  G.Uniform = Sj = w.p(G, \"Uniform\", 1);\n  var to;\n  G.UniformToFill = to = w.p(G, \"UniformToFill\", 2);\n  var uo;\n  G.FlipVertical = uo = w.p(G, \"FlipVertical\", 1);\n  var vo;\n  G.FlipHorizontal = vo = w.p(G, \"FlipHorizontal\", 2);\n  var wo;\n  G.FlipBoth = wo = w.p(G, \"FlipBoth\", 3);\n\n  function xo(a) {\n    null === a.ia && (a.ia = new yo());\n  }\n\n  G.prototype.Rd = function () {\n    if (null === this.Y) {\n      var a = new zo();\n      a.$j = yb;\n      a.zk = yb;\n      a.Yj = 10;\n      a.xk = 10;\n      a.Xj = Ao;\n      a.wk = Ao;\n      a.Zj = 0;\n      a.yk = 0;\n      this.Y = a;\n    }\n  };\n\n  function Bo(a, b, c, d, e, f, h) {\n    var k = .001,\n        l = f.length;\n    a.moveTo(b, c);\n    d -= b;\n    k = e - c;\n    0 === d && (d = .001);\n    e = k / d;\n\n    for (var m = Math.sqrt(d * d + k * k), n = 0, p = !0, q = 0 === h ? !1 : !0; .1 <= m;) {\n      if (q) {\n        k = f[n++ % l];\n\n        for (k -= h; 0 > k;) {\n          k += f[n++ % l], p = !p;\n        }\n\n        q = !1;\n      } else k = f[n++ % l];\n\n      k > m && (k = m);\n      var r = Math.sqrt(k * k / (1 + e * e));\n      0 > d && (r = -r);\n      b += r;\n      c += e * r;\n      p ? a.lineTo(b, c) : a.moveTo(b, c);\n      m -= k;\n      p = !p;\n    }\n  }\n\n  G.prototype.raiseChangedEvent = G.prototype.cd = function (a, b, c, d, e, f, h) {\n    var k = this.W;\n    if (null !== k && (k.Zn(a, b, c, d, e, f, h), Co(this) && c === this && a === Cf && Do(this, k, b), c === k && 0 !== (k.M & 16777216) && null !== k.data)) for (a = this.xa.n, c = a.length, d = 0; d < c; d++) {\n      e = a[d], e instanceof D && Om(e, function (a) {\n        null !== a.data && 0 !== (a.M & 16777216) && a.Lb(b);\n      });\n    }\n  };\n\n  function Do(a, b, c) {\n    var d = a.$l();\n    if (null !== d) for (var e = a.Ac.i; e.next();) {\n      var f = e.value,\n          h = null;\n\n      if (null !== f.Jq) {\n        h = dh(f, d, a);\n        if (null === h) continue;\n        f.Ey(a, h, c, null);\n      } else if (f.Ox) {\n        var k = b.g;\n        null === k || k.Re || f.Ey(a, k.$.Tk, c, d);\n      } else {\n        var l = d.data;\n        if (null === l) continue;\n        k = b.g;\n        null === k || k.Re || f.Ey(a, l, c, d);\n      }\n\n      h === a && (k = d.Cx(f.sm), null !== k && f.KG(k, h, c));\n    }\n  }\n\n  G.prototype.Cx = function (a) {\n    return this.so === a ? this : null;\n  };\n\n  G.prototype.raiseChanged = G.prototype.h = function (a, b, c) {\n    this.cd(Cf, a, this, b, c);\n  };\n\n  function Eo(a, b, c, d, e) {\n    var f = a.vd,\n        h = a.Wi;\n    h.reset();\n    Fo(a, h, b, c, d, e);\n    a.Wi = h;\n    f.x = b;\n    f.y = c;\n    f.width = d;\n    f.height = e;\n    h.yu() || h.HG(f);\n  }\n\n  function Go(a, b, c, d) {\n    if (!1 === a.Ug) return !1;\n    d.multiply(a.transform);\n    return c ? a.$f(b, d) : a.un(b, d);\n  }\n\n  G.prototype.cF = function (a, b, c) {\n    if (!1 === this.Ug) return !1;\n    var d = this.Ja;\n    b = a.Cf(b);\n    return c ? Ra(a.x, a.y, 0, 0, 0, d.height) <= b || Ra(a.x, a.y, 0, d.height, d.width, d.height) <= b || Ra(a.x, a.y, d.width, d.height, d.width, 0) <= b || Ra(a.x, a.y, d.width, 0, 0, 0) <= b : a.Xf(0, 0) <= b && a.Xf(0, d.height) <= b && a.Xf(d.width, 0) <= b && a.Xf(d.width, d.height) <= b;\n  };\n\n  G.prototype.Yg = function () {\n    return !0;\n  };\n\n  G.prototype.containsPoint = G.prototype.Ia = function (a) {\n    var b = w.K();\n    b.assign(a);\n    this.transform.nb(b);\n    var c = this.U;\n    if (!c.I()) return w.v(b), !1;\n    var d = this.g;\n\n    if (null !== d && d.fk) {\n      var e = d.nu(\"extraTouchThreshold\"),\n          f = d.nu(\"extraTouchArea\"),\n          h = f / 2,\n          k = this.Ja,\n          d = this.vj() * d.scale,\n          l = 1 / d;\n      if (k.width * d < e && k.height * d < e) return a = db(c.x - h * l, c.y - h * l, c.width + f * l, c.height + f * l, b.x, b.y), w.v(b), a;\n    }\n\n    if (this instanceof jh || this instanceof Y ? db(c.x - 5, c.y - 5, c.width + 10, c.height + 10, b.x, b.y) : c.Ia(b)) return e = !1, e = this.og && !this.og.Ia(b) ? !1 : null !== this.cc && c.Ia(b) ? !0 : null !== this.Ib && this.Nc.Ia(a) ? !0 : this.Ek(a), w.v(b), e;\n    w.v(b);\n    return !1;\n  };\n\n  G.prototype.Ek = function (a) {\n    var b = this.Ja;\n    return db(0, 0, b.width, b.height, a.x, a.y);\n  };\n\n  G.prototype.containsRect = G.prototype.Fk = function (a) {\n    if (0 === this.angle) return this.U.Fk(a);\n    var b = this.Ja,\n        b = w.lg(0, 0, b.width, b.height),\n        c = this.transform,\n        d = !1,\n        e = w.wb(a.x, a.y);\n    b.Ia(c.xh(e)) && (e.m(a.x, a.bottom), b.Ia(c.xh(e)) && (e.m(a.right, a.bottom), b.Ia(c.xh(e)) && (e.m(a.right, a.y), b.Ia(c.xh(e)) && (d = !0))));\n    w.v(e);\n    w.Bb(b);\n    return d;\n  };\n\n  G.prototype.containedInRect = G.prototype.un = function (a, b) {\n    if (void 0 === b) return a.Fk(this.U);\n    var c = this.Ja,\n        d = !1,\n        e = w.wb(0, 0);\n    a.Ia(b.nb(e)) && (e.m(0, c.height), a.Ia(b.nb(e)) && (e.m(c.width, c.height), a.Ia(b.nb(e)) && (e.m(c.width, 0), a.Ia(b.nb(e)) && (d = !0))));\n    w.v(e);\n    return d;\n  };\n\n  G.prototype.intersectsRect = G.prototype.$f = function (a, b) {\n    if (void 0 === b && (b = this.transform, 0 === this.angle)) return a.$f(this.U);\n    var c = this.Ja,\n        d = b,\n        e = w.wb(0, 0),\n        f = w.wb(0, c.height),\n        h = w.wb(c.width, c.height),\n        k = w.wb(c.width, 0),\n        l = !1;\n    if (a.Ia(d.nb(e)) || a.Ia(d.nb(f)) || a.Ia(d.nb(h)) || a.Ia(d.nb(k))) l = !0;else {\n      var c = w.lg(0, 0, c.width, c.height),\n          m = w.wb(a.x, a.y);\n      c.Ia(d.xh(m)) ? l = !0 : (m.m(a.x, a.bottom), c.Ia(d.xh(m)) ? l = !0 : (m.m(a.right, a.bottom), c.Ia(d.xh(m)) ? l = !0 : (m.m(a.right, a.y), c.Ia(d.xh(m)) && (l = !0))));\n      w.v(m);\n      w.Bb(c);\n      !l && (me(a, e, f) || me(a, f, h) || me(a, h, k) || me(a, k, e)) && (l = !0);\n    }\n    w.v(e);\n    w.v(f);\n    w.v(h);\n    w.v(k);\n    return l;\n  };\n\n  G.prototype.getDocumentPoint = G.prototype.Ya = function (a, b) {\n    void 0 === b && (b = new z());\n\n    if (a instanceof K) {\n      a.Vd() && w.k(\"getDocumentPoint:s Spot must be specific: \" + a.toString());\n      var c = this.Ja;\n      b.m(a.x * c.width + a.offsetX, a.y * c.height + a.offsetY);\n    } else b.set(a);\n\n    this.rh.nb(b);\n    return b;\n  };\n\n  G.prototype.getDocumentAngle = G.prototype.bm = function () {\n    var a;\n    a = this.rh;\n    1 === a.m11 && 0 === a.m12 ? a = 0 : (a = 180 * Math.atan2(a.m12, a.m11) / Math.PI, 0 > a && (a += 360));\n    return a;\n  };\n\n  G.prototype.getDocumentScale = G.prototype.vj = function () {\n    if (0 !== (this.M & 4096) === !1) return this.Fo;\n    var a = this.rb;\n    return null !== this.R ? a * this.R.vj() : a;\n  };\n\n  G.prototype.getLocalPoint = G.prototype.iF = function (a, b) {\n    void 0 === b && (b = new z());\n    b.assign(a);\n    this.rh.xh(b);\n    return b;\n  };\n\n  G.prototype.getNearestIntersectionPoint = G.prototype.jF = function (a, b, c) {\n    return this.En(a.x, a.y, b.x, b.y, c);\n  };\n\n  g = G.prototype;\n\n  g.En = function (a, b, c, d, e) {\n    var f = this.transform,\n        h = 1 / (f.m11 * f.m22 - f.m12 * f.m21),\n        k = f.m22 * h,\n        l = -f.m12 * h,\n        m = -f.m21 * h,\n        n = f.m11 * h,\n        p = h * (f.m21 * f.dy - f.m22 * f.dx),\n        q = h * (f.m12 * f.dx - f.m11 * f.dy);\n    if (null !== this.pn) return f = this.U, ke(f.left, f.top, f.right, f.bottom, a, b, c, d, e);\n    h = a * k + b * m + p;\n    a = a * l + b * n + q;\n    b = c * k + d * m + p;\n    c = c * l + d * n + q;\n    e.m(0, 0);\n    d = this.Ja;\n    c = ke(0, 0, d.width, d.height, h, a, b, c, e);\n    e.transform(f);\n    return c;\n  };\n\n  function yk(a, b, c, d, e) {\n    if (!1 !== km(a)) {\n      var f = a.margin,\n          h = f.right + f.left,\n          f = f.top + f.bottom;\n      b = Math.max(b - h, 0);\n      c = Math.max(c - f, 0);\n      e = e || 0;\n      d = Math.max((d || 0) - h, 0);\n      e = Math.max(e - f, 0);\n      var h = a.angle,\n          f = 0,\n          f = a.Da,\n          k = 0;\n      a instanceof Y && (k = a.mb);\n      90 === h || 270 === h ? (b = isFinite(f.height) ? f.height + k : b, c = isFinite(f.width) ? f.width + k : c) : (b = isFinite(f.width) ? f.width + k : b, c = isFinite(f.height) ? f.height + k : c);\n      var f = d || 0,\n          k = e || 0,\n          l = a instanceof D;\n\n      switch (Ho(a, !0)) {\n        case Qj:\n          k = f = 0;\n          l && (c = b = Infinity);\n          break;\n\n        case Ee:\n          isFinite(b) && b > d && (f = b);\n          isFinite(c) && c > e && (k = c);\n          break;\n\n        case so:\n          isFinite(b) && b > d && (f = b);\n          k = 0;\n          l && (c = Infinity);\n          break;\n\n        case ro:\n          isFinite(c) && c > e && (k = c), f = 0, l && (b = Infinity);\n      }\n\n      var l = a.Hf,\n          m = a.si;\n      f > l.width && m.width < l.width && (f = l.width);\n      k > l.height && m.height < l.height && (k = l.height);\n      d = Math.max(f / a.scale, m.width);\n      e = Math.max(k / a.scale, m.height);\n      l.width < d && (d = Math.min(m.width, d));\n      l.height < e && (e = Math.min(m.height, e));\n      b = Math.min(l.width, b);\n      c = Math.min(l.height, c);\n      b = Math.max(d, b);\n      c = Math.max(e, c);\n      if (90 === h || 270 === h) f = b, b = c, c = f, f = d, d = e, e = f;\n      a.vd.Qa();\n      a.Qn(b, c, d, e);\n      a.vd.freeze();\n      a.vd.I() || w.k(\"Non-real measuredBounds has been set. Object \" + a + \", measuredBounds: \" + a.vd.toString());\n      cm(a, !1);\n    }\n  }\n\n  g.Qn = function () {};\n\n  g.yj = function () {\n    return !1;\n  };\n\n  g.jc = function (a, b, c, d, e) {\n    this.Ri();\n    var f = w.vf();\n    f.assign(this.pc);\n    this.pc.Qa();\n\n    if (!1 === sm(this)) {\n      var h = this.pc;\n      h.x = a;\n      h.y = b;\n      h.width = c;\n      h.height = d;\n    } else this.pj(a, b, c, d);\n\n    this.pc.freeze();\n    this.og = void 0 === e ? null : e;\n    c = !1;\n    if (void 0 !== e) c = !0;else if (e = this.R, null === e || e.type !== Io && e.type !== Jo || (e = e.R), null !== e && (e = e.Nc, d = this.za, null !== this.pn && (d = this.pc), c = b + d.height, d = a + d.width, c = !(0 <= a + .05 && d <= e.width + .05 && 0 <= b + .05 && c <= e.height + .05), this instanceof Lh && (a = this.Nc, this.mw > a.height || this.zf.Ge > a.width))) c = !0;\n    this.M = c ? this.M | 256 : this.M & -257;\n    this.pc.I() || w.k(\"Non-real actualBounds has been set. Object \" + this + \", actualBounds: \" + this.pc.toString());\n    this.by(f, this.pc);\n    Ko(this, !1);\n    w.Bb(f);\n  };\n\n  g.pj = function () {};\n\n  function Lo(a, b, c, d, e) {\n    var f = a.U;\n    f.x = b;\n    f.y = c;\n    f.width = d;\n    f.height = e;\n\n    if (!a.Da.I()) {\n      f = a.vd;\n      c = a.margin;\n      b = c.right + c.left;\n      var h = c.top + c.bottom;\n      c = f.width + b;\n      f = f.height + h;\n      d += b;\n      e += h;\n      b = Ho(a, !0);\n      c === d && f === e && (b = Qj);\n\n      switch (b) {\n        case Qj:\n          if (c > d || f > e) cm(a, !0), yk(a, c > d ? d : c, f > e ? e : f);\n          break;\n\n        case Ee:\n          cm(a, !0);\n          yk(a, d, e, 0, 0);\n          break;\n\n        case so:\n          cm(a, !0);\n          yk(a, d, f, 0, 0);\n          break;\n\n        case ro:\n          cm(a, !0), yk(a, c, e, 0, 0);\n      }\n    }\n  }\n\n  g.by = function (a, b) {\n    var c = this.W;\n    null !== c && null !== c.g && (c.Dq !== this && c.hG !== this && c.vB !== this || Mo(c, !0), this.oa(), Va(a, b) || (c.Rk(), this.Ks(c)));\n  };\n\n  g.Ks = function (a) {\n    null !== this.le && (Mo(a, !0), a instanceof T && No(a, this));\n  };\n\n  w.defineProperty(G, {\n    bo: \"shadowVisible\"\n  }, function () {\n    return this.jn;\n  }, function (a) {\n    var b = this.jn;\n    b !== a && (this.jn = a, this.oa(), this.h(\"shadowVisible\", b, a));\n  });\n\n  G.prototype.ve = function (a, b) {\n    if (this.visible) {\n      var c = this instanceof D && (this.type === Io || this.type === Jo),\n          d = this.pc;\n\n      if (c || 0 !== d.width && 0 !== d.height && !isNaN(d.x) && !isNaN(d.y)) {\n        var e = this.opacity;\n\n        if (0 !== e) {\n          var f = 1;\n          1 !== e && (f = a.globalAlpha, a.globalAlpha = f * e);\n          if (a instanceof Oc) a: {\n            if (this.visible) {\n              var c = null,\n                  h = a.Qx;\n              if (this instanceof D && (this.type === Io || this.type === Jo)) Oo(this, a, b);else {\n                var k = this.pc;\n\n                if (0 !== k.width && 0 !== k.height && !isNaN(k.x) && !isNaN(k.y)) {\n                  var l = this.transform,\n                      m = this.R;\n                  0 !== (this.M & 4096) === !0 && Po(this);\n                  var d = 0 !== (this.M & 256),\n                      n = !1;\n                  this instanceof Lh && (a.font = this.font);\n\n                  if (d) {\n                    n = m.Yg() ? m.Ja : m.U;\n                    if (null !== this.og) var p = this.og,\n                        q = p.x,\n                        r = p.y,\n                        s = p.width,\n                        p = p.height;else q = Math.max(k.x, n.x), r = Math.max(k.y, n.y), s = Math.min(k.right, n.right) - q, p = Math.min(k.bottom, n.bottom) - r;\n                    if (q > k.width + k.x || k.x > n.width + n.x || r > k.height + k.y || k.y > n.height + n.y) break a;\n                    n = !0;\n                    Qc(a, 1, 0, 0, 1, 0, 0);\n                    a.save();\n                    a.beginPath();\n                    a.rect(q, r, s, p);\n                    a.clip();\n                  }\n\n                  if (this.yj()) {\n                    var t = this;\n                    if (!t.isVisible()) break a;\n                  }\n\n                  a.vh.Vb = [1, 0, 0, 1, 0, 0];\n                  this instanceof Lh && 1 < this.Ux && Qc(a, 1, 0, 0, 1, 0, 0);\n                  q = !1;\n                  this.yj() && this.jm && b.Ok(\"drawShadows\") && (r = this.hn, a.IB(r.x * b.scale * b.xd, r.y * b.scale * b.xd, t.Eg), a.co(), a.shadowColor = t.gn);\n                  t = !1;\n                  this.W && b.Ok(\"drawShadows\") && (t = this.W.jm);\n                  !0 === this.bo ? (a.co(), !1 === q && t && (Qc(a, 1, 0, 0, 1, 0, 0), a.fb(), q = !0)) : !1 === this.bo && a.pm();\n                  null !== this.cc && (Qo(this, a, this.cc, !0, !0), !1 === q && t && (Qc(a, 1, 0, 0, 1, 0, 0), a.fb(), q = !0), this.cc instanceof ga && this.cc.type === Xc ? (a.beginPath(), a.rect(k.x, k.y, k.width, k.height), a.Lg(this.cc)) : a.fillRect(k.x, k.y, k.width, k.height));\n                  this instanceof D ? Qc(a, l.m11, l.m12, l.m21, l.m22, l.dx, l.dy) : a.vh.Vb = [l.m11, l.m12, l.m21, l.m22, l.dx, l.dy];\n                  null !== this.Ib && (!1 === q && t && (Qc(a, 1, 0, 0, 1, 0, 0), a.fb(), q = !0), s = this.Ja, l = k = 0, r = s.width, s = s.height, p = 0, this instanceof Y && (s = this.Sa.eb, k = s.x, l = s.y, r = s.width, s = s.height, p = this.ji), Qo(this, a, this.Ib, !0, !1), this.Ib instanceof ga && this.Ib.type === Xc ? (a.beginPath(), a.rect(k - p / 2, l - p / 2, r + p, s + p), a.Lg(this.Ib)) : a.fillRect(k - p / 2, l - p / 2, r + p, s + p));\n                  t && (null !== this.Ib || null !== this.cc || null !== m && 0 !== (m.M & 512) || null !== m && (m.type === Gl || m.type === Oj) && m.Cd() !== this) ? (Ro(this, !0), null === this.bo && a.pm()) : Ro(this, !1);\n                  this.Ik(a, b);\n                  t && 0 !== (this.M & 512) === !0 && a.co();\n                  this.yj() && t && a.pm();\n                  d && (a.restore(), n && a.qf.pop());\n                  this instanceof D && (c = a.qf.pop());\n                  !0 === q && a.qf.pop();\n                  this instanceof Lh && 1 < this.Ux && (c = a.qf.pop());\n                  null !== a.VE && (null === c && (h === a.Qx ? (Qc(a, 1, 0, 0, 1, 0, 0), c = a.qf.pop()) : c = a.Qx), a.VE(this, c));\n                }\n              }\n            }\n          } else if (c) Oo(this, a, b);else {\n            this instanceof W && this.Hu(!1);\n            c = this.transform;\n            h = this.R;\n            0 !== (this.M & 4096) === !0 && Po(this);\n            m = !1;\n            t = this.W;\n            k = 0;\n            t && b.Ok(\"drawShadows\") && (m = t.jm) && (n = t.hn, k = Math.max(n.y, n.x) * b.scale * b.xd);\n\n            if (!(l = b.Jm)) {\n              var s = k,\n                  p = this.Nc,\n                  k = this.Xk,\n                  u = k.m11,\n                  y = k.m21,\n                  v = k.dx,\n                  x = k.m12,\n                  A = k.m22,\n                  L = k.dy,\n                  C,\n                  O,\n                  X = O = 0,\n                  k = O * u + X * y + v,\n                  l = O * x + X * A + L,\n                  r = q = 0;\n              O = p.width + s;\n              X = 0;\n              C = O * u + X * y + v;\n              O = O * x + X * A + L;\n              k = Math.min(k, C);\n              l = Math.min(l, O);\n              q = Math.max(k + q, C) - k;\n              r = Math.max(l + r, O) - l;\n              O = p.width + s;\n              X = p.height + s;\n              C = O * u + X * y + v;\n              O = O * x + X * A + L;\n              k = Math.min(k, C);\n              l = Math.min(l, O);\n              q = Math.max(k + q, C) - k;\n              r = Math.max(l + r, O) - l;\n              O = 0;\n              X = p.height + s;\n              C = O * u + X * y + v;\n              O = O * x + X * A + L;\n              k = Math.min(k, C);\n              l = Math.min(l, O);\n              q = Math.max(k + q, C) - k;\n              r = Math.max(l + r, O) - l;\n              s = b.eA;\n              p = s.x;\n              u = s.y;\n              l = !(k > s.width + p || p > q + k || l > s.height + u || u > r + l);\n            }\n\n            if (l) {\n              k = 0 !== (this.M & 256);\n              a.Op && (k = !1);\n              this instanceof Lh && (a.font = this.font);\n\n              if (k) {\n                l = h.Yg() ? h.Ja : h.U;\n                null !== this.og ? (p = this.og, q = p.x, r = p.y, s = p.width, p = p.height) : (q = Math.max(d.x, l.x), r = Math.max(d.y, l.y), s = Math.min(d.right, l.right) - q, p = Math.min(d.bottom, l.bottom) - r);\n\n                if (q > d.width + d.x || d.x > l.width + l.x) {\n                  1 !== e && (a.globalAlpha = f);\n                  return;\n                }\n\n                a.save();\n                a.beginPath();\n                a.rect(q, r, s, p);\n                a.clip();\n              }\n\n              if (this.yj()) {\n                if (!t.isVisible()) {\n                  1 !== e && (a.globalAlpha = f);\n                  return;\n                }\n\n                m && (a.IB(n.x * b.scale * b.xd, n.y * b.scale * b.xd, t.Eg), a.co(), a.shadowColor = t.gn);\n              }\n\n              !0 === this.bo ? a.co() : !1 === this.bo && a.pm();\n              null !== this.cc && (Qo(this, a, this.cc, !0, !0), this.cc instanceof ga && this.cc.type === Xc ? (a.beginPath(), a.rect(d.x, d.y, d.width, d.height), a.Lg(this.cc)) : a.fillRect(d.x, d.y, d.width, d.height));\n              c.yu() || a.transform(c.m11, c.m12, c.m21, c.m22, c.dx, c.dy);\n              m && (null !== h && 0 !== (h.M & 512) || null !== h && (h.type === Gl || h.type === Oj) && h.Cd() !== this) && null === this.bo && a.pm();\n              null !== this.Ib && (l = this.Ja, n = d = 0, t = l.width, l = l.height, q = 0, this instanceof Y && (l = this.Sa.eb, d = l.x, n = l.y, t = l.width, l = l.height, q = this.ji), Qo(this, a, this.Ib, !0, !1), this.Ib instanceof ga && this.Ib.type === Xc ? (a.beginPath(), a.rect(d - q / 2, n - q / 2, t + q, l + q), a.Lg(this.Ib)) : a.fillRect(d - q / 2, n - q / 2, t + q, l + q));\n              m && (null !== this.Ib || null !== this.cc || null !== h && 0 !== (h.M & 512) || null !== h && (h.type === Gl || h.type === Oj) && h.Cd() !== this) ? (Ro(this, !0), null === this.bo && a.pm()) : Ro(this, !1);\n              this.Ik(a, b);\n              m && 0 !== (this.M & 512) === !0 && a.co();\n              this.yj() && m && a.pm();\n              k ? (a.restore(), this instanceof D ? a.Ke(!0) : a.Ke(!1)) : c.yu() || (h = 1 / (c.m11 * c.m22 - c.m12 * c.m21), a.transform(c.m22 * h, -c.m12 * h, -c.m21 * h, c.m11 * h, h * (c.m21 * c.dy - c.m22 * c.dx), h * (c.m12 * c.dx - c.m11 * c.dy)));\n            }\n          }\n          1 !== e && (a.globalAlpha = f);\n        }\n      }\n    }\n  };\n\n  function Oo(a, b, c) {\n    var d = a.pc;\n    null !== a.cc && (Qo(a, b, a.cc, !0, !0), a.cc instanceof ga && a.cc.type === Xc ? (b.beginPath(), b.rect(d.x, d.y, d.width, d.height), b.Lg(a.cc)) : b.fillRect(d.x, d.y, d.width, d.height));\n    null !== a.Ib && (Qo(a, b, a.Ib, !0, !1), a.Ib instanceof ga && a.Ib.type === Xc ? (b.beginPath(), b.rect(d.x, d.y, d.width, d.height), b.Lg(a.Ib)) : b.fillRect(d.x, d.y, d.width, d.height));\n    a.Ik(b, c);\n  }\n\n  G.prototype.Ik = function () {};\n\n  function Qo(a, b, c, d, e) {\n    if (null !== c) {\n      var f = 1,\n          h = 1;\n      if (\"string\" === typeof c) d ? b.fillStyle = c : b.strokeStyle = c;else if (c.type === ng) d ? b.fillStyle = c.color : b.strokeStyle = c.color;else {\n        var k,\n            h = a.Ja,\n            f = h.width,\n            h = h.height;\n        if (e) var l = a.U,\n            f = l.width,\n            h = l.height;\n        var m = b instanceof Wc;\n        if (m && c.bh && (c.type === Wn || c.vo === f && c.az === h)) k = c.bh;else {\n          var n = l = 0,\n              p = 0,\n              q = 0,\n              r = 0,\n              s = 0,\n              s = r = 0;\n          e && (l = a.U, f = l.width, h = l.height, r = l.x, s = l.y);\n          l = c.start.x * f + c.start.offsetX;\n          n = c.start.y * h + c.start.offsetY;\n          p = c.end.x * f + c.end.offsetX;\n          q = c.end.y * h + c.end.offsetY;\n          l += r;\n          p += r;\n          n += s;\n          q += s;\n          if (c.type === og) k = b.createLinearGradient(l, n, p, q);else if (c.type === Xc) s = isNaN(c.$t) ? Math.max(f, h) / 2 : c.$t, isNaN(c.cv) ? (r = 0, s = Math.max(f, h) / 2) : r = c.cv, k = b.createRadialGradient(l, n, r, p, q, s);else if (c.type === Wn) try {\n            k = b.createPattern(c.pattern, \"repeat\");\n          } catch (t) {\n            k = null;\n          } else w.Gd(c.type, \"Brush type\");\n          if (c.type !== Wn && (e = c.Dk, null !== e)) for (e = e.i; e.next();) {\n            k.addColorStop(e.key, e.value);\n          }\n\n          if (m && (c.bh = k, null !== k && (c.vo = f, c.az = h), null === k && c.type === Wn && -1 !== c.vo)) {\n            c.vo = -1;\n            var u = a.g;\n            null !== u && -1 === c.vo && w.setTimeout(function () {\n              u.wq();\n            }, 600);\n          }\n        }\n        d ? b.fillStyle = k : b.strokeStyle = k;\n      }\n    }\n  }\n\n  G.prototype.isContainedBy = G.prototype.hm = function (a) {\n    if (a instanceof D) a: {\n      if (this !== a && null !== a) for (var b = this.R; null !== b;) {\n        if (b === a) {\n          a = !0;\n          break a;\n        }\n\n        b = b.R;\n      }\n      a = !1;\n    } else a = !1;\n    return a;\n  };\n\n  G.prototype.isVisibleObject = G.prototype.Cj = function () {\n    if (!this.visible) return !1;\n    var a = this.R;\n    return null !== a ? a.Cj() : !0;\n  };\n\n  G.prototype.isEnabledObject = G.prototype.vu = function () {\n    for (var a = this instanceof D ? this : this.R; null !== a && a.isEnabled;) {\n      a = a.R;\n    }\n\n    return null === a;\n  };\n\n  w.defineProperty(G, {\n    WE: \"enabledChanged\"\n  }, function () {\n    return null !== this.ia ? this.ia.Gr : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Gr;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"enabledChanged\"), this.ia.Gr = a, this.h(\"enabledChanged\", b, a));\n  });\n\n  function Po(a) {\n    if (0 !== (a.M & 2048) === !0) {\n      var b = a.kd;\n      b.reset();\n\n      if (!a.pc.I() || !a.vd.I()) {\n        So(a, !1);\n        return;\n      }\n\n      b.translate(a.pc.x, a.pc.y);\n      b.translate(-a.za.x, -a.za.y);\n      var c = a.Ja;\n      Fo(a, b, c.x, c.y, c.width, c.height);\n      So(a, !1);\n      To(a, !0);\n    }\n\n    0 !== (a.M & 4096) === !0 && (b = a.R, null === b ? (a.Xk.set(a.kd), a.Fo = a.scale, To(a, !1)) : null !== b.rh && (c = a.Xk, c.reset(), b.Yg() ? c.multiply(b.Xk) : null !== b.R && c.multiply(b.R.Xk), c.multiply(a.kd), a.Fo = a.scale * b.Fo, To(a, !1)));\n  }\n\n  function Fo(a, b, c, d, e, f) {\n    1 !== a.scale && b.scale(a.scale);\n\n    if (0 !== a.angle) {\n      var h = Jb;\n      a.yj() && a.Gf.$c() && (h = a.Gf);\n      var k = w.K();\n      if (a instanceof R && a.cg !== a) for (c = a.cg, d = c.Ja, k.av(d.x, d.y, d.width, d.height, h), c.Wi.nb(k), k.offset(-c.za.x, -c.za.y), h = c.R; null !== h && h !== a;) {\n        h.Wi.nb(k), k.offset(-h.za.x, -h.za.y), h = h.R;\n      } else k.av(c, d, e, f, h);\n      b.rotate(a.angle, k.x, k.y);\n      w.v(k);\n    }\n  }\n\n  g = G.prototype;\n\n  g.H = function (a) {\n    void 0 === a && (a = !1);\n\n    if (!0 !== km(this)) {\n      cm(this, !0);\n      Ko(this, !0);\n      var b = this.R;\n      null === b || a || b.H();\n    }\n  };\n\n  g.eq = function () {\n    !0 !== km(this) && (cm(this, !0), Ko(this, !0));\n  };\n\n  function Uo(a) {\n    if (!1 === sm(a)) {\n      var b = a.R;\n      null !== b ? b.H() : a.yj() && (b = a.g, null !== b && (b.vg.add(a), a instanceof T && a.ag(), b.ye()));\n      Ko(a, !0);\n    }\n  }\n\n  g.Ri = function () {\n    0 !== (this.M & 2048) === !1 && (So(this, !0), To(this, !0));\n  };\n\n  g.QA = function () {\n    To(this, !0);\n  };\n\n  g.oa = function () {\n    var a = this.W;\n    null !== a && a.oa();\n  };\n\n  function Ho(a, b) {\n    var c = a.stretch,\n        d = a.R;\n    if (null !== d && d.na === Vo) return Wo(a, d.fe(a.Wb), d.ee(a.column), b);\n    if (null !== d && d.na === Gl && d.Cd() === a) return Xo(a, Ee, b);\n\n    if (c === qo) {\n      if (null !== d) {\n        if (d.na === Oj && d.Cd() === a) return Xo(a, Ee, b);\n        c = d.be;\n        return c === qo ? Xo(a, Qj, b) : Xo(a, c, b);\n      }\n\n      return Xo(a, Qj, b);\n    }\n\n    return Xo(a, c, b);\n  }\n\n  function Wo(a, b, c, d) {\n    var e = a.stretch;\n    if (e !== qo) return Xo(a, e, d);\n    var f = e = null;\n\n    switch (b.stretch) {\n      case ro:\n        f = !0;\n        break;\n\n      case Ee:\n        f = !0;\n    }\n\n    switch (c.stretch) {\n      case so:\n        e = !0;\n        break;\n\n      case Ee:\n        e = !0;\n    }\n\n    b = a.R.be;\n    null === e && (e = b === so || b === Ee);\n    null === f && (f = b === ro || b === Ee);\n    return !0 === e && !0 === f ? Xo(a, Ee, d) : !0 === e ? Xo(a, so, d) : !0 === f ? Xo(a, ro, d) : Xo(a, Qj, d);\n  }\n\n  function Xo(a, b, c) {\n    if (c) return b;\n    if (b === Qj) return Qj;\n    c = a.Da;\n    if (c.I()) return Qj;\n    a = a.angle;\n    if (!isNaN(c.width)) if (90 !== a && 270 !== a) {\n      if (b === so) return Qj;\n      if (b === Ee) return ro;\n    } else {\n      if (b === ro) return Qj;\n      if (b === Ee) return so;\n    }\n    if (!isNaN(c.height)) if (90 !== a && 270 !== a) {\n      if (b === ro) return Qj;\n      if (b === Ee) return so;\n    } else {\n      if (b === so) return Qj;\n      if (b === Ee) return ro;\n    }\n    return b;\n  }\n\n  w.defineProperty(G, {\n    Cq: \"segmentOrientation\"\n  }, function () {\n    return this.en;\n  }, function (a) {\n    var b = this.en;\n    b !== a && (this.en = a, this.H(), this.h(\"segmentOrientation\", b, a), a === mj && (this.angle = 0));\n  });\n  w.defineProperty(G, {\n    Qe: \"segmentIndex\"\n  }, function () {\n    return this.lt;\n  }, function (a) {\n    a = Math.round(a);\n    var b = this.lt;\n    b !== a && (this.lt = a, this.H(), this.h(\"segmentIndex\", b, a));\n  });\n  w.defineProperty(G, {\n    xB: \"segmentFraction\"\n  }, function () {\n    return this.cn;\n  }, function (a) {\n    isNaN(a) ? a = 0 : 0 > a ? a = 0 : 1 < a && (a = 1);\n    var b = this.cn;\n    b !== a && (this.cn = a, this.H(), this.h(\"segmentFraction\", b, a));\n  });\n  w.defineProperty(G, {\n    yB: \"segmentOffset\"\n  }, function () {\n    return this.dn;\n  }, function (a) {\n    var b = this.dn;\n    b.L(a) || (this.dn = a = a.S(), this.H(), this.h(\"segmentOffset\", b, a));\n  });\n  w.defineProperty(G, {\n    stretch: \"stretch\"\n  }, function () {\n    return this.Fg;\n  }, function (a) {\n    var b = this.Fg;\n    b !== a && (this.Fg = a, this.H(), this.h(\"stretch\", b, a));\n  });\n  w.defineProperty(G, {\n    name: \"name\"\n  }, function () {\n    return this.Sb;\n  }, function (a) {\n    var b = this.Sb;\n    b !== a && (this.Sb = a, null !== this.W && (this.W.Um = null), this.h(\"name\", b, a));\n  });\n  w.defineProperty(G, {\n    opacity: \"opacity\"\n  }, function () {\n    return this.Dc;\n  }, function (a) {\n    var b = this.Dc;\n    b !== a && (w.j(a, \"number\", G, \"opacity\"), (0 > a || 1 < a) && w.Fa(a, \"0 <= value <= 1\", G, \"opacity\"), this.Dc = a, this.h(\"opacity\", b, a), a = this.g, b = this.W, null !== a && null !== b && a.oa(ol(b, b.U)));\n  });\n  w.defineProperty(G, {\n    visible: \"visible\"\n  }, function () {\n    return 0 !== (this.M & 1);\n  }, function (a) {\n    var b = 0 !== (this.M & 1);\n    b !== a && (this.M ^= 1, this.h(\"visible\", b, a), b = this.R, null !== b ? b.H() : this.yj() && this.Ed(a), this.oa(), Yo(this));\n  });\n  w.defineProperty(G, {\n    Ug: \"pickable\"\n  }, function () {\n    return 0 !== (this.M & 2);\n  }, function (a) {\n    var b = 0 !== (this.M & 2);\n    b !== a && (this.M ^= 2, this.h(\"pickable\", b, a));\n  });\n  w.defineProperty(G, {\n    $H: \"fromLinkableDuplicates\"\n  }, function () {\n    return 0 !== (this.M & 4);\n  }, function (a) {\n    var b = 0 !== (this.M & 4);\n    b !== a && (this.M ^= 4, this.h(\"fromLinkableDuplicates\", b, a));\n  });\n  w.defineProperty(G, {\n    aI: \"fromLinkableSelfNode\"\n  }, function () {\n    return 0 !== (this.M & 8);\n  }, function (a) {\n    var b = 0 !== (this.M & 8);\n    b !== a && (this.M ^= 8, this.h(\"fromLinkableSelfNode\", b, a));\n  });\n  w.defineProperty(G, {\n    TJ: \"toLinkableDuplicates\"\n  }, function () {\n    return 0 !== (this.M & 16);\n  }, function (a) {\n    var b = 0 !== (this.M & 16);\n    b !== a && (this.M ^= 16, this.h(\"toLinkableDuplicates\", b, a));\n  });\n  w.defineProperty(G, {\n    UJ: \"toLinkableSelfNode\"\n  }, function () {\n    return 0 !== (this.M & 32);\n  }, function (a) {\n    var b = 0 !== (this.M & 32);\n    b !== a && (this.M ^= 32, this.h(\"toLinkableSelfNode\", b, a));\n  });\n  w.defineProperty(G, {\n    ff: \"isPanelMain\"\n  }, function () {\n    return 0 !== (this.M & 64);\n  }, function (a) {\n    var b = 0 !== (this.M & 64);\n    b !== a && (this.M ^= 64, this.H(), this.h(\"isPanelMain\", b, a));\n  });\n  w.defineProperty(G, {\n    Jx: \"isActionable\"\n  }, function () {\n    return 0 !== (this.M & 128);\n  }, function (a) {\n    var b = 0 !== (this.M & 128);\n    b !== a && (this.M ^= 128, this.h(\"isActionable\", b, a));\n  });\n  w.defineProperty(G, {\n    pn: \"areaBackground\"\n  }, function () {\n    return this.cc;\n  }, function (a) {\n    var b = this.cc;\n    b !== a && (a instanceof ga && a.freeze(), this.cc = a, this.oa(), this.h(\"areaBackground\", b, a));\n  });\n  w.defineProperty(G, {\n    background: \"background\"\n  }, function () {\n    return this.Ib;\n  }, function (a) {\n    var b = this.Ib;\n    b !== a && (a instanceof ga && a.freeze(), this.Ib = a, this.oa(), this.h(\"background\", b, a));\n  });\n\n  function Ro(a, b) {\n    a.M = b ? a.M | 512 : a.M & -513;\n  }\n\n  function Co(a) {\n    return 0 !== (a.M & 1024);\n  }\n\n  function Zo(a, b) {\n    a.M = b ? a.M | 1024 : a.M & -1025;\n  }\n\n  function So(a, b) {\n    a.M = b ? a.M | 2048 : a.M & -2049;\n  }\n\n  function To(a, b) {\n    a.M = b ? a.M | 4096 : a.M & -4097;\n  }\n\n  function km(a) {\n    return 0 !== (a.M & 8192);\n  }\n\n  function cm(a, b) {\n    a.M = b ? a.M | 8192 : a.M & -8193;\n  }\n\n  function sm(a) {\n    return 0 !== (a.M & 16384);\n  }\n\n  function Ko(a, b) {\n    a.M = b ? a.M | 16384 : a.M & -16385;\n  }\n\n  w.u(G, {\n    W: \"part\"\n  }, function () {\n    if (this.yj()) return this;\n    if (null !== this.Zm) return this.Zm;\n    var a;\n\n    for (a = this.R; a;) {\n      if (a instanceof R) return this.Zm = a;\n      a = a.R;\n    }\n\n    return null;\n  });\n  w.u(G, {\n    R: \"panel\"\n  }, function () {\n    return this.ej;\n  });\n\n  G.prototype.om = function (a) {\n    this.ej = a;\n  };\n\n  w.u(G, {\n    layer: \"layer\"\n  }, function () {\n    var a = this.W;\n    return null !== a ? a.layer : null;\n  }, {\n    configurable: !0\n  });\n  w.u(G, {\n    g: \"diagram\"\n  }, function () {\n    var a = this.W;\n    return null !== a ? a.g : null;\n  }, {\n    configurable: !0\n  });\n  w.defineProperty(G, {\n    position: \"position\"\n  }, function () {\n    return this.ab;\n  }, function (a) {\n    var b = a.x,\n        c = a.y,\n        d = this.ab,\n        e = d.x,\n        f = d.y;\n    (e === b || isNaN(e) && isNaN(b)) && (f === c || isNaN(f) && isNaN(c)) ? this.FB() : (a = a.S(), this.EB(a, d) && this.h(\"position\", d, a));\n  });\n\n  G.prototype.FB = function () {};\n\n  G.prototype.EB = function (a) {\n    this.ab = a;\n    Uo(this);\n    this.Ri();\n    return !0;\n  };\n\n  G.prototype.Ay = function (a, b) {\n    this.ab.m(a, b);\n    this.Ri();\n  };\n\n  w.u(G, {\n    U: \"actualBounds\"\n  }, function () {\n    return this.pc;\n  });\n  w.defineProperty(G, {\n    scale: \"scale\"\n  }, function () {\n    return this.rb;\n  }, function (a) {\n    var b = this.rb;\n    b !== a && (0 >= a && w.k(\"GraphObject.scale for \" + this + \" must be greater than zero, not: \" + a), this.rb = a, this.Ri(), this.H(), this.h(\"scale\", b, a));\n  });\n  w.defineProperty(G, {\n    angle: \"angle\"\n  }, function () {\n    return this.mg;\n  }, function (a) {\n    var b = this.mg;\n    b !== a && (a %= 360, 0 > a && (a += 360), b !== a && (this.mg = a, Yo(this), this.H(), this.Ri(), this.h(\"angle\", b, a)));\n  });\n  w.defineProperty(G, {\n    Da: \"desiredSize\"\n  }, function () {\n    return this.Ue;\n  }, function (a) {\n    var b = a.width,\n        c = a.height,\n        d = this.Ue,\n        e = d.width,\n        f = d.height;\n    (e === b || isNaN(e) && isNaN(b)) && (f === c || isNaN(f) && isNaN(c)) || (this.Ue = a = a.S(), this.H(), this instanceof Y && this.ge(), this.h(\"desiredSize\", d, a), Co(this) && (a = this.W, null !== a && (Do(this, a, \"width\"), Do(this, a, \"height\"))));\n  });\n  w.defineProperty(G, {\n    width: \"width\"\n  }, function () {\n    return this.Ue.width;\n  }, function (a) {\n    var b = this.Ue.width;\n    b === a || isNaN(b) && isNaN(a) || (b = this.Ue, this.Ue = a = new ia(a, this.Ue.height).freeze(), this.H(), this instanceof Y && this.ge(), this.h(\"desiredSize\", b, a), Co(this) && (a = this.W, null !== a && Do(this, a, \"width\")));\n  });\n  w.defineProperty(G, {\n    height: \"height\"\n  }, function () {\n    return this.Ue.height;\n  }, function (a) {\n    var b = this.Ue.height;\n    b === a || isNaN(b) && isNaN(a) || (b = this.Ue, this.Ue = a = new ia(this.Ue.width, a).freeze(), this.H(), this instanceof Y && this.ge(), this.h(\"desiredSize\", b, a), Co(this) && (a = this.W, null !== a && Do(this, a, \"height\")));\n  });\n  w.defineProperty(G, {\n    si: \"minSize\"\n  }, function () {\n    return this.Zh;\n  }, function (a) {\n    var b = this.Zh;\n    b.L(a) || (a = a.copy(), isNaN(a.width) && (a.width = 0), isNaN(a.height) && (a.height = 0), a.freeze(), this.Zh = a, this.H(), this.h(\"minSize\", b, a));\n  });\n  w.defineProperty(G, {\n    Hf: \"maxSize\"\n  }, function () {\n    return this.Yh;\n  }, function (a) {\n    var b = this.Yh;\n    b.L(a) || (a = a.copy(), isNaN(a.width) && (a.width = Infinity), isNaN(a.height) && (a.height = Infinity), a.freeze(), this.Yh = a, this.H(), this.h(\"maxSize\", b, a));\n  });\n  w.u(G, {\n    za: \"measuredBounds\"\n  }, function () {\n    return this.vd;\n  });\n  w.u(G, {\n    Ja: \"naturalBounds\"\n  }, function () {\n    return this.Nc;\n  }, {\n    configurable: !0\n  });\n  w.defineProperty(G, {\n    margin: \"margin\"\n  }, function () {\n    return this.Sm;\n  }, function (a) {\n    \"number\" === typeof a && (a = new hb(a));\n    var b = this.Sm;\n    b.L(a) || (this.Sm = a = a.S(), this.H(), this.h(\"margin\", b, a));\n  });\n  w.u(G, {\n    transform: null\n  }, function () {\n    0 !== (this.M & 2048) === !0 && Po(this);\n    return this.kd;\n  });\n  w.u(G, {\n    rh: null\n  }, function () {\n    0 !== (this.M & 4096) === !0 && Po(this);\n    return this.Xk;\n  });\n  w.defineProperty(G, {\n    alignment: \"alignment\"\n  }, function () {\n    return this.me;\n  }, function (a) {\n    var b = this.me;\n    b.L(a) || (a.Vd() && !a.Zc() && w.k(\"GraphObject.alignment for \" + this + \" must be a real Spot or Spot.Default, not: \" + a), this.me = a = a.S(), Uo(this), this.h(\"alignment\", b, a));\n  });\n  w.defineProperty(G, {\n    column: \"column\"\n  }, function () {\n    return this.fr;\n  }, function (a) {\n    a = Math.round(a);\n    var b = this.fr;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", G, \"column\"), this.fr = a, this.H(), this.h(\"column\", b, a));\n  });\n  w.defineProperty(G, {\n    zH: \"columnSpan\"\n  }, function () {\n    return this.Fi;\n  }, function (a) {\n    a = Math.round(a);\n    var b = this.Fi;\n    b !== a && (1 > a && w.Fa(a, \">= 1\", G, \"columnSpan\"), this.Fi = a, this.H(), this.h(\"columnSpan\", b, a));\n  });\n  w.defineProperty(G, {\n    Wb: \"row\"\n  }, function () {\n    return this.ht;\n  }, function (a) {\n    a = Math.round(a);\n    var b = this.ht;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", G, \"row\"), this.ht = a, this.H(), this.h(\"row\", b, a));\n  });\n  w.defineProperty(G, {\n    rowSpan: \"rowSpan\"\n  }, function () {\n    return this.gj;\n  }, function (a) {\n    a = Math.round(a);\n    var b = this.gj;\n    b !== a && (1 > a && w.Fa(a, \">= 1\", G, \"rowSpan\"), this.gj = a, this.H(), this.h(\"rowSpan\", b, a));\n  });\n  w.defineProperty(G, {\n    By: \"spanAllocation\"\n  }, function () {\n    return this.xt;\n  }, function (a) {\n    var b = this.xt;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"spanAllocation\"), this.xt = a, this.H(), this.h(\"spanAllocation\", b, a));\n  });\n  w.defineProperty(G, {\n    qh: \"alignmentFocus\"\n  }, function () {\n    return this.xm;\n  }, function (a) {\n    var b = this.xm;\n    b.L(a) || (!a.Vd() || a.Zc() || a.L(yb) && this instanceof T || w.k(\"GraphObject.alignmentFocus must be a real Spot or Spot.Default, not: \" + a), this.xm = a = a.S(), this.H(), this.h(\"alignmentFocus\", b, a));\n  });\n  w.defineProperty(G, {\n    le: \"portId\"\n  }, function () {\n    return this.Vs;\n  }, function (a) {\n    var b = this.Vs;\n\n    if (b !== a) {\n      var c = this.W;\n      null === c || c instanceof T || (w.k(\"Cannot set portID on a Link: \" + a), c = null);\n      null !== b && null !== c && $o(c, this);\n      this.Vs = a;\n      null !== a && null !== c && (c.Qk = !0, ap(c, this));\n      this.h(\"portId\", b, a);\n    }\n  });\n\n  function bp(a) {\n    var b = a.W;\n\n    if (b instanceof T && (null !== a.le || a === b.port)) {\n      var c = b.g;\n      null === c || c.ja.lb || No(b, a);\n    }\n  }\n\n  function Yo(a) {\n    var b = a.g;\n    null === b || b.ja.lb || (a instanceof D ? a instanceof T ? a.ag() : cp(a, a, function (a) {\n      bp(a);\n    }) : bp(a));\n  }\n\n  w.defineProperty(G, {\n    Db: \"toSpot\"\n  }, function () {\n    return null !== this.Y ? this.Y.zk : yb;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.zk;\n    b.L(a) || (a = a.S(), this.Y.zk = a, this.h(\"toSpot\", b, a), bp(this));\n  });\n  w.defineProperty(G, {\n    um: \"toEndSegmentLength\"\n  }, function () {\n    return null !== this.Y ? this.Y.xk : 10;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.xk;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", G, \"toEndSegmentLength\"), this.Y.xk = a, this.h(\"toEndSegmentLength\", b, a), bp(this));\n  });\n  w.defineProperty(G, {\n    dv: \"toEndSegmentDirection\"\n  }, function () {\n    return null !== this.Y ? this.Y.wk : Ao;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.wk;\n    b !== a && (w.Yt(\"GraphObject.toEndSegmentDirection\", \"2.0\"), this.Y.wk = a, this.h(\"toEndSegmentDirection\", b, a), bp(this));\n  });\n  w.defineProperty(G, {\n    ev: \"toShortLength\"\n  }, function () {\n    return null !== this.Y ? this.Y.yk : 0;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.yk;\n    b !== a && (this.Y.yk = a, this.h(\"toShortLength\", b, a), bp(this));\n  });\n  w.defineProperty(G, {\n    CG: \"toLinkable\"\n  }, function () {\n    return null !== this.Y ? this.Y.Et : null;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.Et;\n    b !== a && (this.Y.Et = a, this.h(\"toLinkable\", b, a));\n  });\n  w.defineProperty(G, {\n    VJ: \"toMaxLinks\"\n  }, function () {\n    return null !== this.Y ? this.Y.Ft : Infinity;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.Ft;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", G, \"toMaxLinks\"), this.Y.Ft = a, this.h(\"toMaxLinks\", b, a));\n  });\n  w.defineProperty(G, {\n    Cb: \"fromSpot\"\n  }, function () {\n    return null !== this.Y ? this.Y.$j : yb;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.$j;\n    b.L(a) || (a = a.S(), this.Y.$j = a, this.h(\"fromSpot\", b, a), bp(this));\n  });\n  w.defineProperty(G, {\n    am: \"fromEndSegmentLength\"\n  }, function () {\n    return null !== this.Y ? this.Y.Yj : 10;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.Yj;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", G, \"fromEndSegmentLength\"), this.Y.Yj = a, this.h(\"fromEndSegmentLength\", b, a), bp(this));\n  });\n  w.defineProperty(G, {\n    lu: \"fromEndSegmentDirection\"\n  }, function () {\n    return null !== this.Y ? this.Y.Xj : Ao;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.Xj;\n    b !== a && (w.Yt(\"GraphObject.fromEndSegmentDirection\", \"2.0\"), this.Y.Xj = a, this.h(\"fromEndSegmentDirection\", b, a), bp(this));\n  });\n  w.defineProperty(G, {\n    mu: \"fromShortLength\"\n  }, function () {\n    return null !== this.Y ? this.Y.Zj : 0;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.Zj;\n    b !== a && (this.Y.Zj = a, this.h(\"fromShortLength\", b, a), bp(this));\n  });\n  w.defineProperty(G, {\n    fF: \"fromLinkable\"\n  }, function () {\n    return null !== this.Y ? this.Y.Jr : null;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.Jr;\n    b !== a && (this.Y.Jr = a, this.h(\"fromLinkable\", b, a));\n  });\n  w.defineProperty(G, {\n    FA: \"fromMaxLinks\"\n  }, function () {\n    return null !== this.Y ? this.Y.Kr : Infinity;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.Kr;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", G, \"fromMaxLinks\"), this.Y.Kr = a, this.h(\"fromMaxLinks\", b, a));\n  });\n  w.defineProperty(G, {\n    cursor: \"cursor\"\n  }, function () {\n    return this.or;\n  }, function (a) {\n    var b = this.or;\n    b !== a && (w.j(a, \"string\", G, \"cursor\"), this.or = a, this.h(\"cursor\", b, a));\n  });\n  w.defineProperty(G, {\n    click: \"click\"\n  }, function () {\n    return null !== this.ia ? this.ia.Ei : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Ei;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"click\"), this.ia.Ei = a, this.h(\"click\", b, a));\n  });\n  w.defineProperty(G, {\n    Zt: \"doubleClick\"\n  }, function () {\n    return null !== this.ia ? this.ia.Mi : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Mi;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"doubleClick\"), this.ia.Mi = a, this.h(\"doubleClick\", b, a));\n  });\n  w.defineProperty(G, {\n    sA: \"contextClick\"\n  }, function () {\n    return null !== this.ia ? this.ia.Gi : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Gi;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"contextClick\"), this.ia.Gi = a, this.h(\"contextClick\", b, a));\n  });\n  w.defineProperty(G, {\n    Ju: \"mouseEnter\"\n  }, function () {\n    return null !== this.ia ? this.ia.Bs : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Bs;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"mouseEnter\"), this.ia.Bs = a, this.h(\"mouseEnter\", b, a));\n  });\n  w.defineProperty(G, {\n    Ku: \"mouseLeave\"\n  }, function () {\n    return null !== this.ia ? this.ia.Cs : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Cs;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"mouseLeave\"), this.ia.Cs = a, this.h(\"mouseLeave\", b, a));\n  });\n  w.defineProperty(G, {\n    iB: \"mouseOver\"\n  }, function () {\n    return null !== this.ia ? this.ia.aj : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.aj;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"mouseOver\"), this.ia.aj = a, this.h(\"mouseOver\", b, a));\n  });\n  w.defineProperty(G, {\n    hB: \"mouseHover\"\n  }, function () {\n    return null !== this.ia ? this.ia.$i : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.$i;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"mouseHover\"), this.ia.$i = a, this.h(\"mouseHover\", b, a));\n  });\n  w.defineProperty(G, {\n    gB: \"mouseHold\"\n  }, function () {\n    return null !== this.ia ? this.ia.Zi : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Zi;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"mouseHold\"), this.ia.Zi = a, this.h(\"mouseHold\", b, a));\n  });\n  w.defineProperty(G, {\n    bJ: \"mouseDragEnter\"\n  }, function () {\n    return null !== this.ia ? this.ia.zs : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.zs;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"mouseDragEnter\"), this.ia.zs = a, this.h(\"mouseDragEnter\", b, a));\n  });\n  w.defineProperty(G, {\n    cJ: \"mouseDragLeave\"\n  }, function () {\n    return null !== this.ia ? this.ia.As : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.As;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"mouseDragLeave\"), this.ia.As = a, this.h(\"mouseDragLeave\", b, a));\n  });\n  w.defineProperty(G, {\n    fB: \"mouseDrop\"\n  }, function () {\n    return null !== this.ia ? this.ia.Yi : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Yi;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"mouseDrop\"), this.ia.Yi = a, this.h(\"mouseDrop\", b, a));\n  });\n  w.defineProperty(G, {\n    sE: \"actionDown\"\n  }, function () {\n    return null !== this.ia ? this.ia.Oq : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Oq;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"actionDown\"), this.ia.Oq = a, this.h(\"actionDown\", b, a));\n  });\n  w.defineProperty(G, {\n    tE: \"actionMove\"\n  }, function () {\n    return null !== this.ia ? this.ia.Pq : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Pq;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"actionMove\"), this.ia.Pq = a, this.h(\"actionMove\", b, a));\n  });\n  w.defineProperty(G, {\n    uE: \"actionUp\"\n  }, function () {\n    return null !== this.ia ? this.ia.Qq : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Qq;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"actionUp\"), this.ia.Qq = a, this.h(\"actionUp\", b, a));\n  });\n  w.defineProperty(G, {\n    rE: \"actionCancel\"\n  }, function () {\n    return null !== this.ia ? this.ia.Nq : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Nq;\n    b !== a && (null !== a && w.j(a, \"function\", G, \"actionCancel\"), this.ia.Nq = a, this.h(\"actionCancel\", b, a));\n  });\n  w.defineProperty(G, {\n    OB: \"toolTip\"\n  }, function () {\n    return null !== this.ia ? this.ia.jj : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.jj;\n    b !== a && (this.ia.jj = a, this.h(\"toolTip\", b, a));\n  });\n  w.defineProperty(G, {\n    contextMenu: \"contextMenu\"\n  }, function () {\n    return null !== this.ia ? this.ia.Hi : null;\n  }, function (a) {\n    xo(this);\n    var b = this.ia.Hi;\n    b !== a && (this.ia.Hi = a, this.h(\"contextMenu\", b, a));\n  });\n\n  G.prototype.bind = G.prototype.bind = function (a) {\n    a.Gg = this;\n    var b = this.$l();\n    null !== b && dp(b) && w.k(\"Cannot add a Binding to a template that has already been copied: \" + a);\n    null === this.Ac && (this.Ac = new H(ah));\n    this.Ac.add(a);\n  };\n\n  G.prototype.findTemplateBinder = G.prototype.$l = function () {\n    for (var a = this instanceof D ? this : this.R; null !== a;) {\n      if (null !== a.jl) return a;\n      a = a.R;\n    }\n\n    return null;\n  };\n\n  G.prototype.setProperties = function (a) {\n    w.Zu(this, a);\n  };\n\n  var ep;\n\n  G.make = ep = function ep(a, b) {\n    var c = arguments,\n        d = null,\n        e = null;\n    if (\"function\" === typeof a) e = a;else if (\"string\" === typeof a) {\n      var f = fp.ka(a);\n      \"function\" === typeof f ? (c = w.Vl(arguments), d = f(c), w.Pa(d) || w.k('GraphObject.make invoked object builder \"' + a + '\", but it did not return an Object')) : e = ca[a];\n    }\n    null === d && (void 0 !== e && null !== e && e.constructor || w.k(\"GraphObject.make requires a class function or GoJS class name or name of an object builder, not: \" + a), d = new e());\n    f = 1;\n\n    if (d instanceof E && 1 < c.length) {\n      var h = d,\n          e = c[1];\n      if (\"string\" === typeof e || e instanceof HTMLDivElement) Dl(h, e), f++;\n    }\n\n    for (; f < c.length; f++) {\n      e = c[f], void 0 === e ? w.k(\"Undefined value at argument \" + f + \" for object being constructed by GraphObject.make: \" + d) : gp(d, e);\n    }\n\n    return d;\n  };\n\n  function gp(a, b) {\n    if (\"string\" === typeof b) {\n      if (a instanceof Lh) a.text = b;else if (a instanceof Y) a.Hb = b;else if (a instanceof xl) a.source = b;else if (a instanceof D) {\n        var c = pa(D, b);\n        null !== c ? a.type = c : w.k(\"Unknown Panel type as an argument to GraphObject.make: \" + b);\n      } else a instanceof ga ? (c = pa(ga, b), null !== c ? a.type = c : w.k(\"Unknown Brush type as an argument to GraphObject.make: \" + b)) : a instanceof Be ? (c = pa(Be, b), null !== c ? a.type = c : w.k(\"Unknown Geometry type as an argument to GraphObject.make: \" + b)) : a instanceof wf ? (c = pa(wf, b), null !== c ? a.type = c : w.k(\"Unknown PathSegment type as an argument to GraphObject.make: \" + b)) : w.k(\"Unable to use a string as an argument to GraphObject.make: \" + b);\n    } else if (b instanceof G) c = b, a instanceof D || w.k(\"A GraphObject can only be added to a Panel, not to: \" + a), a.add(c);else if (b instanceof Dg) {\n      var d = b,\n          c = a,\n          e;\n      d.xe && c.getRowDefinition ? e = c.getRowDefinition(d.index) : !d.xe && c.getColumnDefinition ? e = c.getColumnDefinition(d.index) : w.k(\"A RowColumnDefinition can only be added to a Panel, not to: \" + a);\n      e.Qp(d);\n    } else if (b instanceof da) \"function\" === typeof a.ic ? a.ic(b) : w.Lj(a, b);else if (b instanceof ah) a instanceof G ? a.bind(b) : a instanceof Dg ? a.bind(b) : w.k(\"A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: \" + a);else if (b instanceof De) a instanceof Be ? a.fc.add(b) : w.k(\"A PathFigure can only be added to a Geometry, not to: \" + a);else if (b instanceof wf) a instanceof De ? a.yb.add(b) : w.k(\"A PathSegment can only be added to a PathFigure, not to: \" + a);else if (b instanceof sg) a instanceof E ? a.Ub = b : a instanceof V ? a.Ub = b : w.k(\"A Layout can only be assigned to a Diagram or a Group, not to: \" + a);else if (Array.isArray(b)) for (c = 0; c < b.length; c++) {\n      gp(a, b[c]);\n    } else if (\"object\" === typeof b && null !== b) {\n      if (a instanceof ga) {\n        e = new ra();\n\n        for (c in b) {\n          d = parseFloat(c), isNaN(d) ? e[c] = b[c] : a.addColorStop(d, b[c]);\n        }\n\n        w.Zu(a, e);\n      } else if (a instanceof Dg) {\n        void 0 !== b.row ? (e = b.row, (void 0 === e || null === e || Infinity === e || isNaN(e) || 0 > e) && w.k(\"Must specify non-negative integer row for RowColumnDefinition \" + b + \", not: \" + e), a.xe = !0, a.index = e) : void 0 !== b.column && (e = b.column, (void 0 === e || null === e || Infinity === e || isNaN(e) || 0 > e) && w.k(\"Must specify non-negative integer column for RowColumnDefinition \" + b + \", not: \" + e), a.xe = !1, a.index = e);\n        e = new ra();\n\n        for (c in b) {\n          \"row\" !== c && \"column\" !== c && (e[c] = b[c]);\n        }\n\n        w.Zu(a, e);\n      } else w.Zu(a, b);\n    } else w.k('Unknown initializer \"' + b + '\" for object being constructed by GraphObject.make: ' + a);\n  }\n\n  var fp = new ma(\"string\", \"function\");\n\n  G.getBuilders = function () {\n    var a = new ma(\"string\", \"function\"),\n        b;\n\n    for (b in fp) {\n      if (b !== b.toLowerCase()) {\n        var c = fp.ka(b);\n        \"function\" === typeof c && a.add(b, c);\n      }\n    }\n\n    a.freeze();\n    return a;\n  };\n\n  var hp;\n\n  G.defineBuilder = hp = function hp(a, b) {\n    w.j(a, \"string\", G, \"defineBuilder:name\");\n    w.j(b, \"function\", G, \"defineBuilder:func\");\n    var c = a.toLowerCase();\n    \"\" !== a && \"none\" !== c && a !== c || w.k(\"Shape.defineFigureGenerator name must not be empty or None or all-lower-case: \" + a);\n    fp.add(a, b);\n  };\n\n  var ip;\n\n  G.takeBuilderArgument = ip = function ip(a, b, c) {\n    void 0 === c && (c = null);\n    var d = a[1];\n    if (\"function\" === typeof c ? c(d) : \"string\" === typeof d) return a.splice(1, 1), d;\n    if (void 0 === b) throw Error(\"no \" + (\"function\" === typeof c ? \"satisfactory\" : \"string\") + \" argument for GraphObject builder \" + a[0]);\n    return b;\n  };\n\n  hp(\"Button\", function () {\n    var a = new ga(og);\n    a.addColorStop(0, \"white\");\n    a.addColorStop(1, \"lightgray\");\n    var b = new ga(og);\n    b.addColorStop(0, \"white\");\n    b.addColorStop(1, \"dodgerblue\");\n    a = ep(D, Gl, {\n      Jx: !0,\n      WE: function WE(a, b) {\n        var e = a.Dd(\"ButtonBorder\");\n        null !== e && (e.fill = b ? a._buttonFillNormal : a._buttonFillDisabled);\n      },\n      _buttonFillNormal: a,\n      _buttonStrokeNormal: \"gray\",\n      _buttonFillOver: b,\n      _buttonStrokeOver: \"blue\",\n      _buttonFillDisabled: \"darkgray\"\n    }, ep(Y, {\n      name: \"ButtonBorder\",\n      Hb: \"Rectangle\",\n      A: new K(0, 0, 2.761423749153968, 2.761423749153968),\n      B: new K(1, 1, -2.761423749153968, -2.761423749153968),\n      fill: a,\n      stroke: \"gray\"\n    }));\n\n    a.Ju = function (a, b) {\n      if (b.vu()) {\n        var e = b.Dd(\"ButtonBorder\");\n\n        if (e instanceof Y) {\n          var f = b._buttonFillOver;\n          b._buttonFillNormal = e.fill;\n          e.fill = f;\n          f = b._buttonStrokeOver;\n          b._buttonStrokeNormal = e.stroke;\n          e.stroke = f;\n        }\n      }\n    };\n\n    a.Ku = function (a, b) {\n      if (b.vu()) {\n        var e = b.Dd(\"ButtonBorder\");\n        e instanceof Y && (e.fill = b._buttonFillNormal, e.stroke = b._buttonStrokeNormal);\n      }\n    };\n\n    return a;\n  });\n  hp(\"TreeExpanderButton\", function () {\n    var a = ep(\"Button\", {\n      _treeExpandedFigure: \"MinusLine\",\n      _treeCollapsedFigure: \"PlusLine\"\n    }, ep(Y, {\n      name: \"ButtonIcon\",\n      Hb: \"MinusLine\",\n      Da: sd\n    }, new ah(\"figure\", \"isTreeExpanded\", function (a, c) {\n      var d = c.R;\n      return a ? d._treeExpandedFigure : d._treeCollapsedFigure;\n    }).ay()), {\n      visible: !1\n    }, new ah(\"visible\", \"isTreeLeaf\", function (a) {\n      return !a;\n    }).ay());\n\n    a.click = function (a, c) {\n      var d = c.W;\n      d instanceof jh && (d = d.Ze);\n\n      if (d instanceof T) {\n        var e = d.g;\n\n        if (null !== e) {\n          e = e.pb;\n\n          if (d.wc) {\n            if (!e.canCollapseTree(d)) return;\n          } else if (!e.canExpandTree(d)) return;\n\n          a.vc = !0;\n          d.wc ? e.collapseTree(d) : e.expandTree(d);\n        }\n      }\n    };\n\n    return a;\n  });\n  hp(\"SubGraphExpanderButton\", function () {\n    var a = ep(\"Button\", {\n      _subGraphExpandedFigure: \"MinusLine\",\n      _subGraphCollapsedFigure: \"PlusLine\"\n    }, ep(Y, {\n      name: \"ButtonIcon\",\n      Hb: \"MinusLine\",\n      Da: sd\n    }, new ah(\"figure\", \"isSubGraphExpanded\", function (a, c) {\n      var d = c.R;\n      return a ? d._subGraphExpandedFigure : d._subGraphCollapsedFigure;\n    }).ay()));\n\n    a.click = function (a, c) {\n      var d = c.W;\n      d instanceof jh && (d = d.Ze);\n\n      if (d instanceof V) {\n        var e = d.g;\n\n        if (null !== e) {\n          e = e.pb;\n\n          if (d.ad) {\n            if (!e.canCollapseSubGraph(d)) return;\n          } else if (!e.canExpandSubGraph(d)) return;\n\n          a.vc = !0;\n          d.ad ? e.collapseSubGraph(d) : e.expandSubGraph(d);\n        }\n      }\n    };\n\n    return a;\n  });\n  hp(\"ToolTip\", function () {\n    var a = new jh(Gl),\n        b = new Y();\n    b.name = \"Border\";\n    b.fill = \"#FFFFE0\";\n    b.stroke = \"#CCCCCC\";\n    a.add(b);\n    return a;\n  });\n  hp(\"ContextMenu\", function () {\n    return new jh(Fl);\n  });\n  hp(\"ContextMenuButton\", function () {\n    var a = ep(\"Button\");\n    a.stretch = so;\n    var b = a.Dd(\"ButtonBorder\");\n    b instanceof Y && (b.Hb = \"Rectangle\", b.A = new K(0, 0, 2, 3), b.B = new K(1, 1, -2, -2));\n    return a;\n  });\n  hp(\"PanelExpanderButton\", function (a) {\n    var b = ip(a, \"COLLAPSIBLE\"),\n        c = ep(\"Button\", {\n      _buttonExpandedFigure: \"TriangleUp\",\n      _buttonCollapsedFigure: \"TriangleDown\"\n    }, ep(Y, \"TriangleUp\", {\n      name: \"ButtonIcon\",\n      Da: new ia(6, 4)\n    }, new ah(\"figure\", \"visible\", function (a) {\n      return a ? c._buttonExpandedFigure : c._buttonCollapsedFigure;\n    }).ay(b)));\n    a = c.Dd(\"ButtonBorder\");\n    a instanceof Y && (a.stroke = null, a.fill = \"transparent\");\n\n    c.click = function (a, c) {\n      var f = c.g;\n\n      if (null !== f && !f.ib) {\n        var h = c.$l();\n        null === h && (h = c.W);\n        null !== h && (h = h.Dd(b), null !== h && (f.Kb(\"Collapse/Expand Panel\"), h.visible = !h.visible, f.Yc(\"Collapse/Expand Panel\")));\n      }\n    };\n\n    return c;\n  });\n  hp(\"CheckBoxButton\", function (a) {\n    var b = ip(a);\n    a = ep(\"Button\", {\n      \"ButtonBorder.fill\": \"white\",\n      \"ButtonBorder.stroke\": \"gray\",\n      width: 14,\n      height: 14\n    }, ep(Y, {\n      name: \"ButtonIcon\",\n      bI: \"M0 4 L3 9 9 0\",\n      mb: 2,\n      stretch: Ee,\n      GA: Sj,\n      visible: !1\n    }, \"\" !== b ? new ah(\"visible\", b).RI() : []));\n\n    a.click = function (a, d) {\n      var e = a.g;\n\n      if (!(null === e || e.ib || \"\" !== b && e.$.ib)) {\n        a.vc = !0;\n        var f = d.Dd(\"ButtonIcon\");\n        e.Kb(\"checkbox\");\n        f.visible = !f.visible;\n        \"function\" === typeof d._doClick && d._doClick(a, d);\n        e.Yc(\"checkbox\");\n      }\n    };\n\n    return a;\n  });\n  hp(\"CheckBox\", function (a) {\n    a = ip(a);\n    a = ep(\"CheckBoxButton\", a, {\n      name: \"Button\",\n      margin: new hb(0, 1, 0, 0)\n    });\n    var b = ep(D, \"Horizontal\", a, {\n      Jx: !0,\n      margin: 1,\n      _buttonFillNormal: a._buttonFillNormal,\n      _buttonStrokeNormal: a._buttonStrokeNormal,\n      _buttonFillOver: a._buttonFillOver,\n      _buttonStrokeOver: a._buttonStrokeOver,\n      _buttonFillDisabled: a._buttonFillDisabled,\n      Ju: a.Ju,\n      Ku: a.Ku,\n      click: a.click,\n      _buttonClick: a.click\n    });\n    a.Ju = null;\n    a.Ku = null;\n    a.click = null;\n    return b;\n  });\n\n  function yo() {\n    this.Gr = this.Hi = this.jj = this.Nq = this.Qq = this.Pq = this.Oq = this.Yi = this.As = this.zs = this.Zi = this.$i = this.aj = this.Cs = this.Bs = this.Gi = this.Mi = this.Ei = null;\n  }\n\n  yo.prototype.copy = function () {\n    var a = new yo();\n    a.Ei = this.Ei;\n    a.Mi = this.Mi;\n    a.Gi = this.Gi;\n    a.Bs = this.Bs;\n    a.Cs = this.Cs;\n    a.aj = this.aj;\n    a.$i = this.$i;\n    a.Zi = this.Zi;\n    a.zs = this.zs;\n    a.As = this.As;\n    a.Yi = this.Yi;\n    a.Oq = this.Oq;\n    a.Pq = this.Pq;\n    a.Qq = this.Qq;\n    a.Nq = this.Nq;\n    a.jj = this.jj;\n    a.Hi = this.Hi;\n    a.Gr = this.Gr;\n    return a;\n  };\n\n  function D(a) {\n    G.call(this);\n    void 0 === a ? this.na = Uj : (w.ob(a, D, D, \"type\"), this.na = a);\n    this.xa = new H(G);\n    this.lf = ed;\n    this.na === Jl && (this.Jn = !0);\n    this.sr = qc;\n    this.Ki = qo;\n    this.na === Vo && jp(this);\n    this.Fp = Sj;\n    this.Tr = Cd;\n    this.Ur = cd;\n    this.Qr = 0;\n    this.Pr = 100;\n    this.Sr = 10;\n    this.Rr = 0;\n    this.jl = this.$d = this.ak = this.Fm = this.Hm = null;\n    this.gs = NaN;\n    this.xg = this.hk = null;\n    this.Vo = \"category\";\n    this.wg = null;\n    this.lj = new B(NaN, NaN, NaN, NaN);\n    this.vk = this.it = this.Il = null;\n    this.Oj = \"\";\n  }\n\n  w.La(D, G);\n  w.ni(D);\n  w.ga(\"Panel\", D);\n\n  function jp(a) {\n    a.Tj = ed;\n    a.Qh = 1;\n    a.Ji = null;\n    a.nl = null;\n    a.Ph = 1;\n    a.Oh = null;\n    a.ml = null;\n    a.Xc = [];\n    a.Vc = [];\n    a.bn = kp;\n    a.Cm = kp;\n    a.kj = 0;\n    a.Ui = 0;\n  }\n\n  D.prototype.cloneProtected = function (a) {\n    G.prototype.cloneProtected.call(this, a);\n    a.na = this.na;\n    a.lf = this.lf.S();\n    a.sr = this.sr.S();\n    a.Ki = this.Ki;\n\n    if (a.na === Vo) {\n      a.Tj = this.Tj.S();\n      a.Qh = this.Qh;\n      a.Ji = this.Ji;\n      a.nl = this.nl;\n      a.Ph = this.Ph;\n      a.Oh = this.Oh;\n      a.ml = this.ml;\n      var b = [];\n      if (0 < this.Xc.length) for (var c = this.Xc, d = c.length, e = 0; e < d; e++) {\n        if (void 0 !== c[e]) {\n          var f = c[e].copy();\n          f.om(a);\n          b[e] = f;\n        }\n      }\n      a.Xc = b;\n      b = [];\n      if (0 < this.Vc.length) for (c = this.Vc, d = c.length, e = 0; e < d; e++) {\n        void 0 !== c[e] && (f = c[e].copy(), f.om(a), b[e] = f);\n      }\n      a.Vc = b;\n      a.bn = this.bn;\n      a.Cm = this.Cm;\n      a.kj = this.kj;\n      a.Ui = this.Ui;\n    }\n\n    a.Fp = this.Fp;\n    a.Tr = this.Tr.S();\n    a.Ur = this.Ur.S();\n    a.Qr = this.Qr;\n    a.Pr = this.Pr;\n    a.Sr = this.Sr;\n    a.Rr = this.Rr;\n    a.Hm = this.Hm;\n    a.ak = this.ak;\n    a.$d = this.$d;\n    a.jl = this.jl;\n    a.gs = this.gs;\n    a.hk = this.hk;\n    a.xg = this.xg;\n    a.Vo = this.Vo;\n    a.lj.assign(this.lj);\n    a.Oj = this.Oj;\n    null !== this.it && (a.it = this.it);\n  };\n\n  D.prototype.pi = function (a) {\n    G.prototype.pi.call(this, a);\n    a.xa = this.xa;\n\n    for (var b = a.xa.n, c = b.length, d = 0; d < c; d++) {\n      b[d].ej = a;\n    }\n\n    a.Il = null;\n  };\n\n  D.prototype.copy = function () {\n    var a = G.prototype.copy.call(this);\n\n    if (null !== a) {\n      for (var b = this.xa.n, c = b.length, d = 0; d < c; d++) {\n        var e = b[d].copy(),\n            f = a;\n        e.om(f);\n        e.Zm = null;\n        var h = f.xa,\n            k = h.count;\n        h.Sd(k, e);\n        h = f.W;\n\n        if (null !== h) {\n          h.Um = null;\n          null !== e.le && h instanceof T && (h.Qk = !0);\n          var l = f.g;\n          null !== l && l.ja.lb || h.cd(Ef, \"elements\", f, null, e, null, k);\n        }\n      }\n\n      return a;\n    }\n\n    return null;\n  };\n\n  D.prototype.ic = function (a) {\n    a.Je === D ? this.type = a : G.prototype.ic.call(this, a);\n  };\n\n  D.prototype.toString = function () {\n    return \"Panel(\" + this.type + \")#\" + w.Qd(this);\n  };\n\n  var Uj;\n  D.Position = Uj = w.p(D, \"Position\", 0);\n  D.Horizontal = w.p(D, \"Horizontal\", 1);\n  var Fl;\n  D.Vertical = Fl = w.p(D, \"Vertical\", 2);\n  var Oj;\n  D.Spot = Oj = w.p(D, \"Spot\", 3);\n  var Gl;\n  D.Auto = Gl = w.p(D, \"Auto\", 4);\n  var Vo;\n  D.Table = Vo = w.p(D, \"Table\", 5);\n  D.Viewbox = w.p(D, \"Viewbox\", 6);\n  var Io;\n  D.TableRow = Io = w.p(D, \"TableRow\", 7);\n  var Jo;\n  D.TableColumn = Jo = w.p(D, \"TableColumn\", 8);\n  var jj;\n  D.Link = jj = w.p(D, \"Link\", 9);\n  var Jl;\n  D.Grid = Jl = w.p(D, \"Grid\", 10);\n  var lp;\n  D.Graduated = lp = w.p(D, \"Graduated\", 11);\n  w.defineProperty(D, {\n    type: \"type\"\n  }, function () {\n    return this.na;\n  }, function (a) {\n    var b = this.na;\n    b !== a && (b !== Io && b !== Jo || w.k(\"Cannot change Panel.type when it is already a TableRow or a TableColumn: \" + a), this.na = a, this.na === Jl ? this.Jn = !0 : this.na === Vo && jp(this), this.H(), this.h(\"type\", b, a));\n  });\n  w.u(D, {\n    elements: \"elements\"\n  }, function () {\n    return this.xa.i;\n  });\n  w.u(D, {\n    Ja: \"naturalBounds\"\n  }, function () {\n    return this.Nc;\n  });\n  w.defineProperty(D, {\n    padding: \"padding\"\n  }, function () {\n    return this.lf;\n  }, function (a) {\n    \"number\" === typeof a ? (0 > a && w.Fa(a, \">= 0\", D, \"padding\"), a = new hb(a)) : (w.G(a, hb, D, \"padding\"), 0 > a.left && w.Fa(a.left, \">= 0\", D, \"padding:value.left\"), 0 > a.right && w.Fa(a.right, \">= 0\", D, \"padding:value.right\"), 0 > a.top && w.Fa(a.top, \">= 0\", D, \"padding:value.top\"), 0 > a.bottom && w.Fa(a.bottom, \">= 0\", D, \"padding:value.bottom\"));\n    var b = this.lf;\n    b.L(a) || (this.lf = a = a.S(), this.H(), this.h(\"padding\", b, a));\n  });\n  w.defineProperty(D, {\n    Zl: \"defaultAlignment\"\n  }, function () {\n    return this.sr;\n  }, function (a) {\n    var b = this.sr;\n    b.L(a) || (this.sr = a = a.S(), this.H(), this.h(\"defaultAlignment\", b, a));\n  });\n  w.defineProperty(D, {\n    be: \"defaultStretch\"\n  }, function () {\n    return this.Ki;\n  }, function (a) {\n    var b = this.Ki;\n    b !== a && (w.ob(a, G, D, \"defaultStretch\"), this.Ki = a, this.H(), this.h(\"defaultStretch\", b, a));\n  });\n  w.defineProperty(D, {\n    XK: \"defaultSeparatorPadding\"\n  }, function () {\n    return void 0 === this.Tj ? ed : this.Tj;\n  }, function (a) {\n    if (void 0 !== this.Tj) {\n      \"number\" === typeof a && (a = new hb(a));\n      var b = this.Tj;\n      b.L(a) || (this.Tj = a = a.S(), this.H(), this.h(\"defaultSeparatorPadding\", b, a));\n    }\n  });\n  w.defineProperty(D, {\n    VK: \"defaultRowSeparatorStroke\"\n  }, function () {\n    return void 0 === this.Ji ? null : this.Ji;\n  }, function (a) {\n    var b = this.Ji;\n    b !== a && (null === a || \"string\" === typeof a || a instanceof ga) && (a instanceof ga && a.freeze(), this.Ji = a, this.oa(), this.h(\"defaultRowSeparatorStroke\", b, a));\n  });\n  w.defineProperty(D, {\n    WK: \"defaultRowSeparatorStrokeWidth\"\n  }, function () {\n    return void 0 === this.Qh ? 1 : this.Qh;\n  }, function (a) {\n    if (void 0 !== this.Qh) {\n      var b = this.Qh;\n      b !== a && isFinite(a) && 0 <= a && (this.Qh = a, this.H(), this.h(\"defaultRowSeparatorStrokeWidth\", b, a));\n    }\n  });\n  w.defineProperty(D, {\n    UK: \"defaultRowSeparatorDashArray\"\n  }, function () {\n    return void 0 === this.nl ? null : this.nl;\n  }, function (a) {\n    if (void 0 !== this.nl) {\n      var b = this.nl;\n\n      if (b !== a) {\n        null === a || Array.isArray(a) || w.Gd(a, \"Array\", D, \"defaultRowSeparatorDashArray:value\");\n\n        if (null !== a) {\n          for (var c = a.length, d = 0, e = 0; e < c; e++) {\n            var f = a[e];\n            \"number\" === typeof f && 0 <= f && isFinite(f) || w.k(\"defaultRowSeparatorDashArray value \" + f + \" at index \" + e + \" must be a positive number or zero.\");\n            d += f;\n          }\n\n          if (0 === d) {\n            if (null === b) return;\n            a = null;\n          }\n        }\n\n        this.nl = a;\n        this.oa();\n        this.h(\"defaultRowSeparatorDashArray\", b, a);\n      }\n    }\n  });\n  w.defineProperty(D, {\n    PK: \"defaultColumnSeparatorStroke\"\n  }, function () {\n    return void 0 === this.Oh ? null : this.Oh;\n  }, function (a) {\n    if (void 0 !== this.Oh) {\n      var b = this.Oh;\n      b !== a && (null === a || \"string\" === typeof a || a instanceof ga) && (a instanceof ga && a.freeze(), this.Oh = a, this.oa(), this.h(\"defaultColumnSeparatorStroke\", b, a));\n    }\n  });\n  w.defineProperty(D, {\n    QK: \"defaultColumnSeparatorStrokeWidth\"\n  }, function () {\n    return void 0 === this.Ph ? 1 : this.Ph;\n  }, function (a) {\n    if (void 0 !== this.Ph) {\n      var b = this.Ph;\n      b !== a && isFinite(a) && 0 <= a && (this.Ph = a, this.H(), this.h(\"defaultColumnSeparatorStrokeWidth\", b, a));\n    }\n  });\n  w.defineProperty(D, {\n    OK: \"defaultColumnSeparatorDashArray\"\n  }, function () {\n    return void 0 === this.ml ? null : this.ml;\n  }, function (a) {\n    if (void 0 !== this.ml) {\n      var b = this.ml;\n\n      if (b !== a) {\n        null === a || Array.isArray(a) || w.Gd(a, \"Array\", D, \"defaultColumnSeparatorDashArray:value\");\n\n        if (null !== a) {\n          for (var c = a.length, d = 0, e = 0; e < c; e++) {\n            var f = a[e];\n            \"number\" === typeof f && 0 <= f && isFinite(f) || w.k(\"defaultColumnSeparatorDashArray value \" + f + \" at index \" + e + \" must be a positive number or zero.\");\n            d += f;\n          }\n\n          if (0 === d) {\n            if (null === b) return;\n            a = null;\n          }\n        }\n\n        this.ml = a;\n        this.oa();\n        this.h(\"defaultColumnSeparatorDashArray\", b, a);\n      }\n    }\n  });\n  w.defineProperty(D, {\n    cM: \"viewboxStretch\"\n  }, function () {\n    return this.Fp;\n  }, function (a) {\n    var b = this.Fp;\n    b !== a && (w.ob(a, G, D, \"viewboxStretch\"), this.Fp = a, this.H(), this.h(\"viewboxStretch\", b, a));\n  });\n  w.defineProperty(D, {\n    Ix: \"gridCellSize\"\n  }, function () {\n    return this.Tr;\n  }, function (a) {\n    var b = this.Tr;\n\n    if (!b.L(a)) {\n      w.G(a, ia, D, \"gridCellSize\");\n      a.I() && 0 !== a.width && 0 !== a.height || w.k(\"Invalid Panel.gridCellSize: \" + a);\n      this.Tr = a.S();\n      var c = this.g;\n      null !== c && this === c.Gn && dm(c);\n      this.oa();\n      this.h(\"gridCellSize\", b, a);\n    }\n  });\n  w.defineProperty(D, {\n    pF: \"gridOrigin\"\n  }, function () {\n    return this.Ur;\n  }, function (a) {\n    var b = this.Ur;\n\n    if (!b.L(a)) {\n      w.G(a, z, D, \"gridOrigin\");\n      a.I() || w.k(\"Invalid Panel.gridOrigin: \" + a);\n      this.Ur = a.S();\n      var c = this.g;\n      null !== c && this === c.Gn && dm(c);\n      this.oa();\n      this.h(\"gridOrigin\", b, a);\n    }\n  });\n  w.defineProperty(D, {\n    Pk: \"graduatedMin\"\n  }, function () {\n    return this.Qr;\n  }, function (a) {\n    w.Bd(a, D, \"graduatedMin\");\n    var b = this.Qr;\n    b !== a && (this.Qr = a, this.H(), this.h(\"graduatedMin\", b, a), Co(this) && (a = this.W, null !== a && Do(this, a, \"graduatedRange\")));\n  });\n  w.defineProperty(D, {\n    JA: \"graduatedMax\"\n  }, function () {\n    return this.Pr;\n  }, function (a) {\n    w.Bd(a, D, \"graduatedMax\");\n    var b = this.Pr;\n    b !== a && (this.Pr = a, this.H(), this.h(\"graduatedMax\", b, a), Co(this) && (a = this.W, null !== a && Do(this, a, \"graduatedRange\")));\n  });\n  w.u(D, {\n    ou: \"graduatedRange\"\n  }, function () {\n    return this.JA - this.Pk;\n  });\n  w.defineProperty(D, {\n    KA: \"graduatedTickUnit\"\n  }, function () {\n    return this.Sr;\n  }, function (a) {\n    w.Bd(a, D, \"graduatedTickUnit\");\n    var b = this.Sr;\n    b !== a && 0 < a && (this.Sr = a, this.H(), this.h(\"graduatedTickUnit\", b, a));\n  });\n  w.defineProperty(D, {\n    oF: \"graduatedTickBase\"\n  }, function () {\n    return this.Rr;\n  }, function (a) {\n    w.Bd(a, D, \"graduatedTickBase\");\n    var b = this.Rr;\n    b !== a && (this.Rr = a, this.H(), this.h(\"graduatedTickBase\", b, a));\n  });\n  g = D.prototype;\n\n  g.Ks = function (a) {\n    G.prototype.Ks.call(this, a);\n\n    for (var b = this.xa.n, c = b.length, d = 0; d < c; d++) {\n      b[d].Ks(a);\n    }\n  };\n\n  g.Ik = function (a, b) {\n    if (this.na === Jl) {\n      var c = this.vj() * b.scale;\n      0 >= c && (c = 1);\n      var d = this.Ix,\n          e = d.width,\n          d = d.height,\n          f = this.Ja,\n          h = f.width,\n          f = f.height,\n          k = Math.ceil(h / e),\n          l = Math.ceil(f / d),\n          m = this.pF;\n      a.save();\n      a.beginPath();\n      a.rect(0, 0, h, f);\n      a.clip();\n\n      for (var n = [], p = this.xa.n, q = p.length, r = 0; r < q; r++) {\n        var s = p[r],\n            t = [];\n        n.push(t);\n        if (s.visible) for (var s = Zm(s.Hb), u = r + 1; u < q; u++) {\n          var y = p[u];\n          y.visible && Zm(y.Hb) === s && (y = y.interval, 2 <= y && t.push(y));\n        }\n      }\n\n      p = this.xa.n;\n      q = p.length;\n\n      for (r = 0; r < q; r++) {\n        var v = p[r];\n\n        if (v.visible && (t = v.interval, !(2 > e * t * c))) {\n          s = v.opacity;\n          u = 1;\n\n          if (1 !== s) {\n            if (0 === s) continue;\n            u = a.globalAlpha;\n            a.globalAlpha = u * s;\n          }\n\n          var y = n[r],\n              x = !1,\n              A = !0,\n              L = v.yG;\n          null !== L && (x = !0, A = a.yx(L, v.Af));\n\n          if (\"LineV\" === v.Hb && null !== v.stroke) {\n            a.lineWidth = v.mb;\n            Qo(this, a, v.stroke, !1, !1);\n            a.beginPath();\n\n            for (var C = Math.floor(-m.x / e), O = C; O <= C + k; O++) {\n              var X = O * e + m.x;\n              0 <= X && X <= h && mp(O, t, y) && (x && !A ? Bo(a, X, 0, X, f, L, v.Af) : (a.moveTo(X, 0), a.lineTo(X, f)));\n            }\n\n            a.stroke();\n          } else if (\"LineH\" === v.Hb && null !== v.stroke) {\n            a.lineWidth = v.mb;\n            Qo(this, a, v.stroke, !1, !1);\n            a.beginPath();\n\n            for (O = C = Math.floor(-m.y / d); O <= C + l; O++) {\n              X = O * d + m.y, 0 <= X && X <= f && mp(O, t, y) && (x && !A ? Bo(a, 0, X, h, X, L, v.Af) : (a.moveTo(0, X), a.lineTo(h, X)));\n            }\n\n            a.stroke();\n          } else if (\"BarV\" === v.Hb && null !== v.fill) for (Qo(this, a, v.fill, !0, !1), v = v.width, isNaN(v) && (v = e), O = C = Math.floor(-m.x / e); O <= C + k; O++) {\n            X = O * e + m.x, 0 <= X && X <= h && mp(O, t, y) && a.fillRect(X, 0, v, f);\n          } else if (\"BarH\" === v.Hb && null !== v.fill) for (Qo(this, a, v.fill, !0, !1), v = v.height, isNaN(v) && (v = d), O = C = Math.floor(-m.y / d); O <= C + l; O++) {\n            X = O * d + m.y, 0 <= X && X <= f && mp(O, t, y) && a.fillRect(0, X, h, v);\n          }\n\n          x && a.vx();\n          1 !== s && (a.globalAlpha = u);\n        }\n      }\n\n      a.restore();\n      a.Ke(!1);\n    } else if (this.na === lp) {\n      c = b.Jm;\n      b.Jm = !0;\n      d = this.Ja;\n      e = d.width;\n      d = d.height;\n      a.save();\n      a.beginPath();\n      a.rect(-1, -1, e + 1, d + 1);\n      a.clip();\n      e = this.Cd();\n      e.ve(a, b);\n      d = this.vj() * b.scale;\n      0 >= d && (d = 1);\n      h = e.U;\n      f = this.xa.n;\n      k = this.Hm;\n      l = f.length;\n\n      for (m = 0; m < l; m++) {\n        if (r = f[m], n = k[m], p = n.length, r.visible && r !== e && 0 !== n.length) if (r instanceof Y) {\n          if (!(2 > this.KA * r.interval * e.of.hu / this.ou * d)) for (t = r.za, s = r.mb * r.scale, u = r.qh, u.Vd() && (u = Bb), q = 0; q < p; q++) {\n            y = r, x = n[q][0], C = h, O = n[q][1], v = t, A = s, L = u, X = y.kd, X.reset(), X.translate(x.x + C.x, x.y + C.y), X.rotate(O + y.angle, 0, 0), X.translate(-v.width * L.x + L.offsetX + A / 2, -v.height * L.y + L.offsetY + A / 2), X.scale(y.scale, y.scale), So(y, !1), y.Xk.set(y.kd), y.Fo = y.scale, To(y, !1), r.ve(a, b), r.kd.reset();\n          }\n        } else if (r instanceof Lh) for (null === this.vk && (this.vk = new Lh()), t = this.vk, np(r, t), q = 0; q < p; q++) {\n          x = n[q], 3 < x.length && (u = x[6], t.Md = x[2], t.mg = x[3], t.pe = x[4], t.zf = x[5], t.Nc = x[8], t.jc(u.x, u.y, u.width, u.height), r = t, s = h, y = x[7], x = x[8], C = r.kd, C.reset(), C.translate(u.x + s.x, u.y + s.y), C.translate(-y.x, -y.y), Fo(r, C, x.x, x.y, x.width, x.height), So(r, !1), r.Xk.set(r.kd), r.Fo = r.scale, To(r, !1), t.ve(a, b));\n        }\n      }\n\n      b.Jm = c;\n      a.restore();\n      a.Ke(!0);\n    } else {\n      this.na === Vo && (a.lineCap = \"butt\", op(this, a, !0, this.Xc, !0), op(this, a, !1, this.Vc, !0), pp(this, a, !0, this.Xc), pp(this, a, !1, this.Vc), op(this, a, !0, this.Xc, !1), op(this, a, !1, this.Vc, !1));\n      (c = this.tu) && a.save();\n      e = this.Cd();\n      d = this.xa.n;\n      h = d.length;\n\n      for (f = 0; f < h; f++) {\n        k = d[f], c && k === e && (a.Op = !0), k.ve(a, b), c && k === e && (a.Op = !1);\n      }\n\n      c && (a.restore(), a.Ke(!0));\n    }\n  };\n\n  function np(a, b) {\n    b.M = a.M | 6144;\n    b.Dc = a.Dc;\n    b.Ib = a.Ib;\n    b.cc = a.cc;\n    b.Ue = a.Ue.S();\n    b.Zh = a.Zh.S();\n    b.Yh = a.Yh.S();\n    b.Wi = a.Wi.copy();\n    b.rb = a.rb;\n    b.mg = a.mg;\n    b.Fg = a.Fg;\n    b.Sm = a.Sm.S();\n    b.me = a.me.S();\n    b.xm = a.xm.S();\n    b.cn = a.cn;\n    b.dn = a.dn.S();\n    b.en = a.en;\n    null !== a.og && (b.og = a.og.copy());\n    b.jn = a.jn;\n    a instanceof Lh && (b.Md = a.Md, b.tc = a.tc, b.qg = a.qg, b.Jl = a.Jl, b.pg = a.pg, b.Nl = a.Nl, b.Lm = a.Lm, b.gk = a.gk, b.ek = a.ek, b.cj = a.cj, b.nj = a.nj, b.zf.Wj = null, b.fi = a.fi, b.gi = a.gi, b.ih = a.ih, b.Yo = a.Yo, b.ug = a.ug, b.tg = a.tg, b.sg = a.sg, b.Gm = a.Gm);\n  }\n\n  function pp(a, b, c, d) {\n    for (var e = d.length, f = a.U, h = !0, k = 0; k < e; k++) {\n      var l = d[k];\n      if (void 0 !== l) if (h) h = !1;else if (0 !== l.bb) {\n        if (c) {\n          if (l.position > f.height) continue;\n        } else if (l.position > f.width) continue;\n\n        var m = l.Fq;\n        isNaN(m) && (m = c ? a.Qh : a.Ph);\n        var n = l.Eq;\n        null === n && (n = c ? a.Ji : a.Oh);\n\n        if (0 !== m && null !== n) {\n          Qo(a, b, n, !1, !1);\n          var n = !1,\n              p = !0,\n              q = l.HJ;\n          null === q && (q = c ? a.nl : a.ml);\n          null !== q && (n = !0, p = b.yx(q, 0));\n          b.beginPath();\n          var r = l.position + m;\n          c ? r > f.height && (m -= r - f.height) : r > f.width && (m -= r - f.width);\n          l = l.position + m / 2;\n          b.lineWidth = m;\n          r = a.padding;\n          c ? (l += r.top, m = r.left, r = f.width - r.right, n && !p ? Bo(b, m, l, r, l, q, 0) : (b.moveTo(m, l), b.lineTo(r, l))) : (l += r.left, m = r.top, r = f.height - r.bottom, n && !p ? Bo(b, l, m, l, r, q, 0) : (b.moveTo(l, m), b.lineTo(l, r)));\n          b.stroke();\n          n && b.vx();\n        }\n      }\n    }\n  }\n\n  function op(a, b, c, d, e) {\n    for (var f = d.length, h = a.U, k = 0; k < f; k++) {\n      var l = d[k];\n\n      if (void 0 !== l && null !== l.background && l.xA !== e && 0 !== l.bb) {\n        var m = c ? h.height : h.width;\n\n        if (!(l.position > m)) {\n          var n = l.af(),\n              p = l.Fq;\n          isNaN(p) && (p = c ? a.Qh : a.Ph);\n          var q = l.Eq;\n          null === q && (q = c ? a.Ji : a.Oh);\n          null === q && (p = 0);\n          n -= p;\n          p = l.position + p;\n          n += l.bb;\n          p + n > m && (n = m - p);\n          0 >= n || (m = a.padding, Qo(a, b, l.background, !0, !1), c ? b.fillRect(m.left, p + m.top, h.width - (m.left + m.right), n) : b.fillRect(p + m.left, m.top, n, h.height - (m.top + m.bottom)));\n        }\n      }\n    }\n  }\n\n  function mp(a, b, c) {\n    if (0 !== a % b) return !1;\n    b = c.length;\n\n    for (var d = 0; d < b; d++) {\n      if (0 === a % c[d]) return !1;\n    }\n\n    return !0;\n  }\n\n  function Zm(a) {\n    return \"LineV\" === a || \"BarV\" === a;\n  }\n\n  g.En = function (a, b, c, d, e) {\n    var f = this.Yg(),\n        h = this.transform,\n        k = 1 / (h.m11 * h.m22 - h.m12 * h.m21),\n        l = h.m22 * k,\n        m = -h.m12 * k,\n        n = -h.m21 * k,\n        p = h.m11 * k,\n        q = k * (h.m21 * h.dy - h.m22 * h.dx),\n        r = k * (h.m12 * h.dx - h.m11 * h.dy);\n    if (null !== this.pn) return h = this.U, ke(h.left, h.top, h.right, h.bottom, a, b, c, d, e);\n    if (null !== this.background) f = a * l + b * n + q, k = a * m + b * p + r, a = c * l + d * n + q, l = c * m + d * p + r, e.m(0, 0), c = this.Ja, c = ke(0, 0, c.width, c.height, f, k, a, l, e), e.transform(h);else {\n      f || (l = 1, n = m = 0, p = 1, r = q = 0);\n      k = a * l + b * n + q;\n      a = a * m + b * p + r;\n      l = c * l + d * n + q;\n      d = c * m + d * p + r;\n      e.m(l, d);\n      m = (l - k) * (l - k) + (d - a) * (d - a);\n      c = !1;\n      p = this.xa.n;\n      r = p.length;\n      n = w.K();\n      q = null;\n      b = Infinity;\n      var s = null;\n      this.tu && (s = w.K(), q = this.Cd(), (c = q.En(k, a, l, d, s)) && (b = (k - s.x) * (k - s.x) + (a - s.y) * (a - s.y)));\n\n      for (var t = 0; t < r; t++) {\n        var u = p[t];\n        u.visible && u !== q && u.En(k, a, l, d, n) && (c = !0, u = (k - n.x) * (k - n.x) + (a - n.y) * (a - n.y), u < m && (m = u, e.set(n)));\n      }\n\n      this.tu && (b > m && e.set(s), w.v(s));\n      w.v(n);\n      f && e.transform(h);\n    }\n    return c;\n  };\n\n  g.H = function (a) {\n    G.prototype.H.call(this, a);\n    a = null;\n    if (this.na === Gl || this.na === jj) a = this.Cd();\n\n    for (var b = this.xa.n, c = b.length, d = 0; d < c; d++) {\n      var e = b[d];\n      (e === a || e.ff) && e.H(!0);\n\n      if (!e.Da.I()) {\n        var f = Ho(e, !1);\n        (e instanceof Pj || e instanceof D || e instanceof Lh || f !== Qj) && e.H(!0);\n      }\n    }\n  };\n\n  g.eq = function () {\n    if (!1 === km(this)) {\n      cm(this, !0);\n      Ko(this, !0);\n\n      for (var a = this.xa.n, b = a.length, c = 0; c < b; c++) {\n        a[c].eq();\n      }\n    }\n  };\n\n  g.Ri = function () {\n    if (0 !== (this.M & 2048) === !1) {\n      So(this, !0);\n      To(this, !0);\n\n      for (var a = this.xa.n, b = a.length, c = 0; c < b; c++) {\n        a[c].QA();\n      }\n    }\n  };\n\n  g.QA = function () {\n    To(this, !0);\n\n    for (var a = this.xa.n, b = a.length, c = 0; c < b; c++) {\n      a[c].QA();\n    }\n  };\n\n  g.Qn = function (a, b, c, d) {\n    var e = this.lj;\n    e.width = 0;\n    e.height = 0;\n    var f = this.Da,\n        h = this.si;\n    void 0 === c && (c = h.width, d = h.height);\n    c = Math.max(c, h.width);\n    d = Math.max(d, h.height);\n    var k = this.Hf;\n    isNaN(f.width) || (a = Math.min(f.width, k.width));\n    isNaN(f.height) || (b = Math.min(f.height, k.height));\n    a = Math.max(c, a);\n    b = Math.max(d, b);\n    var l = this.padding;\n    a = Math.max(a - l.left - l.right, 0);\n    b = Math.max(b - l.top - l.bottom, 0);\n    var m = this.xa.n;\n\n    if (0 !== m.length) {\n      var n = this.na.Sb;\n\n      switch (n) {\n        case \"Position\":\n          var p = a,\n              q = b,\n              r = c,\n              s = d,\n              t = m.length;\n          e.x = 0;\n          e.y = 0;\n          e.width = 0;\n          e.height = 0;\n\n          for (var u = Np(this), y = 0; y < t; y++) {\n            var v = m[y];\n\n            if (v.visible || v === u) {\n              var x = v.margin,\n                  A = x.right + x.left,\n                  L = x.top + x.bottom;\n              yk(v, p, q, r, s);\n              var C = v.za,\n                  O = Math.max(C.width + A, 0),\n                  X = Math.max(C.height + L, 0),\n                  S = v.position.x,\n                  ba = v.position.y;\n              isFinite(S) || (S = 0);\n              isFinite(ba) || (ba = 0);\n\n              if (v instanceof Y) {\n                var ha = v;\n                if (ha.AF) var ya = ha.mb / 2,\n                    S = S - ya,\n                    ba = ba - ya;\n              }\n\n              ab(e, S, ba, O, X);\n            }\n          }\n\n          break;\n\n        case \"Vertical\":\n          for (var Ga = a, eb = c, va = m.length, U = w.Za(), sb = Np(this), Kb = 0; Kb < va; Kb++) {\n            var Oa = m[Kb];\n\n            if (Oa.visible || Oa === sb) {\n              var Lc = Ho(Oa, !1);\n              if (Lc !== Qj && Lc !== ro) U.push(Oa);else {\n                var Ma = Oa.margin,\n                    cg = Ma.right + Ma.left,\n                    dg = Ma.top + Ma.bottom;\n                yk(Oa, Ga, Infinity, eb, 0);\n                var td = Oa.za,\n                    ud = Math.max(td.width + cg, 0),\n                    Mc = Math.max(td.height + dg, 0);\n                e.width = Math.max(e.width, ud);\n                e.height += Mc;\n              }\n            }\n          }\n\n          var rh = U.length;\n\n          if (0 !== rh) {\n            this.Da.width ? Ga = Math.min(this.Da.width, this.Hf.width) : 0 !== e.width && (Ga = Math.min(e.width, this.Hf.width));\n\n            for (Kb = 0; Kb < rh; Kb++) {\n              if (Oa = U[Kb], Oa.visible || Oa === sb) Ma = Oa.margin, cg = Ma.right + Ma.left, dg = Ma.top + Ma.bottom, yk(Oa, Ga, Infinity, eb, 0), td = Oa.za, ud = Math.max(td.width + cg, 0), Mc = Math.max(td.height + dg, 0), e.width = Math.max(e.width, ud), e.height += Mc;\n            }\n\n            w.ra(U);\n          }\n\n          break;\n\n        case \"Horizontal\":\n          for (var Xe = b, fb = d, pb = m.length, na = w.Za(), ja = Np(this), Za = 0; Za < pb; Za++) {\n            var Ia = m[Za];\n\n            if (Ia.visible || Ia === ja) {\n              var kb = Ho(Ia, !1);\n              if (kb !== Qj && kb !== so) na.push(Ia);else {\n                var Id = Ia.margin,\n                    Gf = Id.right + Id.left,\n                    se = Id.top + Id.bottom;\n                yk(Ia, Infinity, Xe, 0, fb);\n                var $d = Ia.za,\n                    gd = Math.max($d.width + Gf, 0),\n                    sh = Math.max($d.height + se, 0);\n                e.width += gd;\n                e.height = Math.max(e.height, sh);\n              }\n            }\n          }\n\n          var Hf = na.length;\n\n          if (0 !== Hf) {\n            this.Da.height ? Xe = Math.min(this.Da.height, this.Hf.height) : 0 !== e.height && (Xe = Math.min(e.height, this.Hf.height));\n\n            for (Za = 0; Za < Hf; Za++) {\n              if (Ia = na[Za], Ia.visible || Ia === ja) Id = Ia.margin, Gf = Id.right + Id.left, se = Id.top + Id.bottom, yk(Ia, Infinity, Xe, 0, fb), $d = Ia.za, gd = Math.max($d.width + Gf, 0), sh = Math.max($d.height + se, 0), e.width += gd, e.height = Math.max(e.height, sh);\n            }\n\n            w.ra(na);\n          }\n\n          break;\n\n        case \"Spot\":\n          a: {\n            var Eg = a,\n                Cb = b,\n                Ac = c,\n                ae = d,\n                th = m.length,\n                qb = this.Cd(),\n                Ja = qb.margin,\n                Lb = 0,\n                If = 0,\n                Fg = Ja.right + Ja.left,\n                uh = Ja.top + Ja.bottom;\n            yk(qb, Eg, Cb, Ac, ae);\n\n            for (var gb = qb.za, sc = gb.width, Ub = gb.height, te = Math.max(sc + Fg, 0), tc = Math.max(Ub + uh, 0), uc = this.tu, rb = w.lg(-Ja.left, -Ja.top, te, tc), jc = !0, tb = Np(this), Bc = 0; Bc < th; Bc++) {\n              var bb = m[Bc];\n\n              if (bb !== qb && (bb.visible || bb === tb)) {\n                Ja = bb.margin;\n                Lb = Ja.right + Ja.left;\n                If = Ja.top + Ja.bottom;\n                yk(bb, Eg, Cb, 0, 0);\n                var gb = bb.za,\n                    te = Math.max(gb.width + Lb, 0),\n                    tc = Math.max(gb.height + If, 0),\n                    Qa = bb.alignment;\n                Qa.Zc() && (Qa = this.Zl);\n                Qa.$c() || (Qa = Jb);\n                var Hb = bb.qh;\n                Hb.Zc() && (Hb = Jb);\n                var vd = null;\n                bb instanceof D && \"\" !== bb.Oj && (bb.jc(0, 0, gb.width, gb.height), vd = bb.Dd(bb.Oj), vd === bb && (vd = null));\n                var eg, Ye;\n\n                if (null !== vd) {\n                  for (var fg = vd.Ja, uj = vd.margin, Mb = w.wb(Hb.x * fg.width + Hb.offsetX - uj.left, Hb.y * fg.height + Hb.offsetY - uj.top); vd !== bb;) {\n                    vd.transform.nb(Mb), vd = vd.R;\n                  }\n\n                  eg = Qa.x * sc + Qa.offsetX - Mb.x;\n                  Ye = Qa.y * Ub + Qa.offsetY - Mb.y;\n                  w.v(Mb);\n                } else eg = Qa.x * sc + Qa.offsetX - (Hb.x * gb.width - Hb.offsetX) - Ja.left, Ye = Qa.y * Ub + Qa.offsetY - (Hb.y * gb.height - Hb.offsetY) - Ja.top;\n\n                jc ? (jc = !1, e.x = eg, e.y = Ye, e.width = te, e.height = tc) : ab(e, eg, Ye, te, tc);\n              }\n            }\n\n            jc ? e.assign(rb) : uc ? e.uF(rb.x, rb.y, rb.width, rb.height) : ab(e, rb.x, rb.y, rb.width, rb.height);\n            w.Bb(rb);\n            var Cc = qb.stretch;\n            Cc === qo && (Cc = Ho(qb, !1));\n\n            switch (Cc) {\n              case Qj:\n                break a;\n\n              case Ee:\n                if (!isFinite(Eg) && !isFinite(Cb)) break a;\n                break;\n\n              case so:\n                if (!isFinite(Eg)) break a;\n                break;\n\n              case ro:\n                if (!isFinite(Cb)) break a;\n            }\n\n            gb = qb.za;\n            sc = gb.width;\n            Ub = gb.height;\n            te = Math.max(sc + Fg, 0);\n            tc = Math.max(Ub + uh, 0);\n            Ja = qb.margin;\n            rb = w.lg(-Ja.left, -Ja.top, te, tc);\n\n            for (Bc = 0; Bc < th; Bc++) {\n              bb = m[Bc], bb === qb || !bb.visible && bb !== tb || (Ja = bb.margin, Lb = Ja.right + Ja.left, If = Ja.top + Ja.bottom, gb = bb.za, te = Math.max(gb.width + Lb, 0), tc = Math.max(gb.height + If, 0), Qa = bb.alignment, Qa.Zc() && (Qa = this.Zl), Qa.$c() || (Qa = Jb), Hb = bb.qh, Hb.Zc() && (Hb = Jb), jc ? (jc = !1, e.x = Qa.x * sc + Qa.offsetX - (Hb.x * gb.width - Hb.offsetX) - Ja.left, e.y = Qa.y * Ub + Qa.offsetY - (Hb.y * gb.height - Hb.offsetY) - Ja.top, e.width = te, e.height = tc) : ab(e, Qa.x * sc + Qa.offsetX - (Hb.x * gb.width - Hb.offsetX) - Ja.left, Qa.y * Ub + Qa.offsetY - (Hb.y * gb.height - Hb.offsetY) - Ja.top, te, tc));\n            }\n\n            jc ? e.assign(rb) : uc ? e.uF(rb.x, rb.y, rb.width, rb.height) : ab(e, rb.x, rb.y, rb.width, rb.height);\n            w.Bb(rb);\n          }\n\n          break;\n\n        case \"Auto\":\n          var vc = a,\n              hd = b,\n              lb = c,\n              Nb = d,\n              ue = m.length,\n              ub = this.Cd(),\n              be = ub.margin,\n              vh = vc,\n              wh = hd,\n              Gg = be.right + be.left,\n              id = be.top + be.bottom;\n          yk(ub, vc, hd, lb, Nb);\n          var Jd = ub.za,\n              bc = 0,\n              vb = null;\n          ub instanceof Y && (vb = ub, bc = vb.mb * vb.scale);\n          var wd = Math.max(Jd.width + Gg, 0),\n              jb = Math.max(Jd.height + id, 0),\n              cc = Op(ub),\n              ii = cc.x * wd + cc.offsetX,\n              Yc = cc.y * jb + cc.offsetY,\n              Db = Pp(ub),\n              ve = Db.x * wd + Db.offsetX,\n              Ze = Db.y * jb + Db.offsetY;\n          isFinite(vc) && (vh = Math.max(Math.abs(ii - ve) - bc, 0));\n          isFinite(hd) && (wh = Math.max(Math.abs(Yc - Ze) - bc, 0));\n          var Zc = w.tm();\n          Zc.m(0, 0);\n\n          for (var Jf = Np(this), Hg = 0; Hg < ue; Hg++) {\n            var xh = m[Hg];\n\n            if (xh !== ub && (xh.visible || xh === Jf)) {\n              var be = xh.margin,\n                  Ik = be.right + be.left,\n                  wb = be.top + be.bottom;\n              yk(xh, vh, wh, 0, 0);\n              Jd = xh.za;\n              wd = Math.max(Jd.width + Ik, 0);\n              jb = Math.max(Jd.height + wb, 0);\n              Zc.m(Math.max(wd, Zc.width), Math.max(jb, Zc.height));\n            }\n          }\n\n          if (1 === ue) e.width = wd, e.height = jb, w.Lk(Zc);else {\n            var cc = Op(ub),\n                Db = Pp(ub),\n                ce = 0,\n                jd = 0;\n            Db.x !== cc.x && Db.y !== cc.y && (ce = Zc.width / Math.abs(Db.x - cc.x), jd = Zc.height / Math.abs(Db.y - cc.y));\n            w.Lk(Zc);\n            bc = 0;\n            null !== vb && (bc = vb.mb * vb.scale, Rj(vb) === Sj && (ce = jd = Math.max(ce, jd)));\n            var ce = ce + (Math.abs(cc.offsetX) + Math.abs(Db.offsetX) + bc),\n                jd = jd + (Math.abs(cc.offsetY) + Math.abs(Db.offsetY) + bc),\n                Le = ub.stretch;\n            Le === qo && (Le = Ho(ub, !1));\n\n            switch (Le) {\n              case Qj:\n                Nb = lb = 0;\n                break;\n\n              case Ee:\n                isFinite(vc) && (ce = vc);\n                isFinite(hd) && (jd = hd);\n                break;\n\n              case so:\n                isFinite(vc) && (ce = vc);\n                Nb = 0;\n                break;\n\n              case ro:\n                lb = 0, isFinite(hd) && (jd = hd);\n            }\n\n            ub.eq();\n            yk(ub, ce, jd, lb, Nb);\n            e.width = ub.za.width + Gg;\n            e.height = ub.za.height + id;\n          }\n          break;\n\n        case \"Table\":\n          for (var ji = a, ki = b, vj = c, wj = d, Eb = m.length, yh = w.Za(), zh = w.Za(), ea = 0; ea < Eb; ea++) {\n            var aa = m[ea],\n                de = aa instanceof D ? aa : null;\n            if (null === de || de.type !== Io && de.type !== Jo || !aa.visible) yh.push(aa);else {\n              zh.push(de);\n\n              for (var gg = de.xa.n, li = gg.length, Fb = 0; Fb < li; Fb++) {\n                var mi = gg[Fb];\n                de.type === Io ? mi.Wb = aa.Wb : de.type === Jo && (mi.column = aa.column);\n                yh.push(mi);\n              }\n            }\n          }\n\n          Eb = yh.length;\n          0 === Eb && (this.fe(0), this.ee(0));\n\n          for (var Sb = [], ea = 0; ea < Eb; ea++) {\n            aa = yh[ea], cm(aa, !0), Ko(aa, !0), Sb[aa.Wb] || (Sb[aa.Wb] = []), Sb[aa.Wb][aa.column] || (Sb[aa.Wb][aa.column] = []), Sb[aa.Wb][aa.column].push(aa);\n          }\n\n          w.ra(yh);\n\n          for (var $e = w.Za(), Me = w.Za(), af = w.Za(), we = {\n            count: 0\n          }, xe = {\n            count: 0\n          }, $c = ji, Kd = ki, Ah = this.Xc, Eb = Ah.length, ea = 0; ea < Eb; ea++) {\n            var Z = Ah[ea];\n            void 0 !== Z && (Z.bb = 0);\n          }\n\n          Ah = this.Vc;\n          Eb = Ah.length;\n\n          for (ea = 0; ea < Eb; ea++) {\n            Z = Ah[ea], void 0 !== Z && (Z.bb = 0);\n          }\n\n          for (var kd = Sb.length, hg = 0, ea = 0; ea < kd; ea++) {\n            Sb[ea] && (hg = Math.max(hg, Sb[ea].length));\n          }\n\n          for (var ni = Math.min(this.kj, kd - 1), Bh = Math.min(this.Ui, hg - 1), kc = 0, kd = Sb.length, Ch = Np(this), ea = 0; ea < kd; ea++) {\n            if (Sb[ea]) for (var hg = Sb[ea].length, mb = this.fe(ea), Fb = mb.bb = 0; Fb < hg; Fb++) {\n              if (Sb[ea][Fb]) {\n                var nb = this.ee(Fb);\n                void 0 === $e[Fb] && (nb.bb = 0, $e[Fb] = !0);\n\n                for (var im = Sb[ea][Fb], bf = im.length, Jk = 0; Jk < bf; Jk++) {\n                  if (aa = im[Jk], aa.visible || aa === Ch) {\n                    var oi = 1 < aa.gj || 1 < aa.Fi;\n                    oi && (ea < ni || Fb < Bh || Me.push(aa));\n                    var wc = aa.margin,\n                        Kf = wc.right + wc.left,\n                        ig = wc.top + wc.bottom,\n                        Ob = Wo(aa, mb, nb, !1),\n                        cf = aa.Da,\n                        Kk = !isNaN(cf.height),\n                        jm = !isNaN(cf.width) && Kk;\n                    oi || Ob === Qj || jm || ea < ni || Fb < Bh || (void 0 !== we[Fb] || Ob !== Ee && Ob !== so || (we[Fb] = -1, we.count++), void 0 !== xe[ea] || Ob !== Ee && Ob !== ro || (xe[ea] = -1, xe.count++), af.push(aa));\n                    yk(aa, Infinity, Infinity, 0, 0);\n\n                    if (!(ea < ni || Fb < Bh)) {\n                      var Lf = aa.za,\n                          df = Math.max(Lf.width + Kf, 0),\n                          ef = Math.max(Lf.height + ig, 0);\n\n                      if (1 === aa.gj && (Ob === Qj || Ob === so)) {\n                        var Z = this.fe(ea),\n                            lc = Z.af(),\n                            kc = Math.max(ef - Z.bb, 0);\n                        kc + lc > Kd && (kc = Math.max(Kd - lc, 0));\n                        var jg = 0 === Z.bb;\n                        Z.bb += kc;\n                        Kd = Math.max(Kd - (kc + (jg ? lc : 0)), 0);\n                      }\n\n                      1 !== aa.Fi || Ob !== Qj && Ob !== ro || (Z = this.ee(Fb), lc = Z.af(), kc = Math.max(df - Z.bb, 0), kc + lc > $c && (kc = Math.max($c - lc, 0)), jg = 0 === Z.bb, Z.bb += kc, $c = Math.max($c - (kc + (jg ? lc : 0)), 0));\n                      oi && aa.eq();\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          w.ra($e);\n\n          for (var Dc = 0, Ab = 0, Eb = this.Pp, ea = 0; ea < Eb; ea++) {\n            var pi = this.Vc[ea];\n            void 0 !== pi && (Dc += pi.Ra, 0 !== pi.Ra && (Dc += pi.af()));\n          }\n\n          Eb = this.Bq;\n\n          for (ea = 0; ea < Eb; ea++) {\n            var Ig = this.Xc[ea];\n            void 0 !== Ig && (Ab += Ig.Ra, 0 !== Ig.Ra && (Ab += Ig.af()));\n          }\n\n          for (var $c = Math.max(ji - Dc, 0), xj = Kd = Math.max(ki - Ab, 0), qp = $c, Eb = af.length, ea = 0; ea < Eb; ea++) {\n            var aa = af[ea],\n                mb = this.fe(aa.Wb),\n                nb = this.ee(aa.column),\n                Jg = aa.za,\n                wc = aa.margin,\n                Kf = wc.right + wc.left,\n                ig = wc.top + wc.bottom;\n            we[aa.column] = 0 === nb.bb && void 0 !== we[aa.column] ? Math.max(Jg.width + Kf, we[aa.column]) : null;\n            xe[aa.Wb] = 0 === mb.bb && void 0 !== xe[aa.Wb] ? Math.max(Jg.height + ig, xe[aa.Wb]) : null;\n          }\n\n          var Mf = 0,\n              Kg = 0,\n              Lg;\n\n          for (Lg in xe) {\n            \"count\" !== Lg && (Mf += xe[Lg]);\n          }\n\n          for (Lg in we) {\n            \"count\" !== Lg && (Kg += we[Lg]);\n          }\n\n          for (var ob = w.tm(), ea = 0; ea < Eb; ea++) {\n            if (aa = af[ea], aa.visible || aa === Ch) {\n              var mb = this.fe(aa.Wb),\n                  nb = this.ee(aa.column),\n                  Vb = 0;\n              isFinite(nb.width) ? Vb = nb.width : (Vb = isFinite($c) && null !== we[aa.column] ? 0 === Kg ? nb.bb + $c : we[aa.column] / Kg * qp : null !== we[aa.column] ? $c : nb.bb || $c, Vb = Math.max(0, Vb - nb.af()));\n              var Ec = 0;\n              isFinite(mb.height) ? Ec = mb.height : (Ec = isFinite(Kd) && null !== xe[aa.Wb] ? 0 === Mf ? mb.bb + Kd : xe[aa.Wb] / Mf * xj : null !== xe[aa.Wb] ? Kd : mb.bb || Kd, Ec = Math.max(0, Ec - mb.af()));\n              ob.m(Math.max(nb.Dh, Math.min(Vb, nb.ke)), Math.max(mb.Dh, Math.min(Ec, mb.ke)));\n              Ob = Wo(aa, mb, nb, !1);\n\n              switch (Ob) {\n                case so:\n                  ob.height = Math.max(ob.height, mb.bb + Kd);\n                  break;\n\n                case ro:\n                  ob.width = Math.max(ob.width, nb.bb + $c);\n              }\n\n              wc = aa.margin;\n              Kf = wc.right + wc.left;\n              ig = wc.top + wc.bottom;\n              aa.eq();\n              yk(aa, ob.width, ob.height, nb.Dh, mb.Dh);\n              Lf = aa.za;\n              df = Math.max(Lf.width + Kf, 0);\n              ef = Math.max(Lf.height + ig, 0);\n              isFinite($c) && (df = Math.min(df, ob.width));\n              isFinite(Kd) && (ef = Math.min(ef, ob.height));\n              var ff = 0,\n                  ff = mb.bb;\n              mb.bb = Math.max(mb.bb, ef);\n              kc = mb.bb - ff;\n              Kd = Math.max(Kd - kc, 0);\n              ff = nb.bb;\n              nb.bb = Math.max(nb.bb, df);\n              kc = nb.bb - ff;\n              $c = Math.max($c - kc, 0);\n            }\n          }\n\n          w.ra(af);\n          var Ld = w.tm(),\n              Eb = Me.length;\n          if (0 !== Eb) for (var xd = w.Za(), gf = w.Za(), ea = 0; ea < kd; ea++) {\n            if (Sb[ea]) for (hg = Sb[ea].length, mb = this.fe(ea), xd[ea] = mb.bb, Fb = 0; Fb < hg; Fb++) {\n              Sb[ea][Fb] && (nb = this.ee(Fb), gf[Fb] = nb.bb);\n            }\n          }\n\n          for (ea = 0; ea < Eb; ea++) {\n            if (aa = Me[ea], aa.visible || aa === Ch) {\n              mb = this.fe(aa.Wb);\n              nb = this.ee(aa.column);\n              ob.m(Math.max(nb.Dh, Math.min(ji, nb.ke)), Math.max(mb.Dh, Math.min(ki, mb.ke)));\n              Ob = Wo(aa, mb, nb, !1);\n\n              switch (Ob) {\n                case Ee:\n                  0 !== gf[nb.index] && (ob.width = Math.min(ob.width, gf[nb.index]));\n                  0 !== xd[mb.index] && (ob.height = Math.min(ob.height, xd[mb.index]));\n                  break;\n\n                case so:\n                  0 !== gf[nb.index] && (ob.width = Math.min(ob.width, gf[nb.index]));\n                  break;\n\n                case ro:\n                  0 !== xd[mb.index] && (ob.height = Math.min(ob.height, xd[mb.index]));\n              }\n\n              isFinite(nb.width) && (ob.width = nb.width);\n              isFinite(mb.height) && (ob.height = mb.height);\n              Ld.m(0, 0);\n\n              for (var cb = 1; cb < aa.gj && !(aa.Wb + cb >= this.Bq); cb++) {\n                Z = this.fe(aa.Wb + cb), kc = Ob === Ee || Ob === ro ? Math.max(Z.Dh, 0 === xd[aa.Wb + cb] ? Z.ke : Math.min(xd[aa.Wb + cb], Z.ke)) : Math.max(Z.Dh, isNaN(Z.mf) ? Z.ke : Math.min(Z.mf, Z.ke)), Ld.height += kc;\n              }\n\n              for (cb = 1; cb < aa.Fi && !(aa.column + cb >= this.Pp); cb++) {\n                Z = this.ee(aa.column + cb), kc = Ob === Ee || Ob === so ? Math.max(Z.Dh, 0 === gf[aa.column + cb] ? Z.ke : Math.min(gf[aa.column + cb], Z.ke)) : Math.max(Z.Dh, isNaN(Z.mf) ? Z.ke : Math.min(Z.mf, Z.ke)), Ld.width += kc;\n              }\n\n              ob.width += Ld.width;\n              ob.height += Ld.height;\n              wc = aa.margin;\n              Kf = wc.right + wc.left;\n              ig = wc.top + wc.bottom;\n              yk(aa, ob.width, ob.height, vj, wj);\n\n              for (var Lf = aa.za, df = Math.max(Lf.width + Kf, 0), ef = Math.max(Lf.height + ig, 0), hf = 0, cb = 0; cb < aa.gj && !(aa.Wb + cb >= this.Bq); cb++) {\n                Z = this.fe(aa.Wb + cb), hf += Z.total || 0;\n              }\n\n              if (hf < ef) {\n                var ld = ef - hf,\n                    Mg = ef - hf;\n                if (null !== aa.By) for (var jf = aa.By, cb = 0; cb < aa.gj && !(0 >= ld) && !(aa.Wb + cb >= this.Bq); cb++) {\n                  var Z = this.fe(aa.Wb + cb),\n                      Fc = Z.Ra || 0,\n                      qi = jf(aa, Z, Mg);\n                  Z.bb = Math.min(Z.ke, Fc + qi);\n                  Z.Ra !== Fc && (ld -= Z.Ra - Fc);\n                }\n\n                for (; 0 < ld;) {\n                  Fc = Z.Ra || 0;\n                  isNaN(Z.height) && Z.ke > Fc && (Z.bb = Math.min(Z.ke, Fc + ld), Z.Ra !== Fc && (ld -= Z.Ra - Fc));\n                  if (0 === Z.index) break;\n                  Z = this.fe(Z.index - 1);\n                }\n              }\n\n              for (var Ne = 0, cb = 0; cb < aa.Fi && !(aa.column + cb >= this.Pp); cb++) {\n                Z = this.ee(aa.column + cb), Ne += Z.total || 0;\n              }\n\n              if (Ne < df) {\n                ld = df - Ne;\n                Mg = df - Ne;\n                if (null !== aa.By) for (jf = aa.By, cb = 0; cb < aa.Fi && !(0 >= ld) && !(aa.column + cb >= this.Pp); cb++) {\n                  Z = this.ee(aa.column + cb), Fc = Z.Ra || 0, qi = jf(aa, Z, Mg), Z.bb = Math.min(Z.ke, Fc + qi), Z.Ra !== Fc && (ld -= Z.Ra - Fc);\n                }\n\n                for (; 0 < ld;) {\n                  Fc = Z.Ra || 0;\n                  isNaN(Z.width) && Z.ke > Fc && (Z.bb = Math.min(Z.ke, Fc + ld), Z.Ra !== Fc && (ld -= Z.Ra - Fc));\n                  if (0 === Z.index) break;\n                  Z = this.ee(Z.index - 1);\n                }\n              }\n            }\n          }\n\n          w.ra(Me);\n          w.Lk(Ld);\n          w.Lk(ob);\n          void 0 !== xd && w.ra(xd);\n          void 0 !== gf && w.ra(gf);\n\n          for (var Ng = 0, Og = 0, Ob = Ho(this, !0), yj = this.Da, Lk = this.Hf, ye = Ab = Dc = 0, ad = 0, Eb = this.Pp, ea = 0; ea < Eb; ea++) {\n            void 0 !== this.Vc[ea] && (Z = this.ee(ea), isFinite(Z.width) ? (ye += Z.width, ye += Z.af()) : Qp(Z) === Rp ? (ye += Z.Ra, ye += Z.af()) : 0 !== Z.Ra && (Dc += Z.Ra, Dc += Z.af()));\n          }\n\n          var Ng = isFinite(yj.width) ? Math.min(yj.width, Lk.width) : Ob !== Qj && isFinite(ji) ? ji : Dc,\n              Ng = Math.max(Ng, this.si.width),\n              Ng = Math.max(Ng - ye, 0),\n              Mk = Math.max(Ng / Dc, 1);\n          isFinite(Mk) || (Mk = 1);\n\n          for (ea = 0; ea < Eb; ea++) {\n            void 0 !== this.Vc[ea] && (Z = this.ee(ea), isFinite(Z.width) || Qp(Z) === Rp || (Z.bb = Z.Ra * Mk), Z.position = e.width, 0 !== Z.Ra && (e.width += Z.Ra, e.width += Z.af()));\n          }\n\n          Eb = this.Bq;\n\n          for (ea = 0; ea < Eb; ea++) {\n            void 0 !== this.Xc[ea] && (Z = this.fe(ea), isFinite(Z.height) ? (ad += Z.height, ad += Z.af()) : Qp(Z) === Rp ? (ad += Z.Ra, ad += Z.af()) : 0 !== Z.Ra && (Ab += Z.Ra, 0 !== Z.Ra && (Ab += Z.af())));\n          }\n\n          var Og = isFinite(yj.height) ? Math.min(yj.height, Lk.height) : Ob !== Qj && isFinite(ki) ? ki : Ab,\n              Og = Math.max(Og, this.si.height),\n              Og = Math.max(Og - ad, 0),\n              Dh = Math.max(Og / Ab, 1);\n          isFinite(Dh) || (Dh = 1);\n\n          for (ea = 0; ea < Eb; ea++) {\n            void 0 !== this.Xc[ea] && (Z = this.fe(ea), isFinite(Z.height) || Qp(Z) === Rp || (Z.bb = Z.Ra * Dh), Z.position = e.height, 0 !== Z.Ra && (e.height += Z.Ra, 0 !== Z.Ra && (e.height += Z.af())));\n          }\n\n          Eb = zh.length;\n\n          for (ea = 0; ea < Eb; ea++) {\n            var md = zh[ea];\n            md.type === Io ? (Vb = e.width, Z = this.fe(md.Wb), Ec = Z.bb) : (Z = this.ee(md.column), Vb = Z.bb, Ec = e.height);\n            md.vd.m(0, 0, Vb, Ec);\n            cm(md, !1);\n            Sb[md.Wb] || (Sb[md.Wb] = []);\n            Sb[md.Wb][md.column] || (Sb[md.Wb][md.column] = []);\n            Sb[md.Wb][md.column].push(md);\n          }\n\n          w.ra(zh);\n          this.it = Sb;\n          break;\n\n        case \"Viewbox\":\n          var zj = a,\n              lm = b,\n              ot = c,\n              pt = d;\n          1 < m.length && w.k(\"Viewbox Panel cannot contain more than one GraphObject.\");\n          var kf = m[0];\n          kf.rb = 1;\n          kf.eq();\n          yk(kf, Infinity, Infinity, ot, pt);\n          var Nk = kf.za,\n              mm = kf.margin,\n              qt = mm.right + mm.left,\n              rt = mm.top + mm.bottom;\n\n          if (isFinite(zj) || isFinite(lm)) {\n            var ew = kf.scale,\n                nm = Nk.width,\n                om = Nk.height,\n                st = Math.max(zj - qt, 0),\n                tt = Math.max(lm - rt, 0),\n                Ok = 1;\n            this.Fp === Sj ? 0 !== nm && 0 !== om && (Ok = Math.min(st / nm, tt / om)) : 0 !== nm && 0 !== om && (Ok = Math.max(st / nm, tt / om));\n            0 === Ok && (Ok = 1E-4);\n            kf.rb *= Ok;\n            ew !== kf.scale && (cm(kf, !0), yk(kf, Infinity, Infinity, ot, pt));\n          }\n\n          Nk = kf.za;\n          e.width = isFinite(zj) ? zj : Math.max(Nk.width + qt, 0);\n          e.height = isFinite(lm) ? lm : Math.max(Nk.height + rt, 0);\n          break;\n\n        case \"Link\":\n          var ut = m.length;\n\n          if (this instanceof jh || this instanceof W) {\n            var si = null;\n            this instanceof W && (si = this);\n            this instanceof jh && (si = this.Ze);\n\n            if (si instanceof W) {\n              var Pk = si;\n\n              if (0 === ut) {\n                var pm = this.Ja;\n                Ua(pm, 0, 0);\n                var ze = this.za;\n                ze.m(0, 0, 0, 0);\n              } else {\n                var qm = this instanceof jh ? null : si.path,\n                    Pg = si.$n,\n                    lf = this.lj;\n                lf.assign(Pg);\n                lf.x = 0;\n                lf.y = 0;\n                var Eh = Pk.points,\n                    ti = si.qa;\n                this.Hu(!1);\n                var vt = Pg.width,\n                    wt = Pg.height;\n                this.Xi.m(Pg.x, Pg.y);\n                null === this.$g && (this.$g = new H(B));\n                this.$g.clear();\n                null !== qm && (Sp(qm, vt, wt, this), ze = qm.za, lf.Zg(ze), this.$g.add(ze));\n\n                for (var Qg = w.Wg(), Qk = w.K(), Rg = w.K(), rp = 0; rp < ut; rp++) {\n                  var Tb = m[rp];\n                  if (Tb !== qm) if (Tb.ff && Tb instanceof Y) Sp(Tb, vt, wt, this), ze = Tb.za, lf.Zg(ze), this.$g.add(ze);else if (2 > ti) yk(Tb, Infinity, Infinity), ze = Tb.za, lf.Zg(ze), this.$g.add(ze);else {\n                    var yd = Tb.Qe,\n                        yt = Tb.xB,\n                        sp = Tb.qh;\n                    sp.Vd() && (sp = Jb);\n                    var kg = Tb.Cq,\n                        fw = Tb.yB,\n                        Rk = 0,\n                        Sk = 0,\n                        rm = 0;\n\n                    if (yd < -ti || yd >= ti) {\n                      var zt = Pk.QF,\n                          Nf = Pk.PF;\n                      kg !== mj && (rm = Pk.computeAngle(Tb, kg, Nf), Tb.mg = rm);\n                      Rk = zt.x - Pg.x;\n                      Sk = zt.y - Pg.y;\n                    } else {\n                      var Md, mf;\n                      if (0 <= yd) Md = Eh.fa(yd), mf = yd < ti - 1 ? Eh.fa(yd + 1) : Md;else {\n                        var ui = ti + yd;\n                        Md = Eh.fa(ui);\n                        mf = 0 < ui ? Eh.fa(ui - 1) : Md;\n                      }\n\n                      if (Md.Qc(mf)) {\n                        var vi, wi;\n                        0 <= yd ? (vi = 0 < yd ? Eh.fa(yd - 1) : Md, wi = yd < ti - 2 ? Eh.fa(yd + 2) : mf) : (vi = ui < ti - 1 ? Eh.fa(ui + 1) : Md, wi = 1 < ui ? Eh.fa(ui - 2) : mf);\n                        var At = vi.Cf(Md),\n                            Bt = mf.Cf(wi),\n                            Nf = At > Bt + 10 ? 0 <= yd ? vi.Qb(Md) : Md.Qb(vi) : Bt > At + 10 ? 0 <= yd ? mf.Qb(wi) : wi.Qb(mf) : 0 <= yd ? vi.Qb(wi) : wi.Qb(vi);\n                      } else Nf = 0 <= yd ? Md.Qb(mf) : mf.Qb(Md);\n\n                      kg !== mj && (rm = Pk.computeAngle(Tb, kg, Nf), Tb.mg = rm);\n                      Rk = Md.x + (mf.x - Md.x) * yt - Pg.x;\n                      Sk = Md.y + (mf.y - Md.y) * yt - Pg.y;\n                    }\n\n                    yk(Tb, Infinity, Infinity);\n                    var ze = Tb.za,\n                        pm = Tb.Ja,\n                        Tk = 0;\n                    Tb instanceof Y && (Tk = Tb.mb);\n                    var xi = pm.width + Tk,\n                        Aj = pm.height + Tk;\n                    Qg.reset();\n                    Qg.translate(-ze.x, -ze.y);\n                    Qg.scale(Tb.scale, Tb.scale);\n                    Qg.rotate(kg === mj ? Tb.angle : Nf, xi / 2, Aj / 2);\n                    kg !== Tp && kg !== Up || Qg.rotate(90, xi / 2, Aj / 2);\n                    kg !== Vp && kg !== Wp || Qg.rotate(-90, xi / 2, Aj / 2);\n                    kg === Xp && (45 < Nf && 135 > Nf || 225 < Nf && 315 > Nf) && Qg.rotate(-Nf, xi / 2, Aj / 2);\n                    var Bj = new B(0, 0, xi, Aj);\n                    Qk.ao(Bj, sp);\n                    Qg.nb(Qk);\n                    var gw = -Qk.x + Tk / 2 * Tb.scale,\n                        hw = -Qk.y + Tk / 2 * Tb.scale;\n                    Rg.assign(fw);\n                    isNaN(Rg.x) && (Rg.x = 0 <= yd ? xi / 2 + 3 : -(xi / 2 + 3));\n                    isNaN(Rg.y) && (Rg.y = -(Aj / 2 + 3));\n                    Rg.rotate(Nf);\n                    Rk += Rg.x;\n                    Sk += Rg.y;\n                    Bj.set(ze);\n                    Bj.x = Rk + gw;\n                    Bj.y = Sk + hw;\n                    this.$g.add(Bj);\n                    lf.Zg(Bj);\n                  }\n                }\n\n                if (this instanceof W) for (var Ct = this.Ff; Ct.next();) {\n                  yk(Ct.value, Infinity, Infinity);\n                }\n                this.lj = lf;\n                var tp = this.Xi;\n                tp.m(tp.x + lf.x, tp.y + lf.y);\n                Ua(e, lf.width || 0, lf.height || 0);\n                w.bf(Qg);\n                w.v(Qk);\n                w.v(Rg);\n              }\n            }\n          }\n\n          break;\n\n        case \"Grid\":\n          break;\n\n        case \"Graduated\":\n          var iw = a,\n              jw = b,\n              kw = c,\n              lw = d,\n              Sg = this.Cd();\n          this.Fm = [];\n          var Cj = Sg.margin,\n              mw = Cj.right + Cj.left,\n              nw = Cj.top + Cj.bottom;\n          yk(Sg, iw, jw, kw, lw);\n          var Dt = Sg.za,\n              ow = Dt.height,\n              pw = Math.max(Dt.width + mw, 0),\n              qw = Math.max(ow + nw, 0),\n              Et = new B(-Cj.left, -Cj.top, pw, qw);\n          this.Fm.push(Et);\n          e.assign(Et);\n\n          for (var Yk = Sg.of, Ft = Sg.mb, up = Yk.Gx, Dj = Yk.gu, yi = Yk.hu, rw = up.length, vp = 0, wp = 0, Ej = w.Za(), xp = 0; xp < rw; xp++) {\n            for (var yp = up[xp], Gt = [], wp = vp = 0, sw = yp.length, Fj = 0; Fj < sw; Fj += 2) {\n              var Ht = yp[Fj],\n                  It = yp[Fj + 1];\n\n              if (0 !== Fj) {\n                var zd = 180 * Math.atan2(It - wp, Ht - vp) / Math.PI;\n                0 > zd && (zd += 360);\n                Gt.push(zd);\n              }\n\n              vp = Ht;\n              wp = It;\n            }\n\n            Ej.push(Gt);\n          }\n\n          var Jt;\n\n          if (null === this.ak) {\n            for (var Kt = [], zp = this.xa.n, Lt = zp.length, Ap = 0; Ap < Lt; Ap++) {\n              var Zk = zp[Ap],\n                  Mt = [];\n              Kt.push(Mt);\n              if (Zk.visible) for (var tw = Zk.interval, Bp = 0; Bp < Lt; Bp++) {\n                var $k = zp[Bp];\n\n                if ($k.visible && Zk !== $k && !(Zk instanceof Y && !($k instanceof Y) || Zk instanceof Lh && !($k instanceof Lh))) {\n                  var Nt = $k.interval;\n                  Nt > tw && Mt.push(Nt);\n                }\n              }\n            }\n\n            this.ak = Kt;\n          }\n\n          Jt = this.ak;\n          var Ot = this.xa.n,\n              uw = Ot.length,\n              Fh = 0,\n              Pt = 0,\n              Qt = yi;\n          this.Hm = [];\n\n          for (var tm = [], um = 0; um < uw; um++) {\n            var Gh = Ot[um],\n                tm = [];\n\n            if (Gh.visible && Gh !== Sg) {\n              var Rt = Gh.interval,\n                  St = this.KA;\n\n              if (!(2 > St * Rt * yi / this.ou)) {\n                var ee = this.oF,\n                    Tt = Jt[um],\n                    zi = Dj[0][0],\n                    Of = 0,\n                    Ad = 0,\n                    Pt = yi * Gh.nF - 1E-4,\n                    Qt = yi * Gh.lF + 1E-4,\n                    Gj = St * Rt;\n                if (ee < this.Pk) var Ai = (this.Pk - ee) / Gj,\n                    Ai = 0 === Ai % 1 ? Ai : Math.floor(Ai + 1),\n                    ee = ee + Ai * Gj;else ee > this.Pk + Gj && (Ai = Math.floor((ee - this.Pk) / Gj), ee -= Ai * Gj);\n\n                for (; ee <= this.JA;) {\n                  var Cp;\n\n                  a: {\n                    for (var vw = Tt.length, Dp = 0; Dp < vw; Dp++) {\n                      if (Wa((ee - this.oF) % (Tt[Dp] * this.KA), 0)) {\n                        Cp = !1;\n                        break a;\n                      }\n                    }\n\n                    Cp = !0;\n                  }\n\n                  if (Cp && (Fh = (ee - this.Pk) * yi / this.ou, Fh > yi && (Fh = yi), Pt <= Fh && Fh <= Qt)) {\n                    for (var zd = Ej[Of][Ad], Hj = Dj[Of][Ad]; Of < Dj.length;) {\n                      for (; Fh > zi && Ad < Dj[Of].length - 1;) {\n                        Ad++, zd = Ej[Of][Ad], Hj = Dj[Of][Ad], zi += Hj;\n                      }\n\n                      if (Fh <= zi) break;\n                      Of++;\n                      Ad = 0;\n                      zd = Ej[Of][Ad];\n                      Hj = Dj[Of][Ad];\n                      zi += Hj;\n                    }\n\n                    var Nd = up[Of],\n                        Ut = Nd[2 * Ad],\n                        Vt = Nd[2 * Ad + 1],\n                        vm = (Fh - (zi - Hj)) / Hj,\n                        Ep = new z(Ut + (Nd[2 * Ad + 2] - Ut) * vm + Ft / 2 - Yk.eb.x, Vt + (Nd[2 * Ad + 3] - Vt) * vm + Ft / 2 - Yk.eb.y);\n                    Ep.scale(Sg.scale, Sg.scale);\n                    var lg = zd,\n                        Ij = Ej[Of];\n                    1E-4 > vm ? 0 < Ad ? lg = Ij[Ad - 1] : Wa(Nd[0], Nd[Nd.length - 2]) && Wa(Nd[1], Nd[Nd.length - 1]) && (lg = Ij[Ij.length - 1]) : .9999 < vm && (Ad + 1 < Ij.length ? lg = Ij[Ad + 1] : Wa(Nd[0], Nd[Nd.length - 2]) && Wa(Nd[1], Nd[Nd.length - 1]) && (lg = Ij[0]));\n                    zd !== lg && (180 < Math.abs(zd - lg) && (zd < lg ? zd += 360 : lg += 360), zd = (zd + lg) / 2 % 360);\n\n                    if (Gh instanceof Lh) {\n                      var Hh = \"\";\n                      null !== Gh.mF ? (Hh = Gh.mF(ee), Hh = null !== Hh && void 0 !== Hh ? Hh.toString() : \"\") : Hh = (+ee.toFixed(2)).toString();\n                      \"\" !== Hh && tm.push([Ep, zd, Hh]);\n                    } else tm.push([Ep, zd]);\n                  }\n\n                  ee += Gj;\n                }\n              }\n            }\n\n            this.Hm.push(tm);\n          }\n\n          w.ra(Ej);\n\n          for (var ww = this.Hm, xw = m.length, wm = 0; wm < xw; wm++) {\n            var Bi = m[wm],\n                Fp = ww[wm];\n\n            if (Bi.visible && Bi !== Sg && 0 !== Fp.length) {\n              if (Bi instanceof Y) {\n                var Ih = Bi,\n                    Wt = Fp,\n                    yw = e,\n                    Gp = Ih.qh;\n                Gp.Vd() && (Gp = Bb);\n                var zw = Ih.angle;\n                Ih.mg = 0;\n                yk(Ih, Infinity, Infinity);\n                Ih.mg = zw;\n                var Xt = Ih.za,\n                    Hp = Xt.width,\n                    Ip = Xt.height,\n                    Yt = w.lg(0, 0, Hp, Ip),\n                    fe = w.K();\n                fe.ao(Yt, Gp);\n                w.Bb(Yt);\n\n                for (var xm = -fe.x, ym = -fe.y, Ci = new B(), Aw = Wt.length, zm = 0; zm < Aw; zm++) {\n                  for (var Jp = Wt[zm], Zt = Jp[0].x, $t = Jp[0].y, au = Jp[1], Am = 0; 4 > Am; Am++) {\n                    switch (Am) {\n                      case 0:\n                        fe.m(xm, ym);\n                        break;\n\n                      case 1:\n                        fe.m(xm + Hp, ym);\n                        break;\n\n                      case 2:\n                        fe.m(xm, ym + Ip);\n                        break;\n\n                      case 3:\n                        fe.m(xm + Hp, ym + Ip);\n                    }\n\n                    fe.rotate(au + Ih.angle);\n                    fe.offset(Zt, $t);\n                    0 === zm && 0 === Am ? Ci.m(fe.x, fe.y, 0, 0) : Ci.yi(fe);\n                    fe.offset(-Zt, -$t);\n                    fe.rotate(-au - Ih.angle);\n                  }\n                }\n\n                w.v(fe);\n                this.Fm.push(Ci);\n                ab(yw, Ci.x, Ci.y, Ci.width, Ci.height);\n              } else if (Bi instanceof Lh) {\n                var Bm = Bi,\n                    bu = Fp,\n                    Bw = e;\n                null === this.vk && (this.vk = new Lh());\n                var Pf = this.vk;\n                np(Bm, Pf);\n                var Kp = Bm.qh;\n                Kp.Vd() && (Kp = Bb);\n\n                for (var Jh = Bm.Cq, Cw = Bm.yB, Di = null, Cm = 0, Dm = 0, Tg = 0, Lp = 0, Dw = bu.length, Em = 0; Em < Dw; Em++) {\n                  var mg = bu[Em],\n                      Cm = mg[0].x,\n                      Dm = mg[0].y,\n                      Tg = mg[1];\n                  Jh !== mj && (Lp = W.computeAngle(Jh, Tg), Pf.mg = Lp);\n                  Pf.text = mg[2];\n                  yk(Pf, Infinity, Infinity);\n                  var Kh = Pf.za,\n                      Jj = Pf.Ja,\n                      Kj = Jj.width,\n                      Lj = Jj.height,\n                      Ug = w.Wg();\n                  Ug.reset();\n                  Ug.translate(-Kh.x, -Kh.y);\n                  Ug.scale(Pf.scale, Pf.scale);\n                  Ug.rotate(Jh === mj ? Pf.angle : Tg, Kj / 2, Lj / 2);\n                  Jh !== Tp && Jh !== Up || Ug.rotate(90, Kj / 2, Lj / 2);\n                  Jh !== Vp && Jh !== Wp || Ug.rotate(-90, Kj / 2, Lj / 2);\n                  Jh === Xp && (45 < Tg && 135 > Tg || 225 < Tg && 315 > Tg) && Ug.rotate(-Tg, Kj / 2, Lj / 2);\n                  var cu = w.lg(0, 0, Kj, Lj),\n                      al = w.K();\n                  al.ao(cu, Kp);\n                  Ug.nb(al);\n                  var Ew = -al.x,\n                      Fw = -al.y,\n                      Vg = w.K();\n                  Vg.assign(Cw);\n                  isNaN(Vg.x) && (Vg.x = Kj / 2 + 3);\n                  isNaN(Vg.y) && (Vg.y = -(Lj / 2 + 3));\n                  Vg.rotate(Tg);\n                  var Cm = Cm + (Vg.x + Ew),\n                      Dm = Dm + (Vg.y + Fw),\n                      Mp = new B(Cm, Dm, Kh.width, Kh.height),\n                      Gw = new B(Kh.x, Kh.y, Kh.width, Kh.height),\n                      Hw = new B(Jj.x, Jj.y, Jj.width, Jj.height),\n                      du = new Yp();\n                  du.Qp(Pf.zf);\n                  mg.push(Lp);\n                  mg.push(Pf.pe);\n                  mg.push(du);\n                  mg.push(Mp);\n                  mg.push(Gw);\n                  mg.push(Hw);\n                  0 === Em ? Di = Mp.copy() : Di.Zg(Mp);\n                  w.v(Vg);\n                  w.v(al);\n                  w.Bb(cu);\n                  w.bf(Ug);\n                }\n\n                this.Fm.push(Di);\n                ab(Bw, Di.x, Di.y, Di.width, Di.height);\n              }\n\n              cm(Bi, !1);\n            }\n          }\n\n          break;\n\n        case \"TableRow\":\n        case \"TableColumn\":\n          w.k(this.toString() + \" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.\");\n          break;\n\n        default:\n          w.k(\"Unknown panel type: \" + n);\n      }\n    }\n\n    var nf = e.width,\n        of = e.height,\n        Fm = this.padding,\n        Iw = Fm.top + Fm.bottom,\n        nf = nf + (Fm.left + Fm.right),\n        of = of + Iw;\n    isFinite(f.width) && (nf = f.width);\n    isFinite(f.height) && (of = f.height);\n    nf = Math.min(k.width, nf);\n    of = Math.min(k.height, of);\n    nf = Math.max(h.width, nf);\n    of = Math.max(h.height, of);\n    nf = Math.max(c, nf);\n    of = Math.max(d, of);\n    e.width = nf;\n    e.height = of;\n    Ua(this.Nc, nf, of);\n    Eo(this, 0, 0, nf, of);\n  };\n\n  D.prototype.findMainElement = D.prototype.Cd = function () {\n    if (null === this.Il) {\n      var a = this.xa.n,\n          b = a.length;\n      if (0 === b) return null;\n\n      for (var c = 0; c < b; c++) {\n        var d = a[c];\n        if (!0 === d.ff) return this.Il = d;\n      }\n\n      this.Il = a[0];\n    }\n\n    return this.Il;\n  };\n\n  function Np(a) {\n    return null !== a.W ? a.W.cg : null;\n  }\n\n  D.prototype.pj = function (a, b, c, d) {\n    var e = this.lj,\n        f = this.xa.n,\n        h = w.lg(0, 0, 0, 0);\n\n    if (0 === f.length) {\n      var k = this.U;\n      k.x = a;\n      k.y = b;\n      k.width = c;\n      k.height = d;\n    } else {\n      if (!this.Da.I()) {\n        var l = Ho(this, !0),\n            m = this.vd,\n            n = m.width,\n            p = m.height,\n            q = this.margin,\n            r = q.left + q.right,\n            s = q.top + q.bottom;\n        n === c && p === d && (l = Qj);\n\n        switch (l) {\n          case Qj:\n            if (n > c || p > d) this.H(), yk(this, n > c ? c : n, p > d ? d : p);\n            break;\n\n          case Ee:\n            this.H(!0);\n            yk(this, c + r, d + s, 0, 0);\n            break;\n\n          case so:\n            this.H(!0);\n            yk(this, c + r, p + s, 0, 0);\n            break;\n\n          case ro:\n            this.H(!0), yk(this, n + r, d + s, 0, 0);\n        }\n      }\n\n      k = this.U;\n      k.x = a;\n      k.y = b;\n      k.width = c;\n      k.height = d;\n      var t = this.na.Sb;\n\n      switch (t) {\n        case \"Position\":\n          for (var u = f.length, y = e.x - this.padding.left, v = e.y - this.padding.top, x = 0; x < u; x++) {\n            var A = f[x],\n                L = A.za,\n                C = A.margin,\n                O = A.position.x,\n                X = A.position.y;\n            h.x = isNaN(O) ? -y : O - y;\n            h.y = isNaN(X) ? -v : X - v;\n\n            if (A instanceof Y) {\n              var S = A;\n\n              if (S.AF) {\n                var ba = S.mb / 2;\n                h.x -= ba;\n                h.y -= ba;\n              }\n            }\n\n            h.x += C.left;\n            h.y += C.top;\n            h.width = L.width;\n            h.height = L.height;\n            A.visible && A.jc(h.x, h.y, h.width, h.height);\n          }\n\n          break;\n\n        case \"Vertical\":\n          for (var ha = f.length, ya = this.padding.left, Ga = this.GF, eb = Ga ? e.height : this.padding.top, va = 0; va < ha; va++) {\n            var U = ya,\n                sb = f[va];\n\n            if (sb.visible) {\n              var Kb = sb.za,\n                  Oa = sb.margin,\n                  Lc = Oa.left + Oa.right,\n                  Ma = ya + this.padding.right,\n                  cg = Kb.width,\n                  dg = Ho(sb, !1);\n              if (isNaN(sb.Da.width) && dg === Ee || dg === so) cg = Math.max(e.width - Lc - Ma, 0);\n              var td = cg + Lc + Ma,\n                  ud = sb.alignment;\n              ud.Zc() && (ud = this.Zl);\n              ud.$c() || (ud = Jb);\n              Ga && (eb -= Kb.height + Oa.bottom + Oa.top);\n              sb.jc(U + ud.offsetX + Oa.left + (e.width * ud.x - td * ud.x), eb + ud.offsetY + Oa.top, cg, Kb.height);\n              Ga || (eb += Kb.height + Oa.bottom + Oa.top);\n            }\n          }\n\n          break;\n\n        case \"Horizontal\":\n          for (var Mc = f.length, rh = this.padding.top, Xe = this.GF, fb = Xe ? e.width : this.padding.left, pb = 0; pb < Mc; pb++) {\n            var na = rh,\n                ja = f[pb];\n\n            if (ja.visible) {\n              var Za = ja.za,\n                  Ia = ja.margin,\n                  kb = Ia.top + Ia.bottom,\n                  Id = rh + this.padding.bottom,\n                  Gf = Za.height,\n                  se = Ho(ja, !1);\n              if (isNaN(ja.Da.height) && se === Ee || se === ro) Gf = Math.max(e.height - kb - Id, 0);\n              var $d = Gf + kb + Id,\n                  gd = ja.alignment;\n              gd.Zc() && (gd = this.Zl);\n              gd.$c() || (gd = Jb);\n              Xe && (fb -= Za.width + Ia.left + Ia.right);\n              ja.jc(fb + gd.offsetX + Ia.left, na + gd.offsetY + Ia.top + (e.height * gd.y - $d * gd.y), Za.width, Gf);\n              Xe || (fb += Za.width + Ia.left + Ia.right);\n            }\n          }\n\n          break;\n\n        case \"Spot\":\n          var sh = f.length,\n              Hf = this.Cd(),\n              Eg = Hf.za,\n              Cb = Eg.width,\n              Ac = Eg.height,\n              ae = this.padding,\n              th = ae.left,\n              qb = ae.top;\n          h.x = th - e.x;\n          h.y = qb - e.y;\n          Hf.jc(h.x, h.y, Cb, Ac);\n\n          for (var Ja = 0; Ja < sh; Ja++) {\n            var Lb = f[Ja];\n\n            if (Lb !== Hf) {\n              var If = Lb.za,\n                  Fg = If.width,\n                  uh = If.height,\n                  gb = Lb.alignment;\n              gb.Zc() && (gb = this.Zl);\n              gb.$c() || (gb = Jb);\n              var sc = Lb.qh;\n              sc.Zc() && (sc = Jb);\n              var Ub = null;\n              Lb instanceof D && \"\" !== Lb.Oj && (Ub = Lb.Dd(Lb.Oj), Ub === Lb && (Ub = null));\n\n              if (null !== Ub) {\n                for (var te = Ub.Ja, tc = w.wb(sc.x * te.width + sc.offsetX, sc.y * te.height + sc.offsetY); Ub !== Lb;) {\n                  Ub.transform.nb(tc), Ub = Ub.R;\n                }\n\n                h.x = gb.x * Cb + gb.offsetX - tc.x;\n                h.y = gb.y * Ac + gb.offsetY - tc.y;\n                w.v(tc);\n              } else h.x = gb.x * Cb + gb.offsetX - (sc.x * Fg - sc.offsetX), h.y = gb.y * Ac + gb.offsetY - (sc.y * uh - sc.offsetY);\n\n              h.x -= e.x;\n              h.y -= e.y;\n              Lb.visible && Lb.jc(th + h.x, qb + h.y, Fg, uh);\n            }\n          }\n\n          break;\n\n        case \"Auto\":\n          var uc = f.length,\n              rb = this.Cd(),\n              jc = rb.za,\n              tb = w.vf();\n          tb.m(0, 0, 1, 1);\n          var Bc = rb.margin,\n              bb = Bc.left,\n              Qa = Bc.top,\n              Hb = this.padding,\n              vd = Hb.left,\n              eg = Hb.top;\n          h.x = bb;\n          h.y = Qa;\n          h.width = jc.width;\n          h.height = jc.height;\n          rb.jc(vd + h.x, eg + h.y, h.width, h.height);\n          var Ye = Op(rb),\n              fg = Pp(rb),\n              uj = 0 + Ye.y * jc.height + Ye.offsetY,\n              Mb = 0 + fg.x * jc.width + fg.offsetX,\n              Cc = 0 + fg.y * jc.height + fg.offsetY;\n          tb.x = 0 + Ye.x * jc.width + Ye.offsetX;\n          tb.y = uj;\n          ab(tb, Mb, Cc, 0, 0);\n          tb.x += bb + vd;\n          tb.y += Qa + eg;\n\n          for (var vc = 0; vc < uc; vc++) {\n            var hd = f[vc];\n\n            if (hd !== rb) {\n              var lb = hd.za,\n                  Bc = hd.margin,\n                  Nb = Math.max(lb.width + Bc.right + Bc.left, 0),\n                  ue = Math.max(lb.height + Bc.top + Bc.bottom, 0),\n                  ub = hd.alignment;\n              ub.Zc() && (ub = this.Zl);\n              ub.$c() || (ub = Jb);\n              h.x = tb.width * ub.x + ub.offsetX - Nb * ub.x + Bc.left + tb.x;\n              h.y = tb.height * ub.y + ub.offsetY - ue * ub.y + Bc.top + tb.y;\n              h.width = tb.width;\n              h.height = tb.height;\n              hd.visible && (db(tb.x, tb.y, tb.width, tb.height, h.x, h.y, lb.width, lb.height) ? hd.jc(h.x, h.y, lb.width, lb.height) : hd.jc(h.x, h.y, lb.width, lb.height, new B(tb.x, tb.y, tb.width, tb.height)));\n            }\n          }\n\n          w.Bb(tb);\n          break;\n\n        case \"Table\":\n          for (var be = f.length, vh = this.padding, wh = vh.left, Gg = vh.top, id = this.it, Jd = 0, bc = 0, vb = id.length, wd = 0, jb = 0; jb < vb; jb++) {\n            id[jb] && (wd = Math.max(wd, id[jb].length));\n          }\n\n          for (var cc = Math.min(this.kj, vb - 1); cc !== vb && (void 0 === this.Xc[cc] || 0 === this.Xc[cc].Ra);) {\n            cc++;\n          }\n\n          for (var cc = Math.min(cc, vb - 1), ii = -this.Xc[cc].ab, Yc = Math.min(this.Ui, wd - 1); Yc !== wd && (void 0 === this.Vc[Yc] || 0 === this.Vc[Yc].Ra);) {\n            Yc++;\n          }\n\n          for (var Yc = Math.min(Yc, wd - 1), Db = -this.Vc[Yc].ab, ve = w.tm(), jb = 0; jb < vb; jb++) {\n            if (id[jb]) {\n              var wd = id[jb].length,\n                  Ze = this.fe(jb),\n                  bc = Ze.ab + ii + Gg;\n              0 !== Ze.Ra && (bc += Ze.KE());\n\n              for (var Zc = 0; Zc < wd; Zc++) {\n                if (id[jb][Zc]) {\n                  var Jf = this.ee(Zc),\n                      Jd = Jf.ab + Db + wh;\n                  0 !== Jf.Ra && (Jd += Jf.KE());\n\n                  for (var Hg = id[jb][Zc], xh = Hg.length, Ik = 0; Ik < xh; Ik++) {\n                    var wb = Hg[Ik],\n                        ce = wb.za,\n                        jd = wb instanceof D ? wb : null;\n\n                    if (null === jd || jd.type !== Io && jd.type !== Jo) {\n                      ve.m(0, 0);\n\n                      for (var Le = 1; Le < wb.rowSpan && !(jb + Le >= this.Bq); Le++) {\n                        var ji = this.fe(jb + Le);\n                        ve.height += ji.total;\n                      }\n\n                      for (Le = 1; Le < wb.zH && !(Zc + Le >= this.Pp); Le++) {\n                        var ki = this.ee(Zc + Le);\n                        ve.width += ki.total;\n                      }\n\n                      var vj = Jf.Ra + ve.width,\n                          wj = Ze.Ra + ve.height;\n                      h.x = Jd;\n                      h.y = bc;\n                      h.width = vj;\n                      h.height = wj;\n                      var Eb = Jd,\n                          yh = bc,\n                          zh = vj,\n                          ea = wj;\n                      Jd + vj > e.width && (zh = Math.max(e.width - Jd, 0));\n                      bc + wj > e.height && (ea = Math.max(e.height - bc, 0));\n                      var aa = wb.alignment,\n                          de = 0,\n                          gg = 0,\n                          li = 0,\n                          Fb = 0;\n\n                      if (aa.Zc()) {\n                        aa = this.Zl;\n                        aa.$c() || (aa = Jb);\n                        var de = aa.x,\n                            gg = aa.y,\n                            li = aa.offsetX,\n                            Fb = aa.offsetY,\n                            mi = Jf.alignment,\n                            Sb = Ze.alignment;\n                        mi.$c() && (de = mi.x, li = mi.offsetX);\n                        Sb.$c() && (gg = Sb.y, Fb = Sb.offsetY);\n                      } else de = aa.x, gg = aa.y, li = aa.offsetX, Fb = aa.offsetY;\n\n                      if (isNaN(de) || isNaN(gg)) gg = de = .5, Fb = li = 0;\n                      var $e = ce.width,\n                          Me = ce.height,\n                          af = wb.margin,\n                          we = af.left + af.right,\n                          xe = af.top + af.bottom,\n                          $c = Wo(wb, Ze, Jf, !1);\n                      !isNaN(wb.Da.width) || $c !== Ee && $c !== so || ($e = Math.max(vj - we, 0));\n                      !isNaN(wb.Da.height) || $c !== Ee && $c !== ro || (Me = Math.max(wj - xe, 0));\n                      var Kd = wb.Hf,\n                          Ah = wb.si,\n                          $e = Math.min(Kd.width, $e),\n                          Me = Math.min(Kd.height, Me),\n                          $e = Math.max(Ah.width, $e),\n                          Me = Math.max(Ah.height, Me),\n                          Z = Me + xe;\n                      h.x += h.width * de - ($e + we) * de + li + af.left;\n                      h.y += h.height * gg - Z * gg + Fb + af.top;\n                      wb.visible && (db(Eb, yh, zh, ea, h.x, h.y, ce.width, ce.height) ? wb.jc(h.x, h.y, $e, Me) : wb.jc(h.x, h.y, $e, Me, new B(Eb, yh, zh, ea)));\n                    } else {\n                      wb.Ri();\n                      wb.pc.Qa();\n                      var kd = wb.pc,\n                          hg = w.lg(kd.x, kd.y, kd.width, kd.height);\n                      kd.x = jd.type === Io ? wh : Jd;\n                      kd.y = jd.type === Jo ? Gg : bc;\n                      kd.width = ce.width;\n                      kd.height = ce.height;\n                      wb.pc.freeze();\n                      Ko(wb, !1);\n\n                      if (!Va(hg, kd)) {\n                        var ni = wb.W;\n                        null !== ni && (ni.Rk(), wb.Ks(ni));\n                      }\n\n                      w.Bb(hg);\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          w.Lk(ve);\n\n          for (jb = 0; jb < be; jb++) {\n            wb = f[jb], jd = wb instanceof D ? wb : null, null === jd || jd.type !== Io && jd.type !== Jo || (kd = wb.pc, wb.Nc.Qa(), wb.Nc.m(0, 0, kd.width, kd.height), wb.Nc.freeze());\n          }\n\n          break;\n\n        case \"Viewbox\":\n          var Bh = f[0],\n              kc = Bh.za,\n              Ch = Bh.margin,\n              mb = Ch.top + Ch.bottom,\n              nb = Math.max(kc.width + (Ch.right + Ch.left), 0),\n              im = Math.max(kc.height + mb, 0),\n              bf = Bh.alignment;\n          bf.Zc() && (bf = this.Zl);\n          bf.$c() || (bf = Jb);\n          h.x = e.width * bf.x - nb * bf.x + bf.offsetX;\n          h.y = e.height * bf.y - im * bf.y + bf.offsetY;\n          h.width = kc.width;\n          h.height = kc.height;\n          Bh.jc(h.x, h.y, h.width, h.height);\n          break;\n\n        case \"Link\":\n          var Jk = f.length;\n\n          if (this instanceof jh || this instanceof W) {\n            var oi = null;\n            this instanceof W && (oi = this);\n            this instanceof jh && (oi = this.Ze);\n            var wc = oi,\n                Kf = this instanceof jh ? null : wc.path;\n\n            if (null !== this.$g) {\n              var ig = this.$g.n,\n                  Ob = 0;\n\n              if (null !== Kf && Ob < this.$g.count) {\n                var cf = ig[Ob];\n                Ob++;\n                Kf.jc(cf.x - this.lj.x, cf.y - this.lj.y, cf.width, cf.height);\n              }\n\n              for (var Kk = 0; Kk < Jk; Kk++) {\n                var jm = f[Kk];\n                jm !== Kf && Ob < this.$g.count && (cf = ig[Ob], Ob++, jm.jc(cf.x - this.lj.x, cf.y - this.lj.y, cf.width, cf.height));\n              }\n            }\n\n            var Lf = wc.points,\n                df = Lf.count;\n            if (2 <= df && this instanceof W) for (var ef = this.Ff; ef.next();) {\n              var lc = ef.value,\n                  jg = df,\n                  Dc = Lf,\n                  Ab = lc.Qe,\n                  pi = lc.xB,\n                  Ig = lc.qh,\n                  xj = lc.Cq,\n                  qp = lc.yB,\n                  Jg = 0,\n                  Mf = 0,\n                  Kg = 0;\n\n              if (Ab < -jg || Ab >= jg) {\n                var Lg = this.QF,\n                    ob = this.PF;\n                xj !== mj && (Kg = this.computeAngle(lc, xj, ob), lc.angle = Kg);\n                Jg = Lg.x;\n                Mf = Lg.y;\n              } else {\n                var Vb = void 0,\n                    Ec = void 0;\n                if (0 <= Ab) Vb = Dc.n[Ab], Ec = Ab < jg - 1 ? Dc.n[Ab + 1] : Vb;else var ff = jg + Ab,\n                    Vb = Dc.n[ff],\n                    Ec = 0 < ff ? Dc.n[ff - 1] : Vb;\n\n                if (Vb.Qc(Ec)) {\n                  var Ld = void 0,\n                      xd = void 0;\n                  0 <= Ab ? (Ld = 0 < Ab ? Dc.n[Ab - 1] : Vb, xd = Ab < jg - 2 ? Dc.n[Ab + 2] : Ec) : (Ld = ff < jg - 1 ? Dc.n[ff + 1] : Vb, xd = 1 < ff ? Dc.n[ff - 2] : Ec);\n                  var gf = Ld.Cf(Vb),\n                      cb = Ec.Cf(xd),\n                      ob = gf > cb + 10 ? 0 <= Ab ? Ld.Qb(Vb) : Vb.Qb(Ld) : cb > gf + 10 ? 0 <= Ab ? Ec.Qb(xd) : xd.Qb(Ec) : 0 <= Ab ? Ld.Qb(xd) : xd.Qb(Ld);\n                } else ob = 0 <= Ab ? Vb.Qb(Ec) : Ec.Qb(Vb);\n\n                xj !== mj && (Kg = this.computeAngle(lc, xj, ob), lc.angle = Kg);\n                Jg = Vb.x + (Ec.x - Vb.x) * pi;\n                Mf = Vb.y + (Ec.y - Vb.y) * pi;\n              }\n\n              if (Ig.L(yb)) lc.location = new z(Jg, Mf);else {\n                Ig.Vd() && (Ig = Jb);\n                var hf = w.Wg();\n                hf.reset();\n                hf.scale(lc.scale, lc.scale);\n                hf.rotate(lc.angle, 0, 0);\n                var ld = lc.Ja,\n                    Mg = w.lg(0, 0, ld.width, ld.height),\n                    jf = w.K();\n                jf.ao(Mg, Ig);\n                hf.nb(jf);\n                var Fc = -jf.x,\n                    qi = -jf.y,\n                    Ne = qp.copy();\n                isNaN(Ne.x) && (Ne.x = 0 <= Ab ? jf.x + 3 : -(jf.x + 3));\n                isNaN(Ne.y) && (Ne.y = -(jf.y + 3));\n                Ne.rotate(ob);\n                Jg += Ne.x;\n                Mf += Ne.y;\n                hf.HG(Mg);\n                var Fc = Fc + Mg.x,\n                    qi = qi + Mg.y,\n                    Ng = w.wb(Jg + Fc, Mf + qi);\n                lc.move(Ng);\n                w.v(Ng);\n                w.v(jf);\n                w.Bb(Mg);\n                w.bf(hf);\n              }\n            }\n            this.Hu(!1);\n          }\n\n          break;\n\n        case \"Grid\":\n          break;\n\n        case \"Graduated\":\n          if (null !== this.Fm) {\n            var Og = this.Cd(),\n                yj = this.Hm,\n                Lk = this.Fm,\n                ye = 0,\n                ad = Lk[ye];\n            ye++;\n            Og.jc(ad.x - e.x, ad.y - e.y, ad.width, ad.height);\n\n            for (var Mk = f.length, Dh = 0; Dh < Mk; Dh++) {\n              var md = f[Dh],\n                  zj = yj[Dh];\n              md.visible && md !== Og && 0 !== zj.length && (ad = Lk[ye], ye++, md.jc(ad.x - e.x, ad.y - e.y, ad.width, ad.height));\n            }\n\n            this.Fm = null;\n          }\n\n          break;\n\n        case \"TableRow\":\n        case \"TableColumn\":\n          w.k(this.toString() + \" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.\");\n          break;\n\n        default:\n          w.k(\"Unknown panel type: \" + t);\n      }\n\n      w.Bb(h);\n    }\n  };\n\n  D.prototype.Ek = function (a) {\n    var b = this.Ja,\n        c = Np(this);\n\n    if (db(0, 0, b.width, b.height, a.x, a.y)) {\n      for (var b = this.xa.n, d = b.length, e = w.wb(0, 0); d--;) {\n        var f = b[d];\n        if (f.visible || f === c) if (Pa(e.set(a), f.transform), f.Ia(e)) return w.v(e), !0;\n      }\n\n      w.v(e);\n      return null === this.Ib && null === this.cc ? !1 : !0;\n    }\n\n    return !1;\n  };\n\n  D.prototype.Cx = function (a) {\n    if (this.so === a) return this;\n\n    for (var b = this.xa.n, c = b.length, d = 0; d < c; d++) {\n      var e = b[d].Cx(a);\n      if (null !== e) return e;\n    }\n\n    return null;\n  };\n\n  function cp(a, b, c) {\n    c(a, b);\n\n    if (b instanceof D) {\n      b = b.xa.n;\n\n      for (var d = b.length, e = 0; e < d; e++) {\n        cp(a, b[e], c);\n      }\n    }\n  }\n\n  function Om(a, b) {\n    Zp(a, a, b);\n  }\n\n  function Zp(a, b, c) {\n    c(b);\n    b = b.xa.n;\n\n    for (var d = b.length, e = 0; e < d; e++) {\n      var f = b[e];\n      f instanceof D && Zp(a, f, c);\n    }\n  }\n\n  D.prototype.walkVisualTree = D.prototype.bK = function (a) {\n    $p(this, this, a);\n  };\n\n  function $p(a, b, c) {\n    c(b);\n\n    if (b instanceof D) {\n      b = b.xa.n;\n\n      for (var d = b.length, e = 0; e < d; e++) {\n        $p(a, b[e], c);\n      }\n    }\n  }\n\n  D.prototype.findInVisualTree = D.prototype.bu = function (a) {\n    return aq(this, this, a);\n  };\n\n  function aq(a, b, c) {\n    if (c(b)) return b;\n\n    if (b instanceof D) {\n      b = b.xa.n;\n\n      for (var d = b.length, e = 0; e < d; e++) {\n        var f = aq(a, b[e], c);\n        if (null !== f) return f;\n      }\n    }\n\n    return null;\n  }\n\n  D.prototype.findObject = D.prototype.Dd = function (a) {\n    if (this.name === a) return this;\n\n    for (var b = this.xa.n, c = b.length, d = 0; d < c; d++) {\n      var e = b[d];\n      if (e.name === a) return e;\n      if (e instanceof D) if (null === e.hk && null === e.xg) {\n        if (e = e.Dd(a), null !== e) return e;\n      } else if (mn(e) && (e = e.xa.first(), null !== e && (e = e.Dd(a), null !== e))) return e;\n    }\n\n    return null;\n  };\n\n  function bq(a) {\n    a = a.xa.n;\n\n    for (var b = a.length, c = 0, d = 0; d < b; d++) {\n      var e = a[d];\n      if (e instanceof D) c = Math.max(c, bq(e));else if (e instanceof Y) {\n        a: {\n          if (null !== !e.Sf) switch (e.Io) {\n            case \"None\":\n            case \"Square\":\n            case \"Ellipse\":\n            case \"Circle\":\n            case \"LineH\":\n            case \"LineV\":\n            case \"FramedRectangle\":\n            case \"RoundedRectangle\":\n            case \"Line1\":\n            case \"Line2\":\n            case \"Border\":\n            case \"Cube1\":\n            case \"Cube2\":\n            case \"Junction\":\n            case \"Cylinder1\":\n            case \"Cylinder2\":\n            case \"Cylinder3\":\n            case \"Cylinder4\":\n            case \"PlusLine\":\n            case \"XLine\":\n            case \"ThinCross\":\n            case \"ThickCross\":\n              e = 0;\n              break a;\n          }\n          e = e.ji / 2 * e.kn * e.vj();\n        }\n\n        c = Math.max(c, e);\n      }\n    }\n\n    return c;\n  }\n\n  g = D.prototype;\n\n  g.Yg = function () {\n    return !(this.type === Io || this.type === Jo);\n  };\n\n  g.Pe = function (a, b, c) {\n    if (!1 === this.Ug) return null;\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    if (sm(this)) return null;\n    var d = this.Ja,\n        e = 1 / this.vj(),\n        f = this.Yg(),\n        h = f ? a : Pa(w.wb(a.x, a.y), this.transform),\n        k = this.g,\n        l = 10,\n        m = 5;\n    null !== k && (l = k.nu(\"extraTouchArea\"), m = l / 2);\n\n    if (db(-(m * e), -(m * e), d.width + l * e, d.height + l * e, h.x, h.y)) {\n      if (!this.Jn) {\n        var e = this.xa.n,\n            n = e.length,\n            k = w.K(),\n            m = (l = this.tu) ? this.Cd() : null;\n        if (l && (m.Yg() ? Pa(k.set(a), m.transform) : k.set(a), !m.Ia(k))) return w.v(k), f || w.v(h), null;\n\n        for (var p = Np(this); n--;) {\n          var q = e[n];\n          if (q.visible || q === p) if (q.Yg() ? Pa(k.set(a), q.transform) : k.set(a), !l || q !== m) {\n            var r = null;\n            q instanceof D ? r = q.Pe(k, b, c) : !0 === q.Ug && q.Ia(k) && (r = q);\n            if (null !== r && (null !== b && (r = b(r)), null !== r && (null === c || c(r)))) return w.v(k), f || w.v(h), r;\n          }\n        }\n\n        w.v(k);\n      }\n\n      if (null === this.background && null === this.pn) return f || w.v(h), null;\n      a = db(0, 0, d.width, d.height, h.x, h.y) ? this : null;\n      f || w.v(h);\n      return a;\n    }\n\n    f || w.v(h);\n    return null;\n  };\n\n  g.du = function (a, b, c, d) {\n    if (!1 === this.Ug) return !1;\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    d instanceof H || d instanceof I || (d = new H(G));\n    var e = this.Ja,\n        f = this.Yg(),\n        h = f ? a : Pa(w.wb(a.x, a.y), this.transform),\n        k = this.type === Io || this.type === Jo,\n        e = db(0, 0, e.width, e.height, h.x, h.y);\n\n    if (k || e) {\n      if (!this.Jn) {\n        for (var k = this.xa.n, l = k.length, m = w.K(), n = Np(this); l--;) {\n          var p = k[l];\n\n          if (p.visible || p === n) {\n            p.Yg() ? Pa(m.set(a), p.transform) : m.set(a);\n            var q = p,\n                p = p instanceof D ? p : null;\n            (null !== p ? p.du(m, b, c, d) : q.Ia(m)) && !1 !== q.Ug && (null !== b && (q = b(q)), null === q || null !== c && !c(q) || d.add(q));\n          }\n        }\n\n        w.v(m);\n      }\n\n      f || w.v(h);\n      return e && (null !== this.background || null !== this.pn);\n    }\n\n    f || w.v(h);\n    return !1;\n  };\n\n  g.Jk = function (a, b, c, d, e, f) {\n    if (!1 === this.Ug) return !1;\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    var h = f;\n    void 0 === f && (h = w.Wg(), h.reset());\n    h.multiply(this.transform);\n    if (this.un(a, h)) return cq(this, b, c, e), void 0 === f && w.bf(h), !0;\n\n    if (this.$f(a, h)) {\n      if (!this.Jn) for (var k = Np(this), l = this.xa.n, m = l.length; m--;) {\n        var n = l[m];\n\n        if (n.visible || n === k) {\n          var p = n.U,\n              q = this.Ja;\n\n          if (!(p.x > q.width || p.y > q.height || 0 > p.x + p.width || 0 > p.y + p.height)) {\n            p = n;\n            n = n instanceof D ? n : null;\n            q = w.Wg();\n            q.set(h);\n            if (null !== n ? n.Jk(a, b, c, d, e, q) : Go(p, a, d, q)) null !== b && (p = b(p)), null === p || null !== c && !c(p) || e.add(p);\n            w.bf(q);\n          }\n        }\n      }\n      void 0 === f && w.bf(h);\n      return d;\n    }\n\n    void 0 === f && w.bf(h);\n    return !1;\n  };\n\n  function cq(a, b, c, d) {\n    for (var e = a.xa.n, f = e.length; f--;) {\n      var h = e[f];\n\n      if (h.visible) {\n        var k = h.U,\n            l = a.Ja;\n        k.x > l.width || k.y > l.height || 0 > k.x + k.width || 0 > k.y + k.height || (h instanceof D && cq(h, b, c, d), null !== b && (h = b(h)), null === h || null !== c && !c(h) || d.add(h));\n      }\n    }\n  }\n\n  g.An = function (a, b, c, d, e, f) {\n    if (!1 === this.Ug) return !1;\n    void 0 === c && (c = null);\n    void 0 === d && (d = null);\n    var h = this.Ja,\n        k = this.Yg(),\n        l = k ? a : Pa(w.wb(a.x, a.y), this.transform),\n        m = k ? b : Pa(w.wb(b.x, b.y), this.transform),\n        n = l.Cf(m),\n        p = 0 < l.x && l.x < h.width && 0 < l.y && l.y < h.height || Ra(l.x, l.y, 0, 0, 0, h.height) <= n || Ra(l.x, l.y, 0, h.height, h.width, h.height) <= n || Ra(l.x, l.y, h.width, h.height, h.width, 0) <= n || Ra(l.x, l.y, h.width, 0, 0, 0) <= n,\n        h = l.Xf(0, 0) <= n && l.Xf(0, h.height) <= n && l.Xf(h.width, 0) <= n && l.Xf(h.width, h.height) <= n;\n    k || (w.v(l), w.v(m));\n\n    if (p) {\n      if (!this.Jn) {\n        for (var l = w.K(), m = w.K(), n = Np(this), q = this.xa.n, r = q.length; r--;) {\n          var s = q[r];\n\n          if (s.visible || s === n) {\n            var t = s.U,\n                u = this.Ja;\n            if (!k || !(t.x > u.width || t.y > u.height || 0 > t.x + t.width || 0 > t.y + t.height)) if (s.Yg() ? (t = s.transform, Pa(l.set(a), t), Pa(m.set(b), t)) : (l.set(a), m.set(b)), t = s, s = s instanceof D ? s : null, null !== s ? s.An(l, m, c, d, e, f) : t.cF(l, m, e)) null !== c && (t = c(t)), null === t || null !== d && !d(t) || f.add(t);\n          }\n        }\n\n        w.v(l);\n        w.v(m);\n      }\n\n      return e ? p : h;\n    }\n\n    return !1;\n  };\n\n  function Op(a) {\n    var b = null;\n    a instanceof Y && (b = a.A, b === qc && (b = null), a = a.of, null !== a && null === b && (b = a.A));\n    null === b && (b = zb);\n    return b;\n  }\n\n  function Pp(a) {\n    var b = null;\n    a instanceof Y && (b = a.B, b === qc && (b = null), a = a.of, null !== a && null === b && (b = a.B));\n    null === b && (b = Wb);\n    return b;\n  }\n\n  D.prototype.add = D.prototype.add = function (a) {\n    w.G(a, G, D, \"add:element\");\n    this.Sd(this.xa.count, a);\n  };\n\n  D.prototype.elt = D.prototype.fa = function (a) {\n    return this.xa.fa(a);\n  };\n\n  D.prototype.insertAt = D.prototype.Sd = function (a, b) {\n    b instanceof R && w.k(\"Cannot add a Part to a Panel: \" + b + \"; use a Panel instead\");\n    if (this === b || this.hm(b)) this === b && w.k(\"Cannot make a Panel contain itself: \" + this.toString()), w.k(\"Cannot make a Panel indirectly contain itself: \" + this.toString() + \" already contains \" + b.toString());\n    var c = b.R;\n    null !== c && c !== this && w.k(\"Cannot add a GraphObject that already belongs to another Panel to this Panel: \" + b.toString() + \", already contained by \" + c.toString() + \", cannot be shared by this Panel: \" + this.toString());\n    this.na !== Jl || b instanceof Y || w.k(\"Can only add Shapes to a Grid Panel, not: \" + b);\n    this.na !== lp || b instanceof Y || b instanceof Lh || w.k(\"Can only add Shapes or TextBlocks to a Graduated Panel, not: \" + b);\n    b.om(this);\n    b.Zm = null;\n\n    if (null !== this.kq) {\n      var d = b.data;\n      null !== d && \"object\" === typeof d && (null === this.wg && (this.wg = new ma(Object, D)), this.wg.add(d, b));\n    }\n\n    var e = this.xa,\n        d = -1;\n\n    if (c === this) {\n      for (var f = -1, h = this.xa.n, k = h.length, l = 0; l < k; l++) {\n        if (h[l] === b) {\n          f = l;\n          break;\n        }\n      }\n\n      if (-1 !== f) {\n        if (f === a || f + 1 >= e.count && a >= e.count) return;\n        e.dd(f);\n        d = f;\n      } else w.k(\"element \" + b.toString() + \" has panel \" + c.toString() + \" but is not contained by it.\");\n    }\n\n    if (0 > a || a > e.count) a = e.count;\n    e.Sd(a, b);\n    if (0 === a || b.ff) this.Il = null;\n    km(this) || this.H();\n    b.H(!1);\n    null !== b.le ? this.Qk = !0 : b instanceof D && !0 === b.Qk && (this.Qk = !0);\n    this.ak = null;\n    c = this.W;\n    null !== c && (c.Um = null, c.lk = NaN, this.Qk && c instanceof T && (c.Qk = !0), c.Qk && c instanceof T && (c.Ie = null), e = this.g, null !== e && e.ja.lb || (-1 !== d && c.cd(Ff, \"elements\", this, b, null, d, null), c.cd(Ef, \"elements\", this, null, b, null, a), this.vu() || dq(this, b, !1)));\n  };\n\n  w.defineProperty(D, {\n    Qk: null\n  }, function () {\n    return 0 !== (this.M & 8388608);\n  }, function (a) {\n    0 !== (this.M & 8388608) !== a && (this.M ^= 8388608);\n  });\n\n  function eq(a, b) {\n    a.M = b ? a.M | 16777216 : a.M & -16777217;\n  }\n\n  D.prototype.remove = D.prototype.remove = function (a) {\n    w.G(a, G, D, \"remove:element\");\n\n    for (var b = this.xa.n, c = b.length, d = -1, e = 0; e < c; e++) {\n      if (b[e] === a) {\n        d = e;\n        break;\n      }\n    }\n\n    -1 !== d && this.rf(d, !0);\n  };\n\n  D.prototype.removeAt = D.prototype.dd = function (a) {\n    0 <= a && this.rf(a, !0);\n  };\n\n  D.prototype.rf = function (a, b) {\n    var c = this.xa,\n        d = c.fa(a);\n    d.Zm = null;\n    d.om(null);\n\n    if (null !== this.wg) {\n      var e = d.data;\n      \"object\" === typeof e && this.wg.remove(e);\n    }\n\n    c.dd(a);\n    cm(this, !1);\n    this.H();\n    this.Il === d && (this.Il = null);\n    this.ak = null;\n    var f = this.W;\n    null !== f && (f.Um = null, f.lk = NaN, f.Td(), f instanceof T && (d instanceof D ? cp(d, d, function (a, c) {\n      $o(f, c, b);\n    }) : $o(f, d, b)), c = this.g, null !== c && c.ja.lb || f.cd(Ff, \"elements\", this, d, null, a, null));\n  };\n\n  w.u(D, {\n    Bq: \"rowCount\"\n  }, function () {\n    return void 0 === this.Xc ? 0 : this.Xc.length;\n  });\n\n  D.prototype.getRowDefinition = D.prototype.fe = function (a) {\n    0 > a && w.Fa(a, \">= 0\", D, \"getRowDefinition:idx\");\n    a = Math.round(a);\n    var b = this.Xc;\n\n    if (void 0 === b[a]) {\n      var c = new Dg();\n      c.om(this);\n      c.xe = !0;\n      c.index = a;\n      b[a] = c;\n    }\n\n    return b[a];\n  };\n\n  D.prototype.removeRowDefinition = D.prototype.dG = function (a) {\n    0 > a && w.Fa(a, \">= 0\", D, \"removeRowDefinition:idx\");\n    a = Math.round(a);\n    var b = this.Xc;\n    this.cd(Ff, \"coldefs\", this, b[a], null, a, null);\n    b[a] && delete b[a];\n    this.H();\n  };\n\n  w.u(D, {\n    Pp: \"columnCount\"\n  }, function () {\n    return void 0 === this.Vc ? 0 : this.Vc.length;\n  });\n\n  D.prototype.getColumnDefinition = D.prototype.ee = function (a) {\n    0 > a && w.Fa(a, \">= 0\", D, \"getColumnDefinition:idx\");\n    a = Math.round(a);\n    var b = this.Vc;\n\n    if (void 0 === b[a]) {\n      var c = new Dg();\n      c.om(this);\n      c.xe = !1;\n      c.index = a;\n      b[a] = c;\n    }\n\n    return b[a];\n  };\n\n  D.prototype.removeColumnDefinition = D.prototype.bG = function (a) {\n    0 > a && w.Fa(a, \">= 0\", D, \"removeColumnDefinition:idx\");\n    a = Math.round(a);\n    var b = this.Vc;\n    this.cd(Ff, \"coldefs\", this, b[a], null, a, null);\n    b[a] && delete b[a];\n    this.H();\n  };\n\n  w.defineProperty(D, {\n    BJ: \"rowSizing\"\n  }, function () {\n    return void 0 === this.bn ? kp : this.bn;\n  }, function (a) {\n    if (void 0 !== this.bn) {\n      var b = this.bn;\n      b !== a && (a !== kp && a !== Rp && w.k(\"Panel.rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: \" + a), this.bn = a, this.H(), this.h(\"rowSizing\", b, a));\n    }\n  });\n  w.defineProperty(D, {\n    yH: \"columnSizing\"\n  }, function () {\n    return void 0 === this.Cm ? kp : this.Cm;\n  }, function (a) {\n    if (void 0 !== this.Cm) {\n      var b = this.Cm;\n      b !== a && (a !== kp && a !== Rp && w.k(\"Panel.columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: \" + a), this.Cm = a, this.H(), this.h(\"columnSizing\", b, a));\n    }\n  });\n  w.defineProperty(D, {\n    $L: \"topIndex\"\n  }, function () {\n    return void 0 === this.kj ? 0 : this.kj;\n  }, function (a) {\n    if (void 0 !== this.kj) {\n      var b = this.kj;\n      b !== a && ((!isFinite(a) || 0 > a) && w.k(\"Panel.topIndex must be greater than zero and a real number, not: \" + a), this.kj = a, this.H(), this.h(\"topIndex\", b, a));\n    }\n  });\n  w.defineProperty(D, {\n    oL: \"leftIndex\"\n  }, function () {\n    return void 0 === this.Ui ? 0 : this.Ui;\n  }, function (a) {\n    if (void 0 !== this.Ui) {\n      var b = this.Ui;\n      b !== a && ((!isFinite(a) || 0 > a) && w.k(\"Panel.leftIndex must be greater than zero and a real number, not: \" + a), this.Ui = a, this.H(), this.h(\"leftIndex\", b, a));\n    }\n  });\n\n  D.prototype.findRowForLocalY = function (a) {\n    if (0 > a || this.type !== Vo) return -1;\n\n    for (var b = 0, c = this.Xc, d = c.length, e = this.kj; e < d; e++) {\n      var f = c[e];\n      if (void 0 !== f && (b += f.total, a < b)) break;\n    }\n\n    return e;\n  };\n\n  D.prototype.findColumnForLocalX = function (a) {\n    if (0 > a || this.type !== Vo) return -1;\n\n    for (var b = 0, c = this.Vc, d = c.length, e = this.Ui; e < d; e++) {\n      var f = c[e];\n      if (void 0 !== f && (b += f.total, a < b)) break;\n    }\n\n    return e;\n  };\n\n  D.prototype.graduatedPointForValue = function (a, b) {\n    void 0 === b && (b = new z(NaN, NaN));\n    if (this.type !== lp) return b.m(NaN, NaN), b;\n    a = Math.min(Math.max(a, this.Pk), this.JA);\n    var c = (a - this.Pk) / this.ou,\n        d = this.Cd();\n    d.of.gI(c, b);\n    return d.transform.nb(b);\n  };\n\n  D.prototype.graduatedValueForPoint = function (a) {\n    if (this.type !== lp) return NaN;\n    var b = this.Cd(),\n        c = b.of;\n    b.transform.xh(a);\n    return c.cI(a) * this.ou + this.Pk;\n  };\n\n  w.defineProperty(D, {\n    data: \"data\"\n  }, function () {\n    return this.$d;\n  }, function (a) {\n    var b = this.$d;\n\n    if (b !== a) {\n      var c = this instanceof R && !(this instanceof jh);\n      c && w.j(a, \"object\", D, \"data\");\n      lh(this);\n      this.$d = a;\n      var d = this.g;\n      null !== d && (c ? this instanceof W ? (null !== b && d.Sj.remove(b), null !== a && d.Sj.add(a, this)) : this instanceof R && (null !== b && d.Ii.remove(b), null !== a && d.Ii.add(a, this)) : (c = this.R, null !== c && null !== c.wg && (null !== b && c.wg.remove(b), null !== a && c.wg.add(a, this))));\n      this.h(\"data\", b, a);\n      null !== d && d.ja.lb || null !== a && this.Lb();\n    }\n  });\n  w.defineProperty(D, {\n    Bu: \"itemIndex\"\n  }, function () {\n    return this.gs;\n  }, function (a) {\n    var b = this.gs;\n    b !== a && (this.gs = a, this.h(\"itemIndex\", b, a));\n  });\n\n  function dp(a) {\n    a = a.jl;\n    return null !== a && a.O;\n  }\n\n  function lh(a) {\n    var b = a.jl;\n    if (null === b) null !== a.data && w.k(\"Template cannot have .data be non-null: \" + a), a.jl = b = new H(ah);else if (b.O) return;\n    var c = new H(G);\n    eq(a, !1);\n    cp(a, a, function (a, d) {\n      var e = d.Ac;\n      if (null !== e) for (Zo(d, !1), e = e.i; e.next();) {\n        var f = e.value;\n        f.mode === ch && Zo(d, !0);\n        var h = f.Jq;\n        null !== h && (\"/\" === h && eq(a, !0), h = dh(f, a, d), null !== h && (c.add(h), null === h.rp && (h.rp = new H(ah)), h.rp.add(f)));\n        b.add(f);\n      }\n\n      if (d instanceof D && d.type === Vo) {\n        if (0 < d.Xc.length) for (e = d.Xc, f = e.length, h = 0; h < f; h++) {\n          var k = e[h];\n          if (void 0 !== k && null !== k.Ac) for (var l = k.Ac.i; l.next();) {\n            var u = l.value;\n            u.Gg = k;\n            u.Bt = 2;\n            u.Ap = k.index;\n            b.add(u);\n          }\n        }\n        if (0 < d.Vc.length) for (e = d.Vc, f = e.length, h = 0; h < f; h++) {\n          if (k = e[h], void 0 !== k && null !== k.Ac) for (l = k.Ac.i; l.next();) {\n            u = l.value, u.Gg = k, u.Bt = 1, u.Ap = k.index, b.add(u);\n          }\n        }\n      }\n    });\n\n    for (var d = c.i; d.next();) {\n      var e = d.value;\n\n      if (null !== e.rp) {\n        Zo(e, !0);\n\n        for (var f = e.rp.i; f.next();) {\n          var h = f.value;\n          null === e.Ac && (e.Ac = new H(ah));\n          e.Ac.add(h);\n        }\n      }\n\n      e.rp = null;\n    }\n\n    for (d = b.i; d.next();) {\n      if (e = d.value, f = e.Gg, null !== f) {\n        e.Gg = null;\n        var k = e.Cy,\n            l = k.indexOf(\".\");\n        0 < l && f instanceof D && (h = k.substring(0, l), k = k.substr(l + 1), l = f.Dd(h), null !== l ? (f = l, e.Cy = k) : w.trace('Warning: unable to find GraphObject named \"' + h + '\" for Binding: ' + e.toString()));\n        f instanceof Dg ? (e.sm = w.Qd(f.R), f.R.so = e.sm) : (e.sm = w.Qd(f), f.so = e.sm);\n      }\n    }\n\n    b.freeze();\n    a instanceof R && a.he() && a.Ne();\n  }\n\n  D.prototype.copyTemplate = function () {\n    var a = this.copy();\n    a.bK(function (a) {\n      a instanceof D && (a.jl = null, a.$d = null);\n      var c = a.Ac;\n      null !== c && (a.Ac = null, c.each(function (c) {\n        a.bind(c.copy());\n      }));\n    });\n    return a;\n  };\n\n  D.prototype.updateTargetBindings = D.prototype.Lb = function (a) {\n    var b = this.jl;\n    if (null !== b) for (void 0 === a && (a = \"\"), b = b.i; b.next();) {\n      var c = b.value,\n          d = c.vG;\n      if (\"\" === a || \"\" === d || d === a) if (d = c.Cy, null !== c.EH || \"\" !== d) {\n        var d = this.data,\n            e = c.Jq;\n        if (null !== e) d = \"\" === e ? this : \"/\" === e ? this : \".\" === e ? this : \"..\" === e ? this : this.Dd(e);else {\n          var f = this.g;\n          null !== f && c.Ox && (d = f.$.Tk);\n        }\n\n        if (null !== d) {\n          var f = this,\n              h = c.sm;\n\n          if (-1 !== h) {\n            if (f = this.Cx(h), null === f) continue;\n          } else null !== c.Gg && (f = c.Gg);\n\n          \"/\" === e ? d = f.W : \".\" === e ? d = f : \"..\" === e && (d = f.R);\n          e = c.Bt;\n\n          if (0 !== e) {\n            if (!(f instanceof D)) continue;\n            h = f;\n            1 === e ? f = h.ee(c.Ap) : 2 === e && (f = h.fe(c.Ap));\n          }\n\n          void 0 !== f && c.KG(f, d);\n        }\n      }\n    }\n  };\n\n  w.defineProperty(D, {\n    kq: \"itemArray\"\n  }, function () {\n    return this.hk;\n  }, function (a) {\n    var b = this.hk;\n\n    if (b !== a) {\n      var c = this.g;\n      null !== c && null !== b && Um(c, this);\n      this.hk = a;\n      null !== c && null !== a && Qm(c, this);\n      this.h(\"itemArray\", b, a);\n      null !== c && c.ja.lb || this.rB();\n    }\n  });\n\n  function mn(a) {\n    return a.type === Oj || a.type === Gl || a.type === jj || a.type === Vo && 0 < a.xa.length && (a = a.xa.fa(0), a.ff && a instanceof D && (a.type === Io || a.type === Jo)) ? !0 : !1;\n  }\n\n  D.prototype.rebuildItemElements = D.prototype.rB = function () {\n    var a = 0;\n\n    for (mn(this) && (a = 1); this.xa.length > a;) {\n      this.rf(this.xa.length - 1, !1);\n    }\n\n    a = this.kq;\n    if (null !== a) for (var b = w.cb(a), c = 0; c < b; c++) {\n      ln(this, w.Ba(a, c), c);\n    }\n  };\n\n  D.prototype.findItemPanelForData = D.prototype.XH = function (a) {\n    if (void 0 === a || null === a || null === this.wg) return null;\n    w.j(a, \"object\", D, \"findItemPanelForData\");\n    return this.wg.ka(a);\n  };\n\n  function ln(a, b, c) {\n    if (!(void 0 === b || null === b || 0 > c)) {\n      var d;\n      d = fq(a, b);\n      var e = a.GI,\n          f = null;\n      null !== e && (f = e.ka(d));\n      null === f && (gq || (gq = !0, w.trace('No item template Panel found for category \"' + d + '\" on ' + a), w.trace(\"  Using default item template.\"), d = new D(), e = new Lh(), e.bind(new ah(\"text\", \"\", Qf)), d.add(e), hq = d), f = hq);\n      d = f;\n      null !== d && (lh(d), d = d.copy(), 0 !== (d.M & 16777216) && (e = a.$l(), null !== e && eq(e, !0)), \"object\" === typeof b && (null === a.wg && (a.wg = new ma(Object, D)), a.wg.add(b, d)), e = c, mn(a) && e++, a.Sd(e, d), d.$d = b, nn(a, e, c), d.$d = null, d.data = b);\n    }\n  }\n\n  function nn(a, b, c) {\n    for (a = a.xa; b < a.length;) {\n      var d = a.fa(b);\n\n      if (d instanceof D) {\n        var e = b,\n            f = c;\n        d.type === Io ? d.Wb = e : d.type === Jo && (d.column = e);\n        d.Bu = f;\n      }\n\n      b++;\n      c++;\n    }\n  }\n\n  w.defineProperty(D, {\n    mL: \"itemTemplate\"\n  }, function () {\n    return null === this.xg ? null : this.xg.ka(\"\");\n  }, function (a) {\n    if (null === this.xg) {\n      if (null === a) return;\n      this.xg = new ma(\"string\", D);\n    }\n\n    var b = this.xg.ka(\"\");\n    b !== a && (w.G(a, D, D, \"itemTemplate\"), (a instanceof R || a.ff) && w.k(\"Panel.itemTemplate must not be a Part or be Panel.isPanelMain: \" + a), this.xg.add(\"\", a), this.h(\"itemTemplate\", b, a), a = this.g, null !== a && a.ja.lb || this.rB());\n  });\n  w.defineProperty(D, {\n    GI: \"itemTemplateMap\"\n  }, function () {\n    return this.xg;\n  }, function (a) {\n    var b = this.xg;\n\n    if (b !== a) {\n      w.G(a, ma, D, \"itemTemplateMap\");\n\n      for (var c = a.i; c.next();) {\n        var d = c.value;\n        (d instanceof R || d.ff) && w.k(\"Template in Panel.itemTemplateMap must not be a Part or be Panel.isPanelMain: \" + d);\n      }\n\n      this.xg = a;\n      this.h(\"itemTemplateMap\", b, a);\n      a = this.g;\n      null !== a && a.ja.lb || this.rB();\n    }\n  });\n  w.defineProperty(D, {\n    lL: \"itemCategoryProperty\"\n  }, function () {\n    return this.Vo;\n  }, function (a) {\n    var b = this.Vo;\n    b !== a && (\"string\" !== typeof a && \"function\" !== typeof a && w.Gd(a, \"string or function\", D, \"itemCategoryProperty\"), this.Vo = a, this.h(\"itemCategoryProperty\", b, a));\n  });\n\n  function fq(a, b) {\n    if (null === b) return \"\";\n    var c = a.Vo,\n        d = \"\";\n    if (\"function\" === typeof c) d = c(b);else if (\"string\" === typeof c && \"object\" === typeof b) {\n      if (\"\" === c) return \"\";\n      d = w.vb(b, c);\n    } else return \"\";\n    if (void 0 === d) return \"\";\n    if (\"string\" === typeof d) return d;\n    w.k(\"Panel.getCategoryForItemData found a non-string category for \" + b + \": \" + d);\n    return \"\";\n  }\n\n  var gq = !1,\n      hq = null;\n  w.defineProperty(D, {\n    Jn: \"isAtomic\"\n  }, function () {\n    return 0 !== (this.M & 1048576);\n  }, function (a) {\n    var b = 0 !== (this.M & 1048576);\n    b !== a && (w.j(a, \"boolean\", D, \"isAtomic\"), this.M ^= 1048576, this.h(\"isAtomic\", b, a));\n  });\n  w.defineProperty(D, {\n    tu: \"isClipping\"\n  }, function () {\n    return 0 !== (this.M & 2097152);\n  }, function (a) {\n    var b = 0 !== (this.M & 2097152);\n    b !== a && (w.j(a, \"boolean\", D, \"isClipping\"), this.M ^= 2097152, this.H(), this.h(\"isClipping\", b, a));\n  });\n  w.defineProperty(D, {\n    GF: \"isOpposite\"\n  }, function () {\n    return 0 !== (this.M & 33554432);\n  }, function (a) {\n    var b = 0 !== (this.M & 33554432);\n    b !== a && (w.j(a, \"boolean\", D, \"isOpposite\"), this.M ^= 33554432, this.H(), this.h(\"isOpposite\", b, a));\n  });\n  w.defineProperty(D, {\n    isEnabled: \"isEnabled\"\n  }, function () {\n    return 0 !== (this.M & 4194304);\n  }, function (a) {\n    var b = 0 !== (this.M & 4194304);\n\n    if (b !== a) {\n      w.j(a, \"boolean\", D, \"isEnabled\");\n      var c = null === this.R || this.R.vu();\n      this.M ^= 4194304;\n      this.h(\"isEnabled\", b, a);\n      b = this.g;\n      null !== b && b.ja.lb || c && dq(this, this, a);\n    }\n  });\n\n  function dq(a, b, c) {\n    var d = b.WE;\n    null !== d && d(b, c);\n\n    if (b instanceof D) {\n      b = b.xa.n;\n\n      for (var d = b.length, e = 0; e < d; e++) {\n        var f = b[e];\n        c && f instanceof D && !f.isEnabled || dq(a, f, c);\n      }\n    }\n  }\n\n  w.defineProperty(D, {\n    hK: \"alignmentFocusName\"\n  }, function () {\n    return this.Oj;\n  }, function (a) {\n    var b = this.Oj;\n    b !== a && (this.Oj = a, this.H(), this.h(\"alignmentFocusName\", b, a));\n  });\n\n  function Dg() {\n    w.oc(this);\n    this.ej = null;\n    this.cw = !0;\n    this.Bc = 0;\n    this.mf = NaN;\n    this.nk = 0;\n    this.mk = Infinity;\n    this.me = qc;\n    this.ab = this.Ra = 0;\n    this.Ac = null;\n    this.ut = iq;\n    this.Fg = qo;\n    this.pt = this.sk = null;\n    this.qt = NaN;\n    this.Ib = this.ai = null;\n    this.nr = !1;\n  }\n\n  w.ga(\"RowColumnDefinition\", Dg);\n\n  Dg.prototype.copy = function () {\n    var a = new Dg();\n    a.cw = this.cw;\n    a.Bc = this.Bc;\n    a.mf = this.mf;\n    a.nk = this.nk;\n    a.mk = this.mk;\n    a.me = this.me;\n    a.Ra = this.Ra;\n    a.ab = this.ab;\n    a.Fg = this.Fg;\n    a.ut = this.ut;\n    a.sk = null === this.sk ? null : this.sk.S();\n    a.pt = this.pt;\n    a.qt = this.qt;\n    a.ai = null;\n    null !== this.ai && (a.ai = w.Vl(this.ai));\n    a.Ib = this.Ib;\n    a.nr = this.nr;\n    a.Ac = this.Ac;\n    return a;\n  };\n\n  Dg.prototype.Qp = function (a) {\n    w.G(a, Dg, Dg, \"copyFrom:pd\");\n    a.xe ? this.height = a.height : this.width = a.width;\n    this.Dh = a.Dh;\n    this.ke = a.ke;\n    this.alignment = a.alignment;\n    this.stretch = a.stretch;\n    this.bv = a.bv;\n    this.sk = null === a.sk ? null : a.sk.S();\n    this.Eq = a.Eq;\n    this.Fq = a.Fq;\n    this.ai = null;\n    a.ai && (this.ai = w.Vl(a.ai));\n    this.background = a.background;\n    this.xA = a.xA;\n    this.Ac = a.Ac;\n  };\n\n  Dg.prototype.ic = function (a) {\n    a.Je === Dg ? this.bv = a : w.Lj(this, a);\n  };\n\n  Dg.prototype.toString = function () {\n    return \"RowColumnDefinition \" + (this.xe ? \"(Row \" : \"(Column \") + this.index + \") #\" + w.Qd(this);\n  };\n\n  var iq;\n  Dg.Default = iq = w.p(Dg, \"Default\", 0);\n  var Rp;\n  Dg.None = Rp = w.p(Dg, \"None\", 1);\n  var kp;\n  Dg.ProportionalExtra = kp = w.p(Dg, \"ProportionalExtra\", 2);\n\n  Dg.prototype.om = function (a) {\n    this.ej = a;\n  };\n\n  Dg.prototype.computeEffectiveSpacingTop = Dg.prototype.KE = function () {\n    var a = 0,\n        b = this.ej,\n        c = 0,\n        d = this.xe;\n    if (null !== b) for (var e = d ? b.Xc.length : b.Vc.length, f = 0; f < e; f++) {\n      var h = d ? b.Xc[f] : b.Vc[f];\n\n      if (void 0 !== h) {\n        c = h.index;\n        break;\n      }\n    }\n    this.index !== c && (c = this.Eq, null === c && null !== b && (c = this.xe ? b.Ji : b.Oh), null !== c && (a = this.Fq, isNaN(a) && (a = null !== b ? this.xe ? b.Qh : b.Ph : 0)));\n    c = this.pG;\n    if (null === c) if (null !== b) c = b.Tj;else return a;\n    return a + (this.xe ? c.top : c.left);\n  };\n\n  Dg.prototype.computeEffectiveSpacing = Dg.prototype.af = function () {\n    var a = 0,\n        b = this.ej,\n        c = 0,\n        d = this.xe;\n    if (null !== b) for (var e = d ? b.Xc.length : b.Vc.length, f = 0; f < e; f++) {\n      var h = d ? b.Xc[f] : b.Vc[f];\n\n      if (void 0 !== h) {\n        c = h.index;\n        break;\n      }\n    }\n    this.index !== c && (c = this.Eq, null === c && null !== b && (c = d ? b.Ji : b.Oh), null !== c && (a = this.Fq, isNaN(a) && (a = null !== b ? d ? b.Qh : b.Ph : 0)));\n    d = this.pG;\n    if (null === d) if (null !== b) d = b.Tj;else return a;\n    return a + (this.xe ? d.top + d.bottom : d.left + d.right);\n  };\n\n  Dg.prototype.jd = function (a, b, c, d, e) {\n    var f = this.ej;\n    if (null !== f && (f.cd(Cf, a, this, b, c, d, e), null !== this.Ac && (b = f.g, null !== b && !b.Re && (f = f.$l(), null !== f && (b = f.data, null !== b))))) for (c = this.Ac.i; c.next();) {\n      c.value.Ey(this, b, a, f);\n    }\n  };\n\n  w.u(Dg, {\n    R: \"panel\"\n  }, function () {\n    return this.ej;\n  });\n  w.defineProperty(Dg, {\n    xe: \"isRow\"\n  }, function () {\n    return this.cw;\n  }, function (a) {\n    this.cw = a;\n  });\n  w.defineProperty(Dg, {\n    index: \"index\"\n  }, function () {\n    return this.Bc;\n  }, function (a) {\n    this.Bc = a;\n  });\n  w.defineProperty(Dg, {\n    height: \"height\"\n  }, function () {\n    return this.mf;\n  }, function (a) {\n    var b = this.mf;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", Dg, \"height\"), this.mf = a, this.bb = this.Ra, null !== this.R && this.R.H(), this.jd(\"height\", b, a));\n  });\n  w.defineProperty(Dg, {\n    width: \"width\"\n  }, function () {\n    return this.mf;\n  }, function (a) {\n    var b = this.mf;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", Dg, \"width\"), this.mf = a, this.bb = this.Ra, null !== this.R && this.R.H(), this.jd(\"width\", b, a));\n  });\n  w.defineProperty(Dg, {\n    Dh: \"minimum\"\n  }, function () {\n    return this.nk;\n  }, function (a) {\n    var b = this.nk;\n    b !== a && ((0 > a || !isFinite(a)) && w.Fa(a, \">= 0\", Dg, \"minimum\"), this.nk = a, this.bb = this.Ra, null !== this.R && this.R.H(), this.jd(\"minimum\", b, a));\n  });\n  w.defineProperty(Dg, {\n    ke: \"maximum\"\n  }, function () {\n    return this.mk;\n  }, function (a) {\n    var b = this.mk;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", Dg, \"maximum\"), this.mk = a, this.bb = this.Ra, null !== this.R && this.R.H(), this.jd(\"maximum\", b, a));\n  });\n  w.defineProperty(Dg, {\n    alignment: \"alignment\"\n  }, function () {\n    return this.me;\n  }, function (a) {\n    var b = this.me;\n    b.L(a) || (this.me = a.S(), null !== this.R && this.R.H(), this.jd(\"alignment\", b, a));\n  });\n  w.defineProperty(Dg, {\n    stretch: \"stretch\"\n  }, function () {\n    return this.Fg;\n  }, function (a) {\n    var b = this.Fg;\n    b !== a && (this.Fg = a, null !== this.R && this.R.H(), this.jd(\"stretch\", b, a));\n  });\n  w.defineProperty(Dg, {\n    pG: \"separatorPadding\"\n  }, function () {\n    return this.sk;\n  }, function (a) {\n    \"number\" === typeof a && (a = new hb(a));\n    var b = this.sk;\n    null !== a && null !== b && b.L(a) || (null !== a && (a = a.S()), this.sk = a, null !== this.R && this.R.H(), this.jd(\"separatorPadding\", b, a));\n  });\n  w.defineProperty(Dg, {\n    Eq: \"separatorStroke\"\n  }, function () {\n    return this.pt;\n  }, function (a) {\n    var b = this.pt;\n    b !== a && (null === a || \"string\" === typeof a || a instanceof ga) && (a instanceof ga && a.freeze(), this.pt = a, null !== this.R && this.R.H(), this.jd(\"separatorStroke\", b, a));\n  });\n  w.defineProperty(Dg, {\n    Fq: \"separatorStrokeWidth\"\n  }, function () {\n    return this.qt;\n  }, function (a) {\n    var b = this.qt;\n    b !== a && (this.qt = a, null !== this.R && this.R.H(), this.jd(\"separatorStrokeWidth\", b, a));\n  });\n  w.defineProperty(Dg, {\n    HJ: \"separatorDashArray\"\n  }, function () {\n    return this.ai;\n  }, function (a) {\n    var b = this.ai;\n\n    if (b !== a) {\n      null === a || Array.isArray(a) || w.Gd(a, \"Array\", Dg, \"separatorDashArray:value\");\n\n      if (null !== a) {\n        for (var c = a.length, d = 0, e = 0; e < c; e++) {\n          var f = a[e];\n          \"number\" === typeof f && 0 <= f && isFinite(f) || w.k(\"separatorDashArray value \" + f + \" at index \" + e + \" must be a positive number or zero.\");\n          d += f;\n        }\n\n        if (0 === d) {\n          if (null === b) return;\n          a = null;\n        }\n      }\n\n      this.ai = a;\n      null !== this.R && this.R.oa();\n      this.jd(\"separatorDashArray\", b, a);\n    }\n  });\n  w.defineProperty(Dg, {\n    background: \"background\"\n  }, function () {\n    return this.Ib;\n  }, function (a) {\n    var b = this.Ib;\n    b !== a && (null === a || \"string\" === typeof a || a instanceof ga) && (a instanceof ga && a.freeze(), this.Ib = a, null !== this.R && this.R.oa(), this.jd(\"background\", b, a));\n  });\n  w.defineProperty(Dg, {\n    xA: \"coversSeparators\"\n  }, function () {\n    return this.nr;\n  }, function (a) {\n    var b = this.nr;\n    b !== a && (w.j(a, \"boolean\", Dg, \"coversSeparators\"), this.nr = a, null !== this.R && this.R.oa(), this.jd(\"coversSeparators\", b, a));\n  });\n  w.defineProperty(Dg, {\n    bv: \"sizing\"\n  }, function () {\n    return this.ut;\n  }, function (a) {\n    var b = this.ut;\n    b !== a && (this.ut = a, null !== this.R && this.R.H(), this.jd(\"sizing\", b, a));\n  });\n\n  function Qp(a) {\n    if (a.bv === iq) {\n      var b = a.ej;\n      return a.xe ? b.BJ : b.yH;\n    }\n\n    return a.bv;\n  }\n\n  w.defineProperty(Dg, {\n    bb: \"actual\"\n  }, function () {\n    return this.Ra;\n  }, function (a) {\n    this.Ra = isNaN(this.mf) ? Math.max(Math.min(this.mk, a), this.nk) : Math.max(Math.min(this.mk, this.mf), this.nk);\n  });\n  w.defineProperty(Dg, {\n    total: \"total\"\n  }, function () {\n    return this.Ra + this.af();\n  }, function (a) {\n    this.Ra = isNaN(this.mf) ? Math.max(Math.min(this.mk, a), this.nk) : Math.max(Math.min(this.mk, this.mf), this.nk);\n    this.Ra = Math.max(0, this.Ra - this.af());\n  });\n  w.defineProperty(Dg, {\n    position: \"position\"\n  }, function () {\n    return this.ab;\n  }, function (a) {\n    this.ab = a;\n  });\n\n  Dg.prototype.bind = Dg.prototype.bind = function (a) {\n    a.Gg = this;\n    var b = this.R;\n\n    if (null !== b) {\n      var c = b.$l();\n      null !== c && dp(c) && w.k(\"Cannot add a Binding to a RowColumnDefinition that is already frozen: \" + a + \" on \" + b);\n    }\n\n    null === this.Ac && (this.Ac = new H(ah));\n    this.Ac.add(a);\n  };\n\n  function Y() {\n    G.call(this);\n    this.Sf = this.Sa = null;\n    this.Io = \"None\";\n    this.Mr = qo;\n    this.tc = this.Jd = \"black\";\n    this.ji = 1;\n    this.vp = \"butt\";\n    this.xp = \"miter\";\n    this.kn = 10;\n    this.wp = null;\n    this.Af = 0;\n    this.ii = this.hi = qc;\n    this.Ss = this.Rs = NaN;\n    this.Xr = !1;\n    this.Us = null;\n    this.Ko = this.Cp = \"None\";\n    this.ug = 1;\n    this.tg = 0;\n    this.sg = 1;\n  }\n\n  w.La(Y, G);\n  w.ga(\"Shape\", Y);\n\n  Y.prototype.cloneProtected = function (a) {\n    G.prototype.cloneProtected.call(this, a);\n    a.Sa = this.Sa;\n    a.Io = this.Io;\n    a.Mr = this.Mr;\n    a.Sf = this.Sf;\n    a.Jd = this.Jd;\n    a.tc = this.tc;\n    a.ji = this.ji;\n    a.vp = this.vp;\n    a.xp = this.xp;\n    a.kn = this.kn;\n    null !== this.wp && (a.wp = w.Vl(this.wp));\n    a.Af = this.Af;\n    a.hi = this.hi.S();\n    a.ii = this.ii.S();\n    a.Rs = this.Rs;\n    a.Ss = this.Ss;\n    a.Xr = this.Xr;\n    a.Us = this.Us;\n    a.Cp = this.Cp;\n    a.Ko = this.Ko;\n    a.ug = this.ug;\n    a.tg = this.tg;\n    a.sg = this.sg;\n  };\n\n  Y.prototype.ic = function (a) {\n    a === Qj || a === Sj || a === to || a === qo ? this.GA = a : G.prototype.ic.call(this, a);\n  };\n\n  Y.prototype.toString = function () {\n    return \"Shape(\" + (\"None\" !== this.Hb ? this.Hb : \"None\" !== this.Kq ? this.Kq : this.EA) + \")#\" + w.Qd(this);\n  };\n\n  function jq(a, b, c, d) {\n    var e = c.length;\n\n    if (!(4 > e)) {\n      for (var f = d.za, h = Math.max(1, f.width), f = f.height, k = c[0], l = c[1], m = 0, n = 0, p = 0, q = 0, r = 0, s = 0, t = q = 0, u = w.Za(), y = 2; y < e; y += 2) {\n        m = c[y], n = c[y + 1], p = m - k, q = n - l, 0 === p && (p = .001), r = q / p, s = Math.atan2(q, p), q = Math.sqrt(p * p + q * q), u.push([p, s, r, q]), t += q, k = m, l = n;\n      }\n\n      k = c[0];\n      l = c[1];\n      p = d.za.width;\n      d instanceof Y && (p -= d.mb);\n      1 > p && (p = 1);\n\n      for (var e = c = p, m = h / 2, n = 0 === m ? !1 : !0, y = 0, q = u[y], p = q[0], s = q[1], r = q[2], q = q[3], v = 0; .1 <= t;) {\n        0 === v && (n ? (e = c, e -= m, t -= m, n = !1) : e = c, 0 === e && (e = 1));\n\n        if (e > t) {\n          w.ra(u);\n          return;\n        }\n\n        e > q ? (v = e - q, e = q) : v = 0;\n        var x = Math.sqrt(e * e / (1 + r * r));\n        0 > p && (x = -x);\n        k += x;\n        l += r * x;\n        a.translate(k, l);\n        a.rotate(s);\n        a.translate(-(h / 2), -(f / 2));\n        0 === v && d.Ik(a, b);\n        a.translate(h / 2, f / 2);\n        a.rotate(-s);\n        a.translate(-k, -l);\n        t -= e;\n        q -= e;\n\n        if (0 !== v) {\n          y++;\n\n          if (y === u.length) {\n            w.ra(u);\n            return;\n          }\n\n          q = u[y];\n          p = q[0];\n          s = q[1];\n          r = q[2];\n          q = q[3];\n          e = v;\n        }\n      }\n\n      w.ra(u);\n    }\n  }\n\n  Y.prototype.Ik = function (a, b) {\n    if (null !== this.tc || null !== this.Jd) {\n      null !== this.Jd && Qo(this, a, this.Jd, !0, !1);\n      null !== this.tc && Qo(this, a, this.tc, !1, !1);\n      var c = this.ji;\n\n      if (0 === c) {\n        var d = this.W;\n        d instanceof jh && d.type === jj && \"Selection\" === d.ld && d.ub instanceof Y && d.Ze.Cd() === d.ub && (c = d.ub.mb);\n      }\n\n      a.lineWidth = c;\n      a.lineJoin = this.xp;\n      a.lineCap = this.vp;\n      a.miterLimit = this.kn;\n      var e = !1;\n      this.W && b.Ok(\"drawShadows\") && (e = this.W.jm);\n      var f = !0;\n      null !== this.tc && null === this.Jd && (f = !1);\n      var d = !1,\n          h = !0,\n          k = this.yG;\n      null !== k && (d = !0, h = a.yx(k, this.Af));\n      var l = this.Sa;\n\n      if (null !== l) {\n        if (l.na === Fe) a.beginPath(), d && !h ? Bo(a, l.Ec, l.Oc, l.Ab, l.Jb, k, this.Af) : (a.moveTo(l.Ec, l.Oc), a.lineTo(l.Ab, l.Jb)), null !== this.Jd && a.Lg(this.Jd), 0 !== c && null !== this.tc && a.Kj();else if (l.na === Ge) {\n          var m = l.Ec,\n              n = l.Oc,\n              p = l.Ab,\n              q = l.Jb,\n              l = Math.min(m, p),\n              r = Math.min(n, q),\n              m = Math.abs(p - m),\n              n = Math.abs(q - n);\n          null !== this.Jd && (a.beginPath(), a.rect(l, r, m, n), a.Lg(this.Jd));\n\n          if (null !== this.tc) {\n            var s = p = 0,\n                t = 0;\n            f && e && (p = a.shadowOffsetX, s = a.shadowOffsetY, t = a.shadowBlur, a.shadowOffsetX = 0, a.shadowOffsetY = 0, a.shadowBlur = 0);\n            d && !h ? (h = w.Za(), h.push(l), h.push(r), h.push(l + m), h.push(r), h.push(l + m), h.push(r + n), h.push(l), h.push(r + n), h.push(l), h.push(r), a.beginPath(), kq(a, h, k, this.Af), a.Kj(), w.ra(h)) : 0 !== c && (a.beginPath(), a.rect(l, r, m, n), a.Kj());\n            f && e && (a.shadowOffsetX = p, a.shadowOffsetY = s, a.shadowBlur = t);\n          }\n        } else if (l.na === He) m = l.Ec, n = l.Oc, p = l.Ab, q = l.Jb, l = Math.abs(p - m) / 2, r = Math.abs(q - n) / 2, m = Math.min(m, p) + l, n = Math.min(n, q) + r, a.beginPath(), a.moveTo(m, n - r), a.bezierCurveTo(m + bd * l, n - r, m + l, n - bd * r, m + l, n), a.bezierCurveTo(m + l, n + bd * r, m + bd * l, n + r, m, n + r), a.bezierCurveTo(m - bd * l, n + r, m - l, n + bd * r, m - l, n), a.bezierCurveTo(m - l, n - bd * r, m - bd * l, n - r, m, n - r), a.closePath(), null !== this.Jd && a.Lg(this.Jd), d && !h && (h = w.Za(), Wd(m, n - r, m + bd * l, n - r, m + l, n - bd * r, m + l, n, .5, h), Wd(m + l, n, m + l, n + bd * r, m + bd * l, n + r, m, n + r, .5, h), Wd(m, n + r, m - bd * l, n + r, m - l, n + bd * r, m - l, n, .5, h), Wd(m - l, n, m - l, n - bd * r, m - bd * l, n - r, m, n - r, .5, h), a.beginPath(), kq(a, h, k, this.Af), w.ra(h)), 0 !== c && null !== this.tc && (f && e ? (p = a.shadowOffsetX, s = a.shadowOffsetY, t = a.shadowBlur, a.shadowOffsetX = 0, a.shadowOffsetY = 0, a.shadowBlur = 0, a.Kj(), a.shadowOffsetX = p, a.shadowOffsetY = s, a.shadowBlur = t) : a.Kj());else if (l.na === Ce) {\n          r = l.Vj;\n          n = r.length;\n\n          for (q = 0; q < n; q++) {\n            m = r.n[q];\n            a.beginPath();\n            a.moveTo(m.ha, m.da);\n\n            for (var p = m.yb.n, s = p.length, u = null, t = 0; t < s; t++) {\n              var y = p[t];\n\n              switch (y.na) {\n                case Ue:\n                  a.moveTo(y.C, y.D);\n                  break;\n\n                case Je:\n                  a.lineTo(y.C, y.D);\n                  break;\n\n                case Ve:\n                  a.bezierCurveTo(y.Kd, y.Ye, y.oh, y.Dg, y.Ab, y.Jb);\n                  break;\n\n                case We:\n                  a.quadraticCurveTo(y.Kd, y.Ye, y.Ab, y.Jb);\n                  break;\n\n                case pf:\n                  if (y.radiusX === y.radiusY) {\n                    var v = null !== u ? u.C : m.ha,\n                        x = null !== u ? u.D : m.da,\n                        u = Math.PI / 180;\n                    a.arc(y.Kd, y.Ye, y.radiusX, y.Ae * u, (y.Ae + y.uf) * u, 0 > y.uf, v, x);\n                  } else {\n                    u = rf(y, m);\n                    v = u.length;\n\n                    if (0 === v) {\n                      a.lineTo(y.la, y.sa);\n                      break;\n                    }\n\n                    for (x = 0; x < v; x++) {\n                      var A = u[x];\n                      0 === x && a.lineTo(A[0], A[1]);\n                      a.bezierCurveTo(A[2], A[3], A[4], A[5], A[6], A[7]);\n                    }\n                  }\n\n                  break;\n\n                case qf:\n                  x = v = 0;\n\n                  if (null !== u && u.type === pf) {\n                    u = rf(u, m);\n                    A = u.length;\n\n                    if (0 === A) {\n                      a.lineTo(y.la, y.sa);\n                      break;\n                    }\n\n                    u = u[A - 1] || null;\n                    null !== u && (v = u[6], x = u[7]);\n                  } else v = null !== u ? u.C : m.ha, x = null !== u ? u.D : m.da;\n\n                  u = sf(y, m, v, x);\n                  v = u.length;\n\n                  if (0 === v) {\n                    a.lineTo(y.la, y.sa);\n                    break;\n                  }\n\n                  for (x = 0; x < v; x++) {\n                    A = u[x], a.bezierCurveTo(A[2], A[3], A[4], A[5], A[6], A[7]);\n                  }\n\n                  break;\n\n                default:\n                  w.k(\"Segment not of valid type: \" + y.na);\n              }\n\n              y.Sh && a.closePath();\n              u = y;\n            }\n\n            e ? (t = s = p = 0, m.To ? (!0 === m.Km && null !== this.Jd ? (a.Lg(this.Jd), f = !0) : f = !1, 0 !== c && null !== this.tc && (f && (p = a.shadowOffsetX, s = a.shadowOffsetY, t = a.shadowBlur, a.shadowOffsetX = 0, a.shadowOffsetY = 0, a.shadowBlur = 0), d && !h || a.Kj(), f && (a.shadowOffsetX = p, a.shadowOffsetY = s, a.shadowBlur = t))) : (f && (p = a.shadowOffsetX, s = a.shadowOffsetY, t = a.shadowBlur, a.shadowOffsetX = 0, a.shadowOffsetY = 0, a.shadowBlur = 0), !0 === m.Km && null !== this.Jd && a.Lg(this.Jd), 0 !== c && null !== this.tc && (d && !h || a.Kj()), f && (a.shadowOffsetX = p, a.shadowOffsetY = s, a.shadowBlur = t))) : (!0 === m.Km && null !== this.Jd && a.Lg(this.Jd), 0 === c || null === this.tc || d && !h || a.Kj());\n          }\n\n          if (d && !h) for (c = f, f = l.Vj, h = f.length, l = 0; l < h; l++) {\n            r = f.n[l];\n            a.beginPath();\n            n = w.Za();\n            n.push(r.ha);\n            n.push(r.da);\n            q = r.ha;\n            m = r.da;\n            p = q;\n            s = m;\n            t = r.yb.n;\n            y = t.length;\n\n            for (v = 0; v < y; v++) {\n              x = t[v];\n\n              switch (x.na) {\n                case Ue:\n                  kq(a, n, k, this.Af);\n                  n.length = 0;\n                  n.push(x.C);\n                  n.push(x.D);\n                  q = x.C;\n                  m = x.D;\n                  p = q;\n                  s = m;\n                  break;\n\n                case Je:\n                  n.push(x.C);\n                  n.push(x.D);\n                  q = x.C;\n                  m = x.D;\n                  break;\n\n                case Ve:\n                  Wd(q, m, x.Kd, x.Ye, x.oh, x.Dg, x.Ab, x.Jb, .5, n);\n                  q = x.C;\n                  m = x.D;\n                  break;\n\n                case We:\n                  ge(q, m, x.Kd, x.Ye, x.Ab, x.Jb, .5, n);\n                  q = x.C;\n                  m = x.D;\n                  break;\n\n                case pf:\n                  u = rf(x, r);\n                  A = u.length;\n\n                  if (0 === A) {\n                    n.push(x.la);\n                    n.push(x.sa);\n                    q = x.la;\n                    m = x.sa;\n                    break;\n                  }\n\n                  for (var L = 0; L < A; L++) {\n                    var C = u[L];\n                    Wd(q, m, C[2], C[3], C[4], C[5], C[6], C[7], .5, n);\n                    q = C[6];\n                    m = C[7];\n                  }\n\n                  break;\n\n                case qf:\n                  u = sf(x, r, q, m);\n                  A = u.length;\n\n                  if (0 === A) {\n                    n.push(x.la);\n                    n.push(x.sa);\n                    q = x.la;\n                    m = x.sa;\n                    break;\n                  }\n\n                  for (L = 0; L < A; L++) {\n                    C = u[L], Wd(q, m, C[2], C[3], C[4], C[5], C[6], C[7], .5, n), q = C[6], m = C[7];\n                  }\n\n                  break;\n\n                default:\n                  w.k(\"Segment not of valid type: \" + x.na);\n              }\n\n              x.Sh && (n.push(p), n.push(s), kq(a, n, k, this.Af));\n            }\n\n            kq(a, n, k, this.Af);\n            w.ra(n);\n            null !== this.tc && (q = n = r = 0, c && e && (r = a.shadowOffsetX, n = a.shadowOffsetY, q = a.shadowBlur, a.shadowOffsetX = 0, a.shadowOffsetY = 0, a.shadowBlur = 0), a.Kj(), c && e && (a.shadowOffsetX = r, a.shadowOffsetY = n, a.shadowBlur = q));\n          }\n        }\n        d && a.vx();\n\n        if (null !== this.gy) {\n          d = this.gy;\n          yk(d, Infinity, Infinity);\n          k = d.za;\n          d.jc(0, 0, k.width, k.height);\n          c = this.of;\n          a.save();\n          a.beginPath();\n          k = w.Za();\n          if (c.type === Fe) k.push(c.ha), k.push(c.da), k.push(c.C), k.push(c.D), jq(a, b, k, d);else if (c.type === Ce) for (h = c.fc.i; h.next();) {\n            l = h.value;\n            k.length = 0;\n            k.push(l.ha);\n            k.push(l.da);\n            f = l.ha;\n            r = l.da;\n            n = f;\n            q = r;\n            m = l.yb.n;\n            p = m.length;\n\n            for (s = 0; s < p; s++) {\n              t = m[s];\n\n              switch (t.na) {\n                case Ue:\n                  jq(a, b, k, d);\n                  k.length = 0;\n                  k.push(t.C);\n                  k.push(t.D);\n                  f = t.C;\n                  r = t.D;\n                  n = f;\n                  q = r;\n                  break;\n\n                case Je:\n                  k.push(t.C);\n                  k.push(t.D);\n                  f = t.C;\n                  r = t.D;\n                  break;\n\n                case Ve:\n                  Wd(f, r, t.Kd, t.Ye, t.oh, t.Dg, t.Ab, t.Jb, .5, k);\n                  f = t.C;\n                  r = t.D;\n                  break;\n\n                case We:\n                  ge(f, r, t.Kd, t.Ye, t.Ab, t.Jb, .5, k);\n                  f = t.C;\n                  r = t.D;\n                  break;\n\n                case pf:\n                  c = rf(t, l);\n                  e = c.length;\n\n                  if (0 === e) {\n                    k.push(t.la);\n                    k.push(t.sa);\n                    f = t.la;\n                    r = t.sa;\n                    break;\n                  }\n\n                  for (y = 0; y < e; y++) {\n                    v = c[y], Wd(f, r, v[2], v[3], v[4], v[5], v[6], v[7], .5, k), f = v[6], r = v[7];\n                  }\n\n                  break;\n\n                case qf:\n                  c = sf(t, l, f, r);\n                  e = c.length;\n\n                  if (0 === e) {\n                    k.push(t.la);\n                    k.push(t.sa);\n                    f = t.la;\n                    r = t.sa;\n                    break;\n                  }\n\n                  for (y = 0; y < e; y++) {\n                    v = c[y], Wd(f, r, v[2], v[3], v[4], v[5], v[6], v[7], .5, k), f = v[6], r = v[7];\n                  }\n\n                  break;\n\n                default:\n                  w.k(\"Segment not of valid type: \" + t.na);\n              }\n\n              t.Sh && (k.push(n), k.push(q), jq(a, b, k, d));\n            }\n\n            jq(a, b, k, d);\n          } else if (c.type === Ge) k.push(c.ha), k.push(c.da), k.push(c.C), k.push(c.da), k.push(c.C), k.push(c.D), k.push(c.ha), k.push(c.D), k.push(c.ha), k.push(c.da), jq(a, b, k, d);else if (c.type === He) {\n            h = new De();\n            h.ha = c.C;\n            h.da = (c.da + c.D) / 2;\n            f = new wf(pf);\n            f.Ae = 0;\n            f.uf = 360;\n            f.la = (c.ha + c.C) / 2;\n            f.sa = (c.da + c.D) / 2;\n            f.radiusX = Math.abs(c.ha - c.C) / 2;\n            f.radiusY = Math.abs(c.da - c.D) / 2;\n            h.add(f);\n            c = rf(f, h);\n            e = c.length;\n            if (0 === e) k.push(f.la), k.push(f.sa);else for (f = h.ha, r = h.da, y = 0; y < e; y++) {\n              v = c[y], Wd(f, r, v[2], v[3], v[4], v[5], v[6], v[7], .5, k), f = v[6], r = v[7];\n            }\n            jq(a, b, k, d);\n          }\n          w.ra(k);\n          a.restore();\n          a.Ke(!1);\n        }\n      }\n    }\n  };\n\n  function kq(a, b, c, d) {\n    var e = b.length;\n\n    if (!(4 > e)) {\n      var f = .001,\n          h = c.length,\n          k = b[0],\n          l = b[1];\n      if (4 === e) Bo(a, k, l, b[2], b[3], c, d);else {\n        a.moveTo(k, l);\n\n        for (var m = f = 0, n = 0, p = 0, q = 0, r = p = 0, s = w.Za(), t = 2; t < e; t += 2) {\n          f = b[t], m = b[t + 1], n = f - k, p = m - l, 0 === n && (n = .001), q = p / n, p = Math.sqrt(n * n + p * p), s.push([n, q, p]), r += p, k = f, l = m;\n        }\n\n        k = b[0];\n        l = b[1];\n        b = 0;\n\n        for (var e = !0, f = c[b % h], m = 0 !== d, t = 0, p = s[t], n = p[0], q = p[1], p = p[2], u = 0; .1 <= r;) {\n          0 === u && (f = c[b % h], b++, m && (d %= f, f -= d, m = !1));\n          f > r && (f = r);\n          f > p ? (u = f - p, f = p) : u = 0;\n          var y = Math.sqrt(f * f / (1 + q * q));\n          0 > n && (y = -y);\n          k += y;\n          l += q * y;\n          e ? a.lineTo(k, l) : a.moveTo(k, l);\n          r -= f;\n          p -= f;\n\n          if (0 !== u) {\n            t++;\n\n            if (t === s.length) {\n              w.ra(s);\n              return;\n            }\n\n            p = s[t];\n            n = p[0];\n            q = p[1];\n            p = p[2];\n            f = u;\n          } else e = !e;\n        }\n\n        w.ra(s);\n      }\n    }\n  }\n\n  Y.prototype.getDocumentPoint = Y.prototype.Ya = function (a, b) {\n    void 0 === b && (b = new z());\n\n    if (a instanceof K) {\n      a.Vd() && w.k(\"getDocumentPoint Spot must be a real, specific Spot, not: \" + a.toString());\n      var c = this.Ja,\n          d = this.mb;\n      b.m(a.x * (c.width + d) - d / 2 + c.x + a.offsetX, a.y * (c.height + d) - d / 2 + c.y + a.offsetY);\n    } else b.set(a);\n\n    this.rh.nb(b);\n    return b;\n  };\n\n  Y.prototype.Ek = function (a, b) {\n    var c = this.of;\n    if (null === c || null === this.fill && null === this.stroke) return !1;\n    var d = c.eb,\n        e = this.mb / 2;\n    c.type !== Fe || b || (e += 2);\n    var f = w.vf();\n    f.assign(d);\n    f.Zf(e + 2, e + 2);\n    if (!f.Ia(a)) return w.Bb(f), !1;\n    d = e + 1E-4;\n\n    if (c.type === Fe) {\n      if (null === this.stroke) return !1;\n      d = (c.C - c.ha) * (a.x - c.ha) + (c.D - c.da) * (a.y - c.da);\n      if (0 > (c.ha - c.C) * (a.x - c.C) + (c.da - c.D) * (a.y - c.D) || 0 > d) return !1;\n      w.Bb(f);\n      return Td(c.ha, c.da, c.C, c.D, e, a.x, a.y);\n    }\n\n    if (c.type === Ge) {\n      var h = c.ha,\n          k = c.da,\n          l = c.C,\n          c = c.D;\n      f.x = Math.min(h, l);\n      f.y = Math.min(k, c);\n      f.width = Math.abs(l - h);\n      f.height = Math.abs(c - k);\n\n      if (null === this.fill) {\n        f.Zf(-d, -d);\n        if (f.Ia(a)) return w.Bb(f), !1;\n        f.Zf(d, d);\n      }\n\n      null !== this.stroke && f.Zf(e, e);\n      d = f.Ia(a);\n      w.Bb(f);\n      return d;\n    }\n\n    if (c.type === He) {\n      var h = c.ha,\n          k = c.da,\n          l = c.C,\n          c = c.D,\n          e = Math.min(h, l),\n          m = Math.min(k, c),\n          h = Math.abs(l - h) / 2,\n          k = Math.abs(c - k) / 2,\n          e = a.x - (e + h),\n          m = a.y - (m + k);\n\n      if (null === this.fill) {\n        h -= d;\n        k -= d;\n        if (0 >= h || 0 >= k || 1 >= e * e / (h * h) + m * m / (k * k)) return w.Bb(f), !1;\n        h += d;\n        k += d;\n      }\n\n      null !== this.stroke && (h += d, k += d);\n      w.Bb(f);\n      return 0 >= h || 0 >= k ? !1 : 1 >= e * e / (h * h) + m * m / (k * k);\n    }\n\n    if (c.type === Ce) return w.Bb(f), null === this.fill ? uf(c, a.x, a.y, e) : c.Ia(a, e, 1 < this.mb, b);\n    w.k(\"Unknown Geometry type: \" + c.type);\n    return !1;\n  };\n\n  Y.prototype.Qn = function (a, b, c, d) {\n    var e = this.Da,\n        f = this.ji;\n    a = Math.max(a, 0);\n    b = Math.max(b, 0);\n    var h;\n    if (null !== this.Sf) h = this.of.eb;else {\n      var k = this.Hb,\n          l = Pd[k];\n\n      if (void 0 === l) {\n        var m = lq[k];\n        \"string\" === typeof m && (m = lq[m]);\n        \"function\" === typeof m ? (l = m(null, 100, 100), Pd[k] = l) : w.k(\"Unsupported Figure: \" + k);\n      }\n\n      h = l.eb;\n    }\n    var k = h.width,\n        l = h.height,\n        m = h.width,\n        n = h.height;\n\n    switch (Ho(this, !0)) {\n      case Qj:\n        d = c = 0;\n        break;\n\n      case Ee:\n        m = Math.max(a - f, 0);\n        n = Math.max(b - f, 0);\n        break;\n\n      case so:\n        m = Math.max(a - f, 0);\n        d = 0;\n        break;\n\n      case ro:\n        c = 0, n = Math.max(b - f, 0);\n    }\n\n    isFinite(e.width) && (m = e.width);\n    isFinite(e.height) && (n = e.height);\n    e = this.Hf;\n    h = this.si;\n    c = Math.max(c - f, h.width);\n    d = Math.max(d - f, h.height);\n    m = Math.min(e.width, m);\n    n = Math.min(e.height, n);\n    m = isFinite(m) ? Math.max(c, m) : Math.max(k, c);\n    n = isFinite(n) ? Math.max(d, n) : Math.max(l, d);\n    c = Rj(this);\n\n    switch (c) {\n      case Qj:\n        break;\n\n      case Ee:\n        k = m;\n        l = n;\n        break;\n\n      case Sj:\n        c = Math.min(m / k, n / l);\n        isFinite(c) || (c = 1);\n        k *= c;\n        l *= c;\n        break;\n\n      default:\n        w.k(c + \" is not a valid geometryStretch.\");\n    }\n\n    null !== this.Sf ? (k = Math.max(k, .01), l = Math.max(l, .01), h = null !== this.Sf ? this.Sf : this.Sa, e = k, d = l, c = h.copy(), h = h.eb, e /= h.width, d /= h.height, isFinite(e) || (e = 1), isFinite(d) || (d = 1), 1 === e && 1 === d || c.scale(e, d), this.Sa = c) : null !== this.Sa && Wa(this.Sa.So, a - f) && Wa(this.Sa.Qo, b - f) || (this.Sa = Y.makeGeometry(this, k, l));\n    h = this.Sa.eb;\n    Infinity === a || Infinity === b ? Eo(this, h.x - f / 2, h.y - f / 2, 0 === a && 0 === k ? 0 : h.width + f, 0 === b && 0 === l ? 0 : h.height + f) : Eo(this, -(f / 2), -(f / 2), m + f, n + f);\n  };\n\n  function Sp(a, b, c, d) {\n    if (!1 !== km(a)) {\n      a.vd.Qa();\n      var e = a.ji;\n      0 === e && d instanceof jh && d.ub instanceof Y && (e = d.ub.mb);\n      e *= a.rb;\n      d instanceof W && null !== d.Sa ? (b = d.Sa.eb, Eo(a, b.x - e / 2, b.y - e / 2, b.width + e, b.height + e)) : d instanceof jh && null !== d.Ze.Sa ? (b = d.Ze.Sa.eb, Eo(a, b.x - e / 2, b.y - e / 2, b.width + e, b.height + e)) : Eo(a, -(e / 2), -(e / 2), b + e, c + e);\n      a.vd.freeze();\n      a.vd.I() || w.k(\"Non-real measuredBounds has been set. Object \" + a + \", measuredBounds: \" + a.vd.toString());\n      cm(a, !1);\n    }\n  }\n\n  function Rj(a) {\n    var b = a.GA;\n    return null !== a.Sf ? b === qo ? Ee : b : b === qo ? Pd[a.Hb].be : b;\n  }\n\n  Y.prototype.pj = function (a, b, c, d) {\n    Lo(this, a, b, c, d);\n  };\n\n  Y.prototype.getNearestIntersectionPoint = Y.prototype.jF = function (a, b, c) {\n    return this.En(a.x, a.y, b.x, b.y, c);\n  };\n\n  Y.prototype.En = function (a, b, c, d, e) {\n    var f = this.transform,\n        h = 1 / (f.m11 * f.m22 - f.m12 * f.m21),\n        k = f.m22 * h,\n        l = -f.m12 * h,\n        m = -f.m21 * h,\n        n = f.m11 * h,\n        p = h * (f.m21 * f.dy - f.m22 * f.dx),\n        q = h * (f.m12 * f.dx - f.m11 * f.dy),\n        f = a * k + b * m + p,\n        h = a * l + b * n + q,\n        k = c * k + d * m + p,\n        l = c * l + d * n + q,\n        m = this.mb / 2,\n        p = this.Sa;\n    null === p && (yk(this, Infinity, Infinity), p = this.Sa);\n    q = p.eb;\n    n = !1;\n    if (p.type === Fe) {\n      if (1.5 >= this.mb) n = je(p.Ec, p.Oc, p.Ab, p.Jb, f, h, k, l, e);else {\n        var r = 0,\n            s = 0;\n        p.Ec === p.Ab ? (r = m, s = 0) : (b = (p.Jb - p.Oc) / (p.Ab - p.Ec), s = m / Math.sqrt(1 + b * b), r = s * b);\n        d = w.Za();\n        b = new z();\n        je(p.Ec + r, p.Oc + s, p.Ab + r, p.Jb + s, f, h, k, l, b) && d.push(b);\n        b = new z();\n        je(p.Ec - r, p.Oc - s, p.Ab - r, p.Jb - s, f, h, k, l, b) && d.push(b);\n        b = new z();\n        je(p.Ec + r, p.Oc + s, p.Ec - r, p.Oc - s, f, h, k, l, b) && d.push(b);\n        b = new z();\n        je(p.Ab + r, p.Jb + s, p.Ab - r, p.Jb - s, f, h, k, l, b) && d.push(b);\n        b = d.length;\n        if (0 === b) return w.ra(d), !1;\n        n = !0;\n        s = Infinity;\n\n        for (r = 0; r < b; r++) {\n          var k = d[r],\n              t = (k.x - f) * (k.x - f) + (k.y - h) * (k.y - h);\n          t < s && (s = t, e.x = k.x, e.y = k.y);\n        }\n\n        w.ra(d);\n      }\n    } else if (p.type === Ge) b = q.x - m, n = ke(b, q.y - m, q.x + q.width + m, q.y + q.height + m, f, h, k, l, e);else if (p.type === He) {\n      a: if (b = q.copy().Zf(m, m), 0 === b.width) n = je(b.x, b.y, b.x, b.y + b.height, f, h, k, l, e);else if (0 === b.height) n = je(b.x, b.y, b.x + b.width, b.y, f, h, k, l, e);else {\n        a = b.width / 2;\n        var u = b.height / 2;\n        d = b.x + a;\n        b = b.y + u;\n        c = 9999;\n        f !== k && (c = (h - l) / (f - k));\n\n        if (9999 > Math.abs(c)) {\n          n = h - b - c * (f - d);\n\n          if (0 > a * a * c * c + u * u - n * n) {\n            e.x = NaN;\n            e.y = NaN;\n            n = !1;\n            break a;\n          }\n\n          m = Math.sqrt(a * a * c * c + u * u - n * n);\n          k = (-(a * a * c * n) + a * u * m) / (u * u + a * a * c * c) + d;\n          a = (-(a * a * c * n) - a * u * m) / (u * u + a * a * c * c) + d;\n          l = c * (k - d) + n + b;\n          b = c * (a - d) + n + b;\n          d = Math.abs((f - k) * (f - k)) + Math.abs((h - l) * (h - l));\n          h = Math.abs((f - a) * (f - a)) + Math.abs((h - b) * (h - b));\n          d < h ? (e.x = k, e.y = l) : (e.x = a, e.y = b);\n        } else {\n          k = u * u;\n          l = f - d;\n          k -= k / (a * a) * l * l;\n\n          if (0 > k) {\n            e.x = NaN;\n            e.y = NaN;\n            n = !1;\n            break a;\n          }\n\n          m = Math.sqrt(k);\n          l = b + m;\n          b -= m;\n          d = Math.abs(l - h);\n          h = Math.abs(b - h);\n          d < h ? (e.x = f, e.y = l) : (e.x = f, e.y = b);\n        }\n\n        n = !0;\n      }\n    } else if (p.type === Ce) {\n      var y = 0,\n          v = 0,\n          x = t = 0,\n          q = w.K(),\n          r = k - f,\n          s = l - h,\n          s = r * r + s * s;\n      e.x = k;\n      e.y = l;\n\n      for (r = 0; r < p.fc.count; r++) {\n        for (var A = p.fc.n[r], L = A.yb, y = A.ha, v = A.da, C = y, O = v, X = 0; X < L.count; X++) {\n          var S = L.n[X],\n              ba = S.type,\n              t = S.C,\n              x = S.D,\n              ha = !1;\n\n          switch (ba) {\n            case Ue:\n              C = t;\n              O = x;\n              break;\n\n            case Je:\n              ha = mq(y, v, t, x, f, h, k, l, q);\n              break;\n\n            case Ve:\n              var ha = S.xc,\n                  ba = S.Sc,\n                  ya = S.Eh,\n                  Ga = S.Fh,\n                  ha = he(y, v, ha, ba, ya, Ga, t, x, f, h, k, l, .5, q);\n              break;\n\n            case We:\n              ha = (y + 2 * S.xc) / 3;\n              ba = (v + 2 * S.Sc) / 3;\n              ya = (2 * S.xc + t) / 3;\n              Ga = (2 * S.xc + t) / 3;\n              ha = he(y, v, ha, ba, ya, Ga, t, x, f, h, k, l, .5, q);\n              break;\n\n            case pf:\n            case qf:\n              ba = S.type === pf ? rf(S, A) : sf(S, A, y, v);\n              ya = ba.length;\n\n              if (0 === ya) {\n                ha = mq(y, v, S.la, S.sa, f, h, k, l, q);\n                break;\n              }\n\n              for (x = 0; x < ya; x++) {\n                u = ba[x], 0 === x && mq(y, v, u[0], u[1], f, h, k, l, q) && (t = nq(f, h, q, s, e), t < s && (s = t, n = !0)), he(u[0], u[1], u[2], u[3], u[4], u[5], u[6], u[7], f, h, k, l, .5, q) && (t = nq(f, h, q, s, e), t < s && (s = t, n = !0));\n              }\n\n              t = u[6];\n              x = u[7];\n              break;\n\n            default:\n              w.k(\"Unknown Segment type: \" + ba);\n          }\n\n          y = t;\n          v = x;\n          ha && (t = nq(f, h, q, s, e), t < s && (s = t, n = !0));\n          S.Kx && (t = C, x = O, mq(y, v, t, x, f, h, k, l, q) && (t = nq(f, h, q, s, e), t < s && (s = t, n = !0)));\n        }\n      }\n\n      f = c - a;\n      h = d - b;\n      b = Math.sqrt(f * f + h * h);\n      0 !== b && (f /= b, h /= b);\n      e.x -= f * m;\n      e.y -= h * m;\n      w.v(q);\n    } else w.k(\"Unknown Geometry type: \" + p.type);\n    if (!n) return !1;\n    this.transform.nb(e);\n    return !0;\n  };\n\n  function nq(a, b, c, d, e) {\n    a = c.x - a;\n    b = c.y - b;\n    b = a * a + b * b;\n    return b < d ? (e.x = c.x, e.y = c.y, b) : d;\n  }\n\n  function mq(a, b, c, d, e, f, h, k, l) {\n    var m = !1,\n        n = (e - h) * (b - d) - (f - k) * (a - c);\n    if (0 === n) return !1;\n    l.x = ((e * k - f * h) * (a - c) - (e - h) * (a * d - b * c)) / n;\n    l.y = ((e * k - f * h) * (b - d) - (f - k) * (a * d - b * c)) / n;\n    (a > c ? a - c : c - a) < (b > d ? b - d : d - b) ? (e = b < d ? b : d, a = b < d ? d : b, (l.y > e || Wa(l.y, e)) && (l.y < a || Wa(l.y, a)) && (m = !0)) : (e = a < c ? a : c, a = a < c ? c : a, (l.x > e || Wa(l.x, e)) && (l.x < a || Wa(l.x, a)) && (m = !0));\n    return m;\n  }\n\n  Y.prototype.containedInRect = Y.prototype.un = function (a, b) {\n    if (void 0 === b) return a.Fk(this.U);\n    var c = this.Sa;\n    null === c && (yk(this, Infinity, Infinity), c = this.Sa);\n    var c = c.eb,\n        d = this.mb / 2,\n        e = !1,\n        f = w.K();\n    f.m(c.x - d, c.y - d);\n    a.Ia(b.nb(f)) && (f.m(c.x - d, c.bottom + d), a.Ia(b.nb(f)) && (f.m(c.right + d, c.bottom + d), a.Ia(b.nb(f)) && (f.m(c.right + d, c.y - d), a.Ia(b.nb(f)) && (e = !0))));\n    w.v(f);\n    return e;\n  };\n\n  Y.prototype.intersectsRect = Y.prototype.$f = function (a, b) {\n    if (this.un(a, b) || void 0 === b && (b = this.transform, a.Fk(this.U))) return !0;\n    var c = w.Wg();\n    c.set(b);\n    c.SA();\n    var d = a.left,\n        e = a.right,\n        f = a.top,\n        h = a.bottom,\n        k = w.K();\n    k.m(d, f);\n    c.nb(k);\n    if (this.Ek(k, !0)) return w.v(k), !0;\n    k.m(e, f);\n    c.nb(k);\n    if (this.Ek(k, !0)) return w.v(k), !0;\n    k.m(d, h);\n    c.nb(k);\n    if (this.Ek(k, !0)) return w.v(k), !0;\n    k.m(e, h);\n    c.nb(k);\n    if (this.Ek(k, !0)) return w.v(k), !0;\n    var l = w.K(),\n        m = w.K();\n    c.set(b);\n    c.SF(this.transform);\n    c.SA();\n    l.x = e;\n    l.y = f;\n    l.transform(c);\n    k.x = d;\n    k.y = f;\n    k.transform(c);\n    var n = !1;\n    oq(this, k, l, m) ? n = !0 : (k.x = e, k.y = h, k.transform(c), oq(this, k, l, m) ? n = !0 : (l.x = d, l.y = h, l.transform(c), oq(this, k, l, m) ? n = !0 : (k.x = d, k.y = f, k.transform(c), oq(this, k, l, m) && (n = !0))));\n    w.v(k);\n    w.bf(c);\n    w.v(l);\n    w.v(m);\n    return n;\n  };\n\n  function oq(a, b, c, d) {\n    if (!a.jF(b, c, d)) return !1;\n    a = b.x;\n    b = b.y;\n    var e = c.x;\n    c = c.y;\n    var f = d.x;\n    d = d.y;\n\n    if (a === e) {\n      var h = 0;\n      a = 0;\n      b < c ? (h = b, a = c) : (h = c, a = b);\n      return d >= h && d <= a;\n    }\n\n    a < e ? (h = a, a = e) : h = e;\n    return f >= h && f <= a;\n  }\n\n  Y.prototype.cF = function (a, b, c) {\n    function d(a, b) {\n      for (var c = a.length, d = 0; d < c; d += 2) {\n        if (b.Xf(a[d], a[d + 1]) > e) return !0;\n      }\n\n      return !1;\n    }\n\n    if (c && null !== this.fill && this.Ek(a, !0)) return !0;\n    var e = a.Cf(b);\n    b = e;\n    1.5 < this.mb && (e = this.mb / 2 + Math.sqrt(e), e *= e);\n    var f = this.Sa;\n    if (null === f && (yk(this, Infinity, Infinity), f = this.Sa, null === f)) return !1;\n\n    if (!c) {\n      var h = f.eb,\n          k = h.x,\n          l = h.y,\n          m = h.x + h.width,\n          h = h.y + h.height;\n      if (Sa(a.x, a.y, k, l) <= e && Sa(a.x, a.y, m, l) <= e && Sa(a.x, a.y, k, h) <= e && Sa(a.x, a.y, m, h) <= e) return !0;\n    }\n\n    k = f.Ec;\n    l = f.Oc;\n    m = f.Ab;\n    h = f.Jb;\n\n    if (f.type === Fe) {\n      if (c = Ra(a.x, a.y, k, l, m, h), f = (k - m) * (a.x - m) + (l - h) * (a.y - h), c <= (0 <= (m - k) * (a.x - k) + (h - l) * (a.y - l) && 0 <= f ? e : b)) return !0;\n    } else {\n      if (f.type === Ge) return b = !1, c && (b = Ra(a.x, a.y, k, l, k, h) <= e || Ra(a.x, a.y, k, l, m, l) <= e || Ra(a.x, a.y, m, l, m, h) <= e || Ra(a.x, a.y, k, h, m, h) <= e), b;\n\n      if (f.type === He) {\n        b = a.x - (k + m) / 2;\n        var f = a.y - (l + h) / 2,\n            n = Math.abs(m - k) / 2,\n            p = Math.abs(h - l) / 2;\n        if (0 === n || 0 === p) return c = Ra(a.x, a.y, k, l, m, h), c <= e ? !0 : !1;\n\n        if (c) {\n          if (a = Ae(n, p, b, f), a * a <= e) return !0;\n        } else return Sa(b, f, -n, 0) >= e || Sa(b, f, 0, -p) >= e || Sa(b, f, 0, p) >= e || Sa(b, f, n, 0) >= e ? !1 : !0;\n      } else if (f.type === Ce) {\n        h = f.eb;\n        k = h.x;\n        l = h.y;\n        m = h.x + h.width;\n        h = h.y + h.height;\n        if (a.x > m && a.x < k && a.y > h && a.y < l && Ra(a.x, a.y, k, l, k, h) > e && Ra(a.x, a.y, k, l, m, l) > e && Ra(a.x, a.y, m, h, k, h) > e && Ra(a.x, a.y, m, h, m, l) > e) return !1;\n        b = Math.sqrt(e);\n\n        if (c) {\n          if (null === this.fill ? uf(f, a.x, a.y, b) : f.Ia(a, b, !0)) return !0;\n        } else {\n          c = f.fc;\n\n          for (b = 0; b < c.count; b++) {\n            k = c.n[b];\n            n = k.ha;\n            p = k.da;\n            if (a.Xf(n, p) > e) return !1;\n            l = k.yb.n;\n            m = l.length;\n\n            for (h = 0; h < m; h++) {\n              var q = l[h];\n\n              switch (q.type) {\n                case Ue:\n                case Je:\n                  n = q.C;\n                  p = q.D;\n                  if (a.Xf(n, p) > e) return !1;\n                  break;\n\n                case Ve:\n                  f = w.Za();\n                  Wd(n, p, q.xc, q.Sc, q.Eh, q.Fh, q.C, q.D, .8, f);\n                  n = d(f, a);\n                  w.ra(f);\n                  if (n) return !1;\n                  n = q.C;\n                  p = q.D;\n                  if (a.Xf(n, p) > e) return !1;\n                  break;\n\n                case We:\n                  f = w.Za();\n                  ge(n, p, q.xc, q.Sc, q.C, q.D, .8, f);\n                  n = d(f, a);\n                  w.ra(f);\n                  if (n) return !1;\n                  n = q.C;\n                  p = q.D;\n                  if (a.Xf(n, p) > e) return !1;\n                  break;\n\n                case pf:\n                case qf:\n                  var r = q.type === pf ? rf(q, k) : sf(q, k, n, p),\n                      s = r.length;\n\n                  if (0 === s) {\n                    n = q.la;\n                    p = q.sa;\n                    if (a.Xf(n, p) > e) return !1;\n                    break;\n                  }\n\n                  q = null;\n                  f = w.Za();\n\n                  for (b = 0; b < s; b++) {\n                    if (q = r[b], f.length = 0, Wd(q[0], q[1], q[2], q[3], q[4], q[5], q[6], q[7], .8, f), d(f, a)) return w.ra(f), !1;\n                  }\n\n                  w.ra(f);\n                  null !== q && (n = q[6], p = q[7]);\n                  break;\n\n                default:\n                  w.k(\"Unknown Segment type: \" + q.type);\n              }\n            }\n          }\n\n          return !0;\n        }\n      }\n    }\n\n    return !1;\n  };\n\n  w.defineProperty(Y, {\n    of: \"geometry\"\n  }, function () {\n    return null !== this.Sa ? this.Sa : this.Sf;\n  }, function (a) {\n    var b = this.Sa;\n\n    if (b !== a) {\n      this.Sf = null !== a ? this.Sa = a.freeze() : this.Sa = null;\n      var c = this.W;\n      null !== c && (c.lk = NaN);\n      this.H();\n      this.h(\"geometry\", b, a);\n      Co(this) && (a = this.W, null !== a && Do(this, a, \"geometryString\"));\n    }\n  });\n  w.defineProperty(Y, {\n    bI: \"geometryString\"\n  }, function () {\n    return null === this.of ? \"\" : this.of.toString();\n  }, function (a) {\n    a = Oe(a);\n    var b = a.normalize();\n    this.of = a;\n    this.position = a = w.wb(-b.x, -b.y);\n    w.v(a);\n  });\n  w.defineProperty(Y, {\n    AF: \"isGeometryPositioned\"\n  }, function () {\n    return this.Xr;\n  }, function (a) {\n    var b = this.Xr;\n    b !== a && (this.Xr = a, this.H(), this.h(\"isGeometryPositioned\", b, a));\n  });\n\n  Y.prototype.ge = function () {\n    this.Sa = null;\n  };\n\n  w.defineProperty(Y, {\n    fill: \"fill\"\n  }, function () {\n    return this.Jd;\n  }, function (a) {\n    var b = this.Jd;\n    b !== a && (a instanceof ga && a.freeze(), this.Jd = a, this.oa(), this.h(\"fill\", b, a));\n  });\n  w.defineProperty(Y, {\n    stroke: \"stroke\"\n  }, function () {\n    return this.tc;\n  }, function (a) {\n    var b = this.tc;\n    b !== a && (a instanceof ga && a.freeze(), this.tc = a, this.oa(), this.h(\"stroke\", b, a));\n  });\n  w.defineProperty(Y, {\n    mb: \"strokeWidth\"\n  }, function () {\n    return this.ji;\n  }, function (a) {\n    var b = this.ji;\n    if (b !== a) if (0 <= a) {\n      this.ji = a;\n      this.H();\n      var c = this.W;\n      null !== c && (c.lk = NaN);\n      this.h(\"strokeWidth\", b, a);\n    } else w.Fa(a, \"value >= 0\", Y, \"strokeWidth:value\");\n  });\n  w.defineProperty(Y, {\n    TL: \"strokeCap\"\n  }, function () {\n    return this.vp;\n  }, function (a) {\n    var b = this.vp;\n    b !== a && (\"string\" !== typeof a || \"butt\" !== a && \"round\" !== a && \"square\" !== a ? w.Fa(a, '\"butt\", \"round\", or \"square\"', Y, \"strokeCap\") : (this.vp = a, this.oa(), this.h(\"strokeCap\", b, a)));\n  });\n  w.defineProperty(Y, {\n    VL: \"strokeJoin\"\n  }, function () {\n    return this.xp;\n  }, function (a) {\n    var b = this.xp;\n    b !== a && (\"string\" !== typeof a || \"miter\" !== a && \"bevel\" !== a && \"round\" !== a ? w.Fa(a, '\"miter\", \"bevel\", or \"round\"', Y, \"strokeJoin\") : (this.xp = a, this.oa(), this.h(\"strokeJoin\", b, a)));\n  });\n  w.defineProperty(Y, {\n    WL: \"strokeMiterLimit\"\n  }, function () {\n    return this.kn;\n  }, function (a) {\n    var b = this.kn;\n    if (b !== a) if (1 <= a) {\n      this.kn = a;\n      this.oa();\n      var c = this.W;\n      null !== c && (c.lk = NaN);\n      this.h(\"strokeMiterLimit\", b, a);\n    } else w.Fa(a, \"value >= 1\", Y, \"strokeWidth:value\");\n  });\n  w.defineProperty(Y, {\n    yG: \"strokeDashArray\"\n  }, function () {\n    return this.wp;\n  }, function (a) {\n    var b = this.wp;\n\n    if (b !== a) {\n      null === a || Array.isArray(a) || w.Gd(a, \"Array\", Y, \"strokeDashArray:value\");\n\n      if (null !== a) {\n        for (var c = a.length, d = 0, e = 0; e < c; e++) {\n          var f = a[e];\n          \"number\" === typeof f && 0 <= f && isFinite(f) || w.k(\"strokeDashArray:value \" + f + \" at index \" + e + \" must be a positive number or zero.\");\n          d += f;\n        }\n\n        if (0 === d) {\n          if (null === b) return;\n          a = null;\n        }\n      }\n\n      this.wp = a;\n      this.oa();\n      this.h(\"strokeDashArray\", b, a);\n    }\n  });\n  w.defineProperty(Y, {\n    UL: \"strokeDashOffset\"\n  }, function () {\n    return this.Af;\n  }, function (a) {\n    var b = this.Af;\n    b !== a && 0 <= a && (this.Af = a, this.oa(), this.h(\"strokeDashOffset\", b, a));\n  });\n  w.defineProperty(Y, {\n    Hb: \"figure\"\n  }, function () {\n    return this.Io;\n  }, function (a) {\n    var b = this.Io;\n\n    if (b !== a) {\n      var c = lq[a];\n      \"function\" === typeof c ? c = a : (c = lq[a.toLowerCase()]) || w.k(\"Unknown Shape.figure: \" + a);\n      b !== c && (a = this.W, null !== a && (a.lk = NaN), this.Io = c, this.Sf = null, this.ge(), this.H(), this.h(\"figure\", b, c));\n    }\n  });\n  w.defineProperty(Y, {\n    Kq: \"toArrow\"\n  }, function () {\n    return this.Cp;\n  }, function (a) {\n    var b = this.Cp;\n    !0 === a ? a = \"Standard\" : !1 === a && (a = \"\");\n\n    if (b !== a) {\n      var c = pq(a);\n      null === c ? w.k(\"Unknown Shape.toArrow: \" + a) : b !== c && (this.Cp = c, this.Sf = null, this.ge(), this.H(), qq(this), this.h(\"toArrow\", b, c));\n    }\n  });\n  w.defineProperty(Y, {\n    EA: \"fromArrow\"\n  }, function () {\n    return this.Ko;\n  }, function (a) {\n    var b = this.Ko;\n    !0 === a ? a = \"Standard\" : !1 === a && (a = \"\");\n\n    if (b !== a) {\n      var c = pq(a);\n      null === c ? w.k(\"Unknown Shape.fromArrow: \" + a) : b !== c && (this.Ko = c, this.Sf = null, this.ge(), this.H(), qq(this), this.h(\"fromArrow\", b, c));\n    }\n  });\n\n  function qq(a) {\n    var b = a.g;\n    null !== b && b.ja.lb || (a.Cq = rq, \"None\" !== a.Cp ? (a.Qe = -1, a.qh = Ic) : \"None\" !== a.Ko && (a.Qe = 0, a.qh = new K(1 - Ic.x, Ic.y)));\n  }\n\n  w.defineProperty(Y, {\n    A: \"spot1\"\n  }, function () {\n    return this.hi;\n  }, function (a) {\n    w.G(a, K, Y, \"spot1\");\n    var b = this.hi;\n    b.L(a) || (this.hi = a = a.S(), this.H(), this.h(\"spot1\", b, a));\n  });\n  w.defineProperty(Y, {\n    B: \"spot2\"\n  }, function () {\n    return this.ii;\n  }, function (a) {\n    w.G(a, K, Y, \"spot2\");\n    var b = this.ii;\n    b.L(a) || (this.ii = a = a.S(), this.H(), this.h(\"spot2\", b, a));\n  });\n  w.defineProperty(Y, {\n    Jc: \"parameter1\"\n  }, function () {\n    return this.Rs;\n  }, function (a) {\n    var b = this.Rs;\n    b !== a && (this.Rs = a, this.ge(), this.H(), this.h(\"parameter1\", b, a));\n  });\n  w.defineProperty(Y, {\n    Qu: \"parameter2\"\n  }, function () {\n    return this.Ss;\n  }, function (a) {\n    var b = this.Ss;\n    b !== a && (this.Ss = a, this.ge(), this.H(), this.h(\"parameter2\", b, a));\n  });\n  w.u(Y, {\n    Ja: \"naturalBounds\"\n  }, function () {\n    if (null !== this.Sa) return this.Nc.assign(this.Sa.eb), this.Nc;\n    var a = this.Da;\n    return new B(0, 0, a.width, a.height);\n  });\n  w.defineProperty(Y, {\n    gy: \"pathPattern\"\n  }, function () {\n    return this.Us;\n  }, function (a) {\n    var b = this.Us;\n    b !== a && (this.Us = a, this.oa(), this.h(\"pathPattern\", b, a));\n  });\n  w.defineProperty(Y, {\n    KL: \"pathObject\"\n  }, function () {\n    return this.gy;\n  }, function (a) {\n    this.gy = a;\n  });\n  w.defineProperty(Y, {\n    GA: \"geometryStretch\"\n  }, function () {\n    return this.Mr;\n  }, function (a) {\n    var b = this.Mr;\n    b !== a && (w.ob(a, G, Y, \"geometryStretch\"), this.Mr = a, this.h(\"geometryStretch\", b, a));\n  });\n  w.defineProperty(Y, {\n    interval: \"interval\"\n  }, function () {\n    return this.ug;\n  }, function (a) {\n    var b = this.ug;\n    a = Math.floor(a);\n\n    if (b !== a && 0 <= a) {\n      this.ug = a;\n      var c = this.g;\n      null !== c && this.R === c.Gn && dm(c);\n      this.H();\n      c = this.R;\n      null !== c && c.type === lp && (c.ak = null);\n      this.h(\"interval\", b, a);\n    }\n  });\n  w.defineProperty(Y, {\n    nF: \"graduatedStart\"\n  }, function () {\n    return this.tg;\n  }, function (a) {\n    var b = this.tg;\n    b !== a && (0 > a ? a = 0 : 1 < a && (a = 1), this.tg = a, this.H(), this.h(\"graduatedStart\", b, a));\n  });\n  w.defineProperty(Y, {\n    lF: \"graduatedEnd\"\n  }, function () {\n    return this.sg;\n  }, function (a) {\n    var b = this.sg;\n    b !== a && (0 > a ? a = 0 : 1 < a && (a = 1), this.sg = a, this.H(), this.h(\"graduatedEnd\", b, a));\n  });\n\n  Y.makeGeometry = function (a, b, c) {\n    var d = null;\n    if (\"None\" !== a.Kq) d = Qd[a.Kq];else if (\"None\" !== a.EA) d = Qd[a.EA];else {\n      var e = lq[a.Hb];\n      \"string\" === typeof e && (e = lq[e]);\n      void 0 === e && w.k(\"Unknown Shape.figure: \" + a.Hb);\n      d = e(a, b, c);\n      d.So = b;\n      d.Qo = c;\n    }\n    null === d && (e = lq.Rectangle, \"function\" === typeof e && (d = e(a, b, c)));\n    return d;\n  };\n\n  Y.getFigureGenerators = function () {\n    var a = new ma(),\n        b;\n\n    for (b in lq) {\n      b !== b.toLowerCase() && a.add(b, lq[b]);\n    }\n\n    a.freeze();\n    return a;\n  };\n\n  Y.defineFigureGenerator = function (a, b) {\n    w.j(a, \"string\", Y, \"defineFigureGenerator:name\");\n    \"string\" === typeof b ? \"\" !== b && lq[b] || w.k(\"Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: \" + b) : w.j(b, \"function\", Y, \"defineFigureGenerator:func\");\n    var c = a.toLowerCase();\n    \"\" !== a && \"none\" !== c && a !== c || w.k(\"Shape.defineFigureGenerator name must not be empty or None or all-lower-case: \" + a);\n    lq[a] = b;\n    lq[c] = a;\n  };\n\n  Y.getArrowheadGeometries = function () {\n    var a = new ma(\"string\", Be),\n        b;\n\n    for (b in sq) {\n      if (void 0 === Qd[b]) {\n        var c = Oe(sq[b], !1);\n        Qd[b] = c;\n        c = b.toLowerCase();\n        c !== b && (Qd[c] = b);\n      }\n    }\n\n    for (b in Qd) {\n      b !== b.toLowerCase() && (c = Qd[b], c instanceof Be && a.add(b, c));\n    }\n\n    a.freeze();\n    return a;\n  };\n\n  Y.defineArrowheadGeometry = function (a, b) {\n    w.j(a, \"string\", Y, \"defineArrowheadGeometry:name\");\n    var c = null;\n    \"string\" === typeof b ? (w.j(b, \"string\", Y, \"defineArrowheadGeometry:pathstr\"), c = Oe(b, !1)) : (w.G(b, Be, Y, \"defineArrowheadGeometry:pathstr\"), c = b);\n    var d = a.toLowerCase();\n    \"\" !== a && \"none\" !== d && a !== d || w.k(\"Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: \" + a);\n    Qd[a] = c;\n    Qd[d] = a;\n  };\n\n  function Lh() {\n    G.call(this);\n    this.Md = \"\";\n    this.tc = \"black\";\n    this.qg = \"13px sans-serif\";\n    this.Jl = \"start\";\n    this.pg = Qj;\n    this.Nl = yc;\n    this.Lm = !0;\n    this.ek = this.gk = !1;\n    this.cj = tq;\n    this.nj = uq;\n    this.mw = this.pe = 0;\n    this.Fz = this.Gz = null;\n    this.zf = new Yp();\n    this.Fr = !1;\n    this.We = this.dr = this.Ct = this.Kl = this.Dt = null;\n    this.gi = this.fi = 0;\n    this.ih = Infinity;\n    this.Yo = 0;\n    this.ug = 1;\n    this.tg = 0;\n    this.sg = 1;\n    this.Gm = null;\n  }\n\n  w.La(Lh, G);\n  w.ga(\"TextBlock\", Lh);\n  var vq = /[ \\u200b\\u00ad]/;\n\n  Lh.prototype.cloneProtected = function (a) {\n    G.prototype.cloneProtected.call(this, a);\n    a.Md = this.Md;\n    a.tc = this.tc;\n    a.qg = this.qg;\n    a.Jl = this.Jl;\n    a.pg = this.pg;\n    a.Nl = this.Nl;\n    a.Lm = this.Lm;\n    a.gk = this.gk;\n    a.ek = this.ek;\n    a.cj = this.cj;\n    a.nj = this.nj;\n    a.pe = this.pe;\n    a.mw = this.mw;\n    a.Gz = this.Gz;\n    a.Fz = this.Fz;\n    a.zf.Qp(this.zf);\n    a.Fr = this.Fr;\n    a.Dt = this.Dt;\n    a.Kl = this.Kl;\n    a.Ct = this.Ct;\n    a.dr = this.dr;\n    a.We = this.We;\n    a.fi = this.fi;\n    a.gi = this.gi;\n    a.ih = this.ih;\n    a.Yo = this.Yo;\n    a.ug = this.ug;\n    a.tg = this.tg;\n    a.sg = this.sg;\n    a.Gm = this.Gm;\n  };\n\n  Lh.prototype.ic = function (a) {\n    a.Je === Lh ? this.MG = a : G.prototype.ic.call(this, a);\n  };\n\n  Lh.prototype.toString = function () {\n    return 22 < this.Md.length ? 'TextBlock(\"' + this.Md.substring(0, 20) + '\"...)' : 'TextBlock(\"' + this.Md + '\")';\n  };\n\n  var wq = new ra(),\n      xq = 0,\n      yq = new ra(),\n      zq = 0,\n      Aq = \"...\",\n      Bq = \"\",\n      Cq = new Vc(null).Gk;\n\n  Lh.getEllipsis = function () {\n    return Aq;\n  };\n\n  Lh.setEllipsis = function (a) {\n    Aq = a;\n    yq = new ra();\n    zq = 0;\n  };\n\n  var Dq;\n  Lh.None = Dq = w.p(Lh, \"None\", 0);\n  var Eq;\n  Lh.WrapFit = Eq = w.p(Lh, \"WrapFit\", 1);\n  var uq;\n  Lh.WrapDesiredSize = uq = w.p(Lh, \"WrapDesiredSize\", 2);\n  var Fq;\n  Lh.WrapBreakAll = Fq = w.p(Lh, \"WrapBreakAll\", 3);\n  var tq;\n  Lh.OverflowClip = tq = w.p(Lh, \"OverflowClip\", 0);\n  var Gq;\n  Lh.OverflowEllipsis = Gq = w.p(Lh, \"OverflowEllipsis\", 1);\n\n  Lh.prototype.H = function () {\n    G.prototype.H.call(this);\n    this.Fz = this.Gz = null;\n  };\n\n  w.defineProperty(Lh, {\n    font: \"font\"\n  }, function () {\n    return this.qg;\n  }, function (a) {\n    var b = this.qg;\n    b !== a && (this.qg = a, this.zf.Wj = null, this.H(), this.h(\"font\", b, a));\n  });\n\n  Lh.isValidFont = function (a) {\n    var b = Cq.font;\n    if (a === b || \"10px sans-serif\" === a) return !0;\n    Cq.font = \"10px sans-serif\";\n    var c;\n    Cq.font = a;\n    var d = Cq.font;\n    if (\"10px sans-serif\" !== d) return Cq.font = b, !0;\n    Cq.font = \"19px serif\";\n    c = Cq.font;\n    Cq.font = a;\n    d = Cq.font;\n    Cq.font = b;\n    return d !== c;\n  };\n\n  w.defineProperty(Lh, {\n    text: \"text\"\n  }, function () {\n    return this.Md;\n  }, function (a) {\n    var b = this.Md;\n    a = null !== a && void 0 !== a ? a.toString() : \"\";\n    b !== a && (this.Md = a, this.H(), this.h(\"text\", b, a));\n  });\n  w.defineProperty(Lh, {\n    textAlign: \"textAlign\"\n  }, function () {\n    return this.Jl;\n  }, function (a) {\n    var b = this.Jl;\n    b !== a && (\"start\" === a || \"end\" === a || \"left\" === a || \"right\" === a || \"center\" === a ? (this.Jl = a, this.oa(), this.h(\"textAlign\", b, a)) : w.Fa(a, '\"start\", \"end\", \"left\", \"right\", or \"center\"', Lh, \"textAlign\"));\n  });\n  w.defineProperty(Lh, {\n    iu: \"flip\"\n  }, function () {\n    return this.pg;\n  }, function (a) {\n    var b = this.pg;\n    b !== a && (w.ob(a, G, Lh, \"flip\"), this.pg = a, this.oa(), this.h(\"flip\", b, a));\n  });\n  w.defineProperty(Lh, {\n    bM: \"verticalAlignment\"\n  }, function () {\n    return this.Nl;\n  }, function (a) {\n    var b = this.Nl;\n    b.L(a) || (a.Vd() && w.k(\"TextBlock.verticalAlignment for \" + this + \" must be a real Spot, not:\" + a), this.Nl = a = a.S(), Uo(this), this.h(\"verticalAlignment\", b, a));\n  });\n  w.u(Lh, {\n    Ja: \"naturalBounds\"\n  }, function () {\n    if (!this.Nc.I()) {\n      var a = Hq(this, this.Md, this.zf, 999999).width,\n          b = Iq(this, a, this.zf),\n          c = this.Da;\n      isNaN(c.width) || (a = c.width);\n      isNaN(c.height) || (b = c.height);\n      Ua(this.Nc, a, b);\n    }\n\n    return this.Nc;\n  });\n  w.defineProperty(Lh, {\n    Nx: \"isMultiline\"\n  }, function () {\n    return this.Lm;\n  }, function (a) {\n    var b = this.Lm;\n    b !== a && (this.Lm = a, this.H(), this.h(\"isMultiline\", b, a));\n  });\n  w.defineProperty(Lh, {\n    kL: \"isUnderline\"\n  }, function () {\n    return this.gk;\n  }, function (a) {\n    var b = this.gk;\n    b !== a && (this.gk = a, this.oa(), this.h(\"isUnderline\", b, a));\n  });\n  w.defineProperty(Lh, {\n    jL: \"isStrikethrough\"\n  }, function () {\n    return this.ek;\n  }, function (a) {\n    var b = this.ek;\n    b !== a && (this.ek = a, this.oa(), this.h(\"isStrikethrough\", b, a));\n  });\n  w.defineProperty(Lh, {\n    MG: \"wrap\"\n  }, function () {\n    return this.nj;\n  }, function (a) {\n    var b = this.nj;\n    b !== a && (this.nj = a, this.H(), this.h(\"wrap\", b, a));\n  });\n  w.defineProperty(Lh, {\n    overflow: \"overflow\"\n  }, function () {\n    return this.cj;\n  }, function (a) {\n    var b = this.cj;\n    b !== a && (this.cj = a, this.H(), this.h(\"overflow\", b, a));\n  });\n  w.defineProperty(Lh, {\n    stroke: \"stroke\"\n  }, function () {\n    return this.tc;\n  }, function (a) {\n    var b = this.tc;\n    b !== a && (a instanceof ga && a.freeze(), this.tc = a, this.oa(), this.h(\"stroke\", b, a));\n  });\n  w.u(Lh, {\n    Ux: \"lineCount\"\n  }, function () {\n    return this.pe;\n  });\n  w.defineProperty(Lh, {\n    AA: \"editable\"\n  }, function () {\n    return this.Fr;\n  }, function (a) {\n    var b = this.Fr;\n    b !== a && (this.Fr = a, this.h(\"editable\", b, a));\n  });\n  w.defineProperty(Lh, {\n    BG: \"textEditor\"\n  }, function () {\n    return this.Dt;\n  }, function (a) {\n    var b = this.Dt;\n    b !== a && (this.Dt = a, this.h(\"textEditor\", b, a));\n  });\n  w.defineProperty(Lh, {\n    BA: \"errorFunction\"\n  }, function () {\n    return this.We;\n  }, function (a) {\n    var b = this.We;\n    b !== a && (null !== a && w.j(a, \"function\", Lh, \"errorFunction\"), this.We = a, this.h(\"errorFunction\", b, a));\n  });\n  w.defineProperty(Lh, {\n    interval: \"interval\"\n  }, function () {\n    return this.ug;\n  }, function (a) {\n    var b = this.ug;\n    a = Math.floor(a);\n\n    if (b !== a && 0 <= a) {\n      this.ug = a;\n      this.H();\n      var c = this.R;\n      null !== c && c.type === lp && (c.ak = null);\n      this.h(\"interval\", b, a);\n    }\n  });\n  w.defineProperty(Lh, {\n    nF: \"graduatedStart\"\n  }, function () {\n    return this.tg;\n  }, function (a) {\n    var b = this.tg;\n    b !== a && (0 > a ? a = 0 : 1 < a && (a = 1), this.tg = a, this.H(), this.h(\"graduatedStart\", b, a));\n  });\n  w.defineProperty(Lh, {\n    lF: \"graduatedEnd\"\n  }, function () {\n    return this.sg;\n  }, function (a) {\n    var b = this.sg;\n    b !== a && (0 > a ? a = 0 : 1 < a && (a = 1), this.sg = a, this.H(), this.h(\"graduatedEnd\", b, a));\n  });\n  w.defineProperty(Lh, {\n    mF: \"graduatedFunction\"\n  }, function () {\n    return this.Gm;\n  }, function (a) {\n    var b = this.Gm;\n    b !== a && (null !== a && w.j(a, \"function\", Lh, \"graduatedFunction\"), this.Gm = a, this.H(), this.h(\"graduatedFunction\", b, a));\n  });\n\n  Lh.prototype.Ik = function (a, b) {\n    if (null !== this.tc && 0 !== this.Md.length && null !== this.qg) {\n      var c = this.Ja.width,\n          d = this.Ja.height,\n          e = Jq(this),\n          f = a.textAlign = this.Jl,\n          h = b.as;\n      \"start\" === f && (f = h ? \"right\" : \"left\");\n      \"end\" === f && (f = h ? \"left\" : \"right\");\n      Qo(this, a, this.tc, !0, !1);\n      (this.gk || this.ek) && Qo(this, a, this.tc, !1, !1);\n      var k = 0,\n          h = !1,\n          l = w.wb(0, 0);\n      this.rh.nb(l);\n      var m = w.wb(0, e);\n      this.rh.nb(m);\n      var n = l.Cf(m);\n      w.v(l);\n      w.v(m);\n      l = b.scale;\n      8 > n * l * l && (h = !0);\n      b.hf !== a && (h = !1);\n      !1 === b.Ok(\"textGreeking\") && (h = !1);\n      n = this.fi;\n      l = this.gi;\n\n      switch (this.iu) {\n        case vo:\n          a.translate(c, 0);\n          a.scale(-1, 1);\n          break;\n\n        case uo:\n          a.translate(0, d);\n          a.scale(1, -1);\n          break;\n\n        case wo:\n          a.translate(c, d), a.scale(-1, -1);\n      }\n\n      var m = this.pe,\n          p = (n + e + l) * m;\n      d > p && (k = this.Nl, k = k.y * d - k.y * p + k.offsetY);\n\n      for (var p = this.zf, q = 0; q < m; q++) {\n        var r = p.xf[q],\n            s = p.Te[q];\n        r > c && (r = c);\n        var k = k + n,\n            t = s,\n            s = a,\n            u = k,\n            y = c,\n            v = e,\n            x = f,\n            A = 0;\n        h ? (\"left\" === x ? A = 0 : \"right\" === x ? A = y - r : \"center\" === x && (A = (y - r) / 2), s.fillRect(0 + A, u + .25 * v, r, 1)) : (\"left\" === x ? A = 0 : \"right\" === x ? A = y : \"center\" === x && (A = y / 2), s.fillText(t, 0 + A, u + v - .25 * v), t = v / 20 | 0, 0 === t && (t = 1), \"right\" === x ? A -= r : \"center\" === x && (A -= r / 2), this.gk && (s.beginPath(), s.lineWidth = t, s.moveTo(0 + A, u + v - .2 * v), s.lineTo(0 + A + r, u + v - .2 * v), s.stroke()), this.ek && (s.beginPath(), s.lineWidth = t, u = u + v - v / 2.2 | 0, 0 !== t % 2 && (u += .5), s.moveTo(0 + A, u), s.lineTo(0 + A + r, u), s.stroke()));\n        k += e + l;\n      }\n\n      switch (this.iu) {\n        case vo:\n          a.scale(-1, 1);\n          a.translate(-c, 0);\n          break;\n\n        case uo:\n          a.scale(1, -1);\n          a.translate(0, -d);\n          break;\n\n        case wo:\n          a.scale(-1, -1), a.translate(-c, -d);\n      }\n    }\n  };\n\n  Lh.prototype.Qn = function (a, b, c, d) {\n    this.Yo = a;\n    var e = this.zf;\n    e.reset();\n    var f = 0,\n        h = 0;\n\n    if (isNaN(this.Da.width)) {\n      f = this.Md.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\");\n      if (0 === f.length) f = 0;else if (this.Nx) {\n        for (var k = h = 0, l = !1; !l;) {\n          var m = f.indexOf(\"\\n\", k);\n          -1 === m && (m = f.length, l = !0);\n          k = Kq(f.substr(k, m - k).replace(/^\\s+|\\s+$/g, \"\"), this.qg);\n          k > h && (h = k);\n          k = m + 1;\n        }\n\n        f = h;\n      } else h = f.indexOf(\"\\n\", 0), 0 <= h && (f = f.substr(0, h)), f = k = Kq(f, this.qg);\n      f = Math.min(f, a / this.scale);\n      f = Math.max(8, f);\n    } else f = this.Da.width;\n\n    null !== this.R && (f = Math.min(f, this.R.Hf.width));\n    h = Iq(this, f, e);\n    m = h = isNaN(this.Da.height) ? Math.min(h, b / this.scale) : this.Da.height;\n\n    if (0 !== e.Ge && 1 !== e.Te.length && this.cj === Gq && (b = this.qg, l = this.cj === Gq ? Lq(b) : 0, k = this.fi + this.gi, k = Math.max(0, Jq(this) + k), m = Math.min(this.TI - 1, Math.max(Math.floor(m / k + .01) - 1, 0)), !(m + 1 >= e.Te.length))) {\n      k = e.Te[m];\n\n      for (l = Math.max(1, a - l); Kq(k, b) > l && 1 < k.length;) {\n        k = k.substr(0, k.length - 1);\n      }\n\n      k += Aq;\n      b = Kq(k, b);\n      e.Te[m] = k;\n      e.Te = e.Te.slice(0, m + 1);\n      e.xf[m] = b;\n      e.xf = e.xf.slice(0, m + 1);\n      e.mj = e.Te.length;\n      e.Ge = Math.max(e.Ge, b);\n      this.pe = e.mj;\n    }\n\n    if (this.MG === Eq || isNaN(this.Da.width)) f = isNaN(a) ? e.Ge : Math.min(a, e.Ge), isNaN(this.Da.width) && (f = Math.max(8, f));\n    f = Math.max(c, f);\n    h = Math.max(d, h);\n    Ua(this.Nc, f, h);\n    Eo(this, 0, 0, f, h);\n  };\n\n  Lh.prototype.pj = function (a, b, c, d) {\n    Lo(this, a, b, c, d);\n  };\n\n  function Hq(a, b, c, d) {\n    b = b.replace(/^\\s+|\\s+$/g, \"\");\n    var e = 0,\n        f = 0,\n        h = 0,\n        k = a.qg,\n        f = a.fi + a.gi,\n        l = Math.max(0, Jq(a) + f),\n        h = a.cj === Gq ? Lq(k) : 0;\n    if (a.pe >= a.ih) return new ia(0, l);\n\n    if (a.nj === Dq) {\n      c.mj = 1;\n      f = Kq(b, k);\n      if (0 === h || f <= d) return c.Ge = Math.max(c.Ge, f), c.xf.push(c.Ge), c.Te.push(b), new ia(f, l);\n      var m = Mq(a, b);\n      b = b.substr(m.length);\n\n      for (var n = Mq(a, b), f = Kq(m + n, k); 0 < n.length && f <= d;) {\n        m += n, b = b.substr(n.length), n = Mq(a, b), f = Kq((m + n).replace(/^\\s+|\\s+$/g, \"\"), k);\n      }\n\n      m += n.replace(/^\\s+|\\s+$/g, \"\");\n\n      for (d = Math.max(1, d - h); Kq(m, k) > d && 1 < m.length;) {\n        m = m.substr(0, m.length - 1);\n      }\n\n      m += Aq;\n      h = Kq(m, k);\n      c.xf.push(h);\n      c.Ge = h;\n      c.Te.push(m);\n      return new ia(h, l);\n    }\n\n    var p = 0;\n    0 === b.length && (p = 1, c.xf.push(0), c.Te.push(b));\n\n    for (; 0 < b.length;) {\n      m = Mq(a, b);\n\n      for (b = b.substr(m.length); Kq(m, k) > d;) {\n        n = 1;\n        f = Kq(m.substr(0, n), k);\n\n        for (h = 0; f <= d;) {\n          n++, h = f, f = Kq(m.substr(0, n), k);\n        }\n\n        1 === n ? (c.xf[a.pe + p] = f, e = Math.max(e, f)) : (c.xf[a.pe + p] = h, e = Math.max(e, h));\n        n--;\n        1 > n && (n = 1);\n        c.Te[a.pe + p] = m.substr(0, n);\n        p++;\n        m = m.substr(n);\n        if (a.pe + p > a.ih) break;\n      }\n\n      n = Mq(a, b);\n\n      for (f = Kq(m + n, k); 0 < n.length && f <= d;) {\n        m += n, b = b.substr(n.length), n = Mq(a, b), f = Kq((m + n).replace(/^\\s+|\\s+$/g, \"\"), k);\n      }\n\n      m = m.replace(/^\\s+|\\s+$/g, \"\");\n      if (\"\" !== m && (\"\\xAD\" === m[m.length - 1] && (m = m.substring(0, m.length - 1) + \"\\u2010\"), 0 === n.length ? (c.xf.push(f), e = Math.max(e, f)) : (h = Kq(m, k), c.xf.push(h), e = Math.max(e, h)), c.Te.push(m), p++, a.pe + p > a.ih)) break;\n    }\n\n    c.mj = Math.min(a.ih, p);\n    c.Ge = Math.max(c.Ge, e);\n    return new ia(c.Ge, l * c.mj);\n  }\n\n  function Mq(a, b) {\n    if (a.nj === Fq) return b.substr(0, 1);\n\n    for (var c = b.length, d = 0; d < c && !vq.test(b.charAt(d));) {\n      d++;\n    }\n\n    for (; d < c && vq.test(b.charAt(d));) {\n      d++;\n    }\n\n    return d >= c ? b : b.substr(0, d);\n  }\n\n  function Kq(a, b) {\n    Bq !== b && (Bq = Cq.font = b);\n    return Cq.measureText(a).width;\n  }\n\n  function Jq(a) {\n    if (null !== a.zf.Wj) return a.zf.Wj;\n    var b = a.qg;\n    Bq !== b && (Bq = Cq.font = b);\n    var c = 0;\n    void 0 !== wq[b] && 5E3 > xq ? c = wq[b] : (c = 1.3 * Cq.measureText(\"M\").width, wq[b] = c, xq++);\n    return a.zf.Wj = c;\n  }\n\n  function Lq(a) {\n    Bq !== a && (Bq = Cq.font = a);\n    var b = 0;\n    void 0 !== yq[a] && 5E3 > zq ? b = yq[a] : (b = Cq.measureText(Aq).width, yq[a] = b, zq++);\n    return b;\n  }\n\n  function Iq(a, b, c) {\n    var d = a.Md.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\"),\n        e = a.fi + a.gi,\n        e = Math.max(0, Jq(a) + e);\n    if (0 === d.length) return c.Ge = 0, a.pe = 1, e;\n\n    if (!a.Nx) {\n      var f = d.indexOf(\"\\n\", 0);\n      0 <= f && (d = d.substr(0, f));\n    }\n\n    for (var f = 0, h = a.pe = 0, k = -1, l = !1; !l;) {\n      k = d.indexOf(\"\\n\", h), -1 === k && (k = d.length, l = !0), h <= k && (h = d.substr(h, k - h), a.nj !== Dq ? (c.mj = 0, h = Hq(a, h, c, b), f += h.height, a.pe += c.mj) : (Hq(a, h, c, b), f += e, a.pe++), a.pe === a.ih && (l = !0)), h = k + 1;\n    }\n\n    return a.mw = f;\n  }\n\n  w.defineProperty(Lh, {\n    MB: \"textValidation\"\n  }, function () {\n    return this.Kl;\n  }, function (a) {\n    var b = this.Kl;\n    b !== a && (null !== a && w.j(a, \"function\", Lh, \"textValidation\"), this.Kl = a, this.h(\"textValidation\", b, a));\n  });\n  w.defineProperty(Lh, {\n    AG: \"textEdited\"\n  }, function () {\n    return this.Ct;\n  }, function (a) {\n    var b = this.Ct;\n    b !== a && (null !== a && w.j(a, \"function\", Lh, \"textEdited\"), this.Ct = a, this.h(\"textEdited\", b, a));\n  });\n  w.defineProperty(Lh, {\n    QL: \"spacingAbove\"\n  }, function () {\n    return this.fi;\n  }, function (a) {\n    var b = this.fi;\n    b !== a && (this.fi = a, this.h(\"spacingAbove\", b, a));\n  });\n  w.defineProperty(Lh, {\n    RL: \"spacingBelow\"\n  }, function () {\n    return this.gi;\n  }, function (a) {\n    var b = this.gi;\n    b !== a && (this.gi = a, this.h(\"spacingBelow\", b, a));\n  });\n  w.defineProperty(Lh, {\n    TI: \"maxLines\"\n  }, function () {\n    return this.ih;\n  }, function (a) {\n    var b = this.ih;\n    b !== a && (a = Math.floor(a), 0 >= a && w.Fa(a, \"> 0\", Lh, \"maxLines\"), this.ih = a, this.h(\"maxLines\", b, a), this.H());\n  });\n  w.u(Lh, {\n    wL: \"metrics\"\n  }, function () {\n    return this.zf;\n  });\n  w.defineProperty(Lh, {\n    HK: \"choices\"\n  }, function () {\n    return this.dr;\n  }, function (a) {\n    var b = this.dr;\n    b !== a && (null === a || Array.isArray(a) || w.Gd(a, \"Array\", Lh, \"choices:value\"), this.dr = a, this.h(\"choices\", b, a));\n  });\n\n  function Yp() {\n    this.Ge = this.mj = 0;\n    this.xf = [];\n    this.Te = [];\n    this.Wj = null;\n  }\n\n  Yp.prototype.reset = function () {\n    this.Ge = this.mj = 0;\n    this.Wj = null;\n    this.xf = [];\n    this.Te = [];\n  };\n\n  Yp.prototype.Qp = function (a) {\n    this.mj = a.mj;\n    this.Wj = a.Wj;\n    this.Ge = a.Ge;\n    this.xf = w.Vl(a.xf);\n    this.Te = w.Vl(a.Te);\n  };\n\n  w.u(Yp, {\n    DK: \"arrSize\"\n  }, function () {\n    return this.xf;\n  });\n  w.u(Yp, {\n    EK: \"arrText\"\n  }, function () {\n    return this.Te;\n  });\n  w.u(Yp, {\n    vL: \"maxLineWidth\"\n  }, function () {\n    return this.Ge;\n  });\n  w.u(Yp, {\n    dL: \"fontHeight\"\n  }, function () {\n    return this.Wj;\n  });\n\n  function xl() {\n    G.call(this);\n    this.Ve = null;\n    this.wt = \"\";\n    this.tk = Gd;\n    this.No = Ee;\n    this.ki = this.We = null;\n    this.Mo = Jb;\n    this.pg = Qj;\n    this.yp = null;\n    this.Bz = !1;\n    this.Ov = !0;\n    this.kw = !1;\n    this.pp = null;\n  }\n\n  w.La(xl, G);\n  w.ga(\"Picture\", xl);\n\n  xl.prototype.cloneProtected = function (a) {\n    G.prototype.cloneProtected.call(this, a);\n    a.element = this.Ve;\n    a.wt = this.wt;\n    a.tk = this.tk.S();\n    a.No = this.No;\n    a.pg = this.pg;\n    a.We = this.We;\n    a.ki = this.ki;\n    a.Mo = this.Mo.S();\n    a.Ov = this.Ov;\n    a.pp = this.pp;\n  };\n\n  xl.prototype.ic = function (a) {\n    a === Qj || a === Sj || a === to ? this.rI = a : G.prototype.ic.call(this, a);\n  };\n\n  xl.prototype.toString = function () {\n    return \"Picture(\" + this.source + \")#\" + w.Qd(this);\n  };\n\n  var Nq = new ra(),\n      Oq = 0,\n      rl = [];\n\n  function Pq() {\n    var a = rl;\n    if (0 === a.length) for (var b = window.document.getElementsByTagName(\"canvas\"), c = b.length, d = 0; d < c; d++) {\n      var e = b[d];\n      e.parentElement && e.parentElement.aa && a.push(e.parentElement.aa);\n    }\n    return a;\n  }\n\n  var qn;\n\n  xl.clearCache = qn = function qn(a) {\n    void 0 === a && (a = \"\");\n    w.j(a, \"string\", xl, \"clearCache:url\");\n    \"\" !== a ? Nq[a] && (delete Nq[a], Oq--) : (Nq = new ra(), Oq = 0);\n  };\n\n  w.defineProperty(xl, {\n    element: \"element\"\n  }, function () {\n    return this.Ve;\n  }, function (a) {\n    var b = this.Ve;\n\n    if (b !== a) {\n      null === a || a instanceof HTMLImageElement || a instanceof HTMLVideoElement || a instanceof HTMLCanvasElement || w.k(\"Picture.element must be an instance of Image, Canvas, or Video, not: \" + a);\n      this.Bz = a instanceof HTMLCanvasElement;\n      this.Ve = a;\n      if (null !== a) if (a instanceof HTMLCanvasElement || !0 === a.complete) a.Lo instanceof Event && null !== this.We && this.We(this, a.Lo), !0 === a.Zr && null !== this.ki && this.ki(this, a.Qz), a.Zr = !0, this.Da.I() || (cm(this, !1), this.H());else {\n        var c = this;\n        a.aD || (a.addEventListener(\"load\", function (b) {\n          Qq(a, b);\n          c.Da.I() || (cm(c, !1), c.H());\n        }), a.addEventListener(\"error\", function (b) {\n          Rq(a, b);\n        }), a.aD = !0);\n      }\n      this.h(\"element\", b, a);\n      this.oa();\n    }\n  });\n  w.defineProperty(xl, {\n    source: \"source\"\n  }, function () {\n    return this.wt;\n  }, function (a) {\n    var b = this.wt;\n\n    if (b !== a) {\n      w.j(a, \"string\", xl, \"source\");\n      this.wt = a;\n      var c = Nq,\n          d = this.g;\n      if (void 0 !== c[a]) var e = c[a].Jp[0].source;else {\n        30 < Oq && (qn(), c = Nq);\n        var e = w.createElement(\"img\"),\n            f = this;\n        e.addEventListener(\"load\", function (a) {\n          Qq(e, a);\n          f.Da.I() || (cm(f, !1), f.H());\n        });\n        e.addEventListener(\"error\", function (a) {\n          Rq(e, a);\n        });\n        e.aD = !0;\n        var h = this.pp;\n        null !== h && (e.crossOrigin = h(this));\n        e.src = a;\n        c[a] = new Sq(e);\n        Oq++;\n      }\n      null !== d && pn(d, this);\n      this.element = e;\n      null !== d && on(d, this);\n      this.H();\n      this.oa();\n      this.h(\"source\", b, a);\n    }\n  });\n\n  function Qq(a, b) {\n    a.Zr = !0;\n    a.Lo = !1;\n\n    for (var c = null, d = Pq(), e = d.length, f = 0; f < e; f++) {\n      var h = d[f],\n          k = h.ip.ka(a.src);\n      if (null !== k) for (var l = k.length, m = 0; m < l; m++) {\n        c = k[m], h.Mz.add(c), h.ye(), null === a.Qz && (a.Qz = b, null !== c.ki && c.ki(c, b));\n      }\n    }\n  }\n\n  function Rq(a, b) {\n    a.Lo = b;\n\n    for (var c = null, d = Pq(), e = d.length, f = 0; f < e; f++) {\n      if (c = d[f].ip.ka(a.src), null !== c) {\n        for (var h = c.length, k = w.Za(), l = 0; l < h; l++) {\n          k.push(c[l]);\n        }\n\n        for (l = 0; l < h; l++) {\n          c = k[l], null !== c.We && c.We(c, b);\n        }\n\n        w.ra(k);\n      }\n    }\n  }\n\n  w.defineProperty(xl, {\n    PL: \"sourceCrossOrigin\"\n  }, function () {\n    return this.pp;\n  }, function (a) {\n    if (this.pp !== a && (null !== a && w.j(a, \"function\", xl, \"sourceCrossOrigin\"), this.pp = a, null !== this.element)) {\n      var b = this.element.src;\n      null === a && \"string\" === typeof b ? this.element.crossOrigin = null : null !== a && (this.element.crossOrigin = a(this));\n      this.element.src = b;\n    }\n  });\n  w.defineProperty(xl, {\n    Jj: \"sourceRect\"\n  }, function () {\n    return this.tk;\n  }, function (a) {\n    var b = this.tk;\n    b.L(a) || (w.G(a, B, xl, \"sourceRect\"), this.tk = a = a.S(), this.oa(), this.h(\"sourceRect\", b, a));\n  });\n  w.defineProperty(xl, {\n    rI: \"imageStretch\"\n  }, function () {\n    return this.No;\n  }, function (a) {\n    var b = this.No;\n    b !== a && (w.ob(a, G, xl, \"imageStretch\"), this.No = a, this.oa(), this.h(\"imageStretch\", b, a));\n  });\n  w.defineProperty(xl, {\n    iu: \"flip\"\n  }, function () {\n    return this.pg;\n  }, function (a) {\n    var b = this.pg;\n    b !== a && (w.ob(a, G, xl, \"flip\"), this.pg = a, this.oa(), this.h(\"flip\", b, a));\n  });\n  w.defineProperty(xl, {\n    fL: \"imageAlignment\"\n  }, function () {\n    return this.Mo;\n  }, function (a) {\n    w.G(a, K, xl, \"imageAlignment\");\n    var b = this.Mo;\n    b.L(a) || (this.Mo = a = a.S(), this.H(), this.h(\"imageAlignment\", b, a));\n  });\n  w.defineProperty(xl, {\n    BA: \"errorFunction\"\n  }, function () {\n    return this.We;\n  }, function (a) {\n    var b = this.We;\n    b !== a && (null !== a && w.j(a, \"function\", xl, \"errorFunction\"), this.We = a, this.h(\"errorFunction\", b, a));\n  });\n  w.defineProperty(xl, {\n    ZL: \"successFunction\"\n  }, function () {\n    return this.ki;\n  }, function (a) {\n    var b = this.ki;\n    b !== a && (null !== a && w.j(a, \"function\", xl, \"successFunction\"), this.ki = a, this.h(\"successFunction\", b, a));\n  });\n\n  xl.prototype.Ik = function (a, b) {\n    var c = this.Ve;\n\n    if (null !== c) {\n      var d = c.src;\n      null !== d && \"\" !== d || w.k('Element has no source (\"src\") attribute: ' + c);\n\n      if (!(c.Lo instanceof Event) && !1 !== c.Zr) {\n        var d = this.Ja,\n            e = 0,\n            f = 0,\n            h = this.Bz,\n            k = h ? +c.width : c.naturalWidth,\n            h = h ? +c.height : c.naturalHeight;\n        void 0 === k && c.videoWidth && (k = c.videoWidth);\n        void 0 === h && c.videoHeight && (h = c.videoHeight);\n        k = k || d.width;\n        h = h || d.height;\n\n        if (0 !== k && 0 !== h) {\n          var l = k,\n              m = h;\n          this.Jj.I() && (e = this.tk.x, f = this.tk.y, k = this.tk.width, h = this.tk.height);\n          var n = k,\n              p = h,\n              q = this.No,\n              r = this.Mo;\n\n          switch (q) {\n            case Qj:\n              if (this.Jj.I()) break;\n              n >= d.width && (e = e + r.offsetX + (n * r.x - d.width * r.x));\n              p >= d.height && (f = f + r.offsetY + (p * r.y - d.height * r.y));\n              k = Math.min(d.width, n);\n              h = Math.min(d.height, p);\n              break;\n\n            case Ee:\n              n = d.width;\n              p = d.height;\n              break;\n\n            case Sj:\n            case to:\n              var s = 0;\n              q === Sj ? (s = Math.min(d.height / p, d.width / n), n *= s, p *= s) : q === to && (s = Math.max(d.height / p, d.width / n), n *= s, p *= s, n >= d.width && (e = (e + r.offsetX + (n * r.x - d.width * r.x) / n) * k), p >= d.height && (f = (f + r.offsetY + (p * r.y - d.height * r.y) / p) * h), k *= 1 / (n / d.width), h *= 1 / (p / d.height), n = d.width, p = d.height);\n          }\n\n          var q = this.vj() * b.scale,\n              t = k * h / (n * q * p * q),\n              s = Nq[this.source],\n              q = null;\n\n          if (c.Zr && void 0 !== s && 16 < t) {\n            2 > s.Jp.length && (Tq(s, 4, l, m), Tq(s, 16, l, m));\n\n            for (var l = s.Jp, m = l.length, q = l[0], u = 0; u < m; u++) {\n              if (l[u].vq * l[u].vq < t) q = l[u];else break;\n            }\n          }\n\n          if (!b.Cr) {\n            if (null === this.yp) if (null === this.Ve) this.yp = !1;else {\n              l = new Vc(null).Gk;\n              l.drawImage(this.Ve, 0, 0);\n\n              try {\n                l.getImageData(0, 0, 1, 1).data[3] && (this.yp = !1), this.yp = !1;\n              } catch (y) {\n                this.yp = !0;\n              }\n            }\n            if (this.yp) return;\n          }\n\n          l = 0;\n          n < d.width && (l = r.offsetX + (d.width * r.x - n * r.x));\n          m = 0;\n          p < d.height && (m = r.offsetY + (d.height * r.y - p * r.y));\n\n          switch (this.iu) {\n            case vo:\n              a.translate(Math.min(d.width, n), 0);\n              a.scale(-1, 1);\n              break;\n\n            case uo:\n              a.translate(0, Math.min(d.height, p));\n              a.scale(1, -1);\n              break;\n\n            case wo:\n              a.translate(Math.min(d.width, n), Math.min(d.height, p)), a.scale(-1, -1);\n          }\n\n          if (b.Ok(\"pictureRatioOptimization\") && !b.Jm && void 0 !== s && null !== q && 1 !== q.vq) {\n            a.save();\n            s = q.vq;\n\n            try {\n              a.drawImage(q.source, e / s, f / s, Math.min(q.source.width, k / s), Math.min(q.source.height, h / s), l, m, Math.min(d.width, n), Math.min(d.height, p));\n            } catch (v) {\n              this.Ov = !1;\n            }\n\n            a.restore();\n          } else try {\n            a.drawImage(c, e, f, k, h, l, m, Math.min(d.width, n), Math.min(d.height, p));\n          } catch (x) {\n            this.Ov = !1;\n          }\n\n          switch (this.iu) {\n            case vo:\n              a.scale(-1, 1);\n              a.translate(-Math.min(d.width, n), 0);\n              break;\n\n            case uo:\n              a.scale(1, -1);\n              a.translate(0, -Math.min(d.height, p));\n              break;\n\n            case wo:\n              a.scale(-1, -1), a.translate(-Math.min(d.width, n), -Math.min(d.height, p));\n          }\n        }\n      }\n    }\n  };\n\n  w.u(xl, {\n    Ja: \"naturalBounds\"\n  }, function () {\n    return this.Nc;\n  });\n\n  xl.prototype.Qn = function (a, b, c, d) {\n    var e = this.Da,\n        f = Ho(this, !0),\n        h = this.Ve,\n        k = this.Bz;\n    if (k || !this.kw && h && h.complete) this.kw = !0;\n    null === h && (isFinite(e.width) || (a = 0), isFinite(e.height) || (b = 0));\n    isFinite(e.width) || f === Ee || f === so ? (isFinite(a) || (a = this.Jj.I() ? this.Jj.width : k ? +h.width : h.naturalWidth), c = 0) : null !== h && !1 !== this.kw && (a = this.Jj.I() ? this.Jj.width : k ? +h.width : h.naturalWidth);\n    isFinite(e.height) || f === Ee || f === ro ? (isFinite(b) || (b = this.Jj.I() ? this.Jj.height : k ? +h.height : h.naturalHeight), d = 0) : null !== h && !1 !== this.kw && (b = this.Jj.I() ? this.Jj.height : k ? +h.height : h.naturalHeight);\n    isFinite(e.width) && (a = e.width);\n    isFinite(e.height) && (b = e.height);\n    e = this.Hf;\n    f = this.si;\n    c = Math.max(c, f.width);\n    d = Math.max(d, f.height);\n    a = Math.min(e.width, a);\n    b = Math.min(e.height, b);\n    a = Math.max(c, a);\n    b = Math.max(d, b);\n    null === h || h.complete || (isFinite(a) || (a = 0), isFinite(b) || (b = 0));\n    Ua(this.Nc, a, b);\n    Eo(this, 0, 0, a, b);\n  };\n\n  xl.prototype.pj = function (a, b, c, d) {\n    Lo(this, a, b, c, d);\n  };\n\n  function Sq(a) {\n    this.Jp = [new Uq(a, 1)];\n  }\n\n  function Tq(a, b, c, d) {\n    var e = new Vc(null),\n        f = e.Gk,\n        h = 1 / b;\n    e.width = c / b;\n    e.height = d / b;\n    b = new Uq(e.Pd, b);\n    c = a.Jp[a.Jp.length - 1];\n    f.setTransform(h * c.vq, 0, 0, h * c.vq, 0, 0);\n    f.drawImage(c.source, 0, 0);\n    a.Jp.push(b);\n  }\n\n  function Uq(a, b) {\n    this.source = a;\n    this.vq = b;\n  }\n\n  function la() {\n    this.o = new Be();\n    this.Yb = null;\n  }\n\n  g = la.prototype;\n\n  g.reset = function () {\n    this.o = new Be();\n    this.Yb = null;\n  };\n\n  function M(a, b, c, d, e, f) {\n    null === a.o && w.k(\"StreamGeometryContext has been closed\");\n    void 0 !== e && !0 === e ? (null === a.Yb && w.k(\"Need to call beginFigure first\"), d = new wf(Ue), d.C = b, d.D = c, a.Yb.yb.add(d)) : (a.Yb = new De(), a.Yb.ha = b, a.Yb.da = c, a.Yb.wu = d, a.o.fc.add(a.Yb));\n    void 0 !== f && (a.Yb.To = f);\n  }\n\n  function P(a) {\n    null === a.o && w.k(\"StreamGeometryContext has been closed\");\n    null === a.Yb && w.k(\"Need to call beginFigure first\");\n    var b = a.Yb.yb.length;\n    0 < b && a.Yb.yb.fa(b - 1).close();\n  }\n\n  function Re(a) {\n    null === a.o && w.k(\"StreamGeometryContext has been closed\");\n    null === a.Yb && w.k(\"Need to call beginFigure first\");\n    0 < a.Yb.yb.length && (a.Yb.wu = !0);\n  }\n\n  g.fb = function (a) {\n    null === this.o && w.k(\"StreamGeometryContext has been closed\");\n    null === this.Yb && w.k(\"Need to call beginFigure first\");\n    this.Yb.jm = a;\n  };\n\n  g.moveTo = function (a, b, c) {\n    void 0 === c && (c = !1);\n    null === this.o && w.k(\"StreamGeometryContext has been closed\");\n    null === this.Yb && w.k(\"Need to call beginFigure first\");\n    var d = new wf(Ue);\n    d.C = a;\n    d.D = b;\n    c && d.close();\n    this.Yb.yb.add(d);\n  };\n\n  g.lineTo = function (a, b, c) {\n    void 0 === c && (c = !1);\n    null === this.o && w.k(\"StreamGeometryContext has been closed\");\n    null === this.Yb && w.k(\"Need to call beginFigure first\");\n    var d = new wf(Je);\n    d.C = a;\n    d.D = b;\n    c && d.close();\n    this.Yb.yb.add(d);\n  };\n\n  function N(a, b, c, d, e, f, h, k) {\n    void 0 === k && (k = !1);\n    null === a.o && w.k(\"StreamGeometryContext has been closed\");\n    null === a.Yb && w.k(\"Need to call beginFigure first\");\n    var l = new wf(Ve);\n    l.xc = b;\n    l.Sc = c;\n    l.Eh = d;\n    l.Fh = e;\n    l.C = f;\n    l.D = h;\n    k && l.close();\n    a.Yb.yb.add(l);\n  }\n\n  function Pe(a, b, c, d, e) {\n    var f;\n    void 0 === f && (f = !1);\n    null === a.o && w.k(\"StreamGeometryContext has been closed\");\n    null === a.Yb && w.k(\"Need to call beginFigure first\");\n    var h = new wf(We);\n    h.xc = b;\n    h.Sc = c;\n    h.C = d;\n    h.D = e;\n    f && h.close();\n    a.Yb.yb.add(h);\n  }\n\n  g.arcTo = function (a, b, c, d, e, f, h) {\n    void 0 === f && (f = 0);\n    void 0 === h && (h = !1);\n    null === this.o && w.k(\"StreamGeometryContext has been closed\");\n    null === this.Yb && w.k(\"Need to call beginFigure first\");\n    var k = new wf(pf);\n    k.Ae = a;\n    k.uf = b;\n    k.la = c;\n    k.sa = d;\n    k.radiusX = e;\n    k.radiusY = 0 !== f ? f : e;\n    h && k.close();\n    this.Yb.yb.add(k);\n  };\n\n  function Qe(a, b, c, d, e, f, h, k) {\n    var l;\n    void 0 === l && (l = !1);\n    null === a.o && w.k(\"StreamGeometryContext has been closed\");\n    null === a.Yb && w.k(\"Need to call beginFigure first\");\n    b = new wf(qf, h, k, b, c, d, e, f);\n    l && b.close();\n    a.Yb.yb.add(b);\n  }\n\n  function Vq(a) {\n    a = Wq(a);\n    var b = w.Za();\n    b[0] = a[0];\n\n    for (var c = 1, d = 1; d < a.length;) {\n      b[c] = a[d], b[c + 1] = a[d], b[c + 2] = a[d + 1], d += 2, c += 3;\n    }\n\n    w.ra(a);\n    return b;\n  }\n\n  function Wq(a) {\n    var b = Xq(a),\n        c = w.Za(),\n        d = Math.floor(b.length / 2),\n        e = b.length - 1;\n    a = 0 === a % 2 ? 2 : 1;\n\n    for (var f = 0; f < e; f++) {\n      var h = b[f],\n          k = b[f + 1],\n          l = b[(d + f - 1) % e],\n          m = b[(d + f + a) % e];\n      c[2 * f] = h;\n      c[2 * f + 1] = le(h.x, h.y, l.x, l.y, k.x, k.y, m.x, m.y, new z());\n    }\n\n    c[c.length] = c[0];\n    w.ra(b);\n    return c;\n  }\n\n  function Xq(a) {\n    for (var b = w.Za(), c = 1.5 * Math.PI, d = 0, e = 0; e < a; e++) {\n      d = 2 * Math.PI / a * e + c, b[e] = new z(.5 + .5 * Math.cos(d), .5 + .5 * Math.sin(d));\n    }\n\n    b.push(b[0]);\n    return b;\n  }\n\n  var lq = {\n    None: \"Rectangle\",\n    Rectangle: function Rectangle(a, b, c) {\n      a = new Be();\n      a.type = Ge;\n      a.ha = 0;\n      a.da = 0;\n      a.C = b;\n      a.D = c;\n      return a;\n    },\n    Square: function Square(a, b, c) {\n      a = new Be();\n      a.be = Sj;\n      a.type = Ge;\n      a.ha = 0;\n      a.da = 0;\n      a.C = Math.min(b, c);\n      a.D = Math.min(b, c);\n      return a;\n    },\n    Ellipse: function Ellipse(a, b, c) {\n      a = new Be();\n      a.type = He;\n      a.ha = 0;\n      a.da = 0;\n      a.C = b;\n      a.D = c;\n      a.A = Hd;\n      a.B = Od;\n      return a;\n    },\n    Circle: function Circle(a, b, c) {\n      a = new Be();\n      a.be = Sj;\n      a.type = He;\n      a.ha = 0;\n      a.da = 0;\n      a.C = Math.min(b, c);\n      a.D = Math.min(b, c);\n      a.A = Hd;\n      a.B = Od;\n      return a;\n    },\n    Connector: \"Ellipse\",\n    TriangleRight: function TriangleRight(a, b, c) {\n      a = new Be();\n      var d = new De(),\n          e = new wf();\n      e.C = b;\n      e.D = .5 * c;\n      d.yb.add(e);\n      b = new wf();\n      b.C = 0;\n      b.D = c;\n      d.yb.add(b.close());\n      a.fc.add(d);\n      a.A = new K(0, .25);\n      a.B = new K(.5, .75);\n      return a;\n    },\n    TriangleDown: function TriangleDown(a, b, c) {\n      a = new Be();\n      var d = new De(),\n          e = new wf();\n      e.C = b;\n      e.D = 0;\n      d.yb.add(e);\n      e = new wf();\n      e.C = .5 * b;\n      e.D = c;\n      d.yb.add(e.close());\n      a.fc.add(d);\n      a.A = new K(.25, 0);\n      a.B = new K(.75, .5);\n      return a;\n    },\n    TriangleLeft: function TriangleLeft(a, b, c) {\n      a = new Be();\n      var d = new De();\n      d.ha = b;\n      d.da = c;\n      var e = new wf();\n      e.C = 0;\n      e.D = .5 * c;\n      d.yb.add(e);\n      c = new wf();\n      c.C = b;\n      c.D = 0;\n      d.yb.add(c.close());\n      a.fc.add(d);\n      a.A = new K(.5, .25);\n      a.B = new K(1, .75);\n      return a;\n    },\n    TriangleUp: function TriangleUp(a, b, c) {\n      a = new Be();\n      var d = new De();\n      d.ha = b;\n      d.da = c;\n      var e = new wf();\n      e.C = 0;\n      e.D = c;\n      d.yb.add(e);\n      c = new wf();\n      c.C = .5 * b;\n      c.D = 0;\n      d.yb.add(c.close());\n      a.fc.add(d);\n      a.A = new K(.25, .5);\n      a.B = new K(.75, 1);\n      return a;\n    },\n    Line1: function Line1(a, b, c) {\n      a = new Be();\n      a.type = Fe;\n      a.ha = 0;\n      a.da = 0;\n      a.C = b;\n      a.D = c;\n      return a;\n    },\n    Line2: function Line2(a, b, c) {\n      a = new Be();\n      a.type = Fe;\n      a.ha = b;\n      a.da = 0;\n      a.C = 0;\n      a.D = c;\n      return a;\n    },\n    MinusLine: \"LineH\",\n    LineH: function LineH(a, b, c) {\n      a = new Be();\n      a.type = Fe;\n      a.ha = 0;\n      a.da = c / 2;\n      a.C = b;\n      a.D = c / 2;\n      return a;\n    },\n    LineV: function LineV(a, b, c) {\n      a = new Be();\n      a.type = Fe;\n      a.ha = b / 2;\n      a.da = 0;\n      a.C = b / 2;\n      a.D = c;\n      return a;\n    },\n    BarH: \"Rectangle\",\n    BarV: \"Rectangle\",\n    Curve1: function Curve1(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      N(a, bd * b, 0, 1 * b, (1 - bd) * c, b, c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Curve2: function Curve2(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      N(a, 0, bd * c, (1 - bd) * b, c, b, c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Curve3: function Curve3(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, 0, !1);\n      N(a, 1 * b, bd * c, bd * b, 1 * c, 0, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Curve4: function Curve4(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, 0, !1);\n      N(a, (1 - bd) * b, 0, 0, (1 - bd) * c, 0, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Alternative: \"Triangle\",\n    Merge: \"Triangle\",\n    Triangle: function Triangle(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 0 * c, !0);\n      a.lineTo(0 * b, 1 * c);\n      a.lineTo(1 * b, 1 * c, !0);\n      b = a.o;\n      b.A = new K(.25, .5);\n      b.B = new K(.75, 1);\n      w.q(a);\n      return b;\n    },\n    Decision: \"Diamond\",\n    Diamond: function Diamond(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 0, !0);\n      a.lineTo(0, .5 * c);\n      a.lineTo(.5 * b, 1 * c);\n      a.lineTo(1 * b, .5 * c, !0);\n      b = a.o;\n      b.A = new K(.25, .25);\n      b.B = new K(.75, .75);\n      w.q(a);\n      return b;\n    },\n    Pentagon: function Pentagon(a, b, c) {\n      var d = Xq(5);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 5 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.2, .22);\n      b.B = new K(.8, .9);\n      w.q(a);\n      return b;\n    },\n    DataTransmission: \"Hexagon\",\n    Hexagon: function Hexagon(a, b, c) {\n      var d = Xq(6);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 6 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.07, .25);\n      b.B = new K(.93, .75);\n      w.q(a);\n      return b;\n    },\n    Heptagon: function Heptagon(a, b, c) {\n      var d = Xq(7);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 7 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.2, .15);\n      b.B = new K(.8, .85);\n      w.q(a);\n      return b;\n    },\n    Octagon: function Octagon(a, b, c) {\n      var d = Xq(8);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 8 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.15, .15);\n      b.B = new K(.85, .85);\n      w.q(a);\n      return b;\n    },\n    Nonagon: function Nonagon(a, b, c) {\n      var d = Xq(9);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 9 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.17, .13);\n      b.B = new K(.82, .82);\n      w.q(a);\n      return b;\n    },\n    Decagon: function Decagon(a, b, c) {\n      var d = Xq(10);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 10 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.16, .16);\n      b.B = new K(.84, .84);\n      w.q(a);\n      return b;\n    },\n    Dodecagon: function Dodecagon(a, b, c) {\n      var d = Xq(12);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 12 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.16, .16);\n      b.B = new K(.84, .84);\n      w.q(a);\n      return b;\n    },\n    FivePointedStar: function FivePointedStar(a, b, c) {\n      var d = Wq(5);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 10 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.312, .383);\n      b.B = new K(.693, .765);\n      w.q(a);\n      return b;\n    },\n    SixPointedStar: function SixPointedStar(a, b, c) {\n      var d = Wq(6);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 12 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.17, .251);\n      b.B = new K(.833, .755);\n      w.q(a);\n      return b;\n    },\n    SevenPointedStar: function SevenPointedStar(a, b, c) {\n      var d = Wq(7);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 14 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.363, .361);\n      b.B = new K(.641, .709);\n      w.q(a);\n      return b;\n    },\n    EightPointedStar: function EightPointedStar(a, b, c) {\n      var d = Wq(8);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 16 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.252, .255);\n      b.B = new K(.75, .75);\n      w.q(a);\n      return b;\n    },\n    NinePointedStar: function NinePointedStar(a, b, c) {\n      var d = Wq(9);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 18 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.355, .361);\n      b.B = new K(.645, .651);\n      w.q(a);\n      return b;\n    },\n    TenPointedStar: function TenPointedStar(a, b, c) {\n      var d = Wq(10);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; 20 > e; e++) {\n        a.lineTo(d[e].x * b, d[e].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.281, .261);\n      b.B = new K(.723, .748);\n      w.q(a);\n      return b;\n    },\n    FivePointedBurst: function FivePointedBurst(a, b, c) {\n      var d = Vq(5);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; e < d.length; e += 3) {\n        N(a, d[e].x * b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.312, .383);\n      b.B = new K(.693, .765);\n      w.q(a);\n      return b;\n    },\n    SixPointedBurst: function SixPointedBurst(a, b, c) {\n      var d = Vq(6);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; e < d.length; e += 3) {\n        N(a, d[e].x * b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.17, .251);\n      b.B = new K(.833, .755);\n      w.q(a);\n      return b;\n    },\n    SevenPointedBurst: function SevenPointedBurst(a, b, c) {\n      var d = Vq(7);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; e < d.length; e += 3) {\n        N(a, d[e].x * b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.363, .361);\n      b.B = new K(.641, .709);\n      w.q(a);\n      return b;\n    },\n    EightPointedBurst: function EightPointedBurst(a, b, c) {\n      var d = Vq(8);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; e < d.length; e += 3) {\n        N(a, d[e].x * b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.252, .255);\n      b.B = new K(.75, .75);\n      w.q(a);\n      return b;\n    },\n    NinePointedBurst: function NinePointedBurst(a, b, c) {\n      var d = Vq(9);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; e < d.length; e += 3) {\n        N(a, d[e].x * b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.355, .361);\n      b.B = new K(.645, .651);\n      w.q(a);\n      return b;\n    },\n    TenPointedBurst: function TenPointedBurst(a, b, c) {\n      var d = Vq(10);\n      a = w.s();\n      M(a, d[0].x * b, d[0].y * c, !0);\n\n      for (var e = 1; e < d.length; e += 3) {\n        N(a, d[e].x * b, d[e].y * c, d[e + 1].x * b, d[e + 1].y * c, d[e + 2].x * b, d[e + 2].y * c);\n      }\n\n      w.ra(d);\n      P(a);\n      b = a.o;\n      b.A = new K(.281, .261);\n      b.B = new K(.723, .748);\n      w.q(a);\n      return b;\n    },\n    Cloud: function Cloud(a, b, c) {\n      a = w.s();\n      M(a, .08034461 * b, .1944299 * c, !0);\n      N(a, -.09239631 * b, .07836421 * c, .1406031 * b, -.0542823 * c, .2008615 * b, .05349299 * c);\n      N(a, .2450511 * b, -.00697547 * c, .3776197 * b, -.01112067 * c, .4338609 * b, .074219 * c);\n      N(a, .4539471 * b, 0, .6066018 * b, -.02526587 * c, .6558228 * b, .07004196 * c);\n      N(a, .6914277 * b, -.01904177 * c, .8921095 * b, -.01220843 * c, .8921095 * b, .08370865 * c);\n      N(a, 1.036446 * b, .04105738 * c, 1.020377 * b, .3022052 * c, .9147671 * b, .3194596 * c);\n      N(a, 1.04448 * b, .360238 * c, .992256 * b, .5219009 * c, .9082935 * b, .562044 * c);\n      N(a, 1.032337 * b, .5771781 * c, 1.018411 * b, .8120651 * c, .9212406 * b, .8217117 * c);\n      N(a, 1.028411 * b, .9571472 * c, .8556702 * b, 1.052487 * c, .7592566 * b, .9156953 * c);\n      N(a, .7431877 * b, 1.009325 * c, .5624123 * b, 1.021761 * c, .5101666 * b, .9310455 * c);\n      N(a, .4820677 * b, 1.031761 * c, .3030112 * b, 1.002796 * c, .2609328 * b, .9344623 * c);\n      N(a, .2329994 * b, 1.01518 * c, .03213784 * b, 1.01518 * c, .08034461 * b, .870098 * c);\n      N(a, -.02812061 * b, .9032597 * c, -.01205169 * b, .6835638 * c, .06829292 * b, .6545475 * c);\n      N(a, -.01812061 * b, .6089503 * c, -.00606892 * b, .4555777 * c, .06427569 * b, .4265613 * c);\n      N(a, -.01606892 * b, .3892545 * c, -.01205169 * b, .1944299 * c, .08034461 * b, .1944299 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(.1, .1);\n      b.B = new K(.9, .9);\n      w.q(a);\n      return b;\n    },\n    Gate: \"Crescent\",\n    Crescent: function Crescent(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      N(a, 1 * b, 0, 1 * b, 1 * c, 0, 1 * c);\n      N(a, .5 * b, .75 * c, .5 * b, .25 * c, 0, 0);\n      P(a);\n      b = a.o;\n      b.A = new K(.511, .19);\n      b.B = new K(.776, .76);\n      w.q(a);\n      return b;\n    },\n    FramedRectangle: function FramedRectangle(a, b, c) {\n      var d = w.s(),\n          e = a ? a.Jc : NaN;\n      a = a ? a.Qu : NaN;\n      isNaN(e) && (e = .1);\n      isNaN(a) && (a = .1);\n      M(d, 0, 0, !0);\n      d.lineTo(1 * b, 0);\n      d.lineTo(1 * b, 1 * c);\n      d.lineTo(0, 1 * c, !0);\n      M(d, e * b, a * c, !1, !0);\n      d.lineTo(e * b, (1 - a) * c);\n      d.lineTo((1 - e) * b, (1 - a) * c);\n      d.lineTo((1 - e) * b, a * c, !0);\n      b = d.o;\n      b.A = new K(e, a);\n      b.B = new K(1 - e, 1 - a);\n      w.q(d);\n      return b;\n    },\n    Delay: \"HalfEllipse\",\n    HalfEllipse: function HalfEllipse(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      N(a, bd * b, 0, 1 * b, (.5 - bd / 2) * c, 1 * b, .5 * c);\n      N(a, 1 * b, (.5 + bd / 2) * c, bd * b, 1 * c, 0, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(0, .2);\n      b.B = new K(.75, .8);\n      w.q(a);\n      return b;\n    },\n    Heart: function Heart(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 1 * c, !0);\n      N(a, .1 * b, .8 * c, 0, .5 * c, 0 * b, .3 * c);\n      N(a, 0 * b, 0, .45 * b, 0, .5 * b, .3 * c);\n      N(a, .55 * b, 0, 1 * b, 0, 1 * b, .3 * c);\n      N(a, b, .5 * c, .9 * b, .8 * c, .5 * b, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(.15, .29);\n      b.B = new K(.86, .68);\n      w.q(a);\n      return b;\n    },\n    Spade: function Spade(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 0, !0);\n      a.lineTo(.51 * b, .01 * c);\n      N(a, .6 * b, .2 * c, b, .25 * c, b, .5 * c);\n      N(a, b, .8 * c, .6 * b, .8 * c, .55 * b, .7 * c);\n      N(a, .5 * b, .75 * c, .55 * b, .95 * c, .75 * b, c);\n      a.lineTo(.25 * b, c);\n      N(a, .45 * b, .95 * c, .5 * b, .75 * c, .45 * b, .7 * c);\n      N(a, .4 * b, .8 * c, 0, .8 * c, 0, .5 * c);\n      N(a, 0, .25 * c, .4 * b, .2 * c, .49 * b, .01 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(.19, .26);\n      b.B = new K(.8, .68);\n      w.q(a);\n      return b;\n    },\n    Club: function Club(a, b, c) {\n      a = w.s();\n      M(a, .4 * b, .6 * c, !0);\n      N(a, .5 * b, .75 * c, .45 * b, .95 * c, .15 * b, 1 * c);\n      a.lineTo(.85 * b, c);\n      N(a, .55 * b, .95 * c, .5 * b, .75 * c, .6 * b, .6 * c);\n      var d = .2,\n          e = .3,\n          f = 0,\n          h = 4 * (Math.SQRT2 - 1) / 3 * d;\n      N(a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c);\n      N(a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c);\n      N(a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c);\n      N(a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e + .05) * b, (.5 - h + f - .02) * c, .65 * b, .36771243 * c);\n      d = .2;\n      e = 0;\n      f = -.3;\n      h = 4 * (Math.SQRT2 - 1) / 3 * d;\n      N(a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c);\n      N(a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c);\n      N(a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c);\n      N(a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, .35 * b, .36771243 * c);\n      d = .2;\n      e = -.3;\n      f = 0;\n      h = 4 * (Math.SQRT2 - 1) / 3 * d;\n      N(a, (.5 + d + e - .05) * b, (.5 - h + f - .02) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c);\n      N(a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c);\n      N(a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c);\n      N(a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, .4 * b, .6 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(.06, .39);\n      b.B = new K(.93, .58);\n      w.q(a);\n      return b;\n    },\n    Ring: function Ring(a, b, c) {\n      a = w.s();\n      var d = 4 * (Math.SQRT2 - 1) / 3 * .5;\n      M(a, b, .5 * c, !0);\n      N(a, b, (.5 - d) * c, (.5 + d) * b, 0, .5 * b, 0);\n      N(a, (.5 - d) * b, 0, 0, (.5 - d) * c, 0, .5 * c);\n      N(a, 0, (.5 + d) * c, (.5 - d) * b, c, .5 * b, c);\n      N(a, (.5 + d) * b, c, b, (.5 + d) * c, b, .5 * c);\n      d = 4 * (Math.SQRT2 - 1) / 3 * .4;\n      M(a, .5 * b, .1 * c, !0, !0);\n      N(a, (.5 + d) * b, .1 * c, .9 * b, (.5 - d) * c, .9 * b, .5 * c);\n      N(a, .9 * b, (.5 + d) * c, (.5 + d) * b, .9 * c, .5 * b, .9 * c);\n      N(a, (.5 - d) * b, .9 * c, .1 * b, (.5 + d) * c, .1 * b, .5 * c);\n      N(a, .1 * b, (.5 - d) * c, (.5 - d) * b, .1 * c, .5 * b, .1 * c);\n      b = a.o;\n      b.A = new K(.146, .146);\n      b.B = new K(.853, .853);\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    YinYang: function YinYang(a, b, c) {\n      var d = .5;\n      a = w.s();\n      d = .5;\n      M(a, .5 * b, 0, !0);\n      a.arcTo(270, 180, .5 * b, .5 * b, .5 * b);\n      N(a, 1 * b, d * c, 0, d * c, d * b, 0, !0);\n      var d = .1,\n          e = .25;\n      M(a, (.5 + d) * b, e * c, !0, !0);\n      a.arcTo(0, -360, .5 * b, c * e, d * b);\n      P(a);\n      M(a, .5 * b, 0, !1);\n      a.arcTo(270, -180, .5 * b, .5 * b, .5 * b);\n      a.fb(!1);\n      e = .75;\n      M(a, (.5 + d) * b, e * c, !0);\n      a.arcTo(0, 360, .5 * b, c * e, d * b);\n      P(a);\n      b = a.o;\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    Peace: function Peace(a, b, c) {\n      a = w.s();\n      var d = 4 * (Math.SQRT2 - 1) / 3 * .5;\n      M(a, b, .5 * c, !0);\n      N(a, b, (.5 - d) * c, (.5 + d) * b, 0, .5 * b, 0);\n      N(a, (.5 - d) * b, 0, 0, (.5 - d) * c, 0, .5 * c);\n      N(a, 0, (.5 + d) * c, (.5 - d) * b, c, .5 * b, c);\n      N(a, (.5 + d) * b, c, b, (.5 + d) * c, b, .5 * c);\n      d = 4 * (Math.SQRT2 - 1) / 3 * .4;\n      M(a, .5 * b, .1 * c, !0, !0);\n      N(a, (.5 + d) * b, .1 * c, .9 * b, (.5 - d) * c, .9 * b, .5 * c);\n      N(a, .9 * b, (.5 + d) * c, (.5 + d) * b, .9 * c, .5 * b, .9 * c);\n      N(a, (.5 - d) * b, .9 * c, .1 * b, (.5 + d) * c, .1 * b, .5 * c);\n      N(a, .1 * b, (.5 - d) * c, (.5 - d) * b, .1 * c, .5 * b, .1 * c);\n      var d = .07,\n          e = 0,\n          f = -.707 * .11,\n          h = 4 * (Math.SQRT2 - 1) / 3 * d;\n      M(a, (.5 + d + e) * b, (.5 + f) * c, !0);\n      N(a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c);\n      N(a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c);\n      N(a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c);\n      N(a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c);\n      d = .07;\n      e = -.707 * .11;\n      f = .707 * .11;\n      h = 4 * (Math.SQRT2 - 1) / 3 * d;\n      M(a, (.5 + d + e) * b, (.5 + f) * c, !0);\n      N(a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c);\n      N(a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c);\n      N(a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c);\n      N(a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c);\n      d = .07;\n      e = .707 * .11;\n      f = .707 * .11;\n      h = 4 * (Math.SQRT2 - 1) / 3 * d;\n      M(a, (.5 + d + e) * b, (.5 + f) * c, !0);\n      N(a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c);\n      N(a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c);\n      N(a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c);\n      N(a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c);\n      b = a.o;\n      b.A = new K(.146, .146);\n      b.B = new K(.853, .853);\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    NotAllowed: function NotAllowed(a, b, c) {\n      var d = .5 * bd,\n          e = .5;\n      a = w.s();\n      M(a, .5 * b, (.5 - e) * c, !0);\n      N(a, (.5 - d) * b, (.5 - e) * c, (.5 - e) * b, (.5 - d) * c, (.5 - e) * b, .5 * c);\n      N(a, (.5 - e) * b, (.5 + d) * c, (.5 - d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c);\n      N(a, (.5 + d) * b, (.5 + e) * c, (.5 + e) * b, (.5 + d) * c, (.5 + e) * b, .5 * c);\n      N(a, (.5 + e) * b, (.5 - d) * c, (.5 + d) * b, (.5 - e) * c, .5 * b, (.5 - e) * c);\n      var e = .4,\n          d = .4 * bd,\n          f = w.K(),\n          h = w.K(),\n          k = w.K(),\n          l = w.K();\n      Xd(.5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .42, f, h, k, l, l);\n      var m = w.K(),\n          n = w.K(),\n          p = w.K();\n      Xd(.5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .58, l, l, p, m, n);\n      var q = w.K(),\n          r = w.K(),\n          s = w.K();\n      Xd(.5, .5 + e, .5 - d, .5 + e, .5 - e, .5 + d, .5 - e, .5, .42, q, r, s, l, l);\n      var t = w.K(),\n          u = w.K(),\n          y = w.K();\n      Xd(.5, .5 + e, .5 - d, .5 + e, .5 - e, .5 + d, .5 - e, .5, .58, l, l, y, t, u);\n      M(a, y.x * b, y.y * c, !0, !0);\n      N(a, t.x * b, t.y * c, u.x * b, u.y * c, (.5 - e) * b, .5 * c);\n      N(a, (.5 - e) * b, (.5 - d) * c, (.5 - d) * b, (.5 - e) * c, .5 * b, (.5 - e) * c);\n      N(a, f.x * b, f.y * c, h.x * b, h.y * c, k.x * b, k.y * c);\n      a.lineTo(y.x * b, y.y * c);\n      P(a);\n      M(a, s.x * b, s.y * c, !0, !0);\n      a.lineTo(p.x * b, p.y * c);\n      N(a, m.x * b, m.y * c, n.x * b, n.y * c, (.5 + e) * b, .5 * c);\n      N(a, (.5 + e) * b, (.5 + d) * c, (.5 + d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c);\n      N(a, q.x * b, q.y * c, r.x * b, r.y * c, s.x * b, s.y * c);\n      P(a);\n      w.v(f);\n      w.v(h);\n      w.v(k);\n      w.v(l);\n      w.v(m);\n      w.v(n);\n      w.v(p);\n      w.v(q);\n      w.v(r);\n      w.v(s);\n      w.v(t);\n      w.v(u);\n      w.v(y);\n      b = a.o;\n      w.q(a);\n      b.be = Sj;\n      return b;\n    },\n    Fragile: function Fragile(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(.25 * b, 0);\n      a.lineTo(.2 * b, .15 * c);\n      a.lineTo(.3 * b, .25 * c);\n      a.lineTo(.29 * b, .33 * c);\n      a.lineTo(.35 * b, .25 * c);\n      a.lineTo(.3 * b, .15 * c);\n      a.lineTo(.4 * b, 0);\n      a.lineTo(1 * b, 0);\n      N(a, 1 * b, .25 * c, .75 * b, .5 * c, .55 * b, .5 * c);\n      a.lineTo(.55 * b, .9 * c);\n      a.lineTo(.7 * b, .9 * c);\n      a.lineTo(.7 * b, 1 * c);\n      a.lineTo(.3 * b, 1 * c);\n      a.lineTo(.3 * b, .9 * c);\n      a.lineTo(.45 * b, .9 * c);\n      a.lineTo(.45 * b, .5 * c);\n      N(a, .25 * b, .5 * c, 0, .25 * c, 0, 0);\n      P(a);\n      b = a.o;\n      b.A = new K(.25, 0);\n      b.B = new K(.75, .4);\n      w.q(a);\n      return b;\n    },\n    HourGlass: function HourGlass(a, b, c) {\n      a = w.s();\n      M(a, .65 * b, .5 * c, !0);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(.35 * b, .5 * c);\n      a.lineTo(0, 0);\n      a.lineTo(1 * b, 0);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Lightning: function Lightning(a, b, c) {\n      a = w.s();\n      M(a, 0 * b, .55 * c, !0);\n      a.lineTo(.75 * b, 0);\n      a.lineTo(.25 * b, .45 * c);\n      a.lineTo(.9 * b, .48 * c);\n      a.lineTo(.4 * b, 1 * c);\n      a.lineTo(.65 * b, .55 * c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Parallelogram1: function Parallelogram1(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .1);\n      var d = w.s();\n      M(d, a * b, 0, !0);\n      d.lineTo(1 * b, 0);\n      d.lineTo((1 - a) * b, 1 * c);\n      d.lineTo(0, 1 * c);\n      P(d);\n      b = d.o;\n      b.A = new K(a, 0);\n      b.B = new K(1 - a, 1);\n      w.q(d);\n      return b;\n    },\n    Input: \"Output\",\n    Output: function Output(a, b, c) {\n      a = w.s();\n      M(a, 0, 1 * c, !0);\n      a.lineTo(.1 * b, 0);\n      a.lineTo(1 * b, 0);\n      a.lineTo(.9 * b, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(.1, 0);\n      b.B = new K(.9, 1);\n      w.q(a);\n      return b;\n    },\n    Parallelogram2: function Parallelogram2(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .25);\n      var d = w.s();\n      M(d, a * b, 0, !0);\n      d.lineTo(1 * b, 0);\n      d.lineTo((1 - a) * b, 1 * c);\n      d.lineTo(0, 1 * c);\n      P(d);\n      b = d.o;\n      b.A = new K(a, 0);\n      b.B = new K(1 - a, 1);\n      w.q(d);\n      return b;\n    },\n    ThickCross: function ThickCross(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .25);\n      var d = w.s();\n      M(d, (.5 - a / 2) * b, 0, !0);\n      d.lineTo((.5 + a / 2) * b, 0);\n      d.lineTo((.5 + a / 2) * b, (.5 - a / 2) * c);\n      d.lineTo(1 * b, (.5 - a / 2) * c);\n      d.lineTo(1 * b, (.5 + a / 2) * c);\n      d.lineTo((.5 + a / 2) * b, (.5 + a / 2) * c);\n      d.lineTo((.5 + a / 2) * b, 1 * c);\n      d.lineTo((.5 - a / 2) * b, 1 * c);\n      d.lineTo((.5 - a / 2) * b, (.5 + a / 2) * c);\n      d.lineTo(0, (.5 + a / 2) * c);\n      d.lineTo(0, (.5 - a / 2) * c);\n      d.lineTo((.5 - a / 2) * b, (.5 - a / 2) * c);\n      P(d);\n      b = d.o;\n      b.A = new K(.5 - a / 2, .5 - a / 2);\n      b.B = new K(.5 + a / 2, .5 + a / 2);\n      w.q(d);\n      return b;\n    },\n    ThickX: function ThickX(a, b, c) {\n      a = .25 / Math.SQRT2;\n      var d = w.s();\n      M(d, .3 * b, 0, !0);\n      d.lineTo(.5 * b, .2 * c);\n      d.lineTo(.7 * b, 0);\n      d.lineTo(1 * b, .3 * c);\n      d.lineTo(.8 * b, .5 * c);\n      d.lineTo(1 * b, .7 * c);\n      d.lineTo(.7 * b, 1 * c);\n      d.lineTo(.5 * b, .8 * c);\n      d.lineTo(.3 * b, 1 * c);\n      d.lineTo(0, .7 * c);\n      d.lineTo(.2 * b, .5 * c);\n      d.lineTo(0, .3 * c);\n      P(d);\n      b = d.o;\n      b.A = new K(.5 - a, .5 - a);\n      b.B = new K(.5 + a, .5 + a);\n      w.q(d);\n      return b;\n    },\n    ThinCross: function ThinCross(a, b, c) {\n      var d = a ? a.Jc : NaN;\n      isNaN(d) && (d = .1);\n      a = w.s();\n      M(a, (.5 - d / 2) * b, 0, !0);\n      a.lineTo((.5 + d / 2) * b, 0);\n      a.lineTo((.5 + d / 2) * b, (.5 - d / 2) * c);\n      a.lineTo(1 * b, (.5 - d / 2) * c);\n      a.lineTo(1 * b, (.5 + d / 2) * c);\n      a.lineTo((.5 + d / 2) * b, (.5 + d / 2) * c);\n      a.lineTo((.5 + d / 2) * b, 1 * c);\n      a.lineTo((.5 - d / 2) * b, 1 * c);\n      a.lineTo((.5 - d / 2) * b, (.5 + d / 2) * c);\n      a.lineTo(0, (.5 + d / 2) * c);\n      a.lineTo(0, (.5 - d / 2) * c);\n      a.lineTo((.5 - d / 2) * b, (.5 - d / 2) * c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    ThinX: function ThinX(a, b, c) {\n      a = w.s();\n      M(a, .1 * b, 0, !0);\n      a.lineTo(.5 * b, .4 * c);\n      a.lineTo(.9 * b, 0);\n      a.lineTo(1 * b, .1 * c);\n      a.lineTo(.6 * b, .5 * c);\n      a.lineTo(1 * b, .9 * c);\n      a.lineTo(.9 * b, 1 * c);\n      a.lineTo(.5 * b, .6 * c);\n      a.lineTo(.1 * b, 1 * c);\n      a.lineTo(0, .9 * c);\n      a.lineTo(.4 * b, .5 * c);\n      a.lineTo(0, .1 * c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    RightTriangle: function RightTriangle(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(0, .5);\n      b.B = new K(.5, 1);\n      w.q(a);\n      return b;\n    },\n    RoundedIBeam: function RoundedIBeam(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(1 * b, 0);\n      N(a, .5 * b, .25 * c, .5 * b, .75 * c, 1 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      N(a, .5 * b, .75 * c, .5 * b, .25 * c, 0, 0);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    RoundedRectangle: function RoundedRectangle(a, b, c) {\n      var d = a ? a.Jc : NaN;\n      isNaN(d) && (d = 5);\n      d = Math.min(d, b / 3);\n      d = Math.min(d, c / 3);\n      a = d * bd;\n      var e = w.s();\n      M(e, d, 0, !0);\n      e.lineTo(b - d, 0);\n      N(e, b - a, 0, b, a, b, d);\n      e.lineTo(b, c - d);\n      N(e, b, c - a, b - a, c, b - d, c);\n      e.lineTo(d, c);\n      N(e, a, c, 0, c - a, 0, c - d);\n      e.lineTo(0, d);\n      N(e, 0, a, a, 0, d, 0);\n      P(e);\n      b = e.o;\n      1 < a ? (b.A = new K(0, 0, a, a), b.B = new K(1, 1, -a, -a)) : (b.A = zb, b.B = Wb);\n      w.q(e);\n      return b;\n    },\n    Border: function Border(a, b, c) {\n      var d = a ? a.Jc : NaN;\n      isNaN(d) && (d = 5);\n      d = Math.min(d, b / 3);\n      d = Math.min(d, c / 3);\n      a = w.s();\n      M(a, d, 0, !0);\n      a.lineTo(b - d, 0);\n      N(a, b - 0, 0, b, 0, b, d);\n      a.lineTo(b, c - d);\n      N(a, b, c - 0, b - 0, c, b - d, c);\n      a.lineTo(d, c);\n      N(a, 0, c, 0, c - 0, 0, c - d);\n      a.lineTo(0, d);\n      N(a, 0, 0, 0, 0, d, 0);\n      P(a);\n      b = a.o;\n      b.A = zb;\n      b.B = Wb;\n      w.q(a);\n      return b;\n    },\n    SquareIBeam: function SquareIBeam(a, b, c) {\n      var d = a ? a.Jc : NaN;\n      isNaN(d) && (d = .2);\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(1 * b, 0);\n      a.lineTo(1 * b, d * c);\n      a.lineTo((.5 + d / 2) * b, d * c);\n      a.lineTo((.5 + d / 2) * b, (1 - d) * c);\n      a.lineTo(1 * b, (1 - d) * c);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, (1 - d) * c);\n      a.lineTo((.5 - d / 2) * b, (1 - d) * c);\n      a.lineTo((.5 - d / 2) * b, d * c);\n      a.lineTo(0, d * c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Trapezoid: function Trapezoid(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .2);\n      var d = w.s();\n      M(d, a * b, 0, !0);\n      d.lineTo((1 - a) * b, 0);\n      d.lineTo(1 * b, 1 * c);\n      d.lineTo(0, 1 * c);\n      P(d);\n      b = d.o;\n      b.A = new K(a, 0);\n      b.B = new K(1 - a, 1);\n      w.q(d);\n      return b;\n    },\n    ManualLoop: \"ManualOperation\",\n    ManualOperation: function ManualOperation(a, b, c) {\n      var d = a ? a.Jc : NaN;\n      isNaN(d) && (d = 0);\n      a = w.s();\n      M(a, d, 0, !0);\n      a.lineTo(0, 0);\n      a.lineTo(1 * b, 0);\n      a.lineTo(.9 * b, 1 * c);\n      a.lineTo(.1 * b, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(.1, 0);\n      b.B = new K(.9, 1);\n      w.q(a);\n      return b;\n    },\n    GenderMale: function GenderMale(a, b, c) {\n      a = w.s();\n      var d = .4 * bd,\n          e = .4,\n          f = w.K(),\n          h = w.K(),\n          k = w.K(),\n          l = w.K();\n      M(a, (.5 - e) * b, .5 * c, !0);\n      N(a, (.5 - e) * b, (.5 - d) * c, (.5 - d) * b, (.5 - e) * c, .5 * b, (.5 - e) * c);\n      Xd(.5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .44, k, l, h, f, f);\n      N(a, k.x * b, k.y * c, l.x * b, l.y * c, h.x * b, h.y * c);\n      var m = w.wb(h.x, h.y);\n      Xd(.5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .56, f, f, h, k, l);\n      var n = w.wb(h.x, h.y);\n      a.lineTo((.1 * m.x + .855) * b, .1 * m.y * c);\n      a.lineTo(.85 * b, .1 * m.y * c);\n      a.lineTo(.85 * b, 0);\n      a.lineTo(1 * b, 0);\n      a.lineTo(1 * b, .15 * c);\n      a.lineTo((.1 * n.x + .9) * b, .15 * c);\n      a.lineTo((.1 * n.x + .9) * b, (.1 * n.y + .05 * .9) * c);\n      a.lineTo(n.x * b, n.y * c);\n      N(a, k.x * b, k.y * c, l.x * b, l.y * c, (.5 + e) * b, .5 * c);\n      N(a, (.5 + e) * b, (.5 + d) * c, (.5 + d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c);\n      N(a, (.5 - d) * b, (.5 + e) * c, (.5 - e) * b, (.5 + d) * c, (.5 - e) * b, .5 * c);\n      e = .35;\n      d = .35 * bd;\n      M(a, .5 * b, (.5 - e) * c, !0, !0);\n      N(a, (.5 - d) * b, (.5 - e) * c, (.5 - e) * b, (.5 - d) * c, (.5 - e) * b, .5 * c);\n      N(a, (.5 - e) * b, (.5 + d) * c, (.5 - d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c);\n      N(a, (.5 + d) * b, (.5 + e) * c, (.5 + e) * b, (.5 + d) * c, (.5 + e) * b, .5 * c);\n      N(a, (.5 + e) * b, (.5 - d) * c, (.5 + d) * b, (.5 - e) * c, .5 * b, (.5 - e) * c);\n      M(a, (.5 - e) * b, .5 * c, !0);\n      w.v(f);\n      w.v(h);\n      w.v(k);\n      w.v(l);\n      w.v(m);\n      w.v(n);\n      b = a.o;\n      b.A = new K(.202, .257);\n      b.B = new K(.692, .839);\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    GenderFemale: function GenderFemale(a, b, c) {\n      a = w.s();\n      var d = .375,\n          e = 0,\n          f = -.125,\n          h = 4 * (Math.SQRT2 - 1) / 3 * d;\n      M(a, (.525 + e) * b, (.5 + d + f) * c, !0);\n      N(a, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + d + e) * b, (.5 + f) * c);\n      N(a, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c);\n      N(a, (.5 - h + e) * b, (.5 - d + f) * c, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - d + e) * b, (.5 + f) * c);\n      N(a, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - h + e) * b, (.5 + d + f) * c, (.475 + e) * b, (.5 + d + f) * c);\n      a.lineTo(.475 * b, .85 * c);\n      a.lineTo(.425 * b, .85 * c);\n      a.lineTo(.425 * b, .9 * c);\n      a.lineTo(.475 * b, .9 * c);\n      a.lineTo(.475 * b, 1 * c);\n      a.lineTo(.525 * b, 1 * c);\n      a.lineTo(.525 * b, .9 * c);\n      a.lineTo(.575 * b, .9 * c);\n      a.lineTo(.575 * b, .85 * c);\n      a.lineTo(.525 * b, .85 * c);\n      P(a);\n      d = .325;\n      e = 0;\n      f = -.125;\n      h = 4 * (Math.SQRT2 - 1) / 3 * d;\n      M(a, (.5 + d + e) * b, (.5 + f) * c, !0, !0);\n      N(a, (.5 + d + e) * b, (.5 + h + f) * c, (.5 + h + e) * b, (.5 + d + f) * c, (.5 + e) * b, (.5 + d + f) * c);\n      N(a, (.5 - h + e) * b, (.5 + d + f) * c, (.5 - d + e) * b, (.5 + h + f) * c, (.5 - d + e) * b, (.5 + f) * c);\n      N(a, (.5 - d + e) * b, (.5 - h + f) * c, (.5 - h + e) * b, (.5 - d + f) * c, (.5 + e) * b, (.5 - d + f) * c);\n      N(a, (.5 + h + e) * b, (.5 - d + f) * c, (.5 + d + e) * b, (.5 - h + f) * c, (.5 + d + e) * b, (.5 + f) * c);\n      M(a, (.525 + e) * b, (.5 + d + f) * c, !0);\n      b = a.o;\n      b.A = new K(.232, .136);\n      b.B = new K(.782, .611);\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    PlusLine: function PlusLine(a, b, c) {\n      a = w.s();\n      M(a, 0, .5 * c, !1);\n      a.lineTo(1 * b, .5 * c);\n      a.moveTo(.5 * b, 0);\n      a.lineTo(.5 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    XLine: function XLine(a, b, c) {\n      a = w.s();\n      M(a, 0, 1 * c, !1);\n      a.lineTo(1 * b, 0);\n      a.moveTo(0, 0);\n      a.lineTo(1 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    AsteriskLine: function AsteriskLine(a, b, c) {\n      a = w.s();\n      var d = .2 / Math.SQRT2;\n      M(a, d * b, (1 - d) * c, !1);\n      a.lineTo((1 - d) * b, d * c);\n      a.moveTo(d * b, d * c);\n      a.lineTo((1 - d) * b, (1 - d) * c);\n      a.moveTo(0 * b, .5 * c);\n      a.lineTo(1 * b, .5 * c);\n      a.moveTo(.5 * b, 0 * c);\n      a.lineTo(.5 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    CircleLine: function CircleLine(a, b, c) {\n      var d = .5 * bd;\n      a = w.s();\n      M(a, 1 * b, .5 * c, !1);\n      N(a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c);\n      N(a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      b = a.o;\n      b.A = new K(.146, .146);\n      b.B = new K(.853, .853);\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    Pie: function Pie(a, b, c) {\n      a = w.s();\n      var d = 4 * (Math.SQRT2 - 1) / 3 * .5;\n      M(a, (.5 * Math.SQRT2 / 2 + .5) * b, (.5 - .5 * Math.SQRT2 / 2) * c, !0);\n      N(a, .7 * b, 0 * c, .5 * b, 0 * c, .5 * b, 0 * c);\n      N(a, (.5 - d + 0) * b, 0 * c, 0 * b, (.5 - d + 0) * c, 0 * b, .5 * c);\n      N(a, 0 * b, (.5 + d + 0) * c, (.5 - d + 0) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 + d + 0) * b, 1 * c, 1 * b, (.5 + d + 0) * c, 1 * b, .5 * c);\n      a.lineTo(.5 * b, .5 * c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    PiePiece: function PiePiece(a, b, c) {\n      var d = bd / Math.SQRT2 * .5,\n          e = Math.SQRT2 / 2,\n          f = 1 - Math.SQRT2 / 2;\n      a = w.s();\n      M(a, b, c, !0);\n      N(a, b, (1 - d) * c, (e + d) * b, (f + d) * c, e * b, f * c);\n      a.lineTo(0, c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    StopSign: function StopSign(a, b, c) {\n      a = 1 / (Math.SQRT2 + 2);\n      var d = w.s();\n      M(d, a * b, 0, !0);\n      d.lineTo((1 - a) * b, 0);\n      d.lineTo(1 * b, a * c);\n      d.lineTo(1 * b, (1 - a) * c);\n      d.lineTo((1 - a) * b, 1 * c);\n      d.lineTo(a * b, 1 * c);\n      d.lineTo(0, (1 - a) * c);\n      d.lineTo(0, a * c);\n      P(d);\n      b = d.o;\n      b.A = new K(a / 2, a / 2);\n      b.B = new K(1 - a / 2, 1 - a / 2);\n      w.q(d);\n      return b;\n    },\n    LogicImplies: function LogicImplies(a, b, c) {\n      var d = a ? a.Jc : NaN;\n      isNaN(d) && (d = .2);\n      a = w.s();\n      M(a, (1 - d) * b, 0 * c, !1);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo((1 - d) * b, c);\n      a.moveTo(0, .5 * c);\n      a.lineTo(b, .5 * c);\n      b = a.o;\n      b.A = zb;\n      b.B = new K(.8, .5);\n      w.q(a);\n      return b;\n    },\n    LogicIff: function LogicIff(a, b, c) {\n      var d = a ? a.Jc : NaN;\n      isNaN(d) && (d = .2);\n      a = w.s();\n      M(a, (1 - d) * b, 0 * c, !1);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo((1 - d) * b, c);\n      a.moveTo(0, .5 * c);\n      a.lineTo(b, .5 * c);\n      a.moveTo(d * b, 0);\n      a.lineTo(0, .5 * c);\n      a.lineTo(d * b, c);\n      b = a.o;\n      b.A = new K(.2, 0);\n      b.B = new K(.8, .5);\n      w.q(a);\n      return b;\n    },\n    LogicNot: function LogicNot(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      a.lineTo(1 * b, 0);\n      a.lineTo(1 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    LogicAnd: function LogicAnd(a, b, c) {\n      a = w.s();\n      M(a, 0, 1 * c, !1);\n      a.lineTo(.5 * b, 0);\n      a.lineTo(1 * b, 1 * c);\n      b = a.o;\n      b.A = new K(.25, .5);\n      b.B = new K(.75, 1);\n      w.q(a);\n      return b;\n    },\n    LogicOr: function LogicOr(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      a.lineTo(.5 * b, 1 * c);\n      a.lineTo(1 * b, 0);\n      b = a.o;\n      b.A = new K(.219, 0);\n      b.B = new K(.78, .409);\n      w.q(a);\n      return b;\n    },\n    LogicXor: function LogicXor(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 0, !1);\n      a.lineTo(.5 * b, 1 * c);\n      a.moveTo(0, .5 * c);\n      a.lineTo(1 * b, .5 * c);\n      var d = .5 * bd;\n      N(a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c);\n      N(a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      b = a.o;\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    LogicTruth: function LogicTruth(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      a.lineTo(1 * b, 0);\n      a.moveTo(.5 * b, 0);\n      a.lineTo(.5 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    LogicFalsity: function LogicFalsity(a, b, c) {\n      a = w.s();\n      M(a, 0, 1 * c, !1);\n      a.lineTo(1 * b, 1 * c);\n      a.moveTo(.5 * b, 1 * c);\n      a.lineTo(.5 * b, 0);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    LogicThereExists: function LogicThereExists(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      a.lineTo(1 * b, 0);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo(0, .5 * c);\n      a.moveTo(1 * b, .5 * c);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    LogicForAll: function LogicForAll(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      a.lineTo(.5 * b, 1 * c);\n      a.lineTo(1 * b, 0);\n      a.moveTo(.25 * b, .5 * c);\n      a.lineTo(.75 * b, .5 * c);\n      b = a.o;\n      b.A = new K(.25, 0);\n      b.B = new K(.75, .5);\n      w.q(a);\n      return b;\n    },\n    LogicIsDefinedAs: function LogicIsDefinedAs(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      a.lineTo(b, 0);\n      a.moveTo(0, .5 * c);\n      a.lineTo(b, .5 * c);\n      a.moveTo(0, c);\n      a.lineTo(b, c);\n      b = a.o;\n      b.A = new K(.01, .01);\n      b.B = new K(.99, .49);\n      w.q(a);\n      return b;\n    },\n    LogicIntersect: function LogicIntersect(a, b, c) {\n      var d = .5 * bd;\n      a = w.s();\n      M(a, 0, 1 * c, !1);\n      a.lineTo(0, .5 * c);\n      N(a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      a.lineTo(1 * b, 1 * c);\n      b = a.o;\n      b.A = new K(0, .5);\n      b.B = Wb;\n      w.q(a);\n      return b;\n    },\n    LogicUnion: function LogicUnion(a, b, c) {\n      var d = .5 * bd;\n      a = w.s();\n      M(a, 1 * b, 0, !1);\n      a.lineTo(1 * b, .5 * c);\n      N(a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c);\n      a.lineTo(0, 0);\n      b = a.o;\n      b.A = zb;\n      b.B = new K(1, .5);\n      w.q(a);\n      return b;\n    },\n    Arrow: function Arrow(a, b, c) {\n      var d = a ? a.Jc : NaN,\n          e = a ? a.Qu : NaN;\n      isNaN(d) && (d = .3);\n      isNaN(e) && (e = .3);\n      a = w.s();\n      M(a, 0, (.5 - e / 2) * c, !0);\n      a.lineTo((1 - d) * b, (.5 - e / 2) * c);\n      a.lineTo((1 - d) * b, 0);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo((1 - d) * b, 1 * c);\n      a.lineTo((1 - d) * b, (.5 + e / 2) * c);\n      a.lineTo(0, (.5 + e / 2) * c);\n      P(a);\n      b = a.o;\n      b.A = new K(0, .5 - e / 2);\n      d = le(0, .5 + e / 2, 1, .5 + e / 2, 1 - d, 1, 1, .5, w.K());\n      b.B = new K(d.x, d.y);\n      w.v(d);\n      w.q(a);\n      return b;\n    },\n    ISOProcess: \"Chevron\",\n    Chevron: function Chevron(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(.5 * b, 0);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo(.5 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(.5 * b, .5 * c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    DoubleArrow: function DoubleArrow(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(.3 * b, .214 * c);\n      a.lineTo(.3 * b, 0);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo(.3 * b, 1 * c);\n      a.lineTo(.3 * b, .786 * c);\n      a.lineTo(0, 1 * c);\n      P(a);\n      M(a, .3 * b, .214 * c, !1);\n      a.lineTo(.3 * b, .786 * c);\n      a.fb(!1);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    DoubleEndArrow: function DoubleEndArrow(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, .5 * c, !0);\n      a.lineTo(.7 * b, 1 * c);\n      a.lineTo(.7 * b, .7 * c);\n      a.lineTo(.3 * b, .7 * c);\n      a.lineTo(.3 * b, 1 * c);\n      a.lineTo(0, .5 * c);\n      a.lineTo(.3 * b, 0);\n      a.lineTo(.3 * b, .3 * c);\n      a.lineTo(.7 * b, .3 * c);\n      a.lineTo(.7 * b, 0);\n      P(a);\n      b = a.o;\n      c = le(0, .5, .3, 0, 0, .3, .3, .3, w.K());\n      b.A = new K(c.x, c.y);\n      c = le(.7, 1, 1, .5, .7, .7, 1, .7, c);\n      b.B = new K(c.x, c.y);\n      w.v(c);\n      w.q(a);\n      return b;\n    },\n    IBeamArrow: function IBeamArrow(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, .5 * c, !0);\n      a.lineTo(.7 * b, 1 * c);\n      a.lineTo(.7 * b, .7 * c);\n      a.lineTo(.2 * b, .7 * c);\n      a.lineTo(.2 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, 0);\n      a.lineTo(.2 * b, 0);\n      a.lineTo(.2 * b, .3 * c);\n      a.lineTo(.7 * b, .3 * c);\n      a.lineTo(.7 * b, 0);\n      P(a);\n      b = a.o;\n      b.A = new K(0, .3);\n      c = le(.7, 1, 1, .5, .7, .7, 1, .7, w.K());\n      b.B = new K(c.x, c.y);\n      w.v(c);\n      w.q(a);\n      return b;\n    },\n    Pointer: function Pointer(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, .5 * c, !0);\n      a.lineTo(0, 1 * c);\n      a.lineTo(.2 * b, .5 * c);\n      a.lineTo(0, 0);\n      P(a);\n      b = a.o;\n      b.A = new K(.2, .35);\n      c = le(.2, .65, 1, .65, 0, 1, 1, .5, w.K());\n      b.B = new K(c.x, c.y);\n      w.v(c);\n      w.q(a);\n      return b;\n    },\n    RoundedPointer: function RoundedPointer(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, .5 * c, !0);\n      a.lineTo(0, 1 * c);\n      N(a, .5 * b, .75 * c, .5 * b, .25 * c, 0, 0);\n      P(a);\n      b = a.o;\n      b.A = new K(.4, .35);\n      c = le(.2, .65, 1, .65, 0, 1, 1, .5, w.K());\n      b.B = new K(c.x, c.y);\n      w.v(c);\n      w.q(a);\n      return b;\n    },\n    SplitEndArrow: function SplitEndArrow(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, .5 * c, !0);\n      a.lineTo(.7 * b, 1 * c);\n      a.lineTo(.7 * b, .7 * c);\n      a.lineTo(0, .7 * c);\n      a.lineTo(.2 * b, .5 * c);\n      a.lineTo(0, .3 * c);\n      a.lineTo(.7 * b, .3 * c);\n      a.lineTo(.7 * b, 0);\n      P(a);\n      b = a.o;\n      b.A = new K(.2, .3);\n      c = le(.7, 1, 1, .5, .7, .7, 1, .7, w.K());\n      b.B = new K(c.x, c.y);\n      w.v(c);\n      w.q(a);\n      return b;\n    },\n    MessageToUser: \"SquareArrow\",\n    SquareArrow: function SquareArrow(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, .5 * c, !0);\n      a.lineTo(.7 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, 0);\n      a.lineTo(.7 * b, 0);\n      P(a);\n      b = a.o;\n      b.A = zb;\n      b.B = new K(.7, 1);\n      w.q(a);\n      return b;\n    },\n    Cone1: function Cone1(a, b, c) {\n      var d = .5 * bd,\n          e = .1 * bd;\n      a = w.s();\n      M(a, 0, .9 * c, !0);\n      a.lineTo(.5 * b, 0);\n      a.lineTo(1 * b, .9 * c);\n      N(a, 1 * b, (.9 + e) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.9 + e) * c, 0, .9 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(.25, .5);\n      b.B = new K(.75, .97);\n      w.q(a);\n      return b;\n    },\n    Cone2: function Cone2(a, b, c) {\n      a = w.s();\n      M(a, 0, .9 * c, !0);\n      N(a, (1 - .85 / .9) * b, 1 * c, .85 / .9 * b, 1 * c, 1 * b, .9 * c);\n      a.lineTo(.5 * b, 0);\n      a.lineTo(0, .9 * c);\n      P(a);\n      M(a, 0, .9 * c, !1);\n      N(a, (1 - .85 / .9) * b, .8 * c, .85 / .9 * b, .8 * c, 1 * b, .9 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.25, .5);\n      b.B = new K(.75, .82);\n      w.q(a);\n      return b;\n    },\n    Cube1: function Cube1(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 1 * c, !0);\n      a.lineTo(1 * b, .85 * c);\n      a.lineTo(1 * b, .15 * c);\n      a.lineTo(.5 * b, 0 * c);\n      a.lineTo(0 * b, .15 * c);\n      a.lineTo(0 * b, .85 * c);\n      P(a);\n      M(a, .5 * b, 1 * c, !1);\n      a.lineTo(.5 * b, .3 * c);\n      a.lineTo(0, .15 * c);\n      a.moveTo(.5 * b, .3 * c);\n      a.lineTo(1 * b, .15 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(0, .3);\n      b.B = new K(.5, .85);\n      w.q(a);\n      return b;\n    },\n    Cube2: function Cube2(a, b, c) {\n      a = w.s();\n      M(a, 0, .3 * c, !0);\n      a.lineTo(0 * b, 1 * c);\n      a.lineTo(.7 * b, c);\n      a.lineTo(1 * b, .7 * c);\n      a.lineTo(1 * b, 0 * c);\n      a.lineTo(.3 * b, 0 * c);\n      P(a);\n      M(a, 0, .3 * c, !1);\n      a.lineTo(.7 * b, .3 * c);\n      a.lineTo(1 * b, 0 * c);\n      a.moveTo(.7 * b, .3 * c);\n      a.lineTo(.7 * b, 1 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(0, .3);\n      b.B = new K(.7, 1);\n      w.q(a);\n      return b;\n    },\n    MagneticData: \"Cylinder1\",\n    Cylinder1: function Cylinder1(a, b, c) {\n      var d = .5 * bd,\n          e = .1 * bd;\n      a = w.s();\n      M(a, 0, .1 * c, !0);\n      N(a, 0, (.1 - e) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.1 - e) * c, 1 * b, .1 * c);\n      a.lineTo(b, .9 * c);\n      N(a, 1 * b, (.9 + e) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.9 + e) * c, 0, .9 * c);\n      a.lineTo(0, .1 * c);\n      M(a, 0, .1 * c, !1);\n      N(a, 0, (.1 + e) * c, (.5 - d) * b, .2 * c, .5 * b, .2 * c);\n      N(a, (.5 + d) * b, .2 * c, 1 * b, (.1 + e) * c, 1 * b, .1 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(0, .2);\n      b.B = new K(1, .9);\n      w.q(a);\n      return b;\n    },\n    Cylinder2: function Cylinder2(a, b, c) {\n      var d = .5 * bd,\n          e = .1 * bd;\n      a = w.s();\n      M(a, 0, .9 * c, !0);\n      a.lineTo(0, .1 * c);\n      N(a, 0, (.1 - e) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.1 - e) * c, 1 * b, .1 * c);\n      a.lineTo(1 * b, .9 * c);\n      N(a, 1 * b, (.9 + e) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.9 + e) * c, 0, .9 * c);\n      M(a, 0, .9 * c, !1);\n      N(a, 0, (.9 - e) * c, (.5 - d) * b, .8 * c, .5 * b, .8 * c);\n      N(a, (.5 + d) * b, .8 * c, 1 * b, (.9 - e) * c, 1 * b, .9 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(0, .1);\n      b.B = new K(1, .8);\n      w.q(a);\n      return b;\n    },\n    Cylinder3: function Cylinder3(a, b, c) {\n      var d = .1 * bd,\n          e = .5 * bd;\n      a = w.s();\n      M(a, .1 * b, 0, !0);\n      a.lineTo(.9 * b, 0);\n      N(a, (.9 + d) * b, 0, 1 * b, (.5 - e) * c, 1 * b, .5 * c);\n      N(a, 1 * b, (.5 + e) * c, (.9 + d) * b, 1 * c, .9 * b, 1 * c);\n      a.lineTo(.1 * b, 1 * c);\n      N(a, (.1 - d) * b, 1 * c, 0, (.5 + e) * c, 0, .5 * c);\n      N(a, 0, (.5 - e) * c, (.1 - d) * b, 0, .1 * b, 0);\n      M(a, .1 * b, 0, !1);\n      N(a, (.1 + d) * b, 0, .2 * b, (.5 - e) * c, .2 * b, .5 * c);\n      N(a, .2 * b, (.5 + e) * c, (.1 + d) * b, 1 * c, .1 * b, 1 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.2, 0);\n      b.B = new K(.9, 1);\n      w.q(a);\n      return b;\n    },\n    DirectData: \"Cylinder4\",\n    Cylinder4: function Cylinder4(a, b, c) {\n      var d = .1 * bd,\n          e = .5 * bd;\n      a = w.s();\n      M(a, .9 * b, 0, !0);\n      N(a, (.9 + d) * b, 0, 1 * b, (.5 - e) * c, 1 * b, .5 * c);\n      N(a, 1 * b, (.5 + e) * c, (.9 + d) * b, 1 * c, .9 * b, 1 * c);\n      a.lineTo(.1 * b, 1 * c);\n      N(a, (.1 - d) * b, 1 * c, 0, (.5 + e) * c, 0, .5 * c);\n      N(a, 0, (.5 - e) * c, (.1 - d) * b, 0, .1 * b, 0);\n      a.lineTo(.9 * b, 0);\n      M(a, .9 * b, 0, !1);\n      N(a, (.9 - d) * b, 0, .8 * b, (.5 - e) * c, .8 * b, .5 * c);\n      N(a, .8 * b, (.5 + e) * c, (.9 - d) * b, 1 * c, .9 * b, 1 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.1, 0);\n      b.B = new K(.8, 1);\n      w.q(a);\n      return b;\n    },\n    Prism1: function Prism1(a, b, c) {\n      a = w.s();\n      M(a, .25 * b, .25 * c, !0);\n      a.lineTo(.75 * b, 0);\n      a.lineTo(b, .5 * c);\n      a.lineTo(.5 * b, c);\n      a.lineTo(0, c);\n      P(a);\n      M(a, .25 * b, .25 * c, !1);\n      a.lineTo(.5 * b, c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.408, .172);\n      b.B = new K(.833, .662);\n      w.q(a);\n      return b;\n    },\n    Prism2: function Prism2(a, b, c) {\n      a = w.s();\n      M(a, 0, .25 * c, !0);\n      a.lineTo(.75 * b, 0);\n      a.lineTo(1 * b, .25 * c);\n      a.lineTo(.75 * b, .75 * c);\n      a.lineTo(0, 1 * c);\n      P(a);\n      M(a, 0, c, !1);\n      a.lineTo(.25 * b, .5 * c);\n      a.lineTo(b, .25 * c);\n      a.moveTo(0, .25 * c);\n      a.lineTo(.25 * b, .5 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.25, .5);\n      b.B = new K(.75, .75);\n      w.q(a);\n      return b;\n    },\n    Pyramid1: function Pyramid1(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 0, !0);\n      a.lineTo(b, .75 * c);\n      a.lineTo(.5 * b, 1 * c);\n      a.lineTo(0, .75 * c);\n      P(a);\n      M(a, .5 * b, 0, !1);\n      a.lineTo(.5 * b, 1 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.25, .367);\n      b.B = new K(.75, .875);\n      w.q(a);\n      return b;\n    },\n    Pyramid2: function Pyramid2(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 0, !0);\n      a.lineTo(b, .85 * c);\n      a.lineTo(.5 * b, 1 * c);\n      a.lineTo(0, .85 * c);\n      P(a);\n      M(a, .5 * b, 0, !1);\n      a.lineTo(.5 * b, .7 * c);\n      a.lineTo(0, .85 * c);\n      a.moveTo(.5 * b, .7 * c);\n      a.lineTo(1 * b, .85 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.25, .367);\n      b.B = new K(.75, .875);\n      w.q(a);\n      return b;\n    },\n    Actor: function Actor(a, b, c) {\n      var d = .2 * bd,\n          e = .1 * bd,\n          f = .5,\n          h = .1;\n      a = w.s();\n      M(a, f * b, (h + .1) * c, !0);\n      N(a, (f - d) * b, (h + .1) * c, (f - .2) * b, (h + e) * c, (f - .2) * b, h * c);\n      N(a, (f - .2) * b, (h - e) * c, (f - d) * b, (h - .1) * c, f * b, (h - .1) * c);\n      N(a, (f + d) * b, (h - .1) * c, (f + .2) * b, (h - e) * c, (f + .2) * b, h * c);\n      N(a, (f + .2) * b, (h + e) * c, (f + d) * b, (h + .1) * c, f * b, (h + .1) * c);\n      d = .05;\n      e = bd * d;\n      M(a, .5 * b, .2 * c, !0);\n      a.lineTo(.95 * b, .2 * c);\n      f = .95;\n      h = .25;\n      N(a, (f + e) * b, (h - d) * c, (f + d) * b, (h - e) * c, (f + d) * b, h * c);\n      a.lineTo(1 * b, .6 * c);\n      a.lineTo(.85 * b, .6 * c);\n      a.lineTo(.85 * b, .35 * c);\n      d = .025;\n      e = bd * d;\n      f = .825;\n      h = .35;\n      N(a, (f + d) * b, (h - e) * c, (f + e) * b, (h - d) * c, f * b, (h - d) * c);\n      N(a, (f - e) * b, (h - d) * c, (f - d) * b, (h - e) * c, (f - d) * b, h * c);\n      a.lineTo(.8 * b, 1 * c);\n      a.lineTo(.55 * b, 1 * c);\n      a.lineTo(.55 * b, .7 * c);\n      d = .05;\n      e = bd * d;\n      f = .5;\n      h = .7;\n      N(a, (f + d) * b, (h - e) * c, (f + e) * b, (h - d) * c, f * b, (h - d) * c);\n      N(a, (f - e) * b, (h - d) * c, (f - d) * b, (h - e) * c, (f - d) * b, h * c);\n      a.lineTo(.45 * b, 1 * c);\n      a.lineTo(.2 * b, 1 * c);\n      a.lineTo(.2 * b, .35 * c);\n      d = .025;\n      e = bd * d;\n      f = .175;\n      h = .35;\n      N(a, (f + d) * b, (h - e) * c, (f + e) * b, (h - d) * c, f * b, (h - d) * c);\n      N(a, (f - e) * b, (h - d) * c, (f - d) * b, (h - e) * c, (f - d) * b, h * c);\n      a.lineTo(.15 * b, .6 * c);\n      a.lineTo(0 * b, .6 * c);\n      a.lineTo(0 * b, .25 * c);\n      d = .05;\n      e = bd * d;\n      f = .05;\n      h = .25;\n      N(a, (f - d) * b, (h - e) * c, (f - e) * b, (h - d) * c, f * b, (h - d) * c);\n      a.lineTo(.5 * b, .2 * c);\n      b = a.o;\n      b.A = new K(.2, .2);\n      b.B = new K(.8, .65);\n      w.q(a);\n      return b;\n    },\n    Card: function Card(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, 0 * c, !0);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(0 * b, 1 * c);\n      a.lineTo(0 * b, .2 * c);\n      a.lineTo(.2 * b, 0 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(0, .2);\n      b.B = Wb;\n      w.q(a);\n      return b;\n    },\n    Collate: function Collate(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, .5 * c, !0);\n      a.lineTo(0, 0);\n      a.lineTo(1 * b, 0);\n      a.lineTo(.5 * b, .5 * c);\n      M(a, .5 * b, .5 * c, !0);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(.5 * b, .5 * c);\n      b = a.o;\n      b.A = new K(.25, 0);\n      b.B = new K(.75, .25);\n      w.q(a);\n      return b;\n    },\n    CreateRequest: function CreateRequest(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .1);\n      var d = w.s();\n      M(d, 0, 0, !0);\n      d.lineTo(1 * b, 0);\n      d.lineTo(1 * b, 1 * c);\n      d.lineTo(0, 1 * c);\n      P(d);\n      M(d, 0, a * c, !1);\n      d.lineTo(1 * b, a * c);\n      d.moveTo(0, (1 - a) * c);\n      d.lineTo(1 * b, (1 - a) * c);\n      d.fb(!1);\n      b = d.o;\n      b.A = new K(0, a);\n      b.B = new K(1, 1 - a);\n      w.q(d);\n      return b;\n    },\n    Database: function Database(a, b, c) {\n      a = w.s();\n      var d = .5 * bd,\n          e = .1 * bd;\n      M(a, 1 * b, .1 * c, !0);\n      a.lineTo(1 * b, .9 * c);\n      N(a, 1 * b, (.9 + e) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.9 + e) * c, 0, .9 * c);\n      a.lineTo(0, .1 * c);\n      N(a, 0, (.1 - e) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.1 - e) * c, 1 * b, .1 * c);\n      M(a, 1 * b, .1 * c, !1);\n      N(a, 1 * b, (.1 + e) * c, (.5 + d) * b, .2 * c, .5 * b, .2 * c);\n      N(a, (.5 - d) * b, .2 * c, 0, (.1 + e) * c, 0, .1 * c);\n      a.moveTo(1 * b, .2 * c);\n      N(a, 1 * b, (.2 + e) * c, (.5 + d) * b, .3 * c, .5 * b, .3 * c);\n      N(a, (.5 - d) * b, .3 * c, 0, (.2 + e) * c, 0, .2 * c);\n      a.moveTo(1 * b, .3 * c);\n      N(a, 1 * b, (.3 + e) * c, (.5 + d) * b, .4 * c, .5 * b, .4 * c);\n      N(a, (.5 - d) * b, .4 * c, 0, (.3 + e) * c, 0, .3 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(0, .4);\n      b.B = new K(1, .9);\n      w.q(a);\n      return b;\n    },\n    StoredData: \"DataStorage\",\n    DataStorage: function DataStorage(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(.75 * b, 0);\n      N(a, 1 * b, 0, 1 * b, 1 * c, .75 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      N(a, .25 * b, .9 * c, .25 * b, .1 * c, 0, 0);\n      P(a);\n      b = a.o;\n      b.A = new K(.226, 0);\n      b.B = new K(.81, 1);\n      w.q(a);\n      return b;\n    },\n    DiskStorage: function DiskStorage(a, b, c) {\n      a = w.s();\n      var d = .5 * bd,\n          e = .1 * bd;\n      M(a, 1 * b, .1 * c, !0);\n      a.lineTo(1 * b, .9 * c);\n      N(a, 1 * b, (.9 + e) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.9 + e) * c, 0, .9 * c);\n      a.lineTo(0, .1 * c);\n      N(a, 0, (.1 - e) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.1 - e) * c, 1 * b, .1 * c);\n      M(a, 1 * b, .1 * c, !1);\n      N(a, 1 * b, (.1 + e) * c, (.5 + d) * b, .2 * c, .5 * b, .2 * c);\n      N(a, (.5 - d) * b, .2 * c, 0, (.1 + e) * c, 0, .1 * c);\n      a.moveTo(1 * b, .2 * c);\n      N(a, 1 * b, (.2 + e) * c, (.5 + d) * b, .3 * c, .5 * b, .3 * c);\n      N(a, (.5 - d) * b, .3 * c, 0, (.2 + e) * c, 0, .2 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(0, .3);\n      b.B = new K(1, .9);\n      w.q(a);\n      return b;\n    },\n    Display: function Display(a, b, c) {\n      a = w.s();\n      M(a, .25 * b, 0, !0);\n      a.lineTo(.75 * b, 0);\n      N(a, 1 * b, 0, 1 * b, 1 * c, .75 * b, 1 * c);\n      a.lineTo(.25 * b, 1 * c);\n      a.lineTo(0, .5 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(.25, 0);\n      b.B = new K(.75, 1);\n      w.q(a);\n      return b;\n    },\n    DividedEvent: function DividedEvent(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) ? a = .2 : .15 > a && (a = .15);\n      var d = w.s(),\n          e = .2 * bd;\n      M(d, 0, .2 * c, !0);\n      N(d, 0, (.2 - e) * c, (.2 - e) * b, 0, .2 * b, 0);\n      d.lineTo(.8 * b, 0);\n      N(d, (.8 + e) * b, 0, 1 * b, (.2 - e) * c, 1 * b, .2 * c);\n      d.lineTo(1 * b, .8 * c);\n      N(d, 1 * b, (.8 + e) * c, (.8 + e) * b, 1 * c, .8 * b, 1 * c);\n      d.lineTo(.2 * b, 1 * c);\n      N(d, (.2 - e) * b, 1 * c, 0, (.8 + e) * c, 0, .8 * c);\n      d.lineTo(0, .2 * c);\n      M(d, 0, a * c, !1);\n      d.lineTo(1 * b, a * c);\n      d.fb(!1);\n      b = d.o;\n      b.A = new K(0, a);\n      b.B = new K(1, 1 - a);\n      w.q(d);\n      return b;\n    },\n    DividedProcess: function DividedProcess(a, b, c) {\n      a = a ? a.Jc : NaN;\n      if (isNaN(a) || .1 > a) a = .1;\n      var d = w.s();\n      M(d, 0, 0, !0);\n      d.lineTo(1 * b, 0);\n      d.lineTo(1 * b, 1 * c);\n      d.lineTo(0, 1 * c);\n      P(d);\n      M(d, 0, a * c, !1);\n      d.lineTo(1 * b, a * c);\n      d.fb(!1);\n      b = d.o;\n      b.A = new K(0, a);\n      b.B = Wb;\n      w.q(d);\n      return b;\n    },\n    Document: function Document(a, b, c) {\n      c /= .8;\n      a = w.s();\n      M(a, 0, .7 * c, !0);\n      a.lineTo(0, 0);\n      a.lineTo(1 * b, 0);\n      a.lineTo(1 * b, .7 * c);\n      N(a, .5 * b, .4 * c, .5 * b, 1 * c, 0, .7 * c);\n      P(a);\n      b = a.o;\n      b.A = zb;\n      b.B = new K(1, .6);\n      w.q(a);\n      return b;\n    },\n    ExternalOrganization: function ExternalOrganization(a, b, c) {\n      a = a ? a.Jc : NaN;\n      if (isNaN(a) || .2 > a) a = .2;\n      var d = w.s();\n      M(d, 0, 0, !0);\n      d.lineTo(1 * b, 0);\n      d.lineTo(1 * b, 1 * c);\n      d.lineTo(0, 1 * c);\n      P(d);\n      M(d, a * b, 0, !1);\n      d.lineTo(0, a * c);\n      d.moveTo(1 * b, a * c);\n      d.lineTo((1 - a) * b, 0);\n      d.moveTo(0, (1 - a) * c);\n      d.lineTo(a * b, 1 * c);\n      d.moveTo((1 - a) * b, 1 * c);\n      d.lineTo(1 * b, (1 - a) * c);\n      d.fb(!1);\n      b = d.o;\n      b.A = new K(a / 2, a / 2);\n      b.B = new K(1 - a / 2, 1 - a / 2);\n      w.q(d);\n      return b;\n    },\n    ExternalProcess: function ExternalProcess(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 0, !0);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo(.5 * b, 1 * c);\n      a.lineTo(0, .5 * c);\n      P(a);\n      M(a, .1 * b, .4 * c, !1);\n      a.lineTo(.1 * b, .6 * c);\n      a.moveTo(.9 * b, .6 * c);\n      a.lineTo(.9 * b, .4 * c);\n      a.moveTo(.6 * b, .1 * c);\n      a.lineTo(.4 * b, .1 * c);\n      a.moveTo(.4 * b, .9 * c);\n      a.lineTo(.6 * b, .9 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.25, .25);\n      b.B = new K(.75, .75);\n      w.q(a);\n      return b;\n    },\n    File: function File(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(.75 * b, 0);\n      a.lineTo(1 * b, .25 * c);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      P(a);\n      M(a, .75 * b, 0, !1);\n      a.lineTo(.75 * b, .25 * c);\n      a.lineTo(1 * b, .25 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(0, .25);\n      b.B = Wb;\n      w.q(a);\n      return b;\n    },\n    Interrupt: function Interrupt(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, .5 * c, !0);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, 0);\n      a.lineTo(1 * b, .5 * c);\n      M(a, 1 * b, .5 * c, !1);\n      a.lineTo(1 * b, 1 * c);\n      M(a, 1 * b, .5 * c, !1);\n      a.lineTo(1 * b, 0);\n      b = a.o;\n      b.A = new K(0, .25);\n      b.B = new K(.5, .75);\n      w.q(a);\n      return b;\n    },\n    InternalStorage: function InternalStorage(a, b, c) {\n      var d = a ? a.Jc : NaN;\n      a = a ? a.Qu : NaN;\n      isNaN(d) && (d = .1);\n      isNaN(a) && (a = .1);\n      var e = w.s();\n      M(e, 0, 0, !0);\n      e.lineTo(1 * b, 0);\n      e.lineTo(1 * b, 1 * c);\n      e.lineTo(0, 1 * c);\n      P(e);\n      M(e, d * b, 0, !1);\n      e.lineTo(d * b, 1 * c);\n      e.moveTo(0, a * c);\n      e.lineTo(1 * b, a * c);\n      e.fb(!1);\n      b = e.o;\n      b.A = new K(d, a);\n      b.B = Wb;\n      w.q(e);\n      return b;\n    },\n    Junction: function Junction(a, b, c) {\n      a = w.s();\n      var d = 1 / Math.SQRT2,\n          e = (1 - 1 / Math.SQRT2) / 2,\n          f = .5 * bd;\n      M(a, 1 * b, .5 * c, !0);\n      N(a, 1 * b, (.5 + f) * c, (.5 + f) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - f) * b, 1 * c, 0, (.5 + f) * c, 0, .5 * c);\n      N(a, 0, (.5 - f) * c, (.5 - f) * b, 0, .5 * b, 0);\n      N(a, (.5 + f) * b, 0, 1 * b, (.5 - f) * c, 1 * b, .5 * c);\n      M(a, (e + d) * b, (e + d) * c, !1);\n      a.lineTo(e * b, e * c);\n      a.moveTo(e * b, (e + d) * c);\n      a.lineTo((e + d) * b, e * c);\n      a.fb(!1);\n      b = a.o;\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    LinedDocument: function LinedDocument(a, b, c) {\n      c /= .8;\n      a = w.s();\n      M(a, 0, .7 * c, !0);\n      a.lineTo(0, 0);\n      a.lineTo(1 * b, 0);\n      a.lineTo(1 * b, .7 * c);\n      N(a, .5 * b, .4 * c, .5 * b, 1 * c, 0, .7 * c);\n      P(a);\n      M(a, .1 * b, 0, !1);\n      a.lineTo(.1 * b, .75 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.1, 0);\n      b.B = new K(1, .6);\n      w.q(a);\n      return b;\n    },\n    LoopLimit: function LoopLimit(a, b, c) {\n      a = w.s();\n      M(a, 0, 1 * c, !0);\n      a.lineTo(0, .25 * c);\n      a.lineTo(.25 * b, 0);\n      a.lineTo(.75 * b, 0);\n      a.lineTo(1 * b, .25 * c);\n      a.lineTo(1 * b, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(0, .25);\n      b.B = Wb;\n      w.q(a);\n      return b;\n    },\n    SequentialData: \"MagneticTape\",\n    MagneticTape: function MagneticTape(a, b, c) {\n      a = w.s();\n      var d = .5 * bd;\n      M(a, .5 * b, 1 * c, !0);\n      N(a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c);\n      N(a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      N(a, 1 * b, (.5 + d) * c, (.5 + d) * b, .9 * c, .6 * b, .9 * c);\n      a.lineTo(1 * b, .9 * c);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(.5 * b, 1 * c);\n      b = a.o;\n      b.A = new K(.15, .15);\n      b.B = new K(.85, .8);\n      w.q(a);\n      return b;\n    },\n    ManualInput: function ManualInput(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, 0, !0);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, .25 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(0, .25);\n      b.B = Wb;\n      w.q(a);\n      return b;\n    },\n    MessageFromUser: function MessageFromUser(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .7);\n      var d = w.s();\n      M(d, 0, 0, !0);\n      d.lineTo(1 * b, 0);\n      d.lineTo(a * b, .5 * c);\n      d.lineTo(1 * b, 1 * c);\n      d.lineTo(0, 1 * c);\n      P(d);\n      b = d.o;\n      b.A = zb;\n      b.B = new K(a, 1);\n      w.q(d);\n      return b;\n    },\n    MicroformProcessing: function MicroformProcessing(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .25);\n      var d = w.s();\n      M(d, 0, 0, !0);\n      d.lineTo(.5 * b, a * c);\n      d.lineTo(1 * b, 0);\n      d.lineTo(1 * b, 1 * c);\n      d.lineTo(.5 * b, (1 - a) * c);\n      d.lineTo(0, 1 * c);\n      P(d);\n      b = d.o;\n      b.A = new K(0, a);\n      b.B = new K(1, 1 - a);\n      w.q(d);\n      return b;\n    },\n    MicroformRecording: function MicroformRecording(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(.75 * b, .25 * c);\n      a.lineTo(1 * b, .15 * c);\n      a.lineTo(1 * b, .85 * c);\n      a.lineTo(.75 * b, .75 * c);\n      a.lineTo(0, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(0, .25);\n      b.B = new K(1, .75);\n      w.q(a);\n      return b;\n    },\n    MultiDocument: function MultiDocument(a, b, c) {\n      c /= .8;\n      a = w.s();\n      M(a, b, 0, !0);\n      a.lineTo(b, .5 * c);\n      N(a, .96 * b, .47 * c, .93 * b, .45 * c, .9 * b, .44 * c);\n      a.lineTo(.9 * b, .6 * c);\n      N(a, .86 * b, .57 * c, .83 * b, .55 * c, .8 * b, .54 * c);\n      a.lineTo(.8 * b, .7 * c);\n      N(a, .4 * b, .4 * c, .4 * b, 1 * c, 0, .7 * c);\n      a.lineTo(0, .2 * c);\n      a.lineTo(.1 * b, .2 * c);\n      a.lineTo(.1 * b, .1 * c);\n      a.lineTo(.2 * b, .1 * c);\n      a.lineTo(.2 * b, 0);\n      P(a);\n      M(a, .1 * b, .2 * c, !1);\n      a.lineTo(.8 * b, .2 * c);\n      a.lineTo(.8 * b, .54 * c);\n      a.moveTo(.2 * b, .1 * c);\n      a.lineTo(.9 * b, .1 * c);\n      a.lineTo(.9 * b, .44 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(0, .25);\n      b.B = new K(.8, .77);\n      w.q(a);\n      return b;\n    },\n    MultiProcess: function MultiProcess(a, b, c) {\n      a = w.s();\n      M(a, .1 * b, .1 * c, !0);\n      a.lineTo(.2 * b, .1 * c);\n      a.lineTo(.2 * b, 0);\n      a.lineTo(1 * b, 0);\n      a.lineTo(1 * b, .8 * c);\n      a.lineTo(.9 * b, .8 * c);\n      a.lineTo(.9 * b, .9 * c);\n      a.lineTo(.8 * b, .9 * c);\n      a.lineTo(.8 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, .2 * c);\n      a.lineTo(.1 * b, .2 * c);\n      P(a);\n      M(a, .2 * b, .1 * c, !1);\n      a.lineTo(.9 * b, .1 * c);\n      a.lineTo(.9 * b, .8 * c);\n      a.moveTo(.1 * b, .2 * c);\n      a.lineTo(.8 * b, .2 * c);\n      a.lineTo(.8 * b, .9 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(0, .2);\n      b.B = new K(.8, 1);\n      w.q(a);\n      return b;\n    },\n    OfflineStorage: function OfflineStorage(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .1);\n      var d = 1 - a,\n          e = w.s();\n      M(e, 0, 0, !0);\n      e.lineTo(1 * b, 0);\n      e.lineTo(.5 * b, 1 * c);\n      P(e);\n      M(e, .5 * a * b, a * c, !1);\n      e.lineTo((1 - .5 * a) * b, a * c);\n      e.fb(!1);\n      b = e.o;\n      b.A = new K(d / 4 + .5 * a, a);\n      b.B = new K(3 * d / 4 + .5 * a, a + .5 * d);\n      w.q(e);\n      return b;\n    },\n    OffPageConnector: function OffPageConnector(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(.75 * b, 0);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo(.75 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = zb;\n      b.B = new K(.75, 1);\n      w.q(a);\n      return b;\n    },\n    Or: function Or(a, b, c) {\n      a = w.s();\n      var d = .5 * bd;\n      M(a, 1 * b, .5 * c, !0);\n      N(a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c);\n      N(a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      M(a, 1 * b, .5 * c, !1);\n      a.lineTo(0, .5 * c);\n      a.moveTo(.5 * b, 1 * c);\n      a.lineTo(.5 * b, 0);\n      a.fb(!1);\n      b = a.o;\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    PaperTape: function PaperTape(a, b, c) {\n      c /= .8;\n      a = w.s();\n      M(a, 0, .7 * c, !0);\n      a.lineTo(0, .3 * c);\n      N(a, .5 * b, .6 * c, .5 * b, 0, 1 * b, .3 * c);\n      a.lineTo(1 * b, .7 * c);\n      N(a, .5 * b, .4 * c, .5 * b, 1 * c, 0, .7 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(0, .49);\n      b.B = new K(1, .75);\n      w.q(a);\n      return b;\n    },\n    PrimitiveFromCall: function PrimitiveFromCall(a, b, c) {\n      var d = a ? a.Jc : NaN;\n      a = a ? a.Qu : NaN;\n      isNaN(d) && (d = .1);\n      isNaN(a) && (a = .3);\n      var e = w.s();\n      M(e, 0, 0, !0);\n      e.lineTo(1 * b, 0);\n      e.lineTo((1 - a) * b, .5 * c);\n      e.lineTo(1 * b, 1 * c);\n      e.lineTo(0, 1 * c);\n      P(e);\n      b = e.o;\n      b.A = new K(d, 0);\n      b.B = new K(1 - a, 1);\n      w.q(e);\n      return b;\n    },\n    PrimitiveToCall: function PrimitiveToCall(a, b, c) {\n      var d = a ? a.Jc : NaN;\n      a = a ? a.Qu : NaN;\n      isNaN(d) && (d = .1);\n      isNaN(a) && (a = .3);\n      var e = w.s();\n      M(e, 0, 0, !0);\n      e.lineTo((1 - a) * b, 0);\n      e.lineTo(1 * b, .5 * c);\n      e.lineTo((1 - a) * b, 1 * c);\n      e.lineTo(0, 1 * c);\n      P(e);\n      b = e.o;\n      b.A = new K(d, 0);\n      b.B = new K(1 - a, 1);\n      w.q(e);\n      return b;\n    },\n    Subroutine: \"Procedure\",\n    Procedure: function Procedure(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .1);\n      var d = w.s();\n      M(d, 0, 0, !0);\n      d.lineTo(1 * b, 0);\n      d.lineTo(1 * b, 1 * c);\n      d.lineTo(0, 1 * c);\n      P(d);\n      M(d, (1 - a) * b, 0, !1);\n      d.lineTo((1 - a) * b, 1 * c);\n      d.moveTo(a * b, 0);\n      d.lineTo(a * b, 1 * c);\n      d.fb(!1);\n      b = d.o;\n      b.A = new K(a, 0);\n      b.B = new K(1 - a, 1);\n      w.q(d);\n      return b;\n    },\n    Process: function Process(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .1);\n      var d = w.s();\n      M(d, 0, 0, !0);\n      d.lineTo(1 * b, 0);\n      d.lineTo(1 * b, 1 * c);\n      d.lineTo(0, 1 * c);\n      P(d);\n      M(d, a * b, 0, !1);\n      d.lineTo(a * b, 1 * c);\n      d.fb(!1);\n      b = d.o;\n      b.A = new K(a, 0);\n      b.B = Wb;\n      w.q(d);\n      return b;\n    },\n    Sort: function Sort(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 0, !0);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo(.5 * b, 1 * c);\n      a.lineTo(0, .5 * c);\n      P(a);\n      M(a, 0, .5 * c, !1);\n      a.lineTo(1 * b, .5 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.25, .25);\n      b.B = new K(.75, .5);\n      w.q(a);\n      return b;\n    },\n    Start: function Start(a, b, c) {\n      a = w.s();\n      M(a, .25 * b, 0, !0);\n      M(a, .25 * b, 0, !0);\n      a.arcTo(270, 180, .75 * b, .5 * c, .25 * b, .5 * c);\n      a.arcTo(90, 180, .25 * b, .5 * c, .25 * b, .5 * c);\n      M(a, .25 * b, 0, !1);\n      a.lineTo(.25 * b, 1 * c);\n      a.moveTo(.75 * b, 0);\n      a.lineTo(.75 * b, 1 * c);\n      a.fb(!1);\n      b = a.o;\n      b.A = new K(.25, 0);\n      b.B = new K(.75, 1);\n      w.q(a);\n      return b;\n    },\n    Terminator: function Terminator(a, b, c) {\n      a = w.s();\n      M(a, .25 * b, 0, !0);\n      a.arcTo(270, 180, .75 * b, .5 * c, .25 * b, .5 * c);\n      a.arcTo(90, 180, .25 * b, .5 * c, .25 * b, .5 * c);\n      b = a.o;\n      b.A = new K(.23, 0);\n      b.B = new K(.77, 1);\n      w.q(a);\n      return b;\n    },\n    TransmittalTape: function TransmittalTape(a, b, c) {\n      a = a ? a.Jc : NaN;\n      isNaN(a) && (a = .1);\n      var d = w.s();\n      M(d, 0, 0, !0);\n      d.lineTo(1 * b, 0);\n      d.lineTo(1 * b, 1 * c);\n      d.lineTo(.75 * b, (1 - a) * c);\n      d.lineTo(0, (1 - a) * c);\n      P(d);\n      b = d.o;\n      b.A = zb;\n      b.B = new K(1, 1 - a);\n      w.q(d);\n      return b;\n    },\n    AndGate: function AndGate(a, b, c) {\n      a = w.s();\n      var d = .5 * bd;\n      M(a, 0, 0, !0);\n      a.lineTo(.5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      N(a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = zb;\n      b.B = new K(.55, 1);\n      w.q(a);\n      return b;\n    },\n    Buffer: function Buffer(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo(0, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(0, .25);\n      b.B = new K(.5, .75);\n      w.q(a);\n      return b;\n    },\n    Clock: function Clock(a, b, c) {\n      a = w.s();\n      var d = .5 * bd;\n      M(a, 1 * b, .5 * c, !0);\n      N(a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c);\n      N(a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      M(a, 1 * b, .5 * c, !1);\n      a.lineTo(1 * b, .5 * c);\n      M(a, .8 * b, .75 * c, !1);\n      a.lineTo(.8 * b, .25 * c);\n      a.lineTo(.6 * b, .25 * c);\n      a.lineTo(.6 * b, .75 * c);\n      a.lineTo(.4 * b, .75 * c);\n      a.lineTo(.4 * b, .25 * c);\n      a.lineTo(.2 * b, .25 * c);\n      a.lineTo(.2 * b, .75 * c);\n      a.fb(!1);\n      b = a.o;\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    Ground: function Ground(a, b, c) {\n      a = w.s();\n      M(a, .5 * b, 0, !1);\n      a.lineTo(.5 * b, .4 * c);\n      a.moveTo(.2 * b, .6 * c);\n      a.lineTo(.8 * b, .6 * c);\n      a.moveTo(.3 * b, .8 * c);\n      a.lineTo(.7 * b, .8 * c);\n      a.moveTo(.4 * b, 1 * c);\n      a.lineTo(.6 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Inverter: function Inverter(a, b, c) {\n      a = w.s();\n      var d = .1 * bd;\n      M(a, .8 * b, .5 * c, !0);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, 0);\n      a.lineTo(.8 * b, .5 * c);\n      M(a, 1 * b, .5 * c, !0);\n      N(a, 1 * b, (.5 + d) * c, (.9 + d) * b, .6 * c, .9 * b, .6 * c);\n      N(a, (.9 - d) * b, .6 * c, .8 * b, (.5 + d) * c, .8 * b, .5 * c);\n      N(a, .8 * b, (.5 - d) * c, (.9 - d) * b, .4 * c, .9 * b, .4 * c);\n      N(a, (.9 + d) * b, .4 * c, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      b = a.o;\n      b.A = new K(0, .25);\n      b.B = new K(.4, .75);\n      w.q(a);\n      return b;\n    },\n    NandGate: function NandGate(a, b, c) {\n      a = w.s();\n      var d = .5 * bd,\n          e = .4 * bd,\n          f = .1 * bd;\n      M(a, .8 * b, .5 * c, !0);\n      N(a, .8 * b, (.5 + e) * c, (.4 + d) * b, 1 * c, .4 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, 0);\n      a.lineTo(.4 * b, 0);\n      N(a, (.4 + d) * b, 0, .8 * b, (.5 - e) * c, .8 * b, .5 * c);\n      M(a, 1 * b, .5 * c, !0);\n      N(a, 1 * b, (.5 + f) * c, (.9 + f) * b, .6 * c, .9 * b, .6 * c);\n      N(a, (.9 - f) * b, .6 * c, .8 * b, (.5 + f) * c, .8 * b, .5 * c);\n      N(a, .8 * b, (.5 - f) * c, (.9 - f) * b, .4 * c, .9 * b, .4 * c);\n      N(a, (.9 + f) * b, .4 * c, 1 * b, (.5 - f) * c, 1 * b, .5 * c);\n      b = a.o;\n      b.A = new K(0, .05);\n      b.B = new K(.55, .95);\n      w.q(a);\n      return b;\n    },\n    NorGate: function NorGate(a, b, c) {\n      a = w.s();\n      var d = .5,\n          e = bd * d,\n          f = 0,\n          h = .5;\n      M(a, .8 * b, .5 * c, !0);\n      N(a, .7 * b, (h + e) * c, (f + e) * b, (h + d) * c, 0, 1 * c);\n      N(a, .25 * b, .75 * c, .25 * b, .25 * c, 0, 0);\n      N(a, (f + e) * b, (h - d) * c, .7 * b, (h - e) * c, .8 * b, .5 * c);\n      d = .1;\n      e = .1 * bd;\n      f = .9;\n      h = .5;\n      M(a, (f - d) * b, h * c, !0);\n      N(a, (f - d) * b, (h - e) * c, (f - e) * b, (h - d) * c, f * b, (h - d) * c);\n      N(a, (f + e) * b, (h - d) * c, (f + d) * b, (h - e) * c, (f + d) * b, h * c);\n      N(a, (f + d) * b, (h + e) * c, (f + e) * b, (h + d) * c, f * b, (h + d) * c);\n      N(a, (f - e) * b, (h + d) * c, (f - d) * b, (h + e) * c, (f - d) * b, h * c);\n      b = a.o;\n      b.A = new K(.2, .25);\n      b.B = new K(.6, .75);\n      w.q(a);\n      return b;\n    },\n    OrGate: function OrGate(a, b, c) {\n      a = w.s();\n      var d = .5 * bd;\n      M(a, 0, 0, !0);\n      N(a, (0 + d + d) * b, 0 * c, .8 * b, (.5 - d) * c, 1 * b, .5 * c);\n      N(a, .8 * b, (.5 + d) * c, (0 + d + d) * b, 1 * c, 0, 1 * c);\n      N(a, .25 * b, .75 * c, .25 * b, .25 * c, 0, 0);\n      P(a);\n      b = a.o;\n      b.A = new K(.2, .25);\n      b.B = new K(.75, .75);\n      w.q(a);\n      return b;\n    },\n    XnorGate: function XnorGate(a, b, c) {\n      a = w.s();\n      var d = .5,\n          e = bd * d,\n          f = .2,\n          h = .5;\n      M(a, .1 * b, 0, !1);\n      N(a, .35 * b, .25 * c, .35 * b, .75 * c, .1 * b, 1 * c);\n      M(a, .8 * b, .5 * c, !0);\n      N(a, .7 * b, (h + e) * c, (f + e) * b, (h + d) * c, .2 * b, 1 * c);\n      N(a, .45 * b, .75 * c, .45 * b, .25 * c, .2 * b, 0);\n      N(a, (f + e) * b, (h - d) * c, .7 * b, (h - e) * c, .8 * b, .5 * c);\n      d = .1;\n      e = .1 * bd;\n      f = .9;\n      h = .5;\n      M(a, (f - d) * b, h * c, !0);\n      N(a, (f - d) * b, (h - e) * c, (f - e) * b, (h - d) * c, f * b, (h - d) * c);\n      N(a, (f + e) * b, (h - d) * c, (f + d) * b, (h - e) * c, (f + d) * b, h * c);\n      N(a, (f + d) * b, (h + e) * c, (f + e) * b, (h + d) * c, f * b, (h + d) * c);\n      N(a, (f - e) * b, (h + d) * c, (f - d) * b, (h + e) * c, (f - d) * b, h * c);\n      b = a.o;\n      b.A = new K(.4, .25);\n      b.B = new K(.65, .75);\n      w.q(a);\n      return b;\n    },\n    XorGate: function XorGate(a, b, c) {\n      a = w.s();\n      var d = .5 * bd;\n      M(a, .1 * b, 0, !1);\n      N(a, .35 * b, .25 * c, .35 * b, .75 * c, .1 * b, 1 * c);\n      M(a, .2 * b, 0, !0);\n      N(a, (.2 + d) * b, 0 * c, .9 * b, (.5 - d) * c, 1 * b, .5 * c);\n      N(a, .9 * b, (.5 + d) * c, (.2 + d) * b, 1 * c, .2 * b, 1 * c);\n      N(a, .45 * b, .75 * c, .45 * b, .25 * c, .2 * b, 0);\n      P(a);\n      b = a.o;\n      b.A = new K(.4, .25);\n      b.B = new K(.8, .75);\n      w.q(a);\n      return b;\n    },\n    Capacitor: function Capacitor(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      a.lineTo(0, 1 * c);\n      a.moveTo(1 * b, 0);\n      a.lineTo(1 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Resistor: function Resistor(a, b, c) {\n      a = w.s();\n      M(a, 0, .5 * c, !1);\n      a.lineTo(.1 * b, 0);\n      a.lineTo(.2 * b, 1 * c);\n      a.lineTo(.3 * b, 0);\n      a.lineTo(.4 * b, 1 * c);\n      a.lineTo(.5 * b, 0);\n      a.lineTo(.6 * b, 1 * c);\n      a.lineTo(.7 * b, .5 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Inductor: function Inductor(a, b, c) {\n      a = w.s();\n      var d = .1 * bd,\n          e = .1;\n      M(a, (e - .5 * d) * b, c, !1);\n      N(a, (e - d) * b, c, (e - .1) * b, 0, (e + .1) * b, 0);\n      e = .3;\n      N(a, (e + .1) * b, 0, (e + d) * b, c, e * b, c);\n      N(a, (e - d) * b, c, (e - .1) * b, 0, (e + .1) * b, 0);\n      e = .5;\n      N(a, (e + .1) * b, 0, (e + d) * b, c, e * b, c);\n      N(a, (e - d) * b, c, (e - .1) * b, 0, (e + .1) * b, 0);\n      e = .7;\n      N(a, (e + .1) * b, 0, (e + d) * b, c, e * b, c);\n      N(a, (e - d) * b, c, (e - .1) * b, 0, (e + .1) * b, 0);\n      e = .9;\n      N(a, (e + .1) * b, 0, (e + d) * b, c, (e + .5 * d) * b, c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    ACvoltageSource: function ACvoltageSource(a, b, c) {\n      a = w.s();\n      var d = .5 * bd;\n      M(a, 0 * b, .5 * c, !1);\n      N(a, 0 * b, (.5 - d) * c, (.5 - d) * b, 0 * c, .5 * b, 0 * c);\n      N(a, (.5 + d) * b, 0 * c, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      N(a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0 * b, (.5 + d) * c, 0 * b, .5 * c);\n      a.moveTo(.1 * b, .5 * c);\n      N(a, .5 * b, 0 * c, .5 * b, 1 * c, .9 * b, .5 * c);\n      b = a.o;\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    DCvoltageSource: function DCvoltageSource(a, b, c) {\n      a = w.s();\n      M(a, 0, .75 * c, !1);\n      a.lineTo(0, .25 * c);\n      a.moveTo(1 * b, 0);\n      a.lineTo(1 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Diode: function Diode(a, b, c) {\n      a = w.s();\n      M(a, 1 * b, 0, !1);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, 0);\n      a.lineTo(1 * b, .5 * c);\n      a.lineTo(1 * b, 1 * c);\n      b = a.o;\n      b.A = new K(0, .25);\n      b.B = new K(.5, .75);\n      w.q(a);\n      return b;\n    },\n    Wifi: function Wifi(a, b, c) {\n      var d = b,\n          e = c;\n      b *= .38;\n      c *= .6;\n      a = w.s();\n      var f = .8 * bd,\n          h = .8,\n          k = 0,\n          l = .5,\n          d = (d - b) / 2,\n          e = (e - c) / 2;\n      M(a, k * b + d, (l + h) * c + e, !0);\n      N(a, (k - f) * b + d, (l + h) * c + e, (k - h) * b + d, (l + f) * c + e, (k - h) * b + d, l * c + e);\n      N(a, (k - h) * b + d, (l - f) * c + e, (k - f) * b + d, (l - h) * c + e, k * b + d, (l - h) * c + e);\n      N(a, k * b + d, (l - h) * c + e, (k - h + .5 * f) * b + d, (l - f) * c + e, (k - h + .5 * f) * b + d, l * c + e);\n      N(a, (k - h + .5 * f) * b + d, (l + f) * c + e, k * b + d, (l + h) * c + e, k * b + d, (l + h) * c + e);\n      P(a);\n      f = .4 * bd;\n      h = .4;\n      k = .2;\n      l = .5;\n      M(a, k * b + d, (l + h) * c + e, !0);\n      N(a, (k - f) * b + d, (l + h) * c + e, (k - h) * b + d, (l + f) * c + e, (k - h) * b + d, l * c + e);\n      N(a, (k - h) * b + d, (l - f) * c + e, (k - f) * b + d, (l - h) * c + e, k * b + d, (l - h) * c + e);\n      N(a, k * b + d, (l - h) * c + e, (k - h + .5 * f) * b + d, (l - f) * c + e, (k - h + .5 * f) * b + d, l * c + e);\n      N(a, (k - h + .5 * f) * b + d, (l + f) * c + e, k * b + d, (l + h) * c + e, k * b + d, (l + h) * c + e);\n      P(a);\n      f = .2 * bd;\n      h = .2;\n      l = k = .5;\n      M(a, (k - h) * b + d, l * c + e, !0);\n      N(a, (k - h) * b + d, (l - f) * c + e, (k - f) * b + d, (l - h) * c + e, k * b + d, (l - h) * c + e);\n      N(a, (k + f) * b + d, (l - h) * c + e, (k + h) * b + d, (l - f) * c + e, (k + h) * b + d, l * c + e);\n      N(a, (k + h) * b + d, (l + f) * c + e, (k + f) * b + d, (l + h) * c + e, k * b + d, (l + h) * c + e);\n      N(a, (k - f) * b + d, (l + h) * c + e, (k - h) * b + d, (l + f) * c + e, (k - h) * b + d, l * c + e);\n      f = .4 * bd;\n      h = .4;\n      k = .8;\n      l = .5;\n      M(a, k * b + d, (l - h) * c + e, !0);\n      N(a, (k + f) * b + d, (l - h) * c + e, (k + h) * b + d, (l - f) * c + e, (k + h) * b + d, l * c + e);\n      N(a, (k + h) * b + d, (l + f) * c + e, (k + f) * b + d, (l + h) * c + e, k * b + d, (l + h) * c + e);\n      N(a, k * b + d, (l + h) * c + e, (k + h - .5 * f) * b + d, (l + f) * c + e, (k + h - .5 * f) * b + d, l * c + e);\n      N(a, (k + h - .5 * f) * b + d, (l - f) * c + e, k * b + d, (l - h) * c + e, k * b + d, (l - h) * c + e);\n      P(a);\n      f = .8 * bd;\n      h = .8;\n      k = 1;\n      l = .5;\n      M(a, k * b + d, (l - h) * c + e, !0);\n      N(a, (k + f) * b + d, (l - h) * c + e, (k + h) * b + d, (l - f) * c + e, (k + h) * b + d, l * c + e);\n      N(a, (k + h) * b + d, (l + f) * c + e, (k + f) * b + d, (l + h) * c + e, k * b + d, (l + h) * c + e);\n      N(a, k * b + d, (l + h) * c + e, (k + h - .5 * f) * b + d, (l + f) * c + e, (k + h - .5 * f) * b + d, l * c + e);\n      N(a, (k + h - .5 * f) * b + d, (l - f) * c + e, k * b + d, (l - h) * c + e, k * b + d, (l - h) * c + e);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Email: function Email(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !0);\n      a.lineTo(1 * b, 0);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, 0);\n      P(a);\n      M(a, 0, 0, !1);\n      a.lineTo(.5 * b, .6 * c);\n      a.lineTo(1 * b, 0);\n      a.moveTo(0, 1 * c);\n      a.lineTo(.45 * b, .54 * c);\n      a.moveTo(1 * b, 1 * c);\n      a.lineTo(.55 * b, .54 * c);\n      a.fb(!1);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Ethernet: function Ethernet(a, b, c) {\n      a = w.s();\n      M(a, .35 * b, 0, !0);\n      a.lineTo(.65 * b, 0);\n      a.lineTo(.65 * b, .4 * c);\n      a.lineTo(.35 * b, .4 * c);\n      a.lineTo(.35 * b, 0);\n      P(a);\n      M(a, .1 * b, 1 * c, !0, !0);\n      a.lineTo(.4 * b, 1 * c);\n      a.lineTo(.4 * b, .6 * c);\n      a.lineTo(.1 * b, .6 * c);\n      a.lineTo(.1 * b, 1 * c);\n      P(a);\n      M(a, .6 * b, 1 * c, !0, !0);\n      a.lineTo(.9 * b, 1 * c);\n      a.lineTo(.9 * b, .6 * c);\n      a.lineTo(.6 * b, .6 * c);\n      a.lineTo(.6 * b, 1 * c);\n      P(a);\n      M(a, 0, .5 * c, !1);\n      a.lineTo(1 * b, .5 * c);\n      a.moveTo(.5 * b, .5 * c);\n      a.lineTo(.5 * b, .4 * c);\n      a.moveTo(.75 * b, .5 * c);\n      a.lineTo(.75 * b, .6 * c);\n      a.moveTo(.25 * b, .5 * c);\n      a.lineTo(.25 * b, .6 * c);\n      a.fb(!1);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    Power: function Power(a, b, c) {\n      a = w.s();\n      var d = .4 * bd,\n          e = .4,\n          f = w.K(),\n          h = w.K(),\n          k = w.K(),\n          l = w.K();\n      Xd(.5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .5, f, f, h, k, l);\n      var m = w.wb(h.x, h.y);\n      M(a, h.x * b, h.y * c, !0);\n      N(a, k.x * b, k.y * c, l.x * b, l.y * c, (.5 + e) * b, .5 * c);\n      N(a, (.5 + e) * b, (.5 + d) * c, (.5 + d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c);\n      N(a, (.5 - d) * b, (.5 + e) * c, (.5 - e) * b, (.5 + d) * c, (.5 - e) * b, .5 * c);\n      Xd(.5 - e, .5, .5 - e, .5 - d, .5 - d, .5 - e, .5, .5 - e, .5, k, l, h, f, f);\n      N(a, k.x * b, k.y * c, l.x * b, l.y * c, h.x * b, h.y * c);\n      d = .3 * bd;\n      e = .3;\n      Xd(.5 - e, .5, .5 - e, .5 - d, .5 - d, .5 - e, .5, .5 - e, .5, k, l, h, f, f);\n      a.lineTo(h.x * b, h.y * c);\n      N(a, l.x * b, l.y * c, k.x * b, k.y * c, (.5 - e) * b, .5 * c);\n      N(a, (.5 - e) * b, (.5 + d) * c, (.5 - d) * b, (.5 + e) * c, .5 * b, (.5 + e) * c);\n      N(a, (.5 + d) * b, (.5 + e) * c, (.5 + e) * b, (.5 + d) * c, (.5 + e) * b, .5 * c);\n      Xd(.5, .5 - e, .5 + d, .5 - e, .5 + e, .5 - d, .5 + e, .5, .5, f, f, h, k, l);\n      N(a, l.x * b, l.y * c, k.x * b, k.y * c, h.x * b, h.y * c);\n      P(a);\n      M(a, .45 * b, 0, !0);\n      a.lineTo(.45 * b, .5 * c);\n      a.lineTo(.55 * b, .5 * c);\n      a.lineTo(.55 * b, 0);\n      P(a);\n      w.v(f);\n      w.v(h);\n      w.v(k);\n      w.v(l);\n      w.v(m);\n      b = a.o;\n      b.A = new K(.25, .55);\n      b.B = new K(.75, .8);\n      w.q(a);\n      return b;\n    },\n    Fallout: function Fallout(a, b, c) {\n      a = w.s();\n      var d = .5 * bd;\n      M(a, 0 * b, .5 * c, !0);\n      N(a, 0 * b, (.5 - d) * c, (.5 - d) * b, 0 * c, .5 * b, 0 * c);\n      N(a, (.5 + d) * b, 0 * c, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      N(a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0 * b, (.5 + d) * c, 0 * b, .5 * c);\n      var e = d = 0;\n      M(a, (.3 + d) * b, (.8 + e) * c, !0, !0);\n      a.lineTo((.5 + d) * b, (.5 + e) * c);\n      a.lineTo((.1 + d) * b, (.5 + e) * c);\n      a.lineTo((.3 + d) * b, (.8 + e) * c);\n      d = .4;\n      e = 0;\n      P(a);\n      M(a, (.3 + d) * b, (.8 + e) * c, !0, !0);\n      a.lineTo((.5 + d) * b, (.5 + e) * c);\n      a.lineTo((.1 + d) * b, (.5 + e) * c);\n      a.lineTo((.3 + d) * b, (.8 + e) * c);\n      d = .2;\n      e = -.3;\n      P(a);\n      M(a, (.3 + d) * b, (.8 + e) * c, !0, !0);\n      a.lineTo((.5 + d) * b, (.5 + e) * c);\n      a.lineTo((.1 + d) * b, (.5 + e) * c);\n      a.lineTo((.3 + d) * b, (.8 + e) * c);\n      P(a);\n      b = a.o;\n      b.be = Sj;\n      w.q(a);\n      return b;\n    },\n    IrritationHazard: function IrritationHazard(a, b, c) {\n      a = w.s();\n      M(a, .2 * b, 0 * c, !0);\n      a.lineTo(.5 * b, .3 * c);\n      a.lineTo(.8 * b, 0 * c);\n      a.lineTo(1 * b, .2 * c);\n      a.lineTo(.7 * b, .5 * c);\n      a.lineTo(1 * b, .8 * c);\n      a.lineTo(.8 * b, 1 * c);\n      a.lineTo(.5 * b, .7 * c);\n      a.lineTo(.2 * b, 1 * c);\n      a.lineTo(0 * b, .8 * c);\n      a.lineTo(.3 * b, .5 * c);\n      a.lineTo(0 * b, .2 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(.3, .3);\n      b.B = new K(.7, .7);\n      w.q(a);\n      return b;\n    },\n    ElectricalHazard: function ElectricalHazard(a, b, c) {\n      a = w.s();\n      M(a, .37 * b, 0 * c, !0);\n      a.lineTo(.5 * b, .11 * c);\n      a.lineTo(.77 * b, .04 * c);\n      a.lineTo(.33 * b, .49 * c);\n      a.lineTo(1 * b, .37 * c);\n      a.lineTo(.63 * b, .86 * c);\n      a.lineTo(.77 * b, .91 * c);\n      a.lineTo(.34 * b, 1 * c);\n      a.lineTo(.34 * b, .78 * c);\n      a.lineTo(.44 * b, .8 * c);\n      a.lineTo(.65 * b, .56 * c);\n      a.lineTo(0 * b, .68 * c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    FireHazard: function FireHazard(a, b, c) {\n      a = w.s();\n      M(a, .1 * b, 1 * c, !0);\n      N(a, -.25 * b, .63 * c, .45 * b, .44 * c, .29 * b, 0 * c);\n      N(a, .48 * b, .17 * c, .54 * b, .35 * c, .51 * b, .42 * c);\n      N(a, .59 * b, .29 * c, .58 * b, .28 * c, .59 * b, .18 * c);\n      N(a, .8 * b, .34 * c, .88 * b, .43 * c, .75 * b, .6 * c);\n      N(a, .87 * b, .48 * c, .88 * b, .43 * c, .88 * b, .31 * c);\n      N(a, 1.17 * b, .76 * c, .82 * b, .8 * c, .9 * b, 1 * c);\n      P(a);\n      b = a.o;\n      b.A = new K(.05, .645);\n      b.B = new K(.884, .908);\n      w.q(a);\n      return b;\n    },\n    BpmnActivityLoop: function BpmnActivityLoop(a, b, c) {\n      a = w.s();\n      var d = 4 * (Math.SQRT2 - 1) / 3 * .5;\n      M(a, .65 * b, 1 * c, !1);\n      N(a, (1 - d + 0) * b, 1 * c, 1 * b, (.5 + d + 0) * c, 1 * b, .5 * c);\n      N(a, 1 * b, (.5 - d + 0) * c, (.5 + d + 0) * b, 0 * c, .5 * b, 0 * c);\n      N(a, (.5 - d + 0) * b, 0 * c, 0 * b, (.5 - d + 0) * c, 0 * b, .5 * c);\n      N(a, 0 * b, (.5 + d + 0) * c, (.5 - d + 0) * b, 1 * c, .35 * b, .98 * c);\n      a.moveTo(.25 * b, .8 * c);\n      a.lineTo(.35 * b, 1 * c);\n      a.lineTo(.1 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnActivityParallel: function BpmnActivityParallel(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      a.lineTo(0, 1 * c);\n      a.moveTo(.5 * b, 0);\n      a.lineTo(.5 * b, 1 * c);\n      a.moveTo(1 * b, 0);\n      a.lineTo(1 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnActivitySequential: function BpmnActivitySequential(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      a.lineTo(1 * b, 0);\n      a.moveTo(0, .5 * c);\n      a.lineTo(1 * b, .5 * c);\n      a.moveTo(0, 1 * c);\n      a.lineTo(1 * b, 1 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnActivityAdHoc: function BpmnActivityAdHoc(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      M(a, 1 * b, 1 * c, !1);\n      M(a, 0, .5 * c, !1);\n      N(a, .2 * b, .35 * c, .3 * b, .35 * c, .5 * b, .5 * c);\n      N(a, .7 * b, .65 * c, .8 * b, .65 * c, 1 * b, .5 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnActivityCompensation: function BpmnActivityCompensation(a, b, c) {\n      a = w.s();\n      M(a, 0, .5 * c, !0);\n      a.lineTo(.5 * b, 0);\n      a.lineTo(.5 * b, .5 * c);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(1 * b, 0);\n      a.lineTo(.5 * b, .5 * c);\n      a.lineTo(.5 * b, 1 * c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnTaskMessage: function BpmnTaskMessage(a, b, c) {\n      a = w.s();\n      M(a, 0, .2 * c, !0);\n      a.lineTo(1 * b, .2 * c);\n      a.lineTo(1 * b, .8 * c);\n      a.lineTo(0, .8 * c);\n      a.lineTo(0, .8 * c);\n      P(a);\n      M(a, 0, .2 * c, !1);\n      a.lineTo(.5 * b, .5 * c);\n      a.lineTo(1 * b, .2 * c);\n      a.fb(!1);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnTaskScript: function BpmnTaskScript(a, b, c) {\n      a = w.s();\n      M(a, .7 * b, 1 * c, !0);\n      a.lineTo(.3 * b, 1 * c);\n      N(a, .6 * b, .5 * c, 0, .5 * c, .3 * b, 0);\n      a.lineTo(.7 * b, 0);\n      N(a, .4 * b, .5 * c, 1 * b, .5 * c, .7 * b, 1 * c);\n      P(a);\n      M(a, .45 * b, .73 * c, !1);\n      a.lineTo(.7 * b, .73 * c);\n      a.moveTo(.38 * b, .5 * c);\n      a.lineTo(.63 * b, .5 * c);\n      a.moveTo(.31 * b, .27 * c);\n      a.lineTo(.56 * b, .27 * c);\n      a.fb(!1);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnTaskUser: function BpmnTaskUser(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      M(a, .335 * b, (1 - .555) * c, !0);\n      a.lineTo(.335 * b, .595 * c);\n      a.lineTo(.665 * b, .595 * c);\n      a.lineTo(.665 * b, (1 - .555) * c);\n      N(a, .88 * b, .46 * c, .98 * b, .54 * c, 1 * b, .68 * c);\n      a.lineTo(1 * b, 1 * c);\n      a.lineTo(0, 1 * c);\n      a.lineTo(0, .68 * c);\n      N(a, .02 * b, .54 * c, .12 * b, .46 * c, .335 * b, (1 - .555) * c);\n      a.lineTo(.365 * b, .405 * c);\n      var d = .5 - .285,\n          e = Math.PI / 4,\n          f = 4 * (1 - Math.cos(e)) / (3 * Math.sin(e)),\n          e = f * d,\n          f = f * d;\n      N(a, (.5 - (e + d) / 2) * b, (d + (d + f) / 2) * c, (.5 - d) * b, (d + f) * c, (.5 - d) * b, d * c);\n      N(a, (.5 - d) * b, (d - f) * c, (.5 - e) * b, (d - d) * c, .5 * b, (d - d) * c);\n      N(a, (.5 + e) * b, (d - d) * c, (.5 + d) * b, (d - f) * c, (.5 + d) * b, d * c);\n      N(a, (.5 + d) * b, (d + f) * c, (.5 + (e + d) / 2) * b, (d + (d + f) / 2) * c, .635 * b, .405 * c);\n      a.lineTo(.635 * b, .405 * c);\n      a.lineTo(.665 * b, (1 - .555) * c);\n      a.lineTo(.665 * b, .595 * c);\n      a.lineTo(.335 * b, .595 * c);\n      M(a, .2 * b, 1 * c, !1);\n      a.lineTo(.2 * b, .8 * c);\n      M(a, .8 * b, 1 * c, !1);\n      a.lineTo(.8 * b, .8 * c);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnEventConditional: function BpmnEventConditional(a, b, c) {\n      a = w.s();\n      M(a, .1 * b, 0, !0);\n      a.lineTo(.9 * b, 0);\n      a.lineTo(.9 * b, 1 * c);\n      a.lineTo(.1 * b, 1 * c);\n      P(a);\n      M(a, .2 * b, .2 * c, !1);\n      a.lineTo(.8 * b, .2 * c);\n      a.moveTo(.2 * b, .4 * c);\n      a.lineTo(.8 * b, .4 * c);\n      a.moveTo(.2 * b, .6 * c);\n      a.lineTo(.8 * b, .6 * c);\n      a.moveTo(.2 * b, .8 * c);\n      a.lineTo(.8 * b, .8 * c);\n      a.fb(!1);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnEventError: function BpmnEventError(a, b, c) {\n      a = w.s();\n      M(a, 0, 1 * c, !0);\n      a.lineTo(.33 * b, 0);\n      a.lineTo(.66 * b, .5 * c);\n      a.lineTo(1 * b, 0);\n      a.lineTo(.66 * b, 1 * c);\n      a.lineTo(.33 * b, .5 * c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnEventEscalation: function BpmnEventEscalation(a, b, c) {\n      a = w.s();\n      M(a, 0, 0, !1);\n      M(a, 1 * b, 1 * c, !1);\n      M(a, .1 * b, 1 * c, !0);\n      a.lineTo(.5 * b, 0);\n      a.lineTo(.9 * b, 1 * c);\n      a.lineTo(.5 * b, .5 * c);\n      P(a);\n      b = a.o;\n      w.q(a);\n      return b;\n    },\n    BpmnEventTimer: function BpmnEventTimer(a, b, c) {\n      a = w.s();\n      var d = .5 * bd;\n      M(a, 1 * b, .5 * c, !0);\n      N(a, 1 * b, (.5 + d) * c, (.5 + d) * b, 1 * c, .5 * b, 1 * c);\n      N(a, (.5 - d) * b, 1 * c, 0, (.5 + d) * c, 0, .5 * c);\n      N(a, 0, (.5 - d) * c, (.5 - d) * b, 0, .5 * b, 0);\n      N(a, (.5 + d) * b, 0, 1 * b, (.5 - d) * c, 1 * b, .5 * c);\n      M(a, .5 * b, 0, !1);\n      a.lineTo(.5 * b, .15 * c);\n      a.moveTo(.5 * b, 1 * c);\n      a.lineTo(.5 * b, .85 * c);\n      a.moveTo(0, .5 * c);\n      a.lineTo(.15 * b, .5 * c);\n      a.moveTo(1 * b, .5 * c);\n      a.lineTo(.85 * b, .5 * c);\n      a.moveTo(.5 * b, .5 * c);\n      a.lineTo(.58 * b, .1 * c);\n      a.moveTo(.5 * b, .5 * c);\n      a.lineTo(.78 * b, .54 * c);\n      a.fb(!1);\n      b = a.o;\n      b.be = Sj;\n      w.q(a);\n      return b;\n    }\n  },\n      Yq;\n\n  for (Yq in lq) {\n    lq[Yq.toLowerCase()] = Yq;\n  }\n\n  var sq = {\n    \"\": \"\",\n    Standard: \"F1 m 0,0 l 8,4 -8,4 2,-4 z\",\n    Backward: \"F1 m 8,0 l -2,4 2,4 -8,-4 z\",\n    Triangle: \"F1 m 0,0 l 8,4.62 -8,4.62 z\",\n    BackwardTriangle: \"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z\",\n    Boomerang: \"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z\",\n    BackwardBoomerang: \"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z\",\n    SidewaysV: \"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z\",\n    BackwardV: \"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z\",\n    OpenTriangle: \"m 0,0 l 8,4 -8,4\",\n    BackwardOpenTriangle: \"m 8,0 l -8,4 8,4\",\n    OpenTriangleLine: \"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8\",\n    BackwardOpenTriangleLine: \"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8\",\n    OpenTriangleTop: \"m 0,0 l 8,4 m 0,4\",\n    BackwardOpenTriangleTop: \"m 8,0 l -8,4 m 0,4\",\n    OpenTriangleBottom: \"m 0,8 l 8,-4\",\n    BackwardOpenTriangleBottom: \"m 0,4 l 8,4\",\n    HalfTriangleTop: \"F1 m 0,0 l 0,4 8,0 z m 0,8\",\n    BackwardHalfTriangleTop: \"F1 m 8,0 l 0,4 -8,0 z m 0,8\",\n    HalfTriangleBottom: \"F1 m 0,4 l 0,4 8,-4 z\",\n    BackwardHalfTriangleBottom: \"F1 m 8,4 l 0,4 -8,-4 z\",\n    ForwardSemiCircle: \"m 4,0 b 270 180 0 4 4\",\n    BackwardSemiCircle: \"m 4,8 b 90 180 0 -4 4\",\n    Feather: \"m 0,0 l 3,4 -3,4\",\n    BackwardFeather: \"m 3,0 l -3,4 3,4\",\n    DoubleFeathers: \"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4\",\n    BackwardDoubleFeathers: \"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4\",\n    TripleFeathers: \"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4\",\n    BackwardTripleFeathers: \"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4\",\n    ForwardSlash: \"m 0,8 l 5,-8\",\n    BackSlash: \"m 0,0 l 5,8\",\n    DoubleForwardSlash: \"m 0,8 l 4,-8 m -2,8 l 4,-8\",\n    DoubleBackSlash: \"m 0,0 l 4,8 m -2,-8 l 4,8\",\n    TripleForwardSlash: \"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8\",\n    TripleBackSlash: \"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8\",\n    Fork: \"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4\",\n    BackwardFork: \"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4\",\n    LineFork: \"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4\",\n    BackwardLineFork: \"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8\",\n    CircleFork: \"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4\",\n    BackwardCircleFork: \"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3\",\n    CircleLineFork: \"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4\",\n    BackwardCircleLineFork: \"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3\",\n    Circle: \"F1 m 8,4 b 0 360 -4 0 4 z\",\n    Block: \"F1 m 0,0 l 0,8 8,0 0,-8 z\",\n    StretchedDiamond: \"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z\",\n    Diamond: \"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z\",\n    Chevron: \"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z\",\n    StretchedChevron: \"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z\",\n    NormalArrow: \"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z\",\n    X: \"m 0,0 l 8,8 m 0,-8 l -8,8\",\n    TailedNormalArrow: \"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z\",\n    DoubleTriangle: \"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z\",\n    BigEndArrow: \"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z\",\n    ConcaveTailArrow: \"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z\",\n    RoundedTriangle: \"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z\",\n    SimpleArrow: \"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z\",\n    AccelerationArrow: \"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z\",\n    BoxArrow: \"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z\",\n    TriangleLine: \"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8\",\n    CircleEndedArrow: \"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z\",\n    DynamicWidthArrow: \"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z\",\n    EquilibriumArrow: \"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3\",\n    FastForward: \"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z\",\n    Kite: \"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z\",\n    HalfArrowTop: \"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8\",\n    HalfArrowBottom: \"F1 m 0,8 l 4,-4 4,0 -8,4 z\",\n    OpposingDirectionDoubleArrow: \"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z\",\n    PartialDoubleTriangle: \"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z\",\n    LineCircle: \"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z\",\n    DoubleLineCircle: \"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z\",\n    TripleLineCircle: \"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z\",\n    CircleLine: \"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8\",\n    DiamondCircle: \"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z\",\n    PlusCircle: \"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8\",\n    OpenRightTriangleTop: \"m 8,0 l 0,4 -8,0 m 0,4\",\n    OpenRightTriangleBottom: \"m 8,8 l 0,-4 -8,0\",\n    Line: \"m 0,0 l 0,8\",\n    DoubleLine: \"m 0,0 l 0,8 m 2,0 l 0,-8\",\n    TripleLine: \"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8\",\n    PentagonArrow: \"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z\"\n  };\n\n  function pq(a) {\n    var b = Qd[a];\n\n    if (void 0 === b) {\n      var c = a.toLowerCase();\n      if (\"none\" === c) return \"None\";\n      b = Qd[c];\n\n      if (void 0 === b) {\n        var d = null,\n            e;\n\n        for (e in sq) {\n          if (e.toLowerCase() === c) {\n            d = e;\n            break;\n          }\n        }\n\n        if (null !== d) return a = Oe(sq[d], !1), Qd[d] = a, c !== d && (Qd[c] = d), d;\n      }\n    }\n\n    return \"string\" === typeof b ? b : b instanceof Be ? a : null;\n  }\n\n  function R(a) {\n    D.call(this, a);\n    this.P = 2408959;\n    this.zl = this.Ci = \"\";\n    this.dt = this.at = this.mt = this.js = null;\n    this.ot = \"\";\n    this.Ai = this.Vr = this.nt = this.fn = null;\n    this.ct = \"\";\n    this.lp = null;\n    this.bt = Fd;\n    this.et = \"\";\n    this.mp = null;\n    this.Md = \"\";\n    this.hw = this.gr = this.kl = null;\n    this.Xi = new z(NaN, NaN).freeze();\n    this.os = \"\";\n    this.Cl = null;\n    this.ps = zb;\n    this.xs = od;\n    this.qs = pd;\n    this.Br = null;\n    this.ks = Zq;\n    this.hn = nd;\n    this.gn = \"gray\";\n    this.Eg = 4;\n    this.sD = -1;\n    this.Mt = NaN;\n    this.SG = new B();\n    this.Um = null;\n    this.lk = NaN;\n  }\n\n  w.La(R, D);\n  w.ga(\"Part\", R);\n\n  R.prototype.cloneProtected = function (a) {\n    D.prototype.cloneProtected.call(this, a);\n    a.P = this.P & -4097 | 49152;\n    a.Ci = this.Ci;\n    a.zl = this.zl;\n    a.js = this.js;\n    a.mt = this.mt;\n    a.at = this.at;\n    a.dt = this.dt;\n    a.ot = this.ot;\n    a.nt = this.nt;\n    a.Vr = this.Vr;\n    a.Ai = null;\n    a.ct = this.ct;\n    a.bt = this.bt.S();\n    a.et = this.et;\n    a.Md = this.Md;\n    a.gr = this.gr;\n    a.Xi.assign(this.Xi);\n    a.os = this.os;\n    a.ps = this.ps.S();\n    a.xs = this.xs.S();\n    a.qs = this.qs.S();\n    a.Br = this.Br;\n    a.ks = this.ks;\n    a.hn = this.hn.S();\n    a.gn = this.gn;\n    a.Eg = this.Eg;\n    a.Mt = this.Mt;\n  };\n\n  R.prototype.pi = function (a) {\n    D.prototype.pi.call(this, a);\n    a.Rk();\n    a.fn = null;\n    a.lp = null;\n    a.mp = null;\n    a.Cl = null;\n    a.Um = null;\n  };\n\n  R.prototype.toString = function () {\n    var a = w.pf(Object.getPrototypeOf(this)) + \"#\" + w.Qd(this);\n    null !== this.data && (a += \"(\" + Qf(this.data) + \")\");\n    return a;\n  };\n\n  R.LayoutNone = 0;\n  var Nm;\n  R.LayoutAdded = Nm = 1;\n  var Wm;\n  R.LayoutRemoved = Wm = 2;\n  R.LayoutShown = 4;\n  R.LayoutHidden = 8;\n  R.LayoutNodeSized = 16;\n  var Cn;\n  R.LayoutGroupLayout = Cn = 32;\n  R.LayoutNodeReplaced = 64;\n  var Zq;\n  R.LayoutStandard = Zq = Nm | Wm | 28 | Cn | 64;\n  R.LayoutAll = 16777215;\n\n  R.prototype.Zn = function (a, b, c, d, e, f, h) {\n    var k = this.g;\n    null !== k && (a === Ef && \"elements\" === b ? e instanceof D ? Om(e, function (a) {\n      Qm(k, a);\n      Pm(k, a);\n    }) : e instanceof xl && on(k, e) : a === Ff && \"elements\" === b && (e instanceof D ? Om(e, function (a) {\n      Um(k, a);\n      Tm(k, a);\n    }) : e instanceof xl && pn(k, e)), k.cd(a, b, c, d, e, f, h));\n  };\n\n  R.prototype.updateTargetBindings = R.prototype.Lb = function (a) {\n    D.prototype.Lb.call(this, a);\n\n    if (null !== this.data) {\n      a = this.xa.n;\n\n      for (var b = a.length, c = 0; c < b; c++) {\n        var d = a[c];\n        d instanceof D && Om(d, function (a) {\n          null !== a.data && a.Lb();\n        });\n      }\n    }\n  };\n\n  R.prototype.updateRelationshipsFromData = function () {\n    var a = this.data;\n\n    if (null !== a) {\n      var b = this.g;\n\n      if (null !== b) {\n        var c = b.$;\n        c instanceof Q && (a = c.Dn(a), b = b.YH(a), null === b || b instanceof V) && (this.Ca = b);\n      }\n    }\n  };\n\n  w.u(R, {\n    key: \"key\"\n  }, function () {\n    var a = this.g;\n    return null === a ? void 0 : a.$.qb(this.data);\n  }, {\n    configurable: !0\n  });\n  w.u(R, {\n    bx: \"adornments\"\n  }, function () {\n    return null === this.Ai ? ua : this.Ai.KF;\n  });\n\n  R.prototype.findAdornment = R.prototype.Wp = function (a) {\n    var b = this.Ai;\n    return null === b ? null : b.ka(a);\n  };\n\n  R.prototype.addAdornment = R.prototype.Ol = function (a, b) {\n    if (null !== b) {\n      var c = null,\n          d = this.Ai;\n      null !== d && (c = d.ka(a));\n\n      if (c !== b) {\n        if (null !== c) {\n          var e = c.g;\n          null !== e && e.remove(c);\n        }\n\n        null === d && (this.Ai = d = new ma(\"string\", jh));\n        b.Ci !== a && (b.ld = a);\n        d.add(a, b);\n        c = this.g;\n        null !== c && (c.add(b), b.data = this.data);\n      }\n    }\n  };\n\n  R.prototype.removeAdornment = R.prototype.Ij = function (a) {\n    var b = this.Ai;\n\n    if (null !== b) {\n      var c = b.ka(a);\n\n      if (null !== c) {\n        var d = c.g;\n        null !== d && d.remove(c);\n      }\n\n      b.remove(a);\n      0 === b.count && (this.Ai = null);\n    }\n  };\n\n  R.prototype.clearAdornments = R.prototype.Ut = function () {\n    var a = this.Ai;\n\n    if (null !== a) {\n      for (var b = w.Za(), a = a.i; a.next();) {\n        b.push(a.key);\n      }\n\n      for (var a = b.length, c = 0; c < a; c++) {\n        this.Ij(b[c]);\n      }\n\n      w.ra(b);\n    }\n  };\n\n  R.prototype.updateAdornments = function () {\n    var a = this.g;\n\n    if (null !== a) {\n      a: {\n        if (this.jb && this.EJ) {\n          var b = this.Dq;\n\n          if (null !== b && this.U.I() && this.isVisible() && b.Cj() && b.U.I()) {\n            var c = this.Wp(\"Selection\");\n\n            if (null === c) {\n              c = this.FJ;\n              null === c && (c = this instanceof W ? a.OI : this instanceof V ? a.lI : a.hJ);\n              if (!(c instanceof jh)) break a;\n              lh(c);\n              c = c.copy();\n              null !== c && (this instanceof W && this.Dq === this.path && (c.type = jj), c.ub = b);\n            }\n\n            if (null !== c) {\n              var d = c.placeholder;\n\n              if (null !== d) {\n                var e = b.vj(),\n                    f = 0;\n                b instanceof Y && (f = b.mb);\n                var h = w.tm();\n                h.m((b.Ja.width + f) * e, (b.Ja.height + f) * e);\n                d.Da = h;\n                w.Lk(h);\n              }\n\n              c.angle = b.bm();\n              c.type !== jj && (d = w.K(), c.location = b.Ya(zb, d), w.v(d));\n              this.Ol(\"Selection\", c);\n              break a;\n            }\n          }\n        }\n\n        this.Ij(\"Selection\");\n      }\n\n      $q(this, a);\n\n      for (a = this.bx; a.next();) {\n        b = a.value, b.Lb(), b.H();\n      }\n    }\n  };\n\n  function $q(a, b) {\n    b.Va.gf.each(function (b) {\n      b.isEnabled && b.updateAdornments(a);\n    });\n    b.Va.updateAdornments(a);\n  }\n\n  w.u(R, {\n    layer: \"layer\"\n  }, function () {\n    return this.hw;\n  });\n  w.u(R, {\n    g: \"diagram\"\n  }, function () {\n    var a = this.hw;\n    return null !== a ? a.g : null;\n  });\n  w.defineProperty(R, {\n    bg: \"layerName\"\n  }, function () {\n    return this.zl;\n  }, function (a) {\n    var b = this.zl;\n\n    if (b !== a) {\n      w.j(a, \"string\", R, \"layerName\");\n      var c = this.g;\n      if (null === c || null !== c.cu(a) && !c.Rq) if (this.zl = a, null !== c && c.Gc(), this.h(\"layerName\", b, a), b = this.layer, null !== b && b.name !== a && (c = b.g, null !== c && (a = c.cu(a), null !== a && a !== b))) {\n        var d = b.rf(-1, this, !0);\n        0 <= d && c.cd(Ff, \"parts\", b, this, null, d, !0);\n        d = a.cq(99999999, this, !0);\n        b.visible !== a.visible && this.Ed(a.visible);\n        0 <= d && c.cd(Ef, \"parts\", a, null, this, !0, d);\n        d = this.Sx;\n\n        if (null !== d) {\n          var e = c.Ua;\n          c.Ua = !0;\n          d(this, b, a);\n          c.Ua = e;\n        }\n      }\n    }\n  });\n  w.defineProperty(R, {\n    Sx: \"layerChanged\"\n  }, function () {\n    return this.js;\n  }, function (a) {\n    var b = this.js;\n    b !== a && (null !== a && w.j(a, \"function\", R, \"layerChanged\"), this.js = a, this.h(\"layerChanged\", b, a));\n  });\n  w.defineProperty(R, {\n    lo: \"zOrder\"\n  }, function () {\n    return this.Mt;\n  }, function (a) {\n    var b = this.Mt;\n\n    if (b !== a) {\n      w.j(a, \"number\", R, \"zOrder\");\n      this.Mt = a;\n      var c = this.layer;\n      null !== c && pl(c, -1, this);\n      this.h(\"zOrder\", b, a);\n      a = this.g;\n      null !== a && a.oa();\n    }\n  });\n\n  R.prototype.invalidateAdornments = R.prototype.Td = function () {\n    var a = this.g;\n    null !== a && (Nl(a), 0 !== (this.P & 16384) !== !0 && (ll(this, !0), a.ye()));\n  };\n\n  function ar(a) {\n    if (!1 === Gm(a)) {\n      var b = a.g;\n      null !== b && (b.vg.add(a), b.ye());\n      br(a, !0);\n      a.Ri();\n    }\n  }\n\n  function cr(a) {\n    a.P |= 2097152;\n\n    if (!1 !== Gm(a)) {\n      var b = a.position,\n          c = a.location;\n      c.I() && b.I() || dr(a, b, c);\n      var c = a.pc,\n          d = c.copy();\n      c.Qa();\n      c.x = b.x;\n      c.y = b.y;\n      c.freeze();\n      a.by(d, c);\n      br(a, !1);\n    }\n  }\n\n  w.u(R, {\n    cg: \"locationObject\"\n  }, function () {\n    if (null === this.Cl) {\n      var a = this.aB;\n      \"\" !== a ? (a = this.Dd(a), this.Cl = null !== a ? a : this) : this.Cl = this instanceof jh ? this.type !== jj && null !== this.placeholder ? this.placeholder : this : this;\n    }\n\n    return this.Cl.visible ? this.Cl : this;\n  });\n  w.defineProperty(R, {\n    $I: \"minLocation\"\n  }, function () {\n    return this.xs;\n  }, function (a) {\n    var b = this.xs;\n    b.L(a) || (this.xs = a = a.S(), this.h(\"minLocation\", b, a));\n  });\n  w.defineProperty(R, {\n    UI: \"maxLocation\"\n  }, function () {\n    return this.qs;\n  }, function (a) {\n    var b = this.qs;\n    b.L(a) || (this.qs = a = a.S(), this.h(\"maxLocation\", b, a));\n  });\n  w.defineProperty(R, {\n    aB: \"locationObjectName\"\n  }, function () {\n    return this.os;\n  }, function (a) {\n    var b = this.os;\n    b !== a && (this.os = a, this.Cl = null, this.H(), this.h(\"locationObjectName\", b, a));\n  });\n  w.defineProperty(R, {\n    Gf: \"locationSpot\"\n  }, function () {\n    return this.ps;\n  }, function (a) {\n    var b = this.ps;\n    b.L(a) || (this.ps = a = a.S(), this.H(), this.h(\"locationSpot\", b, a));\n  });\n\n  R.prototype.move = function (a) {\n    this.position = a;\n  };\n\n  R.prototype.moveTo = R.prototype.moveTo = function (a, b) {\n    var c = w.wb(a, b);\n    this.move(c);\n    w.v(c);\n  };\n\n  R.prototype.isVisible = function () {\n    if (!this.visible) return !1;\n    var a = this.layer;\n    if (null !== a && !a.visible) return !1;\n    a = this.g;\n    if (null !== a && (a = a.Ka, a.df && (a = a.Wm.ka(this), null !== a && a.my))) return !0;\n    a = this.Ca;\n    return null === a || a.ad && a.isVisible() ? !0 : !1;\n  };\n\n  R.prototype.Ed = function (a) {\n    var b = this.g;\n    a ? (this.J(4), this.Td(), null !== b && b.vg.add(this)) : (this.J(8), this.Ut());\n    this.Rk();\n    null !== b && (b.Gc(), b.oa());\n  };\n\n  R.prototype.findObject = R.prototype.Dd = function (a) {\n    if (this.name === a) return this;\n    var b = this.Um;\n    null === b && (this.Um = b = new ra());\n    if (void 0 !== b[a]) return b[a];\n\n    for (var c = this.xa.n, d = c.length, e = 0; e < d; e++) {\n      var f = c[e];\n      if (f.name === a) return b[a] = f;\n      if (f instanceof D) if (null === f.hk && null === f.xg) {\n        if (f = f.Dd(a), null !== f) return b[a] = f;\n      } else if (mn(f) && (f = f.xa.first(), null !== f && f.name === a)) return b[a] = f;\n    }\n\n    return b[a] = null;\n  };\n\n  function er(a, b, c, d) {\n    void 0 === d && (d = new z());\n    c = c.Vd() ? Jb : c;\n    var e = b.Ja;\n    d.m(e.width * c.x + c.offsetX, e.height * c.y + c.offsetY);\n    if (null === b || b === a) return d;\n    b.transform.nb(d);\n\n    for (b = b.R; null !== b && b !== a;) {\n      b.transform.nb(d), b = b.R;\n    }\n\n    a.Wi.nb(d);\n    d.offset(-a.vd.x, -a.vd.y);\n    return d;\n  }\n\n  R.prototype.ensureBounds = R.prototype.Ne = function () {\n    !0 === km(this) && (this instanceof V && this.hc.each(function (a) {\n      a.Ne();\n    }), yk(this, Infinity, Infinity));\n    this.jc();\n  };\n\n  function ol(a, b) {\n    var c = a.SG,\n        d;\n    isNaN(a.lk) && (a.lk = bq(a));\n    d = a.lk;\n    var e = 2 * d;\n    if (!a.jm) return c.m(b.x - 1 - d, b.y - 1 - d, b.width + 2 + e, b.height + 2 + e), c;\n    d = b.x;\n    var e = b.y,\n        f = b.width,\n        h = b.height,\n        k = a.shadowBlur,\n        l = a.KJ,\n        f = f + k,\n        h = h + k;\n    d -= k / 2;\n    e -= k / 2;\n    0 < l.x ? f += l.x : (d += l.x, f -= l.x);\n    0 < l.y ? h += l.y : (e += l.y, h -= l.y);\n    c.m(d - 1, e - 1, f + 2, h + 2);\n    return c;\n  }\n\n  R.prototype.jc = function () {\n    this.Ri();\n    if (!1 === sm(this)) cr(this);else {\n      var a = this.pc,\n          b = w.vf();\n      b.assign(a);\n      a.Qa();\n      var c = kl(this);\n      this.pj(0, 0, this.vd.width, this.vd.height);\n      var d = this.position;\n      dr(this, d, this.location);\n      a.x = d.x;\n      a.y = d.y;\n      a.freeze();\n      this.by(b, a);\n      Ko(this, !1);\n      b.L(a) ? this.If(c) : !this.he() || J(b.width, a.width) && J(b.height, a.height) || 0 <= this.sD && this.J(16);\n      w.Bb(b);\n      br(this, !1);\n    }\n  };\n\n  R.prototype.by = function (a, b) {\n    var c = this.g;\n\n    if (null !== c) {\n      var d = !1;\n\n      if (!1 === c.ck && a.I()) {\n        var e = w.vf();\n        e.assign(c.Od);\n        e.zG(c.padding);\n        a.x > e.x && a.y > e.y && a.right < e.right && a.bottom < e.bottom && b.x > e.x && b.y > e.y && b.right < e.right && b.bottom < e.bottom && (d = !0);\n        w.Bb(e);\n      }\n\n      0 !== (this.P & 65536) !== !0 && a.L(b) || Rm(this, d, c);\n      c.oa();\n      Va(a, b) || (this instanceof T && !c.ja.lb && this.ag(), this.Rk());\n    }\n  };\n\n  w.defineProperty(R, {\n    location: \"location\"\n  }, function () {\n    return this.Xi;\n  }, function (a) {\n    var b = a.x,\n        c = a.y,\n        d = this.Xi,\n        e = d.x,\n        f = d.y;\n    (e === b || isNaN(e) && isNaN(b)) && (f === c || isNaN(f) && isNaN(c)) || (a = a.S(), b = a, this instanceof W ? b = !1 : (this.Xi = b, this.P |= 2097152, !1 === sm(this) && (ar(this), c = this.ab, c.I() && (e = c.copy(), c.m(c.x + (b.x - d.x), c.y + (b.y - d.y)), fr(this, this.g, c, e), this.h(\"position\", e, c))), b = !0), b && this.h(\"location\", d, a));\n  });\n  g = R.prototype;\n\n  g.EB = function (a, b) {\n    if (this instanceof W || !a.I()) return !1;\n    var c = this.g;\n    if (null !== c && (fr(this, c, a, b), !0 === c.ja.lb)) return !0;\n    this.ab = a;\n    this.P &= -2097153;\n    c = this.Xi;\n\n    if (c.I()) {\n      var d = c.copy();\n      c.m(c.x + (a.x - b.x), c.y + (a.y - b.y));\n      this.h(\"location\", d, c);\n    }\n\n    !1 === Gm(this) && !1 === sm(this) && (ar(this), cr(this));\n    return !0;\n  };\n\n  function fr(a, b, c, d) {\n    null === b || a instanceof jh || (b = b.Ka, b.sc && Vk(b, a, \"position\", d.copy(), c.copy(), !1));\n  }\n\n  g.Ay = function (a, b) {\n    var c = this.Xi,\n        d = this.ab;\n    Gm(this) || sm(this) ? c.m(NaN, NaN) : c.m(c.x + a - d.x, c.y + b - d.y);\n    d.m(a, b);\n    ar(this);\n  };\n\n  g.FB = function () {\n    this.P &= -2097153;\n    ar(this);\n  };\n\n  function dr(a, b, c) {\n    var d = w.K(),\n        e = a.Gf,\n        f = a.cg;\n    e.Vd() && w.k(\"determineOffset: Part's locationSpot must be real: \" + e.toString());\n    var h = f.Ja,\n        k = f instanceof Y ? f.mb : 0;\n    d.av(0, 0, h.width + k, h.height + k, e);\n    if (f !== a) for (d.offset(-k / 2, -k / 2), f.transform.nb(d), e = f.R; null !== e && e !== a;) {\n      e.transform.nb(d), e = e.R;\n    }\n    a.Wi.nb(d);\n    d.offset(-a.vd.x, -a.vd.y);\n    e = a.g;\n    f = c.I();\n    h = b.I();\n    f && h ? 0 !== (a.P & 2097152) ? gr(a, b, c, e, d) : hr(a, b, c, e, d) : f ? gr(a, b, c, e, d) : h && hr(a, b, c, e, d);\n    a.P |= 2097152;\n    w.v(d);\n    a.Ri();\n  }\n\n  function gr(a, b, c, d, e) {\n    var f = b.x,\n        h = b.y;\n    b.m(c.x - e.x, c.y - e.y);\n    null !== d && (c = d.Ka, (e = c.dk) || !c.sc || a instanceof jh || Vk(c, a, \"position\", new z(f, h), b, !1), e || b.x === f && b.y === h || (c = d.gb, d.gb = !0, a.h(\"position\", new z(f, h), b), d.gb = c));\n  }\n\n  function hr(a, b, c, d, e) {\n    var f = c.copy();\n    c.m(b.x + e.x, b.y + e.y);\n    c.L(f) || null === d || (b = d.gb, d.gb = !0, a.h(\"location\", f, c), d.gb = b);\n  }\n\n  function Rm(a, b, c) {\n    Mo(a, !1);\n    a instanceof T && c.RA(a);\n    a.layer.Hc || b || c.Gc();\n    b = a.pc;\n    var d = c.sb;\n    d.I() ? kl(a) ? ($a(b, d) || a.If(!1), a.updateAdornments()) : b.$f(d) ? (a.If(!0), a.updateAdornments()) : a.Td() : c.vl = !0;\n  }\n\n  g.im = function () {\n    return !0;\n  };\n\n  function ml(a, b) {\n    var c = a.pc;\n\n    if (0 !== c.width && 0 !== c.height && !isNaN(c.x) && !isNaN(c.y) && a.isVisible()) {\n      var d = a.transform;\n      null !== a.cc && (Qo(a, b, a.cc, !0, !0), b.fillRect(c.x, c.y, c.width, c.height));\n      null === a.cc && null === a.Ib && (Qo(a, b, \"rgba(0,0,0,0.4)\", !0, !1), b.fillRect(c.x, c.y, c.width, c.height));\n      null !== a.Ib && (d.yu() || b.transform(d.m11, d.m12, d.m21, d.m22, d.dx, d.dy), c = a.Ja, Qo(a, b, a.Ib, !0, !1), b.fillRect(0, 0, c.width, c.height), d.yu() || (c = 1 / (d.m11 * d.m22 - d.m12 * d.m21), b.transform(d.m22 * c, -d.m12 * c, -d.m21 * c, d.m11 * c, c * (d.m21 * d.dy - d.m22 * d.dx), c * (d.m12 * d.dx - d.m11 * d.dy))));\n    }\n  }\n\n  g.he = function () {\n    return !0;\n  };\n\n  g.yj = function () {\n    return !0;\n  };\n\n  w.defineProperty(R, {\n    ld: \"category\"\n  }, function () {\n    return this.Ci;\n  }, function (a) {\n    var b = this.Ci;\n\n    if (b !== a) {\n      w.j(a, \"string\", R, \"category\");\n      var c = this.g,\n          d = this.data,\n          e = null;\n\n      if (null !== c && null !== d && !(this instanceof jh)) {\n        var f = c.$.ja;\n        f.isEnabled && !f.lb && (e = this.clone(), e.xa.Pc(this.xa));\n      }\n\n      this.Ci = a;\n      this.h(\"category\", b, a);\n      null === c || null === d || this instanceof jh ? this instanceof jh && (e = this.Ze, null !== e && (a = e.Ai, null !== a && a.remove(b), e.Ol(this.ld, this))) : (f = c.$, f.ja.lb || (this instanceof W ? (f instanceof Q ? f.qG(d, a) : f instanceof Zf && f.IJ(d, a), c = ij(c, a), null !== c && (lh(c), c = c.copy(), null !== c && ir(this, c, b, a))) : (null !== f && f.xy(d, a), c = un(c, d, a), null !== c && (lh(c), c = c.copy(), null === c || c instanceof W || (c.location = this.location, ir(this, c, b, a)))), null !== e && (b = this.clone(), b.xa.Pc(this.xa), this.h(\"self\", e, b))));\n    }\n  });\n  w.defineProperty(R, {\n    self: \"self\"\n  }, function () {\n    return this;\n  }, function (a) {\n    ir(this, a, this.ld, a.ld);\n  });\n  var jr = !1;\n\n  function ir(a, b, c, d) {\n    b.constructor === a.constructor || jr || (jr = !0, w.trace('Should not change the class of the Part when changing category from \"' + c + '\" to \"' + d + '\"'), w.trace(\"  Old class: \" + w.pf(a) + \", new class: \" + w.pf(b) + \", part: \" + a.toString()));\n    a.Ut();\n    var e = a.data;\n    c = a.bg;\n    var f = a.jb,\n        h = a.Og,\n        k = !0,\n        l = !0,\n        m = !1;\n    if (a instanceof T) var n = a,\n        k = n.Bj,\n        l = n.wc,\n        m = n.Lq;\n    b.pi(a);\n    b.cloneProtected(a);\n    a.Ci = d;\n    a.H();\n    a.oa();\n    b = a.g;\n    d = !0;\n    null !== b && (d = b.gb, b.gb = !0);\n    a.$d = e;\n    null !== e && a.Lb();\n    null !== b && (b.gb = d);\n    e = a.bg;\n    e !== c && (a.zl = c, a.bg = e);\n    a instanceof T && (n = a, n.Bj = k, n.wc = l, n.Lq = m, n.he() && n.J(64));\n    a.jb = f;\n    a.Og = h;\n  }\n\n  R.prototype.canCopy = function () {\n    if (!this.JH) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.Ck) return !1;\n    a = a.g;\n    return null === a ? !0 : a.Ck ? !0 : !1;\n  };\n\n  R.prototype.canDelete = function () {\n    if (!this.OH) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.nn) return !1;\n    a = a.g;\n    return null === a ? !0 : a.nn ? !0 : !1;\n  };\n\n  R.prototype.canEdit = function () {\n    if (!this.QJ) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.ix) return !1;\n    a = a.g;\n    return null === a ? !0 : a.ix ? !0 : !1;\n  };\n\n  R.prototype.canGroup = function () {\n    if (!this.mI) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.ex) return !1;\n    a = a.g;\n    return null === a ? !0 : a.ex ? !0 : !1;\n  };\n\n  R.prototype.canMove = function () {\n    if (!this.eJ) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.Rl) return !1;\n    a = a.g;\n    return null === a ? !0 : a.Rl ? !0 : !1;\n  };\n\n  R.prototype.canReshape = function () {\n    if (!this.sJ) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.gx) return !1;\n    a = a.g;\n    return null === a ? !0 : a.gx ? !0 : !1;\n  };\n\n  R.prototype.canResize = function () {\n    if (!this.tJ) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.Tt) return !1;\n    a = a.g;\n    return null === a ? !0 : a.Tt ? !0 : !1;\n  };\n\n  R.prototype.canRotate = function () {\n    if (!this.wJ) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.hx) return !1;\n    a = a.g;\n    return null === a ? !0 : a.hx ? !0 : !1;\n  };\n\n  R.prototype.canSelect = function () {\n    if (!this.nm) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.Bf) return !1;\n    a = a.g;\n    return null === a ? !0 : a.Bf ? !0 : !1;\n  };\n\n  w.defineProperty(R, {\n    JH: \"copyable\"\n  }, function () {\n    return 0 !== (this.P & 1);\n  }, function (a) {\n    var b = 0 !== (this.P & 1);\n    b !== a && (this.P ^= 1, this.h(\"copyable\", b, a));\n  });\n  w.defineProperty(R, {\n    OH: \"deletable\"\n  }, function () {\n    return 0 !== (this.P & 2);\n  }, function (a) {\n    var b = 0 !== (this.P & 2);\n    b !== a && (this.P ^= 2, this.h(\"deletable\", b, a));\n  });\n  w.defineProperty(R, {\n    QJ: \"textEditable\"\n  }, function () {\n    return 0 !== (this.P & 4);\n  }, function (a) {\n    var b = 0 !== (this.P & 4);\n    b !== a && (this.P ^= 4, this.h(\"textEditable\", b, a), this.Td());\n  });\n  w.defineProperty(R, {\n    mI: \"groupable\"\n  }, function () {\n    return 0 !== (this.P & 8);\n  }, function (a) {\n    var b = 0 !== (this.P & 8);\n    b !== a && (this.P ^= 8, this.h(\"groupable\", b, a));\n  });\n  w.defineProperty(R, {\n    eJ: \"movable\"\n  }, function () {\n    return 0 !== (this.P & 16);\n  }, function (a) {\n    var b = 0 !== (this.P & 16);\n    b !== a && (this.P ^= 16, this.h(\"movable\", b, a));\n  });\n  w.defineProperty(R, {\n    EJ: \"selectionAdorned\"\n  }, function () {\n    return 0 !== (this.P & 32);\n  }, function (a) {\n    var b = 0 !== (this.P & 32);\n    b !== a && (this.P ^= 32, this.h(\"selectionAdorned\", b, a), this.Td());\n  });\n  w.defineProperty(R, {\n    WA: \"isInDocumentBounds\"\n  }, function () {\n    return 0 !== (this.P & 64);\n  }, function (a) {\n    var b = 0 !== (this.P & 64);\n\n    if (b !== a) {\n      this.P ^= 64;\n      var c = this.g;\n      null !== c && c.Gc();\n      this.h(\"isInDocumentBounds\", b, a);\n    }\n  });\n  w.defineProperty(R, {\n    FF: \"isLayoutPositioned\"\n  }, function () {\n    return 0 !== (this.P & 128);\n  }, function (a) {\n    var b = 0 !== (this.P & 128);\n    b !== a && (this.P ^= 128, this.h(\"isLayoutPositioned\", b, a), this.J(a ? 4 : 8));\n  });\n  w.defineProperty(R, {\n    nm: \"selectable\"\n  }, function () {\n    return 0 !== (this.P & 256);\n  }, function (a) {\n    var b = 0 !== (this.P & 256);\n    b !== a && (this.P ^= 256, this.h(\"selectable\", b, a), this.Td());\n  });\n  w.defineProperty(R, {\n    sJ: \"reshapable\"\n  }, function () {\n    return 0 !== (this.P & 512);\n  }, function (a) {\n    var b = 0 !== (this.P & 512);\n    b !== a && (this.P ^= 512, this.h(\"reshapable\", b, a), this.Td());\n  });\n  w.defineProperty(R, {\n    tJ: \"resizable\"\n  }, function () {\n    return 0 !== (this.P & 1024);\n  }, function (a) {\n    var b = 0 !== (this.P & 1024);\n    b !== a && (this.P ^= 1024, this.h(\"resizable\", b, a), this.Td());\n  });\n  w.defineProperty(R, {\n    wJ: \"rotatable\"\n  }, function () {\n    return 0 !== (this.P & 2048);\n  }, function (a) {\n    var b = 0 !== (this.P & 2048);\n    b !== a && (this.P ^= 2048, this.h(\"rotatable\", b, a), this.Td());\n  });\n  w.defineProperty(R, {\n    jb: \"isSelected\"\n  }, function () {\n    return 0 !== (this.P & 4096);\n  }, function (a) {\n    var b = 0 !== (this.P & 4096);\n\n    if (b !== a) {\n      var c = this.g;\n\n      if (!a || this.canSelect() && !(null !== c && c.selection.count >= c.VI)) {\n        this.P ^= 4096;\n        var d = !1;\n\n        if (null !== c) {\n          d = c.gb;\n          c.gb = !0;\n          var e = c.selection;\n          e.Qa();\n          a ? e.add(this) : e.remove(this);\n          e.freeze();\n        }\n\n        this.h(\"isSelected\", b, a);\n        this.Td();\n        a = this.GJ;\n        null !== a && a(this);\n        null !== c && (c.ye(), c.gb = d);\n      }\n    }\n  });\n  w.defineProperty(R, {\n    Og: \"isHighlighted\"\n  }, function () {\n    return 0 !== (this.P & 524288);\n  }, function (a) {\n    var b = 0 !== (this.P & 524288);\n\n    if (b !== a) {\n      this.P ^= 524288;\n      var c = this.g;\n      null !== c && (c = c.em, c.Qa(), a ? c.add(this) : c.remove(this), c.freeze());\n      this.h(\"isHighlighted\", b, a);\n      this.oa();\n      a = this.pI;\n      null !== a && a(this);\n    }\n  });\n  w.defineProperty(R, {\n    jm: \"isShadowed\"\n  }, function () {\n    return 0 !== (this.P & 8192);\n  }, function (a) {\n    var b = 0 !== (this.P & 8192);\n    b !== a && (this.P ^= 8192, this.h(\"isShadowed\", b, a), this.oa());\n  });\n\n  function ll(a, b) {\n    a.P = b ? a.P | 16384 : a.P & -16385;\n  }\n\n  function Gm(a) {\n    return 0 !== (a.P & 32768);\n  }\n\n  function br(a, b) {\n    a.P = b ? a.P | 32768 : a.P & -32769;\n  }\n\n  function Mo(a, b) {\n    a.P = b ? a.P | 65536 : a.P & -65537;\n  }\n\n  function kl(a) {\n    return 0 !== (a.P & 131072);\n  }\n\n  R.prototype.If = function (a) {\n    this.P = a ? this.P | 131072 : this.P & -131073;\n  };\n\n  function kr(a, b) {\n    a.P = b ? a.P | 1048576 : a.P & -1048577;\n  }\n\n  w.defineProperty(R, {\n    xF: \"isAnimated\"\n  }, function () {\n    return 0 !== (this.P & 262144);\n  }, function (a) {\n    var b = 0 !== (this.P & 262144);\n    b !== a && (this.P ^= 262144, this.h(\"isAnimated\", b, a));\n  });\n  w.defineProperty(R, {\n    pI: \"highlightedChanged\"\n  }, function () {\n    return this.Vr;\n  }, function (a) {\n    var b = this.Vr;\n    b !== a && (null !== a && w.j(a, \"function\", R, \"highlightedChanged\"), this.Vr = a, this.h(\"highlightedChanged\", b, a));\n  });\n  w.defineProperty(R, {\n    zB: \"selectionObjectName\"\n  }, function () {\n    return this.ot;\n  }, function (a) {\n    var b = this.ot;\n    b !== a && (this.ot = a, this.fn = null, this.h(\"selectionObjectName\", b, a));\n  });\n  w.defineProperty(R, {\n    FJ: \"selectionAdornmentTemplate\"\n  }, function () {\n    return this.mt;\n  }, function (a) {\n    var b = this.mt;\n    b !== a && (this.mt = a, this.h(\"selectionAdornmentTemplate\", b, a));\n  });\n  w.u(R, {\n    Dq: \"selectionObject\"\n  }, function () {\n    if (null === this.fn) {\n      var a = this.zB;\n      null !== a && \"\" !== a ? (a = this.Dd(a), this.fn = null !== a ? a : this) : this instanceof W ? (a = this.path, this.fn = null !== a ? a : this) : this.fn = this;\n    }\n\n    return this.fn;\n  });\n  w.defineProperty(R, {\n    GJ: \"selectionChanged\"\n  }, function () {\n    return this.nt;\n  }, function (a) {\n    var b = this.nt;\n    b !== a && (null !== a && w.j(a, \"function\", R, \"selectionChanged\"), this.nt = a, this.h(\"selectionChanged\", b, a));\n  });\n  w.defineProperty(R, {\n    gG: \"resizeAdornmentTemplate\"\n  }, function () {\n    return this.at;\n  }, function (a) {\n    var b = this.at;\n    b !== a && (this.at = a, this.h(\"resizeAdornmentTemplate\", b, a));\n  });\n  w.defineProperty(R, {\n    iG: \"resizeObjectName\"\n  }, function () {\n    return this.ct;\n  }, function (a) {\n    var b = this.ct;\n    b !== a && (this.ct = a, this.lp = null, this.h(\"resizeObjectName\", b, a));\n  });\n  w.u(R, {\n    hG: \"resizeObject\"\n  }, function () {\n    if (null === this.lp) {\n      var a = this.iG;\n      null !== a && \"\" !== a ? (a = this.Dd(a), this.lp = null !== a ? a : this) : this.lp = this;\n    }\n\n    return this.lp;\n  });\n  w.defineProperty(R, {\n    uJ: \"resizeCellSize\"\n  }, function () {\n    return this.bt;\n  }, function (a) {\n    var b = this.bt;\n    b.L(a) || (this.bt = a = a.S(), this.h(\"resizeCellSize\", b, a));\n  });\n  w.defineProperty(R, {\n    xJ: \"rotateAdornmentTemplate\"\n  }, function () {\n    return this.dt;\n  }, function (a) {\n    var b = this.dt;\n    b !== a && (this.dt = a, this.h(\"rotateAdornmentTemplate\", b, a));\n  });\n  w.defineProperty(R, {\n    yJ: \"rotateObjectName\"\n  }, function () {\n    return this.et;\n  }, function (a) {\n    var b = this.et;\n    b !== a && (this.et = a, this.mp = null, this.h(\"rotateObjectName\", b, a));\n  });\n  w.u(R, {\n    vB: \"rotateObject\"\n  }, function () {\n    if (null === this.mp) {\n      var a = this.yJ;\n      null !== a && \"\" !== a ? (a = this.Dd(a), this.mp = null !== a ? a : this) : this.mp = this;\n    }\n\n    return this.mp;\n  });\n  w.defineProperty(R, {\n    text: \"text\"\n  }, function () {\n    return this.Md;\n  }, function (a) {\n    var b = this.Md;\n    b !== a && (this.Md = a, this.h(\"text\", b, a));\n  });\n  w.defineProperty(R, {\n    Ca: \"containingGroup\"\n  }, function () {\n    return this.kl;\n  }, function (a) {\n    if (this.he()) {\n      var b = this.kl;\n\n      if (b !== a) {\n        null === a || this !== a && !a.qi(this) || (this === a && w.k(\"Cannot make a Group a member of itself: \" + this.toString()), w.k(\"Cannot make a Group indirectly contain itself: \" + this.toString() + \" already contains \" + a.toString()));\n        this.J(Wm);\n        var c = this.g;\n        null !== b ? lr(b, this) : this instanceof V && null !== c && c.Ll.remove(this);\n        this.kl = a;\n        null !== a ? mr(a, this) : this instanceof V && null !== c && c.Ll.add(this);\n        this.J(Nm);\n\n        if (null !== c) {\n          var d = this.data,\n              e = c.$;\n          null !== d && e instanceof Q && e.CB(d, e.qb(null !== a ? a.data : null));\n        }\n\n        d = this.LE;\n        null !== d && (e = !0, null !== c && (e = c.Ua, c.Ua = !0), d(this, b, a), null !== c && (c.Ua = e));\n        if (this instanceof V) for (c = new I(R), ih(c, this, !0, 0, !0), c = c.i; c.next();) {\n          if (d = c.value, d instanceof T) for (d = d.je; d.next();) {\n            sn(d.value);\n          }\n        }\n\n        if (this instanceof T) {\n          for (d = this.je; d.next();) {\n            sn(d.value);\n          }\n\n          c = this.Xb;\n          null !== c && sn(c);\n        }\n\n        this.h(\"containingGroup\", b, a);\n        null !== a && (b = a.layer, null !== b && pl(b, -1, a));\n      }\n    } else w.k(\"cannot set the Part.containingGroup of a Link or Adornment\");\n  });\n  g = R.prototype;\n\n  g.Rk = function () {\n    var a = this.Ca;\n    null !== a && (a.H(), null !== a.Nb && a.Nb.H(), a.ag());\n  };\n\n  g.oa = function () {\n    var a = this.g;\n    null !== a && !sm(this) && !Gm(this) && this.isVisible() && this.pc.I() && a.oa(ol(this, this.pc));\n  };\n\n  g.H = function () {\n    D.prototype.H.call(this);\n    var a = this.g;\n    null !== a && (a.vg.add(this), this instanceof T && null !== this.Xb && Uo(this.Xb), a.ye(!0));\n  };\n\n  g.qu = function (a) {\n    a || (a = this.kl, null !== a && mr(a, this));\n  };\n\n  g.ru = function (a) {\n    a || (a = this.kl, null !== a && lr(a, this));\n  };\n\n  g.zn = function () {\n    var a = this.data;\n\n    if (null !== a) {\n      var b = this.g;\n      null !== b && (b = b.$, null !== b && b.py(a));\n    }\n  };\n\n  w.defineProperty(R, {\n    LE: \"containingGroupChanged\"\n  }, function () {\n    return this.gr;\n  }, function (a) {\n    var b = this.gr;\n    b !== a && (null !== a && w.j(a, \"function\", R, \"containingGroupChanged\"), this.gr = a, this.h(\"containingGroupChanged\", b, a));\n  });\n\n  R.prototype.findSubGraphLevel = function () {\n    return nr(this, this);\n  };\n\n  function nr(a, b) {\n    var c = b.Ca;\n    return null !== c ? 1 + nr(a, c) : b instanceof T && (c = b.Xb, null !== c) ? nr(a, c) : 0;\n  }\n\n  R.prototype.findTopLevelPart = function () {\n    return or(this, this);\n  };\n\n  function or(a, b) {\n    var c = b.Ca;\n    return null !== c ? or(a, c) : b instanceof T && (c = b.Xb, null !== c) ? or(a, c) : b;\n  }\n\n  w.u(R, {\n    hq: \"isTopLevel\"\n  }, function () {\n    return null !== this.Ca || this instanceof T && null !== this.Xb ? !1 : !0;\n  });\n\n  R.prototype.isMemberOf = R.prototype.qi = function (a) {\n    return a instanceof V ? pr(this, this, a) : !1;\n  };\n\n  function pr(a, b, c) {\n    if (b === c || null === c) return !1;\n    var d = b.Ca;\n    return null === d || d !== c && !pr(a, d, c) ? b instanceof T && (b = b.Xb, null !== b) ? pr(a, b, c) : !1 : !0;\n  }\n\n  R.prototype.findCommonContainingGroup = R.prototype.WH = function (a) {\n    if (null === a) return null;\n    if (this === a) return this.Ca;\n\n    for (var b = this; null !== b;) {\n      b instanceof V && kr(b, !0);\n\n      if (b instanceof T) {\n        var c = b.Xb;\n        null !== c && (b = c);\n      }\n\n      b = b.Ca;\n    }\n\n    for (var d = null, b = a; null !== b;) {\n      if (0 !== (b.P & 1048576)) {\n        d = b;\n        break;\n      }\n\n      b instanceof T && (c = b.Xb, null !== c && (b = c));\n      b = b.Ca;\n    }\n\n    for (b = this; null !== b;) {\n      b instanceof V && kr(b, !1), b instanceof T && (c = b.Xb, null !== c && (b = c)), b = b.Ca;\n    }\n\n    return d;\n  };\n\n  w.defineProperty(R, {\n    KI: \"layoutConditions\"\n  }, function () {\n    return this.ks;\n  }, function (a) {\n    var b = this.ks;\n    b !== a && (this.ks = a, this.h(\"layoutConditions\", b, a));\n  });\n\n  R.prototype.canLayout = function () {\n    if (!this.FF || !this.isVisible()) return !1;\n    var a = this.layer;\n    return null !== a && a.Hc || this instanceof T && this.Df ? !1 : !0;\n  };\n\n  R.prototype.invalidateLayout = R.prototype.J = function (a) {\n    void 0 === a && (a = 16777215);\n    var b;\n    this.FF && 0 !== (a & this.KI) ? (b = this.layer, null !== b && b.Hc || this instanceof T && this.Df ? b = !1 : (b = this.g, b = null !== b && b.ja.lb ? !1 : !0)) : b = !1;\n    if (b) if (b = this.kl, null !== b) {\n      var c = b.Ub;\n      null !== c ? c.J() : b.J(a);\n    } else a = this.g, null !== a && (c = a.Ub, null !== c && c.J());\n  };\n\n  function Sm(a) {\n    if (!a.isVisible()) return !1;\n    a = a.layer;\n    return null !== a && a.Hc ? !1 : !0;\n  }\n\n  w.defineProperty(R, {\n    wx: \"dragComputation\"\n  }, function () {\n    return this.Br;\n  }, function (a) {\n    var b = this.Br;\n    b !== a && (null !== a && w.j(a, \"function\", R, \"dragComputation\"), this.Br = a, this.h(\"dragComputation\", b, a));\n  });\n  w.defineProperty(R, {\n    KJ: \"shadowOffset\"\n  }, function () {\n    return this.hn;\n  }, function (a) {\n    var b = this.hn;\n    b.L(a) || (this.hn = a = a.S(), this.oa(), this.h(\"shadowOffset\", b, a));\n  });\n  w.defineProperty(R, {\n    shadowColor: \"shadowColor\"\n  }, function () {\n    return this.gn;\n  }, function (a) {\n    var b = this.gn;\n    b !== a && (this.gn = a, this.oa(), this.h(\"shadowColor\", b, a));\n  });\n  w.defineProperty(R, {\n    shadowBlur: \"shadowBlur\"\n  }, function () {\n    return this.Eg;\n  }, function (a) {\n    var b = this.Eg;\n    b !== a && (this.Eg = a, this.oa(), this.h(\"shadowBlur\", b, a));\n  });\n\n  function jh(a) {\n    0 === arguments.length ? R.call(this, Uj) : R.call(this, a);\n    this.P &= -257;\n    this.zl = \"Adornment\";\n    this.Kc = null;\n    this.CD = 0;\n    this.pE = !1;\n    this.Nb = this.$g = null;\n  }\n\n  w.La(jh, R);\n  w.ga(\"Adornment\", jh);\n\n  jh.prototype.toString = function () {\n    var a = this.Ze;\n    return \"Adornment(\" + this.ld + \")\" + (null !== a ? a.toString() : \"\");\n  };\n\n  jh.prototype.updateRelationshipsFromData = function () {};\n\n  jh.prototype.Hu = function (a) {\n    var b = this.ub.W,\n        c = this.ub;\n\n    if (b instanceof W && c instanceof Y) {\n      var d = b.path,\n          c = d.of;\n      b.Hu(a);\n      c = d.of;\n      a = this.xa.n;\n      b = a.length;\n\n      for (d = 0; d < b; d++) {\n        var e = a[d];\n        e.ff && e instanceof Y && (e.Sa = c);\n      }\n    }\n  };\n\n  w.u(jh, {\n    placeholder: \"placeholder\"\n  }, function () {\n    return this.Nb;\n  });\n  w.defineProperty(jh, {\n    ub: \"adornedObject\"\n  }, function () {\n    return this.Kc;\n  }, function (a) {\n    var b = this.Ze,\n        c = null;\n    null !== a && (c = a.W);\n    null === b || null !== a && b === c || b.Ij(this.ld);\n    this.Kc = a;\n    null !== c && c.Ol(this.ld, this);\n  });\n  w.u(jh, {\n    Ze: \"adornedPart\"\n  }, function () {\n    var a = this.Kc;\n    return null !== a ? a.W : null;\n  });\n\n  jh.prototype.im = function () {\n    var a = this.Kc;\n    if (null === a) return !0;\n    a = a.W;\n    return null === a || !sm(a);\n  };\n\n  jh.prototype.he = function () {\n    return !1;\n  };\n\n  w.u(jh, {\n    Ca: \"containingGroup\"\n  }, function () {\n    return null;\n  });\n\n  jh.prototype.Zn = function (a, b, c, d, e, f, h) {\n    if (a === Ef && \"elements\" === b) {\n      if (e instanceof Pj) {\n        var k = e;\n        null === this.Nb ? this.Nb = k : this.Nb !== k && w.k(\"Cannot insert a second Placeholder into the visual tree of an Adornment.\");\n      } else e instanceof D && (k = e.bu(function (a) {\n        return a instanceof Pj;\n      }), k instanceof Pj && (null === this.Nb ? this.Nb = k : this.Nb !== k && w.k(\"Cannot insert a second Placeholder into the visual tree of an Adornment.\")));\n    } else a === Ff && \"elements\" === b && null !== this.Nb && (d === this.Nb ? this.Nb = null : d instanceof D && this.Nb.hm(d) && (this.Nb = null));\n    R.prototype.Zn.call(this, a, b, c, d, e, f, h);\n  };\n\n  jh.prototype.updateAdornments = function () {};\n\n  jh.prototype.zn = function () {};\n\n  function T(a) {\n    R.call(this, a);\n    this.ya = 13;\n    this.rc = new H(W);\n    this.Ht = this.Wo = this.Bl = this.ms = this.ls = null;\n    this.$q = fd;\n    this.Ie = this.Lh = null;\n    this.Xs = qr;\n    this.Ak = !1;\n  }\n\n  w.La(T, R);\n  w.ga(\"Node\", T);\n\n  T.prototype.cloneProtected = function (a) {\n    R.prototype.cloneProtected.call(this, a);\n    a.ya = this.ya;\n    a.ya = this.ya & -17;\n    a.ls = this.ls;\n    a.ms = this.ms;\n    a.Bl = this.Bl;\n    a.Ht = this.Ht;\n    a.$q = this.$q.S();\n    a.Xs = this.Xs;\n  };\n\n  T.prototype.pi = function (a) {\n    R.prototype.pi.call(this, a);\n    a.ag();\n    a.Lh = this.Lh;\n    a.Ie = null;\n  };\n\n  var rr;\n  T.DirectionDefault = rr = w.p(T, \"DirectionDefault\", 0);\n  T.DirectionAbsolute = w.p(T, \"DirectionAbsolute\", 1);\n  var sr;\n  T.DirectionRotatedNode = sr = w.p(T, \"DirectionRotatedNode\", 2);\n  var Ao;\n  T.DirectionRotatedNodeOrthogonal = Ao = w.p(T, \"DirectionRotatedNodeOrthogonal\", 3);\n  T.SpreadingNone = w.p(T, \"SpreadingNone\", 10);\n  var qr;\n  T.SpreadingEvenly = qr = w.p(T, \"SpreadingEvenly\", 11);\n  var tr;\n  T.SpreadingPacked = tr = w.p(T, \"SpreadingPacked\", 12);\n\n  function ur(a, b) {\n    null !== b && (null === a.Lh && (a.Lh = new I(yl)), a.Lh.add(b));\n  }\n\n  function vr(a, b, c, d) {\n    if (null === b || null === a.Lh) return null;\n\n    for (var e = a.Lh.i; e.next();) {\n      var f = e.value;\n      if (f.oq === a && f.Mu === b && f.hy === c && f.iy === d || f.oq === b && f.Mu === a && f.hy === d && f.iy === c) return f;\n    }\n\n    return null;\n  }\n\n  T.prototype.invalidateLinkBundle = function (a, b, c) {\n    if (void 0 === b || null === b) b = \"\";\n    if (void 0 === c || null === c) c = \"\";\n    a = vr(this, a, b, c);\n    null !== a && a.dq();\n  };\n\n  T.prototype.Zn = function (a, b, c, d, e, f, h) {\n    a === Ef && \"elements\" === b ? this.Ie = null : a === Ff && \"elements\" === b && (this.Ie = null);\n    R.prototype.Zn.call(this, a, b, c, d, e, f, h);\n  };\n\n  T.prototype.invalidateConnectedLinks = T.prototype.ag = function (a) {\n    void 0 === a && (a = null);\n\n    for (var b = this.je; b.next();) {\n      var c = b.value;\n      null !== a && a.contains(c) || (wr(this, c.gc), wr(this, c.zc), c.Tb());\n    }\n  };\n\n  function No(a, b) {\n    for (var c = a.je; c.next();) {\n      var d = c.value;\n      if (d.gc === b || d.zc === b) wr(a, d.gc), wr(a, d.zc), d.Tb();\n    }\n  }\n\n  function wr(a, b) {\n    if (null !== b) {\n      var c = b.Ws;\n      null !== c && c.dq();\n      c = a.Ca;\n      null === c || c.ad || wr(c, c.port);\n    }\n  }\n\n  T.prototype.im = function () {\n    return !0;\n  };\n\n  w.defineProperty(T, {\n    lJ: \"portSpreading\"\n  }, function () {\n    return this.Xs;\n  }, function (a) {\n    var b = this.Xs;\n    b !== a && (this.Xs = a, this.h(\"portSpreading\", b, a), a = this.g, null !== a && a.ja.lb || this.ag());\n  });\n  w.defineProperty(T, {\n    lA: \"avoidable\"\n  }, function () {\n    return 0 !== (this.ya & 8);\n  }, function (a) {\n    var b = 0 !== (this.ya & 8);\n\n    if (b !== a) {\n      this.ya ^= 8;\n      var c = this.g;\n      null !== c && c.RA(this);\n      this.h(\"avoidable\", b, a);\n    }\n  });\n  w.defineProperty(T, {\n    sH: \"avoidableMargin\"\n  }, function () {\n    return this.$q;\n  }, function (a) {\n    \"number\" === typeof a ? a = new hb(a) : w.G(a, hb, T, \"avoidableMargin\");\n    var b = this.$q;\n\n    if (!b.L(a)) {\n      this.$q = a = a.S();\n      var c = this.g;\n      null !== c && c.RA(this);\n      this.h(\"avoidableMargin\", b, a);\n    }\n  });\n\n  T.prototype.getAvoidableRect = function (a) {\n    a.set(this.U);\n    a.ax(this.sH);\n    return a;\n  };\n\n  T.prototype.findVisibleNode = function () {\n    for (var a = this; null !== a && !a.isVisible();) {\n      a = a.Ca;\n    }\n\n    return a;\n  };\n\n  T.prototype.isVisible = function () {\n    if (!R.prototype.isVisible.call(this)) return !1;\n    var a = !0,\n        b = ul,\n        c = this.g;\n\n    if (null !== c) {\n      a = c.Ka;\n      if (a.df && (a = a.Wm.ka(this), null !== a && a.my)) return !0;\n      a = c.Wd;\n      b = c.TB;\n    }\n\n    if (b === ul) {\n      if (c = this.Kk(), null !== c && !c.wc) return !1;\n    } else if (b === $m) {\n      if (c = a ? this.aF() : this.bF(), 0 < c.count && c.all(function (a) {\n        return !a.wc;\n      })) return !1;\n    } else if (b === an && (c = a ? this.aF() : this.bF(), 0 < c.count && c.any(function (a) {\n      return !a.wc;\n    }))) return !1;\n\n    c = this.Xb;\n    return null !== c ? c.isVisible() : !0;\n  };\n\n  T.prototype.Ed = function (a) {\n    R.prototype.Ed.call(this, a);\n\n    for (var b = this.je; b.next();) {\n      b.value.Ed(a);\n    }\n  };\n\n  w.u(T, {\n    je: \"linksConnected\"\n  }, function () {\n    return this.rc.i;\n  });\n\n  T.prototype.findLinksConnected = T.prototype.ZE = function (a) {\n    void 0 === a && (a = null);\n    if (null === a) return this.rc.i;\n    var b = new za(this.rc),\n        c = this;\n\n    b.uq = function (b) {\n      return b.V === c && b.Ng === a || b.Z === c && b.Jh === a;\n    };\n\n    return b;\n  };\n\n  T.prototype.findLinksOutOf = T.prototype.Dx = function (a) {\n    void 0 === a && (a = null);\n    var b = new za(this.rc),\n        c = this;\n\n    b.uq = function (b) {\n      return b.V !== c ? !1 : null === a ? !0 : b.Ng === a;\n    };\n\n    return b;\n  };\n\n  T.prototype.findLinksInto = T.prototype.Mg = function (a) {\n    void 0 === a && (a = null);\n    var b = new za(this.rc),\n        c = this;\n\n    b.uq = function (b) {\n      return b.Z !== c ? !1 : null === a ? !0 : b.Jh === a;\n    };\n\n    return b;\n  };\n\n  T.prototype.findNodesConnected = T.prototype.$E = function (a) {\n    void 0 === a && (a = null);\n\n    for (var b = null, c = null, d = this.rc.i; d.next();) {\n      var e = d.value;\n\n      if (e.V === this) {\n        if (null === a || e.Ng === a) e = e.Z, null !== b ? b.add(e) : null !== c && c !== e ? (b = new I(T), b.add(c), b.add(e)) : c = e;\n      } else e.Z !== this || null !== a && e.Jh !== a || (e = e.V, null !== b ? b.add(e) : null !== c && c !== e ? (b = new I(T), b.add(c), b.add(e)) : c = e);\n    }\n\n    return null !== b ? b.i : null !== c ? new wa(c) : ua;\n  };\n\n  T.prototype.findNodesOutOf = T.prototype.bF = function (a) {\n    void 0 === a && (a = null);\n\n    for (var b = null, c = null, d = this.rc.i; d.next();) {\n      var e = d.value;\n      e.V !== this || null !== a && e.Ng !== a || (e = e.Z, null !== b ? b.add(e) : null !== c && c !== e ? (b = new I(T), b.add(c), b.add(e)) : c = e);\n    }\n\n    return null !== b ? b.i : null !== c ? new wa(c) : ua;\n  };\n\n  T.prototype.findNodesInto = T.prototype.aF = function (a) {\n    void 0 === a && (a = null);\n\n    for (var b = null, c = null, d = this.rc.i; d.next();) {\n      var e = d.value;\n      e.Z !== this || null !== a && e.Jh !== a || (e = e.V, null !== b ? b.add(e) : null !== c && c !== e ? (b = new I(T), b.add(c), b.add(e)) : c = e);\n    }\n\n    return null !== b ? b.i : null !== c ? new wa(c) : ua;\n  };\n\n  T.prototype.findLinksBetween = function (a, b, c) {\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    var d = new za(this.rc),\n        e = this;\n\n    d.uq = function (d) {\n      return (d.V !== e || d.Z !== a || null !== b && d.Ng !== b || null !== c && d.Jh !== c) && (d.V !== a || d.Z !== e || null !== c && d.Ng !== c || null !== b && d.Jh !== b) ? !1 : !0;\n    };\n\n    return d;\n  };\n\n  T.prototype.findLinksTo = function (a, b, c) {\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    var d = new za(this.rc),\n        e = this;\n\n    d.uq = function (d) {\n      return d.V !== e || d.Z !== a || null !== b && d.Ng !== b || null !== c && d.Jh !== c ? !1 : !0;\n    };\n\n    return d;\n  };\n\n  w.defineProperty(T, {\n    LI: \"linkConnected\"\n  }, function () {\n    return this.ls;\n  }, function (a) {\n    var b = this.ls;\n    b !== a && (null !== a && w.j(a, \"function\", T, \"linkConnected\"), this.ls = a, this.h(\"linkConnected\", b, a));\n  });\n  w.defineProperty(T, {\n    MI: \"linkDisconnected\"\n  }, function () {\n    return this.ms;\n  }, function (a) {\n    var b = this.ms;\n    b !== a && (null !== a && w.j(a, \"function\", T, \"linkDisconnected\"), this.ms = a, this.h(\"linkDisconnected\", b, a));\n  });\n  w.defineProperty(T, {\n    Wx: \"linkValidation\"\n  }, function () {\n    return this.Bl;\n  }, function (a) {\n    var b = this.Bl;\n    b !== a && (null !== a && w.j(a, \"function\", T, \"linkValidation\"), this.Bl = a, this.h(\"linkValidation\", b, a));\n  });\n\n  function xr(a, b, c) {\n    wr(a, c);\n    var d = a.rc.contains(b);\n    d || a.rc.add(b);\n\n    if (!d || b.V === b.Z) {\n      var e = a.LI;\n\n      if (null !== e) {\n        var f = !0,\n            h = a.g;\n        null !== h && (f = h.Ua, h.Ua = !0);\n        e(a, b, c);\n        null !== h && (h.Ua = f);\n      }\n    }\n\n    !d && b.bc && (c = b.V, b = b.Z, null !== c && null !== b && c !== b && (d = !0, h = a.g, null !== h && (d = h.Wd), a = d ? b : c, e = d ? c : b, a.Ak || (a.Ak = e), !e.Bj || null !== h && h.ja.lb || (d ? c === e && (e.Bj = !1) : b === e && (e.Bj = !1))));\n  }\n\n  function yr(a, b, c) {\n    wr(a, c);\n    var d = a.rc.remove(b);\n\n    if (d || b.Z === b.V) {\n      var e = a.MI,\n          f = a.g;\n\n      if (null !== e) {\n        var h = !0;\n        null !== f && (h = f.Ua, f.Ua = !0);\n        e(a, b, c);\n        null !== f && (f.Ua = h);\n      }\n    }\n\n    d && b.bc && (c = !0, null !== f && (c = f.Wd), a = c ? b.Z : b.V, b = c ? b.V : b.Z, null !== a && (a.Ak = !1), null === b || b.Bj || (0 === b.rc.count ? (b.Ak = null, null !== f && f.ja.lb || (b.Bj = !0)) : Dn(b)));\n  }\n\n  function Dn(a) {\n    a.Ak = !1;\n\n    if (0 !== a.rc.count) {\n      var b = !0,\n          c = a.g;\n\n      if (null === c || !c.ja.lb) {\n        null !== c && (b = c.Wd);\n\n        for (c = a.rc.i; c.next();) {\n          var d = c.value;\n          if (d.bc) if (b) {\n            if (d.V === a) {\n              a.Bj = !1;\n              return;\n            }\n          } else if (d.Z === a) {\n            a.Bj = !1;\n            return;\n          }\n        }\n\n        a.Bj = !0;\n      }\n    }\n  }\n\n  T.prototype.updateRelationshipsFromData = function () {\n    R.prototype.updateRelationshipsFromData.call(this);\n    var a = this.data;\n\n    if (null !== a) {\n      var b = this.g;\n\n      if (null !== b) {\n        var c = b.$;\n        c instanceof Zf && (a = c.Fn(a), a = b.Oe(a), c = this.Kk(), a !== c && (c = this.Bn(), null !== a ? null !== c ? b.Wd ? c.V = a : c.Z = a : en(b, a, this) : null !== c && Vm(b, c, !1)));\n      }\n    }\n  };\n\n  T.prototype.qu = function (a) {\n    R.prototype.qu.call(this, a);\n    a || (Dn(this), a = this.Wo, null !== a && zr(a, this));\n  };\n\n  T.prototype.ru = function (a) {\n    R.prototype.ru.call(this, a);\n    a || (a = this.Wo, null !== a && null !== a.yf && (a.yf.remove(this), a.H()));\n  };\n\n  T.prototype.zn = function () {\n    if (0 < this.rc.count) {\n      var a = this.g;\n      if (null !== a) for (var b = a.pb.UE, c = this.rc.copy().i; c.next();) {\n        var d = c.value;\n        b ? a.remove(d) : (d.V === this && (d.V = null), d.Z === this && (d.Z = null));\n      }\n    }\n\n    this.Xb = null;\n    R.prototype.zn.call(this);\n  };\n\n  w.u(T, {\n    Df: \"isLinkLabel\"\n  }, function () {\n    return null !== this.Wo;\n  });\n  w.defineProperty(T, {\n    Xb: \"labeledLink\"\n  }, function () {\n    return this.Wo;\n  }, function (a) {\n    var b = this.Wo;\n\n    if (b !== a) {\n      var c = this.g,\n          d = this.data;\n\n      if (null !== b) {\n        null !== b.yf && (b.yf.remove(this), b.H());\n\n        if (null !== c && null !== d && !c.ja.lb) {\n          var e = b.data,\n              f = c.$;\n\n          if (null !== e && f instanceof Q) {\n            var h = f.qb(d);\n            void 0 !== h && f.qJ(e, h);\n          }\n        }\n\n        this.Ca = null;\n      }\n\n      this.Wo = a;\n      null !== a && (zr(a, this), null === c || null === d || c.ja.lb || (e = a.data, f = c.$, null !== e && f instanceof Q && (h = f.qb(d), void 0 !== h && f.wE(e, h))), this.Ca = a.Ca);\n      Uo(this);\n      this.h(\"labeledLink\", b, a);\n    }\n  });\n\n  T.prototype.findPort = T.prototype.DA = function (a) {\n    if (null === this.Ie) {\n      if (\"\" === a && !1 === this.Qk) return this;\n      Ar(this);\n    }\n\n    var b = this.Ie.ka(a);\n    return null !== b || \"\" !== a && (b = this.Ie.ka(\"\"), null !== b) ? b : this;\n  };\n\n  w.u(T, {\n    port: \"port\"\n  }, function () {\n    return this.DA(\"\");\n  });\n  w.u(T, {\n    ports: \"ports\"\n  }, function () {\n    null === this.Ie && Ar(this);\n    return this.Ie.KF;\n  });\n\n  function Ar(a) {\n    null === a.Ie ? a.Ie = new ma(\"string\", G) : a.Ie.clear();\n    cp(a, a, function (a, c) {\n      ap(a, c);\n    });\n    0 === a.Ie.count && a.Ie.add(\"\", a);\n  }\n\n  function ap(a, b) {\n    var c = b.le;\n    null !== c && null !== a.Ie && a.Ie.add(c, b);\n  }\n\n  function $o(a, b, c) {\n    var d = b.le;\n\n    if (null !== d && (null !== a.Ie && a.Ie.remove(d), b = a.g, null !== b && c)) {\n      c = null;\n\n      for (d = a.ZE(d); d.next();) {\n        a = d.value, null === c && (c = w.Za()), c.push(a);\n      }\n\n      if (null !== c) {\n        for (d = 0; d < c.length; d++) {\n          a = c[d], b.remove(a);\n        }\n\n        w.ra(c);\n      }\n    }\n  }\n\n  T.prototype.isInTreeOf = function (a) {\n    if (null === a || a === this) return !1;\n    var b = !0,\n        c = this.g;\n    null !== c && (b = c.Wd);\n    c = this;\n    if (b) for (; c !== a;) {\n      for (var b = null, d = c.rc.i; d.next();) {\n        var e = d.value;\n        if (e.bc && (b = e.V, b !== c && b !== this)) break;\n      }\n\n      if (b === this || null === b || b === c) return !1;\n      c = b;\n    } else for (; c !== a;) {\n      b = null;\n\n      for (d = c.rc.i; d.next() && (e = d.value, !e.bc || (b = e.Z, b === c || b === this));) {\n        ;\n      }\n\n      if (b === this || null === b || b === c) return !1;\n      c = b;\n    }\n    return !0;\n  };\n\n  T.prototype.findTreeRoot = function () {\n    var a = !0,\n        b = this.g;\n    null !== b && (a = b.Wd);\n    b = this;\n    if (a) for (;;) {\n      for (var a = null, c = b.rc.i; c.next();) {\n        var d = c.value;\n        if (d.bc && (a = d.V, a !== b && a !== this)) break;\n      }\n\n      if (a === this) return this;\n      if (null === a || a === b) return b;\n      b = a;\n    } else for (;;) {\n      a = null;\n\n      for (c = b.rc.i; c.next() && (d = c.value, !d.bc || (a = d.Z, a === b || a === this));) {\n        ;\n      }\n\n      if (a === this) return this;\n      if (null === a || a === b) return b;\n      b = a;\n    }\n  };\n\n  T.prototype.findCommonTreeParent = function (a) {\n    if (null === a) return null;\n    if (this === a) return this;\n\n    for (var b = this; null !== b;) {\n      kr(b, !0), b = b.Kk();\n    }\n\n    for (var c = null, b = a; null !== b;) {\n      if (0 !== (b.P & 1048576)) {\n        c = b;\n        break;\n      }\n\n      b = b.Kk();\n    }\n\n    for (b = this; null !== b;) {\n      kr(b, !1), b = b.Kk();\n    }\n\n    return c;\n  };\n\n  T.prototype.findTreeParentLink = T.prototype.Bn = function () {\n    var a = !0,\n        b = this.g;\n    null !== b && (a = b.Wd);\n    b = this.rc.i;\n    if (a) for (; b.next();) {\n      if (a = b.value, a.bc && a.V !== this) return a;\n    } else for (; b.next();) {\n      if (a = b.value, a.bc && a.Z !== this) return a;\n    }\n    return null;\n  };\n\n  T.prototype.findTreeParentNode = T.prototype.Kk = function () {\n    var a = this.Ak;\n    if (null === a) return null;\n    if (a instanceof T) return a;\n    var b = !0,\n        a = this.g;\n    null !== a && (b = a.Wd);\n    a = this.rc.i;\n    if (b) for (; a.next();) {\n      if (b = a.value, b.bc && (b = b.V, b !== this)) return this.Ak = b;\n    } else for (; a.next();) {\n      if (b = a.value, b.bc && (b = b.Z, b !== this)) return this.Ak = b;\n    }\n    return this.Ak = null;\n  };\n\n  T.prototype.findTreeParentChain = function () {\n    function a(b, d) {\n      if (null !== b) {\n        d.add(b);\n        var e = b.Bn();\n        null !== e && (d.add(e), a(b.Kk(), d));\n      }\n    }\n\n    var b = new I(R);\n    a(this, b);\n    return b;\n  };\n\n  T.prototype.findTreeLevel = function () {\n    return Br(this, this);\n  };\n\n  function Br(a, b) {\n    var c = b.Kk();\n    return null === c ? 0 : 1 + Br(a, c);\n  }\n\n  T.prototype.findTreeChildrenLinks = T.prototype.Fx = function () {\n    var a = !0,\n        b = this.g;\n    null !== b && (a = b.Wd);\n    var b = new za(this.rc),\n        c = this;\n    b.uq = a ? function (a) {\n      return a.bc && a.V === c ? !0 : !1;\n    } : function (a) {\n      return a.bc && a.Z === c ? !0 : !1;\n    };\n    return b;\n  };\n\n  T.prototype.findTreeChildrenNodes = T.prototype.dF = function () {\n    var a = !0,\n        b = this.g;\n    null !== b && (a = b.Wd);\n    var c = b = null,\n        d = this.rc.i;\n    if (a) for (; d.next();) {\n      a = d.value, a.bc && a.V === this && (a = a.Z, null !== b ? b.add(a) : null !== c && c !== a ? (b = new H(T), b.add(c), b.add(a)) : c = a);\n    } else for (; d.next();) {\n      a = d.value, a.bc && a.Z === this && (a = a.V, null !== b ? b.add(a) : null !== c && c !== a ? (b = new H(T), b.add(c), b.add(a)) : c = a);\n    }\n    return null !== b ? b.i : null !== c ? new wa(c) : ua;\n  };\n\n  T.prototype.findTreeParts = function (a) {\n    void 0 === a && (a = Infinity);\n    w.j(a, \"number\", T, \"findTreeParts:level\");\n    var b = new I(R);\n    ih(b, this, !1, a, !0);\n    return b;\n  };\n\n  T.prototype.collapseTree = T.prototype.collapseTree = function (a) {\n    void 0 === a && (a = 1);\n    w.Bd(a, T, \"collapseTree:level\");\n    1 > a && (a = 1);\n    var b = this.g;\n\n    if (null !== b && !b.yh) {\n      b.yh = !0;\n      var c = new I(T);\n      c.add(this);\n      Cr(this, c, b.Wd, a, b.Ka, this, b.TB === ul);\n      b.yh = !1;\n    }\n  };\n\n  function Cr(a, b, c, d, e, f, h) {\n    if (1 < d) for (var k = c ? a.Dx() : a.Mg(); k.next();) {\n      var l = k.value;\n      l.bc && (l = l.IA(a), null === l || l === a || b.contains(l) || (b.add(l), Cr(l, b, c, d - 1, e, f, h)));\n    } else Dr(a, b, c, e, f, h);\n  }\n\n  function Dr(a, b, c, d, e, f) {\n    for (var h = e === a ? !0 : a.wc, k = c ? a.Dx() : a.Mg(); k.next();) {\n      var l = k.value;\n\n      if (l.bc && (l = l.IA(a), null !== l && l !== a)) {\n        var m = b.contains(l);\n        m || b.add(l);\n        h && (f && hl(d, l, e), l.Rk(), l.Ed(!1));\n        l.wc && (l.Lq = l.wc, m || Dr(l, b, c, d, e, f));\n      }\n    }\n\n    a.wc = !1;\n  }\n\n  T.prototype.expandTree = T.prototype.expandTree = function (a) {\n    void 0 === a && (a = 2);\n    w.Bd(a, T, \"expandTree:level\");\n    2 > a && (a = 2);\n    var b = this.g;\n\n    if (null !== b && !b.yh) {\n      b.yh = !0;\n      var c = new I(T);\n      c.add(this);\n      Er(this, c, b.Wd, a, b.Ka, this, b.TB === ul);\n      b.yh = !1;\n    }\n  };\n\n  function Er(a, b, c, d, e, f, h) {\n    for (var k = f === a ? !1 : a.wc, l = c ? a.Dx() : a.Mg(); l.next();) {\n      var m = l.value;\n      m.bc && (k || m.Mf || m.Tb(), m = m.IA(a), null !== m && m !== a && !b.contains(m) && (b.add(m), k || (m.Ed(!0), m.Rk(), h && gl(e, m, f)), 2 < d || m.Lq)) && (m.Lq = !1, Er(m, b, c, d - 1, e, f, h));\n    }\n\n    a.wc = !0;\n  }\n\n  w.defineProperty(T, {\n    wc: \"isTreeExpanded\"\n  }, function () {\n    return 0 !== (this.ya & 1);\n  }, function (a) {\n    var b = 0 !== (this.ya & 1);\n\n    if (b !== a) {\n      this.ya ^= 1;\n      var c = this.g;\n      this.h(\"isTreeExpanded\", b, a);\n      b = this.XJ;\n\n      if (null !== b) {\n        var d = !0;\n        null !== c && (d = c.Ua, c.Ua = !0);\n        b(this);\n        null !== c && (c.Ua = d);\n      }\n\n      null !== c && c.ja.lb ? this.Ed(a) : a ? this.expandTree() : this.collapseTree();\n    }\n  });\n  w.defineProperty(T, {\n    Lq: \"wasTreeExpanded\"\n  }, function () {\n    return 0 !== (this.ya & 2);\n  }, function (a) {\n    var b = 0 !== (this.ya & 2);\n    b !== a && (this.ya ^= 2, this.h(\"wasTreeExpanded\", b, a));\n  });\n  w.defineProperty(T, {\n    XJ: \"treeExpandedChanged\"\n  }, function () {\n    return this.Ht;\n  }, function (a) {\n    var b = this.Ht;\n    b !== a && (null !== a && w.j(a, \"function\", T, \"treeExpandedChanged\"), this.Ht = a, this.h(\"treeExpandedChanged\", b, a));\n  });\n  w.defineProperty(T, {\n    Bj: \"isTreeLeaf\"\n  }, function () {\n    return 0 !== (this.ya & 4);\n  }, function (a) {\n    var b = 0 !== (this.ya & 4);\n    b !== a && (this.ya ^= 4, this.h(\"isTreeLeaf\", b, a));\n  });\n\n  function W() {\n    R.call(this, jj);\n    this.Zb = 8;\n    this.rg = null;\n    this.Rh = \"\";\n    this.Hg = this.Lr = null;\n    this.li = \"\";\n    this.Gt = null;\n    this.Sq = mj;\n    this.mr = 0;\n    this.pr = mj;\n    this.qr = NaN;\n    this.an = Fr;\n    this.vt = .5;\n    this.yf = null;\n    this.hd = new H(z).freeze();\n    this.$g = this.OC = this.IC = this.Bi = this.Oi = this.Sa = this.Cw = this.np = this.Xe = null;\n    this.Yz = new z();\n    this.Y = this.cE = this.bE = null;\n  }\n\n  w.La(W, R);\n  w.ga(\"Link\", W);\n\n  W.prototype.cloneProtected = function (a) {\n    R.prototype.cloneProtected.call(this, a);\n    a.Zb = this.Zb & -113;\n    a.Rh = this.Rh;\n    a.Lr = this.Lr;\n    a.li = this.li;\n    a.Gt = this.Gt;\n    a.Sq = this.Sq;\n    a.mr = this.mr;\n    a.pr = this.pr;\n    a.qr = this.qr;\n    a.an = this.an;\n    a.vt = this.vt;\n    null !== this.Y && (a.Y = this.Y.copy());\n  };\n\n  W.prototype.pi = function (a) {\n    R.prototype.pi.call(this, a);\n    this.Rh = a.Rh;\n    this.li = a.li;\n    a.Xe = null;\n    a.Tb();\n    a.Bi = this.Bi;\n    var b = a.gc;\n    null !== b && wr(a.V, b);\n    b = a.zc;\n    null !== b && wr(a.Z, b);\n  };\n\n  W.prototype.ic = function (a) {\n    a.Je === W ? 2 === (a.value & 2) ? this.sy = a : a === tj || a === lj || a === kj ? this.nf = a : a === Gr || a === Hr || a === Ir ? this.Hp = a : a !== Fr && a !== mj && w.k(\"Unknown Link enum value for a Link property: \" + a) : R.prototype.ic.call(this, a);\n  };\n\n  var Fr;\n  W.Normal = Fr = w.p(W, \"Normal\", 1);\n  W.Orthogonal = w.p(W, \"Orthogonal\", 2);\n  W.AvoidsNodes = w.p(W, \"AvoidsNodes\", 6);\n  var Jr;\n  W.AvoidsNodesStraight = Jr = w.p(W, \"AvoidsNodesStraight\", 7);\n  var mj;\n  W.None = mj = w.p(W, \"None\", 0);\n  var tj;\n  W.Bezier = tj = w.p(W, \"Bezier\", 9);\n  var lj;\n  W.JumpGap = lj = w.p(W, \"JumpGap\", 10);\n  var kj;\n  W.JumpOver = kj = w.p(W, \"JumpOver\", 11);\n  var Gr;\n  W.End = Gr = w.p(W, \"End\", 17);\n  var Hr;\n  W.Scale = Hr = w.p(W, \"Scale\", 18);\n  var Ir;\n  W.Stretch = Ir = w.p(W, \"Stretch\", 19);\n  var rq;\n  W.OrientAlong = rq = w.p(W, \"OrientAlong\", 21);\n  var Tp;\n  W.OrientPlus90 = Tp = w.p(W, \"OrientPlus90\", 22);\n  var Vp;\n  W.OrientMinus90 = Vp = w.p(W, \"OrientMinus90\", 23);\n  var Kr;\n  W.OrientOpposite = Kr = w.p(W, \"OrientOpposite\", 24);\n  var Lr;\n  W.OrientUpright = Lr = w.p(W, \"OrientUpright\", 25);\n  var Up;\n  W.OrientPlus90Upright = Up = w.p(W, \"OrientPlus90Upright\", 26);\n  var Wp;\n  W.OrientMinus90Upright = Wp = w.p(W, \"OrientMinus90Upright\", 27);\n  var Xp;\n  W.OrientUpright45 = Xp = w.p(W, \"OrientUpright45\", 28);\n  g = W.prototype;\n\n  g.Rd = function () {\n    null === this.Y && (this.Y = new zo());\n  };\n\n  g.im = function () {\n    var a = this.V;\n\n    if (null !== a) {\n      var b = a.findVisibleNode();\n      null !== b && (a = b);\n      if (sm(a) || Gm(a)) return !1;\n    }\n\n    a = this.Z;\n    return null !== a && (b = a.findVisibleNode(), null !== b && (a = b), sm(a) || Gm(a)) ? !1 : !0;\n  };\n\n  g.EB = function () {\n    return !1;\n  };\n\n  g.FB = function () {};\n\n  g.he = function () {\n    return !1;\n  };\n\n  W.prototype.computeAngle = function (a, b, c) {\n    return W.computeAngle(b, c);\n  };\n\n  W.computeAngle = function (a, b) {\n    var c = 0;\n\n    switch (a) {\n      default:\n      case mj:\n        c = 0;\n        break;\n\n      case rq:\n        c = b;\n        break;\n\n      case Tp:\n        c = b + 90;\n        break;\n\n      case Vp:\n        c = b - 90;\n        break;\n\n      case Kr:\n        c = b + 180;\n        break;\n\n      case Lr:\n        c = pe(b);\n        90 < c && 270 > c && (c -= 180);\n        break;\n\n      case Up:\n        c = pe(b + 90);\n        90 < c && 270 > c && (c -= 180);\n        break;\n\n      case Wp:\n        c = pe(b - 90);\n        90 < c && 270 > c && (c -= 180);\n        break;\n\n      case Xp:\n        c = pe(b);\n        if (45 < c && 135 > c || 225 < c && 315 > c) return 0;\n        90 < c && 270 > c && (c -= 180);\n    }\n\n    return pe(c);\n  };\n\n  w.defineProperty(W, {\n    V: \"fromNode\"\n  }, function () {\n    return this.rg;\n  }, function (a) {\n    var b = this.rg;\n\n    if (b !== a) {\n      var c = this.gc;\n      null !== b && (this.Hg !== b && yr(b, this, c), Mr(this), this.J(Wm));\n      this.rg = a;\n      null !== a && this.Ed(a.isVisible());\n      this.Oi = null;\n      this.Tb();\n      var d = this.g;\n\n      if (null !== d) {\n        var e = this.data,\n            f = d.$;\n        if (null !== e) if (f instanceof Q) {\n          var h = null !== a ? a.data : null;\n          f.AB(e, f.qb(h));\n        } else f instanceof Zf && (h = null !== a ? a.data : null, d.Wd ? f.ti(e, f.qb(h)) : (e = d.rk, d.rk = this, null !== b && f.ti(b.data, void 0), f.ti(h, f.qb(null !== this.Hg ? this.Hg.data : null)), d.rk = e));\n      }\n\n      f = this.gc;\n      h = this.gF;\n      null !== h && (e = !0, null !== d && (e = d.Ua, d.Ua = !0), h(this, c, f), null !== d && (d.Ua = e));\n      null !== a && (this.Hg !== a && xr(a, this, f), Nr(this), this.J(Nm));\n      this.h(\"fromNode\", b, a);\n      sn(this);\n    }\n  });\n  w.defineProperty(W, {\n    Ng: \"fromPortId\"\n  }, function () {\n    return this.Rh;\n  }, function (a) {\n    var b = this.Rh;\n\n    if (b !== a) {\n      var c = this.V,\n          d = this.gc;\n      null !== d && wr(c, d);\n      Mr(this);\n      this.Rh = a;\n      var e = this.gc;\n      null !== e && wr(c, e);\n      c = this.g;\n\n      if (null !== c) {\n        var f = this.data,\n            h = c.$;\n        null !== f && h instanceof Q && h.BB(f, a);\n      }\n\n      d !== e && (this.Oi = null, this.Tb(), f = this.gF, null !== f && (h = !0, null !== c && (h = c.Ua, c.Ua = !0), f(this, d, e), null !== c && (c.Ua = h)));\n      Nr(this);\n      this.h(\"fromPortId\", b, a);\n    }\n  });\n  w.u(W, {\n    gc: \"fromPort\"\n  }, function () {\n    var a = this.rg;\n    return null === a ? null : a.DA(this.Rh);\n  });\n  w.defineProperty(W, {\n    gF: \"fromPortChanged\"\n  }, function () {\n    return this.Lr;\n  }, function (a) {\n    var b = this.Lr;\n    b !== a && (null !== a && w.j(a, \"function\", W, \"fromPortChanged\"), this.Lr = a, this.h(\"fromPortChanged\", b, a));\n  });\n  w.defineProperty(W, {\n    Z: \"toNode\"\n  }, function () {\n    return this.Hg;\n  }, function (a) {\n    var b = this.Hg;\n\n    if (b !== a) {\n      var c = this.zc;\n      null !== b && (this.rg !== b && yr(b, this, c), Mr(this), this.J(Wm));\n      this.Hg = a;\n      null !== a && this.Ed(a.isVisible());\n      this.Oi = null;\n      this.Tb();\n      var d = this.g;\n\n      if (null !== d) {\n        var e = this.data,\n            f = d.$;\n        if (null !== e) if (f instanceof Q) {\n          var h = null !== a ? a.data : null;\n          f.GB(e, f.qb(h));\n        } else f instanceof Zf && (h = null !== a ? a.data : null, d.Wd ? (e = d.rk, d.rk = this, null !== b && f.ti(b.data, void 0), f.ti(h, f.qb(null !== this.rg ? this.rg.data : null)), d.rk = e) : f.ti(e, f.qb(h)));\n      }\n\n      f = this.zc;\n      h = this.DG;\n      null !== h && (e = !0, null !== d && (e = d.Ua, d.Ua = !0), h(this, c, f), null !== d && (d.Ua = e));\n      null !== a && (this.rg !== a && xr(a, this, f), Nr(this), this.J(Nm));\n      this.h(\"toNode\", b, a);\n      sn(this);\n    }\n  });\n  w.defineProperty(W, {\n    Jh: \"toPortId\"\n  }, function () {\n    return this.li;\n  }, function (a) {\n    var b = this.li;\n\n    if (b !== a) {\n      var c = this.Z,\n          d = this.zc;\n      null !== d && wr(c, d);\n      Mr(this);\n      this.li = a;\n      var e = this.zc;\n      null !== e && wr(c, e);\n      c = this.g;\n\n      if (null !== c) {\n        var f = this.data,\n            h = c.$;\n        null !== f && h instanceof Q && h.HB(f, a);\n      }\n\n      d !== e && (this.Oi = null, this.Tb(), f = this.DG, null !== f && (h = !0, null !== c && (h = c.Ua, c.Ua = !0), f(this, d, e), null !== c && (c.Ua = h)));\n      Nr(this);\n      this.h(\"toPortId\", b, a);\n    }\n  });\n  w.u(W, {\n    zc: \"toPort\"\n  }, function () {\n    var a = this.Hg;\n    return null === a ? null : a.DA(this.li);\n  });\n  w.defineProperty(W, {\n    DG: \"toPortChanged\"\n  }, function () {\n    return this.Gt;\n  }, function (a) {\n    var b = this.Gt;\n    b !== a && (null !== a && w.j(a, \"function\", W, \"toPortChanged\"), this.Gt = a, this.h(\"toPortChanged\", b, a));\n  });\n  w.defineProperty(W, {\n    Cb: \"fromSpot\"\n  }, function () {\n    return null !== this.Y ? this.Y.$j : qc;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.$j;\n    b.L(a) || (a = a.S(), this.Y.$j = a, this.h(\"fromSpot\", b, a), this.Tb());\n  });\n  w.defineProperty(W, {\n    am: \"fromEndSegmentLength\"\n  }, function () {\n    return null !== this.Y ? this.Y.Yj : NaN;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.Yj;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", W, \"fromEndSegmentLength\"), this.Y.Yj = a, this.h(\"fromEndSegmentLength\", b, a), this.Tb());\n  });\n  w.defineProperty(W, {\n    lu: \"fromEndSegmentDirection\"\n  }, function () {\n    return null !== this.Y ? this.Y.Xj : rr;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.Xj;\n    b !== a && (w.Yt(\"Link.fromEndSegmentDirection\", \"2.0\"), this.Y.Xj = a, this.h(\"fromEndSegmentDirection\", b, a), this.Tb());\n  });\n  w.defineProperty(W, {\n    mu: \"fromShortLength\"\n  }, function () {\n    return null !== this.Y ? this.Y.Zj : NaN;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.Zj;\n    b !== a && (this.Y.Zj = a, this.h(\"fromShortLength\", b, a), this.Tb(), this.ge());\n  });\n  w.defineProperty(W, {\n    Db: \"toSpot\"\n  }, function () {\n    return null !== this.Y ? this.Y.zk : qc;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.zk;\n    b.L(a) || (a = a.S(), this.Y.zk = a, this.h(\"toSpot\", b, a), this.Tb());\n  });\n  w.defineProperty(W, {\n    um: \"toEndSegmentLength\"\n  }, function () {\n    return null !== this.Y ? this.Y.xk : NaN;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.xk;\n    b !== a && (0 > a && w.Fa(a, \">= 0\", W, \"toEndSegmentLength\"), this.Y.xk = a, this.h(\"toEndSegmentLength\", b, a), this.Tb());\n  });\n  w.defineProperty(W, {\n    dv: \"toEndSegmentDirection\"\n  }, function () {\n    return null !== this.Y ? this.Y.wk : rr;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.wk;\n    b !== a && (w.Yt(\"Link.toEndSegmentDirection\", \"2.0\"), this.Y.wk = a, this.h(\"toEndSegmentDirection\", b, a), this.Tb());\n  });\n  w.defineProperty(W, {\n    ev: \"toShortLength\"\n  }, function () {\n    return null !== this.Y ? this.Y.yk : NaN;\n  }, function (a) {\n    this.Rd();\n    var b = this.Y.yk;\n    b !== a && (this.Y.yk = a, this.h(\"toShortLength\", b, a), this.Tb(), this.ge());\n  });\n\n  function sn(a) {\n    var b = a.V,\n        c = a.Z,\n        d = null,\n        b = d = null !== b ? null !== c ? b.WH(c) : b.Ca : null !== c ? c.Ca : null,\n        c = a.kl;\n\n    if (c !== b) {\n      null !== c && lr(c, a);\n      a.kl = b;\n      null !== b && mr(b, a);\n      var e = a.LE;\n\n      if (null !== e) {\n        var f = !0,\n            h = a.g;\n        null !== h && (f = h.Ua, h.Ua = !0);\n        e(a, c, b);\n        null !== h && (h.Ua = f);\n      }\n\n      !a.Mf || a.bE !== c && a.cE !== c || a.Tb();\n    }\n\n    if (a.zI) for (a = a.Ff; a.next();) {\n      a.value.Ca = d;\n    }\n  }\n\n  W.prototype.Rk = function () {\n    var a = this.Ca;\n    null !== a && this.V !== a && this.Z !== a && a.mx && R.prototype.Rk.call(this);\n  };\n\n  W.prototype.getOtherNode = W.prototype.IA = function (a) {\n    var b = this.V;\n    return a === b ? this.Z : b;\n  };\n\n  W.prototype.getOtherPort = function (a) {\n    var b = this.gc;\n    return a === b ? this.zc : b;\n  };\n\n  w.u(W, {\n    zI: \"isLabeledLink\"\n  }, function () {\n    return null === this.yf ? !1 : 0 < this.yf.count;\n  });\n  w.u(W, {\n    Ff: \"labelNodes\"\n  }, function () {\n    return null === this.yf ? ua : this.yf.i;\n  });\n\n  function zr(a, b) {\n    null === a.yf && (a.yf = new I(T));\n    a.yf.add(b);\n    a.H();\n  }\n\n  W.prototype.qu = function (a) {\n    R.prototype.qu.call(this, a);\n    Or(this) && nj(this, this.U);\n\n    if (!a) {\n      a = this.rg;\n      var b = null;\n      null !== a && (b = this.gc, xr(a, this, b));\n      var c = this.Hg,\n          d = null;\n      null !== c && (d = this.zc, c === a && d === b || xr(c, this, d));\n      Nr(this);\n    }\n  };\n\n  W.prototype.ru = function (a) {\n    R.prototype.ru.call(this, a);\n    Or(this) && nj(this, this.U);\n\n    if (!a) {\n      a = this.rg;\n      var b = null;\n      null !== a && (b = this.gc, yr(a, this, b));\n      var c = this.Hg,\n          d = null;\n      null !== c && (d = this.zc, c === a && d === b || yr(c, this, d));\n      Mr(this);\n    }\n  };\n\n  W.prototype.zn = function () {\n    this.Mf = !0;\n\n    if (null !== this.yf) {\n      var a = this.g;\n      if (null !== a) for (var b = this.yf.copy().i; b.next();) {\n        a.remove(b.value);\n      }\n    }\n\n    b = this.data;\n    null !== b && (a = this.g, null !== a && (a = a.$, a instanceof Q ? a.oy(b) : a instanceof Zf && a.ti(b, void 0)));\n  };\n\n  W.prototype.updateRelationshipsFromData = function () {\n    var a = this.data;\n\n    if (null !== a) {\n      var b = this.g;\n\n      if (null !== b) {\n        var c = b.$;\n\n        if (c instanceof Q) {\n          var d = c.cm(a);\n          this.V = d = b.Oe(d);\n          d = c.dm(a);\n          this.Z = d = b.Oe(d);\n          a = c.Nk(a);\n\n          if (0 < a.length || 0 < this.Ff.count) {\n            if (1 === a.length && 1 === this.Ff.count) {\n              var d = a[0],\n                  e = this.Ff.first();\n              if (c.qb(e.data) === d) return;\n            }\n\n            var d = new I().Pc(a),\n                f = new I();\n            this.Ff.each(function (a) {\n              null !== a.data && (a = c.qb(a.data), void 0 !== a && f.add(a));\n            });\n            a = f.copy();\n            a.ny(d);\n            d = d.copy();\n            d.ny(f);\n\n            if (0 < a.count || 0 < d.count) {\n              var h = this;\n              a.each(function (a) {\n                a = b.Oe(a);\n                null !== a && a.Xb === h && (a.Xb = null);\n              });\n              d.each(function (a) {\n                a = b.Oe(a);\n                null !== a && a.Xb !== h && (a.Xb = h);\n              });\n            }\n          }\n        }\n      }\n    }\n  };\n\n  W.prototype.move = function (a) {\n    var b = this.position,\n        c = b.x;\n    isNaN(c) && (c = 0);\n    b = b.y;\n    isNaN(b) && (b = 0);\n    c = a.x - c;\n    b = a.y - b;\n    R.prototype.move.call(this, a);\n    this.Ej(c, b);\n\n    for (a = this.Ff; a.next();) {\n      var d = a.value,\n          e = d.position;\n      d.moveTo(e.x + c, e.y + b);\n    }\n  };\n\n  w.defineProperty(W, {\n    oJ: \"relinkableFrom\"\n  }, function () {\n    return 0 !== (this.Zb & 1);\n  }, function (a) {\n    var b = 0 !== (this.Zb & 1);\n    b !== a && (this.Zb ^= 1, this.h(\"relinkableFrom\", b, a), this.Td());\n  });\n  w.defineProperty(W, {\n    pJ: \"relinkableTo\"\n  }, function () {\n    return 0 !== (this.Zb & 2);\n  }, function (a) {\n    var b = 0 !== (this.Zb & 2);\n    b !== a && (this.Zb ^= 2, this.h(\"relinkableTo\", b, a), this.Td());\n  });\n\n  W.prototype.canRelinkFrom = function () {\n    if (!this.oJ) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.on) return !1;\n    a = a.g;\n    return null === a || a.on ? !0 : !1;\n  };\n\n  W.prototype.canRelinkTo = function () {\n    if (!this.pJ) return !1;\n    var a = this.layer;\n    if (null === a) return !0;\n    if (!a.on) return !1;\n    a = a.g;\n    return null === a || a.on ? !0 : !1;\n  };\n\n  w.defineProperty(W, {\n    Vu: \"resegmentable\"\n  }, function () {\n    return 0 !== (this.Zb & 4);\n  }, function (a) {\n    var b = 0 !== (this.Zb & 4);\n    b !== a && (this.Zb ^= 4, this.h(\"resegmentable\", b, a), this.Td());\n  });\n  w.defineProperty(W, {\n    bc: \"isTreeLink\"\n  }, function () {\n    return 0 !== (this.Zb & 8);\n  }, function (a) {\n    var b = 0 !== (this.Zb & 8);\n    b !== a && (this.Zb ^= 8, this.h(\"isTreeLink\", b, a), null !== this.V && Dn(this.V), null !== this.Z && Dn(this.Z));\n  });\n  w.u(W, {\n    path: \"path\"\n  }, function () {\n    var a = this.Cd();\n    return a instanceof Y ? a : null;\n  });\n  w.u(W, {\n    $n: \"routeBounds\"\n  }, function () {\n    this.io();\n    var a = new B();\n    var b = Infinity,\n        c = Infinity,\n        d = this.qa;\n    if (0 === d) a.m(NaN, NaN, 0, 0);else {\n      if (1 === d) d = this.l(0), b = Math.min(d.x, b), c = Math.min(d.y, c), a.m(d.x, d.y, 0, 0);else if (2 === d) {\n        var e = this.l(0),\n            f = this.l(1),\n            b = Math.min(e.x, f.x),\n            c = Math.min(e.y, f.y);\n        a.m(e.x, e.y, 0, 0);\n        a.yi(f);\n      } else if (this.computeCurve() === tj && 3 <= d && !this.ac) {\n        if (e = this.l(0), b = e.x, c = e.y, a.m(b, c, 0, 0), 3 === d) d = this.l(1), b = Math.min(d.x, b), c = Math.min(d.y, c), f = this.l(2), b = Math.min(f.x, b), c = Math.min(f.y, c), Vd(e.x, e.y, d.x, d.y, d.x, d.y, f.x, f.y, .5, a);else for (var h = 3; h < d; h += 3) {\n          var k = this.l(h - 2);\n          h + 3 >= d && (h = d - 1);\n          var l = this.l(h - 1),\n              f = this.l(h);\n          Vd(e.x, e.y, k.x, k.y, l.x, l.y, f.x, f.y, .5, a);\n          b = Math.min(f.x, b);\n          c = Math.min(f.y, c);\n          e = f;\n        }\n      } else for (e = this.l(0), f = this.l(1), b = Math.min(e.x, f.x), c = Math.min(e.y, f.y), a.m(e.x, e.y, 0, 0), a.yi(f), h = 2; h < d; h++) {\n        e = this.l(h), b = Math.min(e.x, b), c = Math.min(e.y, c), a.yi(e);\n      }\n      this.Yz.m(b - a.x, c - a.y);\n    }\n    return this.Cw = a;\n  });\n  w.u(W, {\n    QF: \"midPoint\"\n  }, function () {\n    this.io();\n    return this.computeMidPoint(new z());\n  });\n\n  W.prototype.computeMidPoint = function (a) {\n    var b = this.qa;\n    if (0 === b) return a.assign(Ed), a;\n    if (1 === b) return a.assign(this.l(0)), a;\n\n    if (2 === b) {\n      var c = this.l(0),\n          d = this.l(1);\n      a.m((c.x + d.x) / 2, (c.y + d.y) / 2);\n      return a;\n    }\n\n    if (this.computeCurve() === tj && 3 <= b && !this.ac) {\n      if (3 === b) return this.l(1);\n      var c = (b - 1) / 3 | 0,\n          e = 3 * (c / 2 | 0);\n\n      if (1 === c % 2) {\n        var c = this.l(e),\n            d = this.l(e + 1),\n            f = this.l(e + 2),\n            e = this.l(e + 3),\n            b = d.x,\n            h = d.y,\n            d = f.x,\n            k = f.y,\n            f = (b + d) / 2,\n            l = (h + k) / 2,\n            h = ((c.y + h) / 2 + l) / 2,\n            k = (l + (k + e.y) / 2) / 2;\n        a.x = (((c.x + b) / 2 + f) / 2 + (f + (d + e.x) / 2) / 2) / 2;\n        a.y = (h + k) / 2;\n      } else a.assign(this.l(e));\n\n      return a;\n    }\n\n    e = 0;\n    f = w.Za();\n\n    for (h = 0; h < b - 1; h++) {\n      c = 0, c = this.l(h), d = this.l(h + 1), Wa(c.x, d.x) ? (c = d.y - c.y, 0 > c && (c = -c)) : Wa(c.y, d.y) ? (c = d.x - c.x, 0 > c && (c = -c)) : c = Math.sqrt(c.Cf(d)), f.push(c), e += c;\n    }\n\n    for (d = h = c = 0; c < e / 2 && h < b;) {\n      d = f[h];\n      if (c + d > e / 2) break;\n      c += d;\n      h++;\n    }\n\n    w.ra(f);\n    b = this.l(h);\n    f = this.l(h + 1);\n    b.x === f.x ? b.y > f.y ? a.m(b.x, b.y - (e / 2 - c)) : a.m(b.x, b.y + (e / 2 - c)) : b.y === f.y ? b.x > f.x ? a.m(b.x - (e / 2 - c), b.y) : a.m(b.x + (e / 2 - c), b.y) : (c = (e / 2 - c) / d, a.m(b.x + c * (f.x - b.x), b.y + c * (f.y - b.y)));\n    return a;\n  };\n\n  w.u(W, {\n    PF: \"midAngle\"\n  }, function () {\n    this.io();\n    return this.computeMidAngle();\n  });\n\n  W.prototype.computeMidAngle = function () {\n    var a = this.qa;\n    if (2 > a) return NaN;\n\n    if (this.computeCurve() === tj && 4 <= a && !this.ac) {\n      var b = (a - 1) / 3 | 0,\n          c = 3 * (b / 2 | 0);\n\n      if (1 === b % 2) {\n        var c = Math.floor(c),\n            b = this.l(c),\n            d = this.l(c + 1),\n            a = this.l(c + 2),\n            c = this.l(c + 3),\n            e = d.x,\n            d = d.y,\n            f = a.x,\n            a = a.y,\n            h = (e + f) / 2,\n            k = (d + a) / 2;\n        return Ta(((b.x + e) / 2 + h) / 2, ((b.y + d) / 2 + k) / 2, (h + (f + c.x) / 2) / 2, (k + (a + c.y) / 2) / 2);\n      }\n\n      if (0 < c && c + 1 < a) return b = this.l(c - 1), d = this.l(c + 1), b.Qb(d);\n    }\n\n    c = a / 2 | 0;\n    if (0 === a % 2) return b = this.l(c - 1), d = this.l(c), 4 <= a && b.Qc(d) ? (b = this.l(c - 2), a = this.l(c + 1), c = b.Cf(d), e = d.Cf(a), c > e + 10 ? b.Qb(d) : e > c + 10 ? d.Qb(a) : b.Qb(a)) : null === this.Sa || this.ac ? b.Qb(d) : this.Sa.hF(.5);\n    if (null !== this.Sa && !this.ac) return this.Sa.hF(.5);\n    b = this.l(c - 1);\n    d = this.l(c);\n    a = this.l(c + 1);\n    c = b.Cf(d);\n    e = d.Cf(a);\n    return c > e + 10 ? b.Qb(d) : e > c + 10 ? d.Qb(a) : b.Qb(a);\n  };\n\n  w.defineProperty(W, {\n    points: \"points\"\n  }, function () {\n    return this.hd;\n  }, function (a) {\n    var b = this.hd;\n\n    if (b !== a) {\n      var c = null;\n\n      if (Array.isArray(a)) {\n        var d = 0 === a.length % 2;\n        if (d) for (var e = 0; e < a.length; e++) {\n          if (\"number\" !== typeof a[e] || isNaN(a[e])) {\n            d = !1;\n            break;\n          }\n        }\n        if (d) for (c = new H(z), d = 0; d < a.length / 2; d++) {\n          e = new z(a[2 * d], a[2 * d + 1]).freeze(), c.add(e);\n        } else {\n          e = !0;\n\n          for (d = 0; d < a.length; d++) {\n            var f = a[d];\n\n            if (!w.Pa(f) || \"number\" !== typeof f.x || isNaN(f.x) || \"number\" !== typeof f.y || isNaN(f.y)) {\n              e = !1;\n              break;\n            }\n          }\n\n          if (e) for (c = new H(z), d = 0; d < a.length; d++) {\n            e = a[d], c.add(new z(e.x, e.y).freeze());\n          } else w.k(\"Link.points array must contain only an even number of numbers or objects with x and y properties, not: \" + a);\n        }\n      } else if (a instanceof H) for (c = a.copy(), a = c.i; a.next();) {\n        a.value.freeze();\n      } else w.k(\"Link.points value is not an instance of List or Array: \" + a);\n\n      c.freeze();\n      this.hd = c;\n      this.ge();\n      this.H();\n      Pr(this);\n      a = this.g;\n      null !== a && (a.Kn || a.ja.lb || a.Xx.add(this), a.Ka.sc && (this.np = c));\n      this.h(\"points\", b, c);\n    }\n  });\n  w.u(W, {\n    qa: \"pointsCount\"\n  }, function () {\n    return this.hd.count;\n  });\n\n  W.prototype.getPoint = W.prototype.l = function (a) {\n    return this.hd.n[a];\n  };\n\n  W.prototype.setPoint = W.prototype.Vg = function (a, b) {\n    null === this.Xe && w.k(\"Call Link.startRoute before modifying the points of the route.\");\n    this.hd.kg(a, b);\n  };\n\n  W.prototype.setPointAt = W.prototype.ca = function (a, b, c) {\n    null === this.Xe && w.k(\"Call Link.startRoute before modifying the points of the route.\");\n    this.hd.kg(a, new z(b, c));\n  };\n\n  W.prototype.insertPoint = function (a, b) {\n    null === this.Xe && w.k(\"Call Link.startRoute before modifying the points of the route.\");\n    this.hd.Sd(a, b);\n  };\n\n  W.prototype.insertPointAt = W.prototype.w = function (a, b, c) {\n    null === this.Xe && w.k(\"Call Link.startRoute before modifying the points of the route.\");\n    this.hd.Sd(a, new z(b, c));\n  };\n\n  W.prototype.addPoint = W.prototype.mi = function (a) {\n    null === this.Xe && w.k(\"Call Link.startRoute before modifying the points of the route.\");\n    this.hd.add(a);\n  };\n\n  W.prototype.addPointAt = W.prototype.oj = function (a, b) {\n    null === this.Xe && w.k(\"Call Link.startRoute before modifying the points of the route.\");\n    this.hd.add(new z(a, b));\n  };\n\n  W.prototype.removePoint = W.prototype.cG = function (a) {\n    null === this.Xe && w.k(\"Call Link.startRoute before modifying the points of the route.\");\n    this.hd.dd(a);\n  };\n\n  W.prototype.clearPoints = W.prototype.Np = function () {\n    null === this.Xe && w.k(\"Call Link.startRoute before modifying the points of the route.\");\n    this.hd.clear();\n  };\n\n  W.prototype.movePoints = W.prototype.Ej = function (a, b) {\n    if (0 !== a || 0 !== b) {\n      for (var c = this.Mf, d = new H(z), e = this.hd.i; e.next();) {\n        var f = e.value;\n        d.add(new z(f.x + a, f.y + b).freeze());\n      }\n\n      d.freeze();\n      e = this.hd;\n      this.hd = d;\n      this.H();\n      c && Pr(this);\n      c = this.g;\n      null !== c && c.Ka.sc && (this.np = d);\n      this.h(\"points\", e, d);\n    }\n  };\n\n  W.prototype.startRoute = W.prototype.qm = function () {\n    null === this.Xe && (this.Xe = this.hd, this.hd = this.hd.copy());\n  };\n\n  W.prototype.commitRoute = W.prototype.qj = function () {\n    if (null !== this.Xe) {\n      for (var a = this.Xe, b = this.hd, c = Infinity, d = Infinity, e = a.n, f = e.length, h = 0; h < f; h++) {\n        var k = e[h],\n            c = Math.min(k.x, c),\n            d = Math.min(k.y, d);\n      }\n\n      for (var l = Infinity, m = Infinity, n = b.n, p = n.length, h = 0; h < p; h++) {\n        k = n[h], l = Math.min(k.x, l), m = Math.min(k.y, m), k.freeze();\n      }\n\n      b.freeze();\n      if (p === f) for (h = 0; h < p; h++) {\n        if (f = e[h], k = n[h], f.x - c !== k.x - l || f.y - d !== k.y - m) {\n          this.H();\n          this.ge();\n          break;\n        }\n      } else this.H(), this.ge();\n      this.Xe = null;\n      c = this.g;\n      null !== c && c.Ka.sc && (this.np = b);\n      Pr(this);\n      this.h(\"points\", a, b);\n    }\n  };\n\n  W.prototype.rollbackRoute = W.prototype.vJ = function () {\n    null !== this.Xe && (this.hd = this.Xe, this.Xe = null);\n  };\n\n  function Pr(a) {\n    0 === a.hd.count ? a.Mf = !1 : (a.Mf = !0, a.Sp = a.l(0), a.Tp = a.l(a.qa - 1), Qr(a, !1));\n  }\n\n  W.prototype.invalidateRoute = W.prototype.Tb = function () {\n    if (!this.vi) {\n      var a = this.g;\n      a && (a.Xx.contains(this) || a.ja.lb || a.Ka.FI && !a.Ka.df) || (a = this.path, null !== a && (this.Mf = !1, this.H(), a.H()));\n    }\n  };\n\n  w.defineProperty(W, {\n    Mf: null\n  }, function () {\n    return 0 !== (this.Zb & 16);\n  }, function (a) {\n    0 !== (this.Zb & 16) !== a && (this.Zb ^= 16);\n  });\n  w.defineProperty(W, {\n    vi: \"suspendsRouting\"\n  }, function () {\n    return 0 !== (this.Zb & 32);\n  }, function (a) {\n    0 !== (this.Zb & 32) !== a && (this.Zb ^= 32);\n  });\n  w.defineProperty(W, {\n    qA: null\n  }, function () {\n    return 0 !== (this.Zb & 64);\n  }, function (a) {\n    0 !== (this.Zb & 64) !== a && (this.Zb ^= 64);\n  });\n  w.defineProperty(W, {\n    Sp: \"defaultFromPoint\"\n  }, function () {\n    return this.IC;\n  }, function (a) {\n    this.IC = a.copy();\n  });\n  w.defineProperty(W, {\n    Tp: \"defaultToPoint\"\n  }, function () {\n    return this.OC;\n  }, function (a) {\n    this.OC = a.copy();\n  });\n\n  W.prototype.updateRoute = W.prototype.io = function () {\n    if (!this.Mf && !this.qA) {\n      var a = !0;\n\n      try {\n        this.qA = !0, this.qm(), a = this.computePoints();\n      } finally {\n        this.qA = !1, a ? this.qj() : this.vJ();\n      }\n    }\n  };\n\n  W.prototype.computePoints = function () {\n    var a = this.g;\n    if (null === a) return !1;\n    var b = this.V,\n        c = null;\n    null === b ? (a.Gl || (a.ft = new Y(), a.ft.Da = qd, a.ft.mb = 0, a.Gl = new T(), a.Gl.add(a.ft), a.Gl.Ne()), this.Sp && (a.Gl.position = a.Gl.location = this.Sp, a.Gl.Ne(), b = a.Gl, c = a.ft)) : c = this.gc;\n\n    if (null !== c && !b.isVisible()) {\n      var d = b.findVisibleNode();\n      null !== d && d !== b ? (b = d, c = d.port) : b = d;\n    }\n\n    this.bE = b;\n    if (null === b || !b.location.I()) return !1;\n\n    for (; !(null === c || c.U.I() && c.Cj());) {\n      c = c.R;\n    }\n\n    if (null === c) return !1;\n    var e = this.Z,\n        f = null;\n    null === e ? (a.Hl || (a.gt = new Y(), a.gt.Da = qd, a.gt.mb = 0, a.Hl = new T(), a.Hl.add(a.gt), a.Hl.Ne()), this.Tp && (a.Hl.position = a.Hl.location = this.Tp, a.Hl.Ne(), e = a.Hl, f = a.gt)) : f = this.zc;\n    null === f || e.isVisible() || (a = e.findVisibleNode(), null !== a && a !== e ? (e = a, f = a.port) : e = a);\n    this.cE = e;\n    if (null === e || !e.location.I()) return !1;\n\n    for (; !(null === f || f.U.I() && f.Cj());) {\n      f = f.R;\n    }\n\n    if (null === f) return !1;\n    var h = this.qa,\n        d = this.computeSpot(!0, c),\n        a = this.computeSpot(!1, f),\n        k = d === yb,\n        l = a === yb,\n        m = c === f && null !== c,\n        n = this.ac,\n        p = this.nf === tj;\n    this.Oi = m && !n ? p = !0 : !1;\n    var q = this.Hp === mj || m;\n\n    if (!n && !m && k && l) {\n      if (k = !1, !q && 3 <= h && (q = this.getLinkPoint(b, c, d, !0, !1, e, f), l = this.getLinkPoint(e, f, a, !1, !1, b, c), k = this.adjustPoints(0, q, h - 1, l)) && (q = this.getLinkPoint(b, c, d, !0, !1, e, f), l = this.getLinkPoint(e, f, a, !1, !1, b, c), this.adjustPoints(0, q, h - 1, l)), !k) if (this.Np(), p) {\n        var h = this.getLinkPoint(b, c, d, !0, !1, e, f),\n            q = this.getLinkPoint(e, f, a, !1, !1, b, c),\n            k = q.x - h.x,\n            l = q.y - h.y,\n            m = this.computeCurviness(),\n            p = n = 0,\n            r = h.x + k / 3,\n            s = h.y + l / 3,\n            t = r,\n            u = s;\n        J(l, 0) ? u = 0 < k ? u - m : u + m : (n = -k / l, p = Math.sqrt(m * m / (n * n + 1)), 0 > m && (p = -p), t = (0 > l ? -1 : 1) * p + r, u = n * (t - r) + s);\n        var r = h.x + 2 * k / 3,\n            s = h.y + 2 * l / 3,\n            y = r,\n            v = s;\n        J(l, 0) ? v = 0 < k ? v - m : v + m : (y = (0 > l ? -1 : 1) * p + r, v = n * (y - r) + s);\n        this.Np();\n        this.mi(h);\n        this.oj(t, u);\n        this.oj(y, v);\n        this.mi(q);\n        this.Vg(0, this.getLinkPoint(b, c, d, !0, !1, e, f));\n        this.Vg(3, this.getLinkPoint(e, f, a, !1, !1, b, c));\n      } else d = this.getLinkPoint(b, c, d, !0, !1, e, f), a = this.getLinkPoint(e, f, a, !1, !1, b, c), this.hasCurviness() ? (q = a.x - d.x, e = a.y - d.y, f = this.computeCurviness(), b = d.x + q / 2, c = d.y + e / 2, h = b, k = c, J(e, 0) ? k = 0 < q ? k - f : k + f : (q = -q / e, h = Math.sqrt(f * f / (q * q + 1)), 0 > f && (h = -h), h = (0 > e ? -1 : 1) * h + b, k = q * (h - b) + c), this.mi(d), this.oj(h, k)) : this.mi(d), this.mi(a);\n    } else {\n      p = this.fm;\n      q && (n && p || m) && this.Np();\n      var x = m ? this.computeCurviness() : 0,\n          p = this.getLinkPoint(b, c, d, !0, n, e, f),\n          r = t = s = 0;\n      if (n || !k || m) if (u = this.computeEndSegmentLength(b, c, d, !0), r = this.getLinkDirection(b, c, p, d, !0, n, e, f), m && (k || d.L(a) || !n && 1 === d.x + a.x && 1 === d.y + a.y) && (r -= n ? 90 : 30, 0 > x && (r -= 180)), 0 > r ? r += 360 : 360 <= r && (r -= 360), m && (u += Math.abs(x) * (n ? 1 : 2)), 0 === r ? s = u : 90 === r ? t = u : 180 === r ? s = -u : 270 === r ? t = -u : (s = u * Math.cos(r * Math.PI / 180), t = u * Math.sin(r * Math.PI / 180)), d.Vd() && m) {\n        var A = c.Ya(Jb, w.K()),\n            L = w.wb(A.x + 1E3 * s, A.y + 1E3 * t);\n        this.getLinkPointFromPoint(b, c, A, L, !0, p);\n        w.v(A);\n        w.v(L);\n      }\n      var u = this.getLinkPoint(e, f, a, !1, n, b, c),\n          C = v = y = 0;\n      if (n || !l || m) A = this.computeEndSegmentLength(e, f, a, !1), C = this.getLinkDirection(e, f, u, a, !1, n, b, c), m && (l || d.L(a) || !n && 1 === d.x + a.x && 1 === d.y + a.y) && (C += n ? 0 : 30, 0 > x && (C += 180)), 0 > C ? C += 360 : 360 <= C && (C -= 360), m && (A += Math.abs(x) * (n ? 1 : 2)), 0 === C ? y = A : 90 === C ? v = A : 180 === C ? y = -A : 270 === C ? v = -A : (y = A * Math.cos(C * Math.PI / 180), v = A * Math.sin(C * Math.PI / 180)), a.Vd() && m && (A = f.Ya(Jb, w.K()), L = w.wb(A.x + 1E3 * y, A.y + 1E3 * v), this.getLinkPointFromPoint(e, f, A, L, !1, u), w.v(A), w.v(L));\n      a = p;\n      if (n || !k || m) a = new z(p.x + s, p.y + t);\n      d = u;\n      if (n || !l || m) d = new z(u.x + y, u.y + v);\n      !q && !n && k && 3 < h && this.adjustPoints(0, p, h - 2, d) ? this.Vg(h - 1, u) : !q && !n && l && 3 < h && this.adjustPoints(1, a, h - 1, u) ? this.Vg(0, p) : !q && (n ? 6 <= h : 4 < h) && this.adjustPoints(1, a, h - 2, d) ? (this.Vg(0, p), this.Vg(h - 1, u)) : (this.Np(), this.mi(p), (n || !k || m) && this.mi(a), n && this.addOrthoPoints(a, r, d, C, b, e), (n || !l || m) && this.mi(d), this.mi(u));\n    }\n\n    return !0;\n  };\n\n  function Rr(a, b) {\n    Math.abs(b.x - a.x) > Math.abs(b.y - a.y) ? (b.x = b.x >= a.x ? a.x + 9E9 : a.x - 9E9, b.y = a.y) : (b.y = b.y >= a.y ? a.y + 9E9 : a.y - 9E9, b.x = a.x);\n    return b;\n  }\n\n  W.prototype.getLinkPointFromPoint = function (a, b, c, d, e, f) {\n    void 0 === f && (f = new z());\n    if (null === a || null === b) return f.assign(c), f;\n    a.isVisible() || (e = a.findVisibleNode(), null !== e && e !== a && (b = e.port));\n    var h = e = 0,\n        k = 0,\n        l = 0;\n    a = null;\n    e = b.R;\n    null === e || e.Yg() || (e = e.R);\n    if (null === e) e = d.x, h = d.y, k = c.x, l = c.y;else {\n      a = e.rh;\n      e = 1 / (a.m11 * a.m22 - a.m12 * a.m21);\n      var k = a.m22 * e,\n          l = -a.m12 * e,\n          m = -a.m21 * e,\n          n = a.m11 * e,\n          p = e * (a.m21 * a.dy - a.m22 * a.dx),\n          q = e * (a.m12 * a.dx - a.m11 * a.dy);\n      e = d.x * k + d.y * m + p;\n      h = d.x * l + d.y * n + q;\n      k = c.x * k + c.y * m + p;\n      l = c.x * l + c.y * n + q;\n    }\n    b.En(e, h, k, l, f);\n    null !== a && f.transform(a);\n    return f;\n  };\n\n  function Sr(a, b) {\n    var c = b.Ws;\n    null === c && (c = new Tr(), c.port = b, c.Rc = b.W, b.Ws = c);\n    return Ur(c, a);\n  }\n\n  W.prototype.getLinkPoint = function (a, b, c, d, e, f, h, k) {\n    void 0 === k && (k = new z());\n    if (c.$c()) return b.Ya(c, k), k;\n\n    if (c.zj()) {\n      var l = Sr(this, b);\n\n      if (null !== l) {\n        k.assign(l.lq);\n\n        if (e && this.sy === Jr) {\n          var m = Sr(this, h);\n\n          if (null !== m && l.xn < m.xn) {\n            var l = w.K(),\n                m = w.K(),\n                n = new B(b.Ya(zb, l), b.Ya(Wb, m)),\n                p = this.computeSpot(!d, h);\n            a = this.getLinkPoint(f, h, p, !d, e, a, b, m);\n            (c.xj(Yb) || c.xj(Zb)) && a.y >= n.y && a.y <= n.y + n.height ? k.y = a.y : (c.xj(Xb) || c.xj($b)) && a.x >= n.x && a.x <= n.x + n.width && (k.x = a.x);\n            w.v(l);\n            w.v(m);\n          }\n        }\n\n        return k;\n      }\n    }\n\n    c = b.Ya(Jb, w.K());\n    l = f = null;\n    this.qa > (e ? 6 : 2) ? (l = d ? this.l(1) : this.l(this.qa - 2), e && (l = Rr(c, l.copy()))) : (f = w.K(), l = h.Ya(Jb, f), e && (l = Rr(c, l)), w.v(f));\n    this.getLinkPointFromPoint(a, b, c, l, d, k);\n    w.v(c);\n    return k;\n  };\n\n  W.prototype.getLinkDirection = function (a, b, c, d, e, f, h, k) {\n    a: if (d.$c()) c = d.x > d.y ? d.x > 1 - d.y ? 0 : d.x < 1 - d.y ? 270 : 315 : d.x < d.y ? d.x > 1 - d.y ? 90 : d.x < 1 - d.y ? 180 : 135 : .5 > d.x ? 225 : .5 < d.x ? 45 : 0;else {\n      if (d.zj()) {\n        var l = Sr(this, b);\n        if (null !== l) switch (l.ze) {\n          case w.pd:\n            c = 270;\n            break a;\n\n          case w.Uc:\n            c = 180;\n            break a;\n\n          default:\n          case w.fd:\n            c = 0;\n            break a;\n\n          case w.ed:\n            c = 90;\n            break a;\n        }\n      }\n\n      var l = b.Ya(Jb, w.K()),\n          m = null,\n          n = null;\n      this.qa > (f ? 6 : 2) ? (n = e ? this.l(1) : this.l(this.qa - 2), n = f ? Rr(l, n.copy()) : c) : (m = w.K(), n = k.Ya(Jb, m), w.v(m));\n      c = 0;\n      c = Math.abs(n.x - l.x) > Math.abs(n.y - l.y) ? n.x >= l.x ? 0 : 180 : n.y >= l.y ? 90 : 270;\n      w.v(l);\n    }\n\n    d.Vd() && h.qi(a) && (c += 180, 360 <= c && (c -= 360));\n    a = rr;\n    a = e ? this.lu : this.dv;\n    a === rr && (a = e ? b.lu : b.dv);\n\n    switch (a) {\n      case sr:\n        b = b.bm();\n        c += b;\n        360 <= c && (c -= 360);\n        break;\n\n      case rr:\n      case Ao:\n        if (d.CI()) break;\n        b = b.bm();\n        if (0 === b) break;\n        45 <= b && 135 > b ? c += 90 : 135 <= b && 225 > b ? c += 180 : 225 <= b && 315 > b && (c += 270);\n        360 <= c && (c -= 360);\n    }\n\n    return c;\n  };\n\n  W.prototype.computeEndSegmentLength = function (a, b, c, d) {\n    if (null !== b && c.zj() && (a = Sr(this, b), null !== a)) return a.zx;\n    a = NaN;\n    a = d ? this.am : this.um;\n    null !== b && isNaN(a) && (a = d ? b.am : b.um);\n    isNaN(a) && (a = 10);\n    return a;\n  };\n\n  W.prototype.computeSpot = function (a, b) {\n    var c;\n    if (a) {\n      if (c = b ? b : this.gc, null === c) c = Jb;else {\n        var d = this.Cb;\n        d.Zc() && null !== c && (d = c.Cb);\n        c = d === qc ? yb : d;\n      }\n    } else c = b ? b : this.zc, null === c ? c = Jb : (d = this.Db, d.Zc() && null !== c && (d = c.Db), c = d === qc ? yb : d);\n    return c;\n  };\n\n  W.prototype.computeOtherPoint = function (a, b) {\n    var c = b.Ya(Jb),\n        d;\n    d = b.Ws;\n    d = null !== d ? Ur(d, this) : null;\n    null !== d && (c = d.lq);\n    return c;\n  };\n\n  W.prototype.computeShortLength = function (a) {\n    if (a) {\n      if (a = this.mu, isNaN(a)) {\n        var b = this.gc;\n        null !== b && (a = b.mu);\n      }\n    } else a = this.ev, isNaN(a) && (b = this.zc, null !== b && (a = b.ev));\n\n    return isNaN(a) ? 0 : a;\n  };\n\n  W.prototype.Jk = function (a, b, c, d, e, f) {\n    if (!1 === this.Ug) return !1;\n    void 0 === b && (b = null);\n    void 0 === c && (c = null);\n    var h = f;\n    void 0 === f && (h = w.Wg(), h.reset());\n    h.multiply(this.transform);\n    if (this.un(a, h)) return cq(this, b, c, e), void 0 === f && w.bf(h), !0;\n\n    if (this.$f(a, h)) {\n      var k = !1;\n      if (!this.Jn) for (var l = this.xa.n, m = l.length; m--;) {\n        var n = l[m];\n\n        if (n.visible || n === this.cg) {\n          var p = n.U,\n              q = this.Ja;\n\n          if (!(p.x > q.width || p.y > q.height || 0 > p.x + p.width || 0 > p.y + p.height)) {\n            p = w.Wg();\n            p.set(h);\n            if (n instanceof D) k = n.Jk(a, b, c, d, e, p);else if (this.path === n) {\n              if (n instanceof Y) {\n                var k = n,\n                    r = a,\n                    s = d,\n                    q = p;\n                if (!1 === k.Ug) k = !1;else if (q.multiply(k.transform), s) b: {\n                  var t = r,\n                      u = q;\n                  if (k.un(t, u)) k = !0;else {\n                    if (void 0 === u && (u = k.transform, t.Fk(k.U))) {\n                      k = !0;\n                      break b;\n                    }\n\n                    var q = t.left,\n                        r = t.right,\n                        s = t.top,\n                        t = t.bottom,\n                        y = w.K(),\n                        v = w.K(),\n                        x = w.K(),\n                        A = w.Wg();\n                    A.set(u);\n                    A.SF(k.transform);\n                    A.SA();\n                    v.x = r;\n                    v.y = s;\n                    v.transform(A);\n                    y.x = q;\n                    y.y = s;\n                    y.transform(A);\n                    u = !1;\n                    oq(k, y, v, x) ? u = !0 : (y.x = r, y.y = t, y.transform(A), oq(k, y, v, x) ? u = !0 : (v.x = q, v.y = t, v.transform(A), oq(k, y, v, x) ? u = !0 : (y.x = q, y.y = s, y.transform(A), oq(k, y, v, x) && (u = !0))));\n                    w.bf(A);\n                    w.v(y);\n                    w.v(v);\n                    w.v(x);\n                    k = u;\n                  }\n                } else k = k.un(r, q);\n              }\n            } else k = Go(n, a, d, p);\n            k && (null !== b && (n = b(n)), n && (null === c || c(n)) && (e instanceof I && e.add(n), e instanceof H && e.add(n)));\n            w.bf(p);\n          }\n        }\n      }\n      void 0 === f && w.bf(h);\n      return k || null !== this.background || null !== this.pn;\n    }\n\n    void 0 === f && w.bf(h);\n    return !1;\n  };\n\n  w.u(W, {\n    ac: \"isOrthogonal\"\n  }, function () {\n    return 2 === (this.an.value & 2);\n  });\n  w.u(W, {\n    fm: \"isAvoiding\"\n  }, function () {\n    return 4 === (this.an.value & 4);\n  });\n\n  W.prototype.computeCurve = function () {\n    if (null === this.Oi) {\n      var a = this.gc,\n          b = this.ac;\n      this.Oi = null !== a && a === this.zc && !b;\n    }\n\n    return this.Oi ? tj : this.nf;\n  };\n\n  W.prototype.computeCorner = function () {\n    if (this.nf === tj) return 0;\n    var a = this.wA;\n    if (isNaN(a) || 0 > a) a = 10;\n    return a;\n  };\n\n  W.prototype.findMidLabel = function () {\n    for (var a = this.path, b = this.xa.n, c = b.length, d = 0; d < c; d++) {\n      var e = b[d];\n      if (e !== a && !e.ff && (-Infinity === e.Qe || isNaN(e.Qe))) return e;\n    }\n\n    for (a = this.Ff; a.next();) {\n      if (b = a.value, -Infinity === b.Qe || isNaN(b.Qe)) return b;\n    }\n\n    return null;\n  };\n\n  W.prototype.computeSpacing = function () {\n    if (!this.isVisible()) return 0;\n    var a;\n    a = Math.max(14, this.computeThickness());\n    var b = this.gc,\n        c = this.zc;\n\n    if (null !== b && null !== c) {\n      var d = this.findMidLabel();\n\n      if (null !== d) {\n        var e = d.Ja,\n            f = d.margin,\n            h = isNaN(e.width) ? 30 : e.width * d.scale + f.left + f.right,\n            e = isNaN(e.height) ? 14 : e.height * d.scale + f.top + f.bottom,\n            d = d.Cq;\n        d === rq || d === Lr || d === Kr ? a = Math.max(a, e) : d === Vp || d === Wp || d === Tp || d === Up ? a = Math.max(a, h) : (b = b.Ya(Jb).Qb(c.Ya(Jb)) / 180 * Math.PI, a = Math.max(a, Math.abs(Math.sin(b) * h) + Math.abs(Math.cos(b) * e) + 1));\n        this.nf === tj && (a *= 1.333);\n      }\n    }\n\n    return a;\n  };\n\n  W.prototype.arrangeBundledLinks = function (a, b) {\n    if (b) for (var c = 0; c < a.length; c++) {\n      var d = a[c];\n      d.Hp === mj && d.Tb();\n    }\n  };\n\n  W.prototype.computeCurviness = function () {\n    var a = this.qx;\n\n    if (isNaN(a)) {\n      var a = 16,\n          b = this.Bi;\n\n      if (null !== b) {\n        for (var c = w.Za(), d = 0, e = b.links, f = 0; f < e.length; f++) {\n          var h = e[f],\n              h = h.computeSpacing();\n          c.push(h);\n          d += h;\n        }\n\n        d = -d / 2;\n\n        for (f = 0; f < e.length; f++) {\n          h = e[f];\n\n          if (h === this) {\n            a = d + c[f] / 2;\n            break;\n          }\n\n          d += c[f];\n        }\n\n        b.oq === this.V && (a = -a);\n        w.ra(c);\n      }\n    }\n\n    return a;\n  };\n\n  W.prototype.computeThickness = function () {\n    if (!this.isVisible()) return 0;\n    var a = this.path;\n    return null !== a ? Math.max(a.mb, 1) : 1;\n  };\n\n  W.prototype.hasCurviness = function () {\n    return !isNaN(this.qx) || null !== this.Bi;\n  };\n\n  W.prototype.adjustPoints = function (a, b, c, d) {\n    var e = this.Hp;\n\n    if (this.ac) {\n      if (e === Hr) return !1;\n      e === Ir && (e = Gr);\n    }\n\n    switch (e) {\n      case Hr:\n        var f = this.l(a),\n            h = this.l(c);\n\n        if (!f.Qc(b) || !h.Qc(d)) {\n          var e = f.x,\n              f = f.y,\n              k = h.x - e,\n              l = h.y - f,\n              m = Math.sqrt(k * k + l * l);\n\n          if (!Wa(m, 0)) {\n            var n = 0;\n            Wa(k, 0) ? n = 0 > l ? -Math.PI / 2 : Math.PI / 2 : (n = Math.atan(l / Math.abs(k)), 0 > k && (n = Math.PI - n));\n            var h = b.x,\n                p = b.y,\n                l = d.x - h,\n                q = d.y - p,\n                r = Math.sqrt(l * l + q * q),\n                k = 0;\n            Wa(l, 0) ? k = 0 > q ? -Math.PI / 2 : Math.PI / 2 : (k = Math.atan(q / Math.abs(l)), 0 > l && (k = Math.PI - k));\n            m = r / m;\n            n = k - n;\n            this.Vg(a, b);\n\n            for (a += 1; a < c; a++) {\n              b = this.l(a), k = b.x - e, l = b.y - f, b = Math.sqrt(k * k + l * l), Wa(b, 0) || (q = 0, Wa(k, 0) ? q = 0 > l ? -Math.PI / 2 : Math.PI / 2 : (q = Math.atan(l / Math.abs(k)), 0 > k && (q = Math.PI - q)), k = q + n, b *= m, this.ca(a, h + b * Math.cos(k), p + b * Math.sin(k)));\n            }\n\n            this.Vg(c, d);\n          }\n        }\n\n        return !0;\n\n      case Ir:\n        f = this.l(a);\n        p = this.l(c);\n\n        if (!f.Qc(b) || !p.Qc(d)) {\n          var e = f.x,\n              f = f.y,\n              h = p.x,\n              p = p.y,\n              m = (h - e) * (h - e) + (p - f) * (p - f),\n              k = b.x,\n              n = b.y,\n              l = d.x,\n              q = d.y,\n              r = 0,\n              s = 1;\n          0 !== l - k ? (r = (q - n) / (l - k), s = Math.sqrt(1 + 1 / (r * r))) : r = 9E9;\n          this.Vg(a, b);\n\n          for (a += 1; a < c; a++) {\n            b = this.l(a);\n            var t = b.x,\n                u = b.y,\n                y = .5;\n            0 !== m && (y = ((e - t) * (e - h) + (f - u) * (f - p)) / m);\n            var v = e + y * (h - e),\n                x = f + y * (p - f);\n            b = Math.sqrt((t - v) * (t - v) + (u - x) * (u - x));\n            u < r * (t - v) + x && (b = -b);\n            0 < r && (b = -b);\n            t = k + y * (l - k);\n            y = n + y * (q - n);\n            0 !== r ? (b = t + b / s, this.ca(a, b, y - (b - t) / r)) : this.ca(a, t, y + b);\n          }\n\n          this.Vg(c, d);\n        }\n\n        return !0;\n\n      case Gr:\n        a: {\n          if (this.ac && (e = this.l(a), f = this.l(a + 1), h = this.l(a + 2), k = f.x, n = f.y, p = k, m = n, J(e.y, f.y) ? J(f.x, h.x) ? n = b.y : J(f.y, h.y) && (k = b.x) : J(e.x, f.x) && (J(f.y, h.y) ? k = b.x : J(f.x, h.x) && (n = b.y)), this.ca(a + 1, k, n), e = this.l(c), f = this.l(c - 1), h = this.l(c - 2), k = f.x, n = f.y, l = k, q = n, J(e.y, f.y) ? J(f.x, h.x) ? n = d.y : J(f.y, h.y) && (k = d.x) : J(e.x, f.x) && (J(f.y, h.y) ? k = d.x : J(f.x, h.x) && (n = d.y)), this.ca(c - 1, k, n), gi(this))) {\n            this.ca(a + 1, p, m);\n            this.ca(c - 1, l, q);\n            c = !1;\n            break a;\n          }\n\n          this.Vg(a, b);\n          this.Vg(c, d);\n          c = !0;\n        }\n\n        return c;\n\n      default:\n        return !1;\n    }\n  };\n\n  W.prototype.addOrthoPoints = function (a, b, c, d, e, f) {\n    b = -45 <= b && 45 > b ? 0 : 45 <= b && 135 > b ? 90 : 135 <= b && 225 > b ? 180 : 270;\n    d = -45 <= d && 45 > d ? 0 : 45 <= d && 135 > d ? 90 : 135 <= d && 225 > d ? 180 : 270;\n    var h = e.U.copy(),\n        k = f.U.copy();\n\n    if (h.I() && k.I()) {\n      h.Zf(8, 8);\n      k.Zf(8, 8);\n      h.yi(a);\n      k.yi(c);\n      var l, m;\n      if (0 === b) {\n        if (c.x > a.x || 270 === d && c.y < a.y && k.right > a.x || 90 === d && c.y > a.y && k.right > a.x) l = new z(c.x, a.y), m = new z(c.x, (a.y + c.y) / 2), 180 === d ? (l.x = this.computeMidOrthoPosition(a.x, c.x, !1), m.x = l.x, m.y = c.y) : 270 === d && c.y < a.y || 90 === d && c.y > a.y ? (l.x = a.x < k.left ? this.computeMidOrthoPosition(a.x, k.left, !1) : a.x < k.right && (270 === d && a.y < k.top || 90 === d && a.y > k.bottom) ? this.computeMidOrthoPosition(a.x, c.x, !1) : k.right, m.x = l.x, m.y = c.y) : 0 === d && a.x < k.left && a.y > k.top && a.y < k.bottom && (l.x = a.x, l.y = a.y < c.y ? Math.min(c.y, k.top) : Math.max(c.y, k.bottom), m.y = l.y);else {\n          l = new z(a.x, c.y);\n          m = new z((a.x + c.x) / 2, c.y);\n          if (180 === d || 90 === d && c.y < h.top || 270 === d && c.y > h.bottom) 180 === d && (k.Ia(a) || h.Ia(c)) ? l.y = this.computeMidOrthoPosition(a.y, c.y, !0) : c.y < a.y && (180 === d || 90 === d) ? l.y = this.computeMidOrthoPosition(h.top, Math.max(c.y, k.bottom), !0) : c.y > a.y && (180 === d || 270 === d) && (l.y = this.computeMidOrthoPosition(h.bottom, Math.min(c.y, k.top), !0)), m.x = c.x, m.y = l.y;\n          if (l.y > h.top && l.y < h.bottom) if (c.x >= h.left && c.x <= a.x || a.x <= k.right && a.x >= c.x) {\n            if (90 === d || 270 === d) l = new z(Math.max((a.x + c.x) / 2, a.x), a.y), m = new z(l.x, c.y);\n          } else l.y = 270 === d || (0 === d || 180 === d) && c.y < a.y ? Math.min(c.y, 0 === d ? h.top : Math.min(h.top, k.top)) : Math.max(c.y, 0 === d ? h.bottom : Math.max(h.bottom, k.bottom)), m.x = c.x, m.y = l.y;\n        }\n      } else if (180 === b) {\n        if (c.x < a.x || 270 === d && c.y < a.y && k.left < a.x || 90 === d && c.y > a.y && k.left < a.x) l = new z(c.x, a.y), m = new z(c.x, (a.y + c.y) / 2), 0 === d ? (l.x = this.computeMidOrthoPosition(a.x, c.x, !1), m.x = l.x, m.y = c.y) : 270 === d && c.y < a.y || 90 === d && c.y > a.y ? (l.x = a.x > k.right ? this.computeMidOrthoPosition(a.x, k.right, !1) : a.x > k.left && (270 === d && a.y < k.top || 90 === d && a.y > k.bottom) ? this.computeMidOrthoPosition(a.x, c.x, !1) : k.left, m.x = l.x, m.y = c.y) : 180 === d && a.x > k.right && a.y > k.top && a.y < k.bottom && (l.x = a.x, l.y = a.y < c.y ? Math.min(c.y, k.top) : Math.max(c.y, k.bottom), m.y = l.y);else {\n          l = new z(a.x, c.y);\n          m = new z((a.x + c.x) / 2, c.y);\n          if (0 === d || 90 === d && c.y < h.top || 270 === d && c.y > h.bottom) 0 === d && (k.Ia(a) || h.Ia(c)) ? l.y = this.computeMidOrthoPosition(a.y, c.y, !0) : c.y < a.y && (0 === d || 90 === d) ? l.y = this.computeMidOrthoPosition(h.top, Math.max(c.y, k.bottom), !0) : c.y > a.y && (0 === d || 270 === d) && (l.y = this.computeMidOrthoPosition(h.bottom, Math.min(c.y, k.top), !0)), m.x = c.x, m.y = l.y;\n          if (l.y > h.top && l.y < h.bottom) if (c.x <= h.right && c.x >= a.x || a.x >= k.left && a.x <= c.x) {\n            if (90 === d || 270 === d) l = new z(Math.min((a.x + c.x) / 2, a.x), a.y), m = new z(l.x, c.y);\n          } else l.y = 270 === d || (0 === d || 180 === d) && c.y < a.y ? Math.min(c.y, 180 === d ? h.top : Math.min(h.top, k.top)) : Math.max(c.y, 180 === d ? h.bottom : Math.max(h.bottom, k.bottom)), m.x = c.x, m.y = l.y;\n        }\n      } else if (90 === b) {\n        if (c.y > a.y || 180 === d && c.x < a.x && k.bottom > a.y || 0 === d && c.x > a.x && k.bottom > a.y) l = new z(a.x, c.y), m = new z((a.x + c.x) / 2, c.y), 270 === d ? (l.y = this.computeMidOrthoPosition(a.y, c.y, !0), m.x = c.x, m.y = l.y) : 180 === d && c.x < a.x || 0 === d && c.x > a.x ? (l.y = a.y < k.top ? this.computeMidOrthoPosition(a.y, k.top, !0) : a.y < k.bottom && (180 === d && a.x < k.left || 0 === d && a.x > k.right) ? this.computeMidOrthoPosition(a.y, c.y, !0) : k.bottom, m.x = c.x, m.y = l.y) : 90 === d && a.y < k.top && a.x > k.left && a.x < k.right && (l.x = a.x < c.x ? Math.min(c.x, k.left) : Math.max(c.x, k.right), l.y = a.y, m.x = l.x);else {\n          l = new z(c.x, a.y);\n          m = new z(c.x, (a.y + c.y) / 2);\n          if (270 === d || 0 === d && c.x < h.left || 180 === d && c.x > h.right) 270 === d && (k.Ia(a) || h.Ia(c)) ? l.x = this.computeMidOrthoPosition(a.x, c.x, !1) : c.x < a.x && (270 === d || 0 === d) ? l.x = this.computeMidOrthoPosition(h.left, Math.max(c.x, k.right), !1) : c.x > a.x && (270 === d || 180 === d) && (l.x = this.computeMidOrthoPosition(h.right, Math.min(c.x, k.left), !1)), m.x = l.x, m.y = c.y;\n          if (l.x > h.left && l.x < h.right) if (c.y >= h.top && c.y <= a.y || a.y <= k.bottom && a.y >= c.y) {\n            if (0 === d || 180 === d) l = new z(a.x, Math.max((a.y + c.y) / 2, a.y)), m = new z(c.x, l.y);\n          } else l.x = 180 === d || (90 === d || 270 === d) && c.x < a.x ? Math.min(c.x, 90 === d ? h.left : Math.min(h.left, k.left)) : Math.max(c.x, 90 === d ? h.right : Math.max(h.right, k.right)), m.x = l.x, m.y = c.y;\n        }\n      } else if (c.y < a.y || 180 === d && c.x < a.x && k.top < a.y || 0 === d && c.x > a.x && k.top < a.y) l = new z(a.x, c.y), m = new z((a.x + c.x) / 2, c.y), 90 === d ? (l.y = this.computeMidOrthoPosition(a.y, c.y, !0), m.x = c.x, m.y = l.y) : 180 === d && c.x < a.x || 0 === d && c.x >= a.x ? (l.y = a.y > k.bottom ? this.computeMidOrthoPosition(a.y, k.bottom, !0) : a.y > k.top && (180 === d && a.x < k.left || 0 === d && a.x > k.right) ? this.computeMidOrthoPosition(a.y, c.y, !0) : k.top, m.x = c.x, m.y = l.y) : 270 === d && a.y > k.bottom && a.x > k.left && a.x < k.right && (l.x = a.x < c.x ? Math.min(c.x, k.left) : Math.max(c.x, k.right), l.y = a.y, m.x = l.x);else {\n        l = new z(c.x, a.y);\n        m = new z(c.x, (a.y + c.y) / 2);\n        if (90 === d || 0 === d && c.x < h.left || 180 === d && c.x > h.right) 90 === d && (k.Ia(a) || h.Ia(c)) ? l.x = this.computeMidOrthoPosition(a.x, c.x, !1) : c.x < a.x && (90 === d || 0 === d) ? l.x = this.computeMidOrthoPosition(h.left, Math.max(c.x, k.right), !1) : c.x > a.x && (90 === d || 180 === d) && (l.x = this.computeMidOrthoPosition(h.right, Math.min(c.x, k.left), !1)), m.x = l.x, m.y = c.y;\n        if (l.x > h.left && l.x < h.right) if (c.y <= h.bottom && c.y >= a.y || a.y >= k.top && a.y <= c.y) {\n          if (0 === d || 180 === d) l = new z(a.x, Math.min((a.y + c.y) / 2, a.y)), m = new z(c.x, l.y);\n        } else l.x = 180 === d || (90 === d || 270 === d) && c.x < a.x ? Math.min(c.x, 270 === d ? h.left : Math.min(h.left, k.left)) : Math.max(c.x, 270 === d ? h.right : Math.max(h.right, k.right)), m.x = l.x, m.y = c.y;\n      }\n      var n = l,\n          p = m,\n          q = c;\n\n      if (this.fm) {\n        var r = this.g;\n        if (null === r || !Fn(r) || h.Ia(q) && !f.qi(e) || k.Ia(a) && !e.qi(f) || e === f || this.layer.Hc) b = !1;else {\n          var s = Gn(r, !0, this.Ca, null);\n          if (s.jq(Math.min(a.x, n.x), Math.min(a.y, n.y), Math.abs(a.x - n.x), Math.abs(a.y - n.y)) && s.jq(Math.min(n.x, p.x), Math.min(n.y, p.y), Math.abs(n.x - p.x), Math.abs(n.y - p.y)) && s.jq(Math.min(p.x, q.x), Math.min(p.y, q.y), Math.abs(p.x - q.x), Math.abs(p.y - q.y))) b = !1;else {\n            e = a;\n            f = q;\n            var t = c = null;\n\n            if (r.YA) {\n              r = s.eb.copy();\n              r.Zf(-s.Mp, -s.Kp);\n              var u = w.K();\n              Vr(s, a.x, a.y) || (ke(r.x, r.y, r.x + r.width, r.y + r.height, a.x, a.y, n.x, n.y, u) ? (c = a = u.copy(), b = u.Qb(n)) : ke(r.x, r.y, r.x + r.width, r.y + r.height, n.x, n.y, p.x, p.y, u) ? (c = a = u.copy(), b = u.Qb(p)) : ke(r.x, r.y, r.x + r.width, r.y + r.height, p.x, p.y, q.x, q.y, u) && (c = a = u.copy(), b = u.Qb(q)));\n              Vr(s, q.x, q.y) || (ke(r.x, r.y, r.x + r.width, r.y + r.height, q.x, q.y, p.x, p.y, u) ? (t = q = u.copy(), d = p.Qb(u)) : ke(r.x, r.y, r.x + r.width, r.y + r.height, p.x, p.y, n.x, n.y, u) ? (t = q = u.copy(), d = n.Qb(u)) : ke(r.x, r.y, r.x + r.width, r.y + r.height, n.x, n.y, a.x, a.y, u) && (t = q = u.copy(), d = a.Qb(u)));\n              w.v(u);\n            }\n\n            h = h.copy().Zg(k);\n            k = s.uG;\n            h.Zf(s.Mp * k, s.Kp * k);\n            Wr(s, a, b, q, d, h);\n            k = Xr(s, q.x, q.y);\n            !s.abort && 999999 <= k && (Jn(s), k = s.LF, h.Zf(s.Mp * k, s.Kp * k), Wr(s, a, b, q, d, h), k = Xr(s, q.x, q.y));\n            !s.abort && 999999 <= k && s.LG && (Jn(s), Wr(s, a, b, q, d, s.eb), k = Xr(s, q.x, q.y));\n\n            if (!s.abort && 999999 > k && 0 !== Xr(s, q.x, q.y)) {\n              Yr(this, s, q.x, q.y, d, !0);\n              h = this.l(2);\n              if (4 > this.qa) 0 === b || 180 === b ? (h.x = a.x, h.y = q.y) : (h.x = q.x, h.y = a.y), this.ca(2, h.x, h.y), this.w(3, h.x, h.y);else if (q = this.l(3), 0 === b || 180 === b) J(h.x, q.x) ? (h = 0 === b ? Math.max(h.x, a.x) : Math.min(h.x, a.x), this.ca(2, h, a.y), this.ca(3, h, q.y)) : J(h.y, q.y) ? (Math.abs(a.y - h.y) <= s.Kp / 2 && (this.ca(2, h.x, a.y), this.ca(3, q.x, a.y)), this.w(2, h.x, a.y)) : this.ca(2, a.x, h.y);else if (90 === b || 270 === b) J(h.y, q.y) ? (h = 90 === b ? Math.max(h.y, a.y) : Math.min(h.y, a.y), this.ca(2, a.x, h), this.ca(3, q.x, h)) : J(h.x, q.x) ? (Math.abs(a.x - h.x) <= s.Mp / 2 && (this.ca(2, a.x, h.y), this.ca(3, a.x, q.y)), this.w(2, a.x, h.y)) : this.ca(2, h.x, a.y);\n              null !== c && (a = this.l(1), q = this.l(2), a.x !== q.x && a.y !== q.y ? 0 === b || 180 === b ? this.w(2, a.x, q.y) : this.w(2, q.x, a.y) : 0 === b || 180 === b ? this.w(2, e.x, c.y) : this.w(2, c.x, e.y));\n              null !== t && (0 === d || 180 === d ? this.oj(f.x, t.y) : this.oj(t.x, f.y));\n              b = !0;\n            } else b = !1;\n          }\n        }\n      } else b = !1;\n\n      b || (this.mi(l), this.mi(m));\n    }\n  };\n\n  W.prototype.computeMidOrthoPosition = function (a, b) {\n    if (this.hasCurviness()) {\n      var c = this.computeCurviness();\n      return (a + b) / 2 + c;\n    }\n\n    return (a + b) / 2;\n  };\n\n  function gi(a) {\n    if (null === a.g || !a.fm || !Fn(a.g)) return !1;\n    var b = a.points.n,\n        c = b.length;\n    if (4 > c) return !1;\n    a = Gn(a.g, !0, a.Ca, null);\n\n    for (var d = 1; d < c - 2; d++) {\n      var e = b[d],\n          f = b[d + 1];\n      if (!a.jq(Math.min(e.x, f.x), Math.min(e.y, f.y), Math.abs(e.x - f.x), Math.abs(e.y - f.y))) return !0;\n    }\n\n    return !1;\n  }\n\n  function Yr(a, b, c, d, e, f) {\n    var h = b.Mp,\n        k = b.Kp,\n        l = Xr(b, c, d),\n        m = c,\n        n = d;\n\n    for (0 === e ? m += h : 90 === e ? n += k : 180 === e ? m -= h : n -= k; 1 < l && Xr(b, m, n) === l - 1;) {\n      c = m, d = n, 0 === e ? m += h : 90 === e ? n += k : 180 === e ? m -= h : n -= k, l -= 1;\n    }\n\n    if (f) {\n      if (1 < l) if (180 === e || 0 === e) c = Math.floor(c / h) * h + h / 2;else if (90 === e || 270 === e) d = Math.floor(d / k) * k + k / 2;\n    } else c = Math.floor(c / h) * h + h / 2, d = Math.floor(d / k) * k + k / 2;\n\n    1 < l && (f = e, m = c, n = d, 0 === e ? (f = 90, n += k) : 90 === e ? (f = 180, m -= h) : 180 === e ? (f = 270, n -= k) : 270 === e && (f = 0, m += h), Xr(b, m, n) === l - 1 ? Yr(a, b, m, n, f, !1) : (m = c, n = d, 0 === e ? (f = 270, n -= k) : 90 === e ? (f = 0, m += h) : 180 === e ? (f = 90, n += k) : 270 === e && (f = 180, m -= h), Xr(b, m, n) === l - 1 && Yr(a, b, m, n, f, !1)));\n    a.oj(c, d);\n  }\n\n  W.prototype.findClosestSegment = function (a) {\n    var b = a.x;\n    a = a.y;\n\n    for (var c = this.l(0), d = this.l(1), e = Ra(b, a, c.x, c.y, d.x, d.y), f = 0, h = 1; h < this.qa - 1; h++) {\n      var c = this.l(h + 1),\n          k = Ra(b, a, d.x, d.y, c.x, c.y),\n          d = c;\n      k < e && (f = h, e = k);\n    }\n\n    return f;\n  };\n\n  W.prototype.ge = function () {\n    this.Sa = null;\n  };\n\n  w.u(W, {\n    of: \"geometry\"\n  }, function () {\n    null === this.Sa && (this.io(), this.Sa = this.makeGeometry());\n    return this.Sa;\n  });\n\n  W.prototype.Hu = function (a) {\n    if (!a) {\n      if (!1 === this.Mf) return;\n      a = this.Cd();\n      if (null !== this.Sa && (null === a || null !== a.of)) return;\n    }\n\n    this.Sa = this.makeGeometry();\n    a = this.path;\n\n    if (null !== a) {\n      a.Sa = this.Sa;\n\n      for (var b = this.xa.n, c = b.length, d = 0; d < c; d++) {\n        var e = b[d];\n        e !== a && e.ff && e instanceof Y && (e.Sa = this.Sa);\n      }\n    }\n  };\n\n  W.prototype.makeGeometry = function () {\n    var a = this.qa;\n    if (2 > a) return new Be(Fe);\n    var b = !1,\n        c = this.g;\n    null !== c && Or(this) && c.ol.contains(this) && null !== this.Cw && (b = !0);\n    var d = c = 0,\n        e = this.l(0).copy(),\n        f = e.copy(),\n        c = this.hd.n,\n        h = this.computeCurve();\n    if (h === tj && 3 <= a && !Wa(this.Hq, 0)) {\n      if (3 === a) var k = this.l(1),\n          c = Math.min(e.x, k.x),\n          d = Math.min(e.y, k.y),\n          k = this.l(2),\n          c = Math.min(c, k.x),\n          d = Math.min(d, k.y);else {\n        if (this.ac) for (k = 0; k < a; k++) {\n          d = c[k], f.x = Math.min(d.x, f.x), f.y = Math.min(d.y, f.y);\n        } else for (k = 3; k < a; k += 3) {\n          k + 3 >= a && (k = a - 1), c = this.l(k), f.x = Math.min(c.x, f.x), f.y = Math.min(c.y, f.y);\n        }\n        c = f.x;\n        d = f.y;\n      }\n    } else {\n      for (k = 0; k < a; k++) {\n        d = c[k], f.x = Math.min(d.x, f.x), f.y = Math.min(d.y, f.y);\n      }\n\n      c = f.x;\n      d = f.y;\n    }\n    c -= this.Yz.x;\n    d -= this.Yz.y;\n    e.x -= c;\n    e.y -= d;\n\n    if (2 !== a || Or(this)) {\n      var l = w.s();\n      0 !== this.computeShortLength(!0) && (e = Zr(this, e, !0, f));\n      M(l, e.x, e.y, !1, !1);\n      if (h === tj && 3 <= a && !Wa(this.Hq, 0)) {\n        if (3 === a) k = this.l(1), a = k.x - c, b = k.y - d, k = this.l(2).copy(), k.x -= c, k.y -= d, 0 !== this.computeShortLength(!1) && (k = Zr(this, k, !1, f)), N(l, a, b, a, b, k.x, k.y);else if (this.ac) {\n          for (var f = new z(c, d), e = this.l(1).copy(), h = new z(c, d), a = new z(c, d), b = this.l(0), m = null, n = this.Hq / 3, k = 1; k < this.qa - 1; k++) {\n            var m = this.l(k),\n                p = b,\n                q = m,\n                r = this.l($r(this, m, k, !1));\n            if (!Wa(p.x, q.x) || !Wa(q.x, r.x)) if (!Wa(p.y, q.y) || !Wa(q.y, r.y)) {\n              var s = n,\n                  t = h,\n                  u = a;\n              isNaN(s) && (s = this.Hq / 3);\n              var y = p.x,\n                  p = p.y,\n                  v = q.x,\n                  q = q.y,\n                  x = r.x,\n                  r = r.y,\n                  A = s * as(y, p, v, q),\n                  s = s * as(v, q, x, r);\n              Wa(p, q) && Wa(v, x) && (v > y ? r > q ? (t.x = v - A, t.y = q - A, u.x = v + s, u.y = q + s) : (t.x = v - A, t.y = q + A, u.x = v + s, u.y = q - s) : r > q ? (t.x = v + A, t.y = q - A, u.x = v - s, u.y = q + s) : (t.x = v + A, t.y = q + A, u.x = v - s, u.y = q - s));\n              Wa(y, v) && Wa(q, r) && (q > p ? (x > v ? (t.x = v - A, t.y = q - A, u.x = v + s) : (t.x = v + A, t.y = q - A, u.x = v - s), u.y = q + s) : (x > v ? (t.x = v - A, t.y = q + A, u.x = v + s) : (t.x = v + A, t.y = q + A, u.x = v - s), u.y = q - s));\n              if (Wa(y, v) && Wa(v, x) || Wa(p, q) && Wa(q, r)) y = .5 * (y + x), p = .5 * (p + r), t.x = y, t.y = p, u.x = y, u.y = p;\n              1 === k ? (e.x = .5 * (b.x + m.x), e.y = .5 * (b.y + m.y)) : 2 === k && Wa(b.x, this.l(0).x) && Wa(b.y, this.l(0).y) && (e.x = .5 * (b.x + m.x), e.y = .5 * (b.y + m.y));\n              N(l, e.x - c, e.y - d, h.x - c, h.y - d, m.x - c, m.y - d);\n              f.set(h);\n              e.set(a);\n              b = m;\n            }\n          }\n\n          k = b.x;\n          b = b.y;\n          f = this.l(this.qa - 1);\n          0 !== this.computeShortLength(!1) && (f = Zr(this, f.copy(), !1, cd));\n          k = .5 * (k + f.x);\n          b = .5 * (b + f.y);\n          N(l, a.x - c, a.y - d, k - c, b - d, f.x - c, f.y - d);\n        } else for (k = 3; k < a; k += 3) {\n          b = this.l(k - 2), k + 3 >= a && (k = a - 1), f = this.l(k - 1), e = this.l(k), k === a - 1 && 0 !== this.computeShortLength(!1) && (e = Zr(this, e.copy(), !1, cd)), N(l, b.x - c, b.y - d, f.x - c, f.y - d, e.x - c, e.y - d);\n        }\n      } else {\n        f = w.K();\n        f.assign(this.l(0));\n        k = 1;\n\n        for (e = 0; k < a;) {\n          k = $r(this, f, k, 1 < k);\n          t = this.l(k);\n\n          if (k >= a - 1) {\n            if (!f.L(t)) 0 !== this.computeShortLength(!1) && (t = Zr(this, t.copy(), !1, cd)), bs(this, l, -c, -d, f, t, b);else if (0 === e) for (k = 1; k < a;) {\n              t = this.l(k++), bs(this, l, -c, -d, f, t, b), f.assign(t);\n            }\n            break;\n          }\n\n          e = $r(this, t, k + 1, k < a - 3);\n          k = l;\n          h = -c;\n          m = -d;\n          n = f;\n          u = this.l(e);\n          y = f;\n          p = b;\n          J(n.y, t.y) && J(t.x, u.x) ? (s = this.computeCorner(), s = Math.min(s, Math.abs(t.x - n.x) / 2), s = v = Math.min(s, Math.abs(u.y - t.y) / 2), J(s, 0) ? (bs(this, k, h, m, n, t, p), y.assign(t)) : (q = t.x, x = t.y, r = q, A = x, q = t.x > n.x ? t.x - s : t.x + s, A = u.y > t.y ? t.y + v : t.y - v, bs(this, k, h, m, n, new z(q, x), p), Pe(k, t.x + h, t.y + m, r + h, A + m), y.m(r, A))) : J(n.x, t.x) && J(t.y, u.y) ? (s = this.computeCorner(), v = Math.min(s, Math.abs(t.y - n.y) / 2), v = s = Math.min(v, Math.abs(u.x - t.x) / 2), J(s, 0) ? (bs(this, k, h, m, n, t, p), y.assign(t)) : (q = t.x, A = x = t.y, x = t.y > n.y ? t.y - v : t.y + v, r = u.x > t.x ? t.x + s : t.x - s, bs(this, k, h, m, n, new z(q, x), p), Pe(k, t.x + h, t.y + m, r + h, A + m), y.m(r, A))) : (bs(this, k, h, m, n, t, p), y.assign(t));\n          k = e;\n        }\n\n        w.v(f);\n      }\n      c = l.o;\n      w.q(l);\n    } else l = this.l(1).copy(), l.x -= c, l.y -= d, 0 !== this.computeShortLength(!0) && (e = Zr(this, e, !0, f)), 0 !== this.computeShortLength(!1) && (l = Zr(this, l, !1, f)), c = new Be(Fe), c.ha = e.x, c.da = e.y, c.C = l.x, c.D = l.y;\n\n    return c;\n  };\n\n  function as(a, b, c, d) {\n    a = c - a;\n    if (isNaN(a) || Infinity === a || -Infinity === a) return NaN;\n    0 > a && (a = -a);\n    b = d - b;\n    if (isNaN(b) || Infinity === b || -Infinity === b) return NaN;\n    0 > b && (b = -b);\n    return Wa(a, 0) ? b : Wa(b, 0) ? a : Math.sqrt(a * a + b * b);\n  }\n\n  function Zr(a, b, c, d) {\n    var e = a.qa;\n    if (2 > e) return b;\n\n    if (c) {\n      var f = a.l(1);\n      c = f.x - d.x;\n      d = f.y - d.y;\n      f = as(b.x, b.y, c, d);\n      if (0 === f) return b;\n      e = 2 === e ? .5 * f : f;\n      a = a.computeShortLength(!0);\n      a > e && (a = e);\n      c = a * (c - b.x) / f;\n      a = a * (d - b.y) / f;\n      b.x += c;\n      b.y += a;\n    } else {\n      f = a.l(e - 2);\n      c = f.x - d.x;\n      d = f.y - d.y;\n      f = as(b.x, b.y, c, d);\n      if (0 === f) return b;\n      e = 2 === e ? .5 * f : f;\n      a = a.computeShortLength(!1);\n      a > e && (a = e);\n      c = a * (b.x - c) / f;\n      a = a * (b.y - d) / f;\n      b.x -= c;\n      b.y -= a;\n    }\n\n    return b;\n  }\n\n  function $r(a, b, c, d) {\n    for (var e = a.qa, f = b; Wa(b.x, f.x) && Wa(b.y, f.y);) {\n      if (c >= e) return e - 1;\n      f = a.l(c++);\n    }\n\n    if (!Wa(b.x, f.x) && !Wa(b.y, f.y)) return c - 1;\n\n    for (var h = f; Wa(b.x, f.x) && Wa(f.x, h.x) && (!d || (b.y >= f.y ? f.y >= h.y : f.y <= h.y)) || Wa(b.y, f.y) && Wa(f.y, h.y) && (!d || (b.x >= f.x ? f.x >= h.x : f.x <= h.x));) {\n      if (c >= e) return e - 1;\n      h = a.l(c++);\n    }\n\n    return c - 2;\n  }\n\n  function bs(a, b, c, d, e, f, h) {\n    if (!h && Or(a)) {\n      h = [];\n      var k = 0;\n      a.isVisible() && (k = cs(a, e, f, h));\n      var l = e.x,\n          l = e.y;\n      if (0 < k) if (J(e.y, f.y)) {\n        if (e.x < f.x) for (var m = 0; m < k;) {\n          var n = Math.max(e.x, Math.min(h[m++] - 5, f.x - 10));\n          b.lineTo(n + c, f.y + d);\n\n          for (var l = n + c, p = Math.min(n + 10, f.x); m < k;) {\n            var q = h[m];\n            if (q < p + 10) m++, p = Math.min(q + 5, f.x);else break;\n          }\n\n          q = (n + p) / 2 + c;\n          q = f.y - 10 + d;\n          n = p + c;\n          p = f.y + d;\n          a.nf === lj ? M(b, n, p, !1, !1) : N(b, l, q, n, q, n, p);\n        } else for (m = k - 1; 0 <= m;) {\n          n = Math.min(e.x, Math.max(h[m--] + 5, f.x + 10));\n          b.lineTo(n + c, f.y + d);\n          l = n + c;\n\n          for (p = Math.max(n - 10, f.x); 0 <= m;) {\n            if (q = h[m], q > p - 10) m--, p = Math.max(q - 5, f.x);else break;\n          }\n\n          q = f.y - 10 + d;\n          n = p + c;\n          p = f.y + d;\n          a.nf === lj ? M(b, n, p, !1, !1) : N(b, l, q, n, q, n, p);\n        }\n      } else if (J(e.x, f.x)) if (e.y < f.y) for (m = 0; m < k;) {\n        n = Math.max(e.y, Math.min(h[m++] - 5, f.y - 10));\n        b.lineTo(f.x + c, n + d);\n        l = n + d;\n\n        for (p = Math.min(n + 10, f.y); m < k;) {\n          if (q = h[m], q < p + 10) m++, p = Math.min(q + 5, f.y);else break;\n        }\n\n        q = f.x - 10 + c;\n        n = f.x + c;\n        p += d;\n        a.nf === lj ? M(b, n, p, !1, !1) : N(b, q, l, q, p, n, p);\n      } else for (m = k - 1; 0 <= m;) {\n        n = Math.min(e.y, Math.max(h[m--] + 5, f.y + 10));\n        b.lineTo(f.x + c, n + d);\n        l = n + d;\n\n        for (p = Math.max(n - 10, f.y); 0 <= m;) {\n          if (q = h[m], q > p - 10) m--, p = Math.max(q - 5, f.y);else break;\n        }\n\n        q = f.x - 10 + c;\n        n = f.x + c;\n        p += d;\n        a.nf === lj ? M(b, n, p, !1, !1) : N(b, q, l, q, p, n, p);\n      }\n    }\n\n    b.lineTo(f.x + c, f.y + d);\n  }\n\n  function cs(a, b, c, d) {\n    var e = a.g;\n    if (null === e || b.L(c)) return 0;\n\n    for (e = e.Tx; e.next();) {\n      var f = e.value;\n      if (null !== f && f.visible) for (var f = f.xb.n, h = f.length, k = 0; k < h; k++) {\n        var l = f[k];\n\n        if (l instanceof W) {\n          if (l === a) return 0 < d.length && d.sort(function (a, b) {\n            return a - b;\n          }), d.length;\n\n          if (l.isVisible() && Or(l)) {\n            var m = l.$n;\n            m.I() && a.$n.$f(m) && !a.usesSamePort(l) && (m = l.path, null !== m && m.Cj() && ds(b, c, d, l));\n          }\n        }\n      }\n    }\n\n    0 < d.length && d.sort(function (a, b) {\n      return a - b;\n    });\n    return d.length;\n  }\n\n  function ds(a, b, c, d) {\n    for (var e = J(a.y, b.y), f = d.qa, h = d.l(0), k = w.K(), l = 1; l < f; l++) {\n      var m = d.l(l);\n\n      if (l < f - 1) {\n        var n = d.l(l + 1);\n\n        if (h.y === m.y && m.y === n.y) {\n          if (m.x > h.x && n.x > m.x || m.x < h.x && n.x < m.x) m = n, l++;\n        } else h.x === m.x && m.x === n.x && (m.y > h.y && n.y > m.y || m.y < h.y && n.y < m.y) && (m = n, l++);\n      }\n\n      a: {\n        var n = k,\n            p = a.x,\n            q = a.y,\n            r = b.x,\n            s = b.y,\n            t = h.x,\n            h = h.y,\n            u = m.x,\n            y = m.y;\n\n        if (!J(p, r)) {\n          if (J(q, s) && J(t, u) && Math.min(p, r) < t && Math.max(p, r) > t && Math.min(h, y) < q && Math.max(h, y) > q && !J(h, y)) {\n            n.x = t;\n            n.y = q;\n            n = !0;\n            break a;\n          }\n        } else if (!J(q, s) && J(h, y) && Math.min(q, s) < h && Math.max(q, s) > h && Math.min(t, u) < p && Math.max(t, u) > p && !J(t, u)) {\n          n.x = p;\n          n.y = h;\n          n = !0;\n          break a;\n        }\n\n        n.x = 0;\n        n.y = 0;\n        n = !1;\n      }\n\n      n && (e ? c.push(k.x) : c.push(k.y));\n      h = m;\n    }\n\n    w.v(k);\n  }\n\n  w.u(W, {\n    fu: \"firstPickIndex\"\n  }, function () {\n    var a;\n    2 >= this.qa ? a = 0 : ((a = this.ac) || (a = this.computeSpot(!0) !== yb), a = a ? 1 : 0);\n    return a;\n  });\n  w.u(W, {\n    Rx: \"lastPickIndex\"\n  }, function () {\n    var a = this.qa;\n    if (0 === a) a = 0;else if (2 >= a) a -= 1;else {\n      var b;\n      (b = this.ac) || (b = this.computeSpot(!1) !== yb);\n      a = b ? a - 2 : a - 1;\n    }\n    return a;\n  });\n\n  function Or(a) {\n    a = a.nf;\n    return a === kj || a === lj;\n  }\n\n  function Qr(a, b) {\n    if (b || Or(a)) {\n      var c = a.g;\n      null === c || c.ol.contains(a) || null === a.Cw || c.ol.add(a, a.Cw);\n    }\n  }\n\n  function nj(a, b) {\n    var c = a.layer;\n\n    if (null !== c && c.visible && !c.Hc) {\n      var d = c.g;\n      if (null !== d) for (var e = !1, d = d.Tx; d.next();) {\n        var f = d.value;\n        if (f.visible) if (f === c) for (var e = !0, h = !1, f = f.xb.n, k = f.length, l = 0; l < k; l++) {\n          var m = f[l];\n          m instanceof W && (m === a ? h = !0 : h && es(a, m, b));\n        } else if (e) for (f = f.xb.n, k = f.length, l = 0; l < k; l++) {\n          m = f[l], m instanceof W && es(a, m, b);\n        }\n      }\n    }\n  }\n\n  function es(a, b, c) {\n    if (null !== b && null !== b.Sa && Or(b)) {\n      var d = b.$n;\n      d.I() && (a.$n.$f(d) || c.$f(d)) && (a.usesSamePort(b) || b.ge());\n    }\n  }\n\n  W.prototype.usesSamePort = function (a) {\n    var b = this.qa,\n        c = a.qa;\n\n    if (0 < b && 0 < c) {\n      var d = this.l(0),\n          e = a.l(0);\n      if (d.Qc(e)) return !0;\n      b = this.l(b - 1);\n      a = a.l(c - 1);\n      if (b.Qc(a) || d.Qc(a) || b.Qc(e)) return !0;\n    } else if (this.V === a.V || this.Z === a.Z || this.V === a.Z || this.Z === a.V) return !0;\n\n    return !1;\n  };\n\n  W.prototype.isVisible = function () {\n    if (!R.prototype.isVisible.call(this)) return !1;\n    var a = this.Ca,\n        b = !0,\n        c = this.g;\n    null !== c && (b = c.Wd);\n    var d = this.V;\n\n    if (null !== d) {\n      if (this.bc && b && !d.wc) return !1;\n      if (d === a) return !0;\n\n      for (c = d; null !== c;) {\n        if (c.Xb === this) return !0;\n        c = c.Ca;\n      }\n\n      c = d.findVisibleNode();\n      if (null === c || c === a) return !1;\n    }\n\n    d = this.Z;\n\n    if (null !== d) {\n      if (this.bc && !b && !d.wc) return !1;\n      if (d === a) return !0;\n\n      for (c = d; null !== c;) {\n        if (c.Xb === this) return !0;\n        c = c.Ca;\n      }\n\n      b = d.findVisibleNode();\n      if (null === b || b === a) return !1;\n    }\n\n    return !0;\n  };\n\n  W.prototype.Ed = function (a) {\n    R.prototype.Ed.call(this, a);\n    null !== this.Bi && this.Bi.dq();\n    if (null !== this.yf) for (var b = this.yf.i; b.next();) {\n      b.value.Ed(a);\n    }\n  };\n\n  w.defineProperty(W, {\n    Hp: \"adjusting\"\n  }, function () {\n    return this.Sq;\n  }, function (a) {\n    var b = this.Sq;\n    b !== a && (this.Sq = a, this.h(\"adjusting\", b, a));\n  });\n  w.defineProperty(W, {\n    wA: \"corner\"\n  }, function () {\n    return this.mr;\n  }, function (a) {\n    var b = this.mr;\n    b !== a && (this.mr = a, this.ge(), this.h(\"corner\", b, a));\n  });\n  w.defineProperty(W, {\n    nf: \"curve\"\n  }, function () {\n    return this.pr;\n  }, function (a) {\n    var b = this.pr;\n    b !== a && (this.pr = a, this.Tb(), this.ge(), Qr(this, b === lj || b === kj || a === lj || a === kj), this.h(\"curve\", b, a));\n  });\n  w.defineProperty(W, {\n    qx: \"curviness\"\n  }, function () {\n    return this.qr;\n  }, function (a) {\n    var b = this.qr;\n    b !== a && (this.qr = a, this.Tb(), this.ge(), this.h(\"curviness\", b, a));\n  });\n  w.defineProperty(W, {\n    sy: \"routing\"\n  }, function () {\n    return this.an;\n  }, function (a) {\n    var b = this.an;\n    b !== a && (this.an = a, this.Oi = null, this.Tb(), Qr(this, 2 === (b.value & 2) || 2 === (a.value & 2)), this.h(\"routing\", b, a));\n  });\n  w.defineProperty(W, {\n    Hq: \"smoothness\"\n  }, function () {\n    return this.vt;\n  }, function (a) {\n    var b = this.vt;\n    b !== a && (this.vt = a, this.ge(), this.h(\"smoothness\", b, a));\n  });\n\n  function Nr(a) {\n    var b = a.rg;\n\n    if (null !== b) {\n      var c = a.Hg;\n\n      if (null !== c) {\n        var d = a.Rh;\n        a = a.li;\n\n        for (var e = null, f = null, h = b.rc.n, k = h.length, l = 0; l < k; l++) {\n          var m = h[l];\n          if (m.rg === b && m.Rh === d && m.Hg === c && m.li === a || m.rg === c && m.Rh === a && m.Hg === b && m.li === d) null === f ? f = m : (null === e && (e = [], e.push(f)), e.push(m));\n        }\n\n        if (null !== e) {\n          f = vr(b, c, d, a);\n          null === f && (f = new yl(), f.oq = b, f.hy = d, f.Mu = c, f.iy = a, ur(b, f), ur(c, f));\n          f.links = e;\n\n          for (l = 0; l < e.length; l++) {\n            m = e[l], m.Bi = f;\n          }\n\n          f.dq();\n        }\n      }\n    }\n  }\n\n  function Mr(a) {\n    var b = a.Bi;\n    null !== b && (a.Bi = null, a = b.links.indexOf(a), 0 <= a && (w.Jg(b.links, a), b.dq()));\n  }\n\n  w.u(W, {\n    key: \"key\"\n  }, function () {\n    var a = this.g;\n    return null !== a && a.$ instanceof Q ? a.$.cf(this.data) : void 0;\n  }, {\n    configurable: !0\n  });\n\n  function yl() {\n    w.oc(this);\n    this.gh = this.$v = !1;\n    this.iy = this.Mu = this.hy = this.oq = null;\n    this.links = [];\n  }\n\n  yl.prototype.dq = function () {\n    if (!this.$v) {\n      var a = this.links;\n      0 < a.length && (a = a[0].g, null !== a && (a.dD.add(this), this.gh = a.ja.lb));\n    }\n\n    this.$v = !0;\n  };\n\n  yl.prototype.VB = function () {\n    if (this.$v) {\n      this.$v = !1;\n      var a = this.links;\n\n      if (0 < a.length) {\n        var b = a[0],\n            c = b.g,\n            c = null === c || c.Kn && !this.gh;\n        this.gh = !1;\n        b.arrangeBundledLinks(a, c);\n        1 === a.length && (b.Bi = null, a.length = 0);\n      }\n\n      0 === a.length && (a = this.oq, null !== this && null !== a.Lh && a.Lh.remove(this), a = this.Mu, null !== this && null !== a.Lh && a.Lh.remove(this));\n    }\n  };\n\n  w.ce(yl, {\n    oq: !0,\n    hy: !0,\n    Mu: !0,\n    iy: !0,\n    links: !0,\n    spacing: !0\n  });\n\n  function Hn() {\n    w.oc(this);\n    this.JB = this.group = null;\n    this.su = !0;\n    this.abort = !1;\n    this.Bg = this.Ag = 1;\n    this.ss = this.rs = -1;\n    this.Ee = this.De = 8;\n    this.rd = null;\n    this.LG = !1;\n    this.uG = 22;\n    this.LF = 111;\n  }\n\n  w.ce(Hn, {\n    group: !0,\n    JB: !0,\n    su: !0,\n    abort: !0,\n    LG: !0,\n    uG: !0,\n    LF: !0\n  });\n\n  Hn.prototype.initialize = function (a) {\n    if (!(0 >= a.width || 0 >= a.height)) {\n      var b = a.y,\n          c = a.x + a.width,\n          d = a.y + a.height;\n      this.Ag = Math.floor((a.x - this.De) / this.De) * this.De;\n      this.Bg = Math.floor((b - this.Ee) / this.Ee) * this.Ee;\n      this.rs = Math.ceil((c + 2 * this.De) / this.De) * this.De;\n      this.ss = Math.ceil((d + 2 * this.Ee) / this.Ee) * this.Ee;\n      a = 1 + (Math.ceil((this.rs - this.Ag) / this.De) | 0);\n      b = 1 + (Math.ceil((this.ss - this.Bg) / this.Ee) | 0);\n\n      if (null === this.rd || this.Dp < a - 1 || this.Ep < b - 1) {\n        c = [];\n\n        for (d = 0; d <= a; d++) {\n          c[d] = [];\n        }\n\n        this.rd = c;\n        this.Dp = a - 1;\n        this.Ep = b - 1;\n      }\n\n      if (null !== this.rd) for (a = 0; a <= this.Dp; a++) {\n        for (b = 0; b <= this.Ep; b++) {\n          this.rd[a][b] = 1E6;\n        }\n      }\n    }\n  };\n\n  w.u(Hn, {\n    eb: null\n  }, function () {\n    return new B(this.Ag, this.Bg, this.rs - this.Ag, this.ss - this.Bg);\n  });\n  w.defineProperty(Hn, {\n    Mp: null\n  }, function () {\n    return this.De;\n  }, function (a) {\n    0 < a && a !== this.De && (this.De = a, this.initialize(this.eb));\n  });\n  w.defineProperty(Hn, {\n    Kp: null\n  }, function () {\n    return this.Ee;\n  }, function (a) {\n    0 < a && a !== this.Ee && (this.Ee = a, this.initialize(this.eb));\n  });\n\n  function Vr(a, b, c) {\n    return a.Ag <= b && b <= a.rs && a.Bg <= c && c <= a.ss;\n  }\n\n  function Xr(a, b, c) {\n    if (!Vr(a, b, c)) return 1E6;\n    b -= a.Ag;\n    b /= a.De;\n    c -= a.Bg;\n    c /= a.Ee;\n    return a.rd[b | 0][c | 0];\n  }\n\n  function Kn(a, b, c) {\n    Vr(a, b, c) && (b -= a.Ag, b /= a.De, c -= a.Bg, c /= a.Ee, a.rd[b | 0][c | 0] = 0);\n  }\n\n  function Jn(a) {\n    if (null !== a.rd) for (var b = 0; b <= a.Dp; b++) {\n      for (var c = 0; c <= a.Ep; c++) {\n        1 <= a.rd[b][c] && (a.rd[b][c] = 1E6);\n      }\n    }\n  }\n\n  Hn.prototype.jq = function (a, b, c, d) {\n    if (a > this.rs || a + c < this.Ag || b > this.ss || b + d < this.Bg) return !0;\n    a = (a - this.Ag) / this.De | 0;\n    b = (b - this.Bg) / this.Ee | 0;\n    c = Math.max(0, c) / this.De + 1 | 0;\n    var e = Math.max(0, d) / this.Ee + 1 | 0;\n    0 > a && (c += a, a = 0);\n    0 > b && (e += b, b = 0);\n    if (0 > c || 0 > e) return !0;\n    d = Math.min(a + c - 1, this.Dp) | 0;\n\n    for (c = Math.min(b + e - 1, this.Ep) | 0; a <= d; a++) {\n      for (e = b; e <= c; e++) {\n        if (0 === this.rd[a][e]) return !1;\n      }\n    }\n\n    return !0;\n  };\n\n  function fs(a, b, c, d, e, f, h, k, l) {\n    if (!(b < f || b > h || c < k || c > l)) {\n      var m, n;\n      m = b | 0;\n      n = c | 0;\n      var p = a.rd[m][n];\n      if (1 <= p && 999999 > p) for (e ? n += d : m += d, p += 1; f <= m && m <= h && k <= n && n <= l && !(p >= a.rd[m][n]);) {\n        a.rd[m][n] = p, p += 1, e ? n += d : m += d;\n      }\n      m = e ? n : m;\n      if (e) {\n        if (0 < d) for (c += d; c < m; c += d) {\n          fs(a, b, c, 1, !e, f, h, k, l), fs(a, b, c, -1, !e, f, h, k, l);\n        } else for (c += d; c > m; c += d) {\n          fs(a, b, c, 1, !e, f, h, k, l), fs(a, b, c, -1, !e, f, h, k, l);\n        }\n      } else if (0 < d) for (b += d; b < m; b += d) {\n        fs(a, b, c, 1, !e, f, h, k, l), fs(a, b, c, -1, !e, f, h, k, l);\n      } else for (b += d; b > m; b += d) {\n        fs(a, b, c, 1, !e, f, h, k, l), fs(a, b, c, -1, !e, f, h, k, l);\n      }\n    }\n  }\n\n  function gs(a, b, c, d, e, f, h, k, l) {\n    b |= 0;\n    c |= 0;\n    var m = 0,\n        n = 1;\n\n    for (a.rd[b][c] = n; 0 === m && b > f && b < h && c > k && c < l;) {\n      n += 1, a.rd[b][c] = n, e ? c += d : b += d, m = a.rd[b][c];\n    }\n  }\n\n  function hs(a, b, c, d, e, f, h, k, l) {\n    b |= 0;\n    c |= 0;\n    var m = 0;\n\n    for (a.rd[b][c] = 999999; 0 === m && b > f && b < h && c > k && c < l;) {\n      a.rd[b][c] = 999999, e ? c += d : b += d, m = a.rd[b][c];\n    }\n  }\n\n  function Wr(a, b, c, d, e, f) {\n    if (null !== a.rd) {\n      a.abort = !1;\n      var h = b.x,\n          k = b.y;\n      if (Vr(a, h, k) && (h -= a.Ag, h /= a.De, k -= a.Bg, k /= a.Ee, b = d.x, d = d.y, Vr(a, b, d))) if (b -= a.Ag, b /= a.De, d -= a.Bg, d /= a.Ee, 1 >= Math.abs(h - b) && 1 >= Math.abs(k - d)) a.abort = !0;else {\n        var l = f.x,\n            m = f.y,\n            n = f.x + f.width,\n            p = f.y + f.height,\n            l = l - a.Ag,\n            l = l / a.De,\n            m = m - a.Bg,\n            m = m / a.Ee,\n            n = n - a.Ag,\n            n = n / a.De,\n            p = p - a.Bg,\n            p = p / a.Ee;\n        f = Math.max(0, Math.min(a.Dp, l | 0));\n        n = Math.min(a.Dp, Math.max(0, n | 0));\n        m = Math.max(0, Math.min(a.Ep, m | 0));\n        p = Math.min(a.Ep, Math.max(0, p | 0));\n        h |= 0;\n        k |= 0;\n        b |= 0;\n        d |= 0;\n        l = 0 === c || 90 === c ? 1 : -1;\n        c = 90 === c || 270 === c;\n        0 === a.rd[h][k] ? (gs(a, h, k, l, c, f, n, m, p), gs(a, h, k, 1, !c, f, n, m, p), gs(a, h, k, -1, !c, f, n, m, p)) : gs(a, h, k, l, c, h, k, h, k);\n        0 === a.rd[b][d] ? (hs(a, b, d, 0 === e || 90 === e ? 1 : -1, 90 === e || 270 === e, f, n, m, p), hs(a, b, d, 1, !(90 === e || 270 === e), f, n, m, p), hs(a, b, d, -1, !(90 === e || 270 === e), f, n, m, p)) : hs(a, b, d, l, c, b, d, b, d);\n        a.abort || (fs(a, h, k, 1, !1, f, n, m, p), fs(a, h, k, -1, !1, f, n, m, p), fs(a, h, k, 1, !0, f, n, m, p), fs(a, h, k, -1, !0, f, n, m, p));\n      }\n    }\n  }\n\n  function Tr() {\n    w.oc(this);\n    this.port = this.Rc = null;\n    this.gg = [];\n    this.nq = !1;\n  }\n\n  w.ce(Tr, {\n    Rc: !0,\n    port: !0,\n    gg: !0,\n    nq: !0\n  });\n\n  Tr.prototype.toString = function () {\n    for (var a = this.gg, b = this.Rc.toString() + \" \" + a.length.toString() + \":\", c = 0; c < a.length; c++) {\n      var d = a[c];\n      null !== d && (b += \"\\n  \" + d.toString());\n    }\n\n    return b;\n  };\n\n  function is(a, b, c, d) {\n    b = b.offsetY;\n\n    switch (b) {\n      case w.ed:\n        return 90;\n\n      case w.Uc:\n        return 180;\n\n      case w.pd:\n        return 270;\n\n      case w.fd:\n        return 0;\n    }\n\n    switch (b) {\n      case w.ed | w.pd:\n        return 180 < c ? 270 : 90;\n\n      case w.Uc | w.fd:\n        return 90 < c && 270 >= c ? 180 : 0;\n    }\n\n    a = 180 * Math.atan2(a.height, a.width) / Math.PI;\n\n    switch (b) {\n      case w.Uc | w.pd:\n        return c > a && c <= 180 + a ? 180 : 270;\n\n      case w.pd | w.fd:\n        return c > 180 - a && c <= 360 - a ? 270 : 0;\n\n      case w.fd | w.ed:\n        return c > a && c <= 180 + a ? 90 : 0;\n\n      case w.ed | w.Uc:\n        return c > 180 - a && c <= 360 - a ? 180 : 90;\n\n      case w.Uc | w.pd | w.fd:\n        return 90 < c && c <= 180 + a ? 180 : c > 180 + a && c <= 360 - a ? 270 : 0;\n\n      case w.pd | w.fd | w.ed:\n        return 180 < c && c <= 360 - a ? 270 : c > a && 180 >= c ? 90 : 0;\n\n      case w.fd | w.ed | w.Uc:\n        return c > a && c <= 180 - a ? 90 : c > 180 - a && 270 >= c ? 180 : 0;\n\n      case w.ed | w.Uc | w.pd:\n        return c > 180 - a && c <= 180 + a ? 180 : c > 180 + a ? 270 : 90;\n    }\n\n    d && b !== (w.Uc | w.pd | w.fd | w.ed) && (c -= 15, 0 > c && (c += 360));\n    return c > a && c < 180 - a ? 90 : c >= 180 - a && c <= 180 + a ? 180 : c > 180 + a && c < 360 - a ? 270 : 0;\n  }\n\n  Tr.prototype.dq = function () {\n    this.gg.length = 0;\n  };\n\n  function Ur(a, b) {\n    var c = a.gg;\n\n    if (0 === c.length) {\n      a: if (!a.nq) {\n        c = a.nq;\n        a.nq = !0;\n        var d,\n            e = null,\n            f = a.Rc,\n            f = f instanceof V ? f : null;\n        if (null === f || f.ad) d = a.Rc.ZE(a.port.le);else {\n          if (!f.U.I()) {\n            a.nq = c;\n            break a;\n          }\n\n          e = f;\n          d = e.YE();\n        }\n        var h = a.gg.length = 0,\n            k = a.port.Ya(zb, w.K()),\n            l = a.port.Ya(Wb, w.K()),\n            f = w.lg(k.x, k.y, 0, 0);\n        f.yi(l);\n        w.v(k);\n        w.v(l);\n        k = w.wb(f.x + f.width / 2, f.y + f.height / 2);\n        l = a.port.bm();\n\n        for (d = d.i; d.next();) {\n          var m = d.value;\n\n          if (m.isVisible() && m.gc !== m.zc) {\n            var n = m.gc === a.port || null !== m.V && m.V.qi(e),\n                p = m.computeSpot(n, a.port);\n\n            if (p.zj() && (n = n ? m.zc : m.gc, null !== n)) {\n              var q = n.W;\n\n              if (null !== q) {\n                var r = q.findVisibleNode();\n                null !== r && r !== q && (q = r, n = q.port);\n                n = m.computeOtherPoint(q, n);\n                q = k.Qb(n);\n                q -= l;\n                0 > q && (q += 360);\n                p = is(f, p, q, m.ac);\n                r = 0;\n                0 === p ? (r = w.fd, 180 < q && (q -= 360)) : r = 90 === p ? w.ed : 180 === p ? w.Uc : w.pd;\n                p = a.gg[h];\n                void 0 === p ? (p = new js(m, q, r), a.gg[h] = p) : (p.link = m, p.angle = q, p.ze = r);\n                p.ey.set(n);\n                h++;\n              }\n            }\n          }\n        }\n\n        w.v(k);\n        a.gg.sort(Tr.prototype.gJ);\n        e = a.gg.length;\n        k = -1;\n\n        for (h = l = 0; h < e; h++) {\n          p = a.gg[h], void 0 !== p && (p.ze !== k && (k = p.ze, l = 0), p.bq = l, l++);\n        }\n\n        k = -1;\n        l = 0;\n\n        for (h = e - 1; 0 <= h; h--) {\n          p = a.gg[h], void 0 !== p && (p.ze !== k && (k = p.ze, l = p.bq + 1), p.xn = l);\n        }\n\n        h = a.gg;\n        p = a.port;\n        e = a.Rc.lJ;\n        k = w.K();\n        l = w.K();\n        d = w.K();\n        m = w.K();\n        p.Ya(zb, k);\n        p.Ya(Gb, l);\n        p.Ya(Wb, d);\n        p.Ya(Qb, m);\n        r = q = n = p = 0;\n        if (e === tr) for (var s = 0; s < h.length; s++) {\n          var t = h[s];\n\n          if (null !== t) {\n            var u = t.link.computeThickness();\n\n            switch (t.ze) {\n              case w.ed:\n                q += u;\n                break;\n\n              case w.Uc:\n                r += u;\n                break;\n\n              case w.pd:\n                p += u;\n                break;\n\n              default:\n              case w.fd:\n                n += u;\n            }\n          }\n        }\n\n        for (var y = 0, v = 0, x = 1, s = 0; s < h.length; s++) {\n          if (t = h[s], null !== t) {\n            var A, L;\n\n            if (y !== t.ze) {\n              y = t.ze;\n\n              switch (y) {\n                case w.ed:\n                  A = d;\n                  L = m;\n                  break;\n\n                case w.Uc:\n                  A = m;\n                  L = k;\n                  break;\n\n                case w.pd:\n                  A = k;\n                  L = l;\n                  break;\n\n                default:\n                case w.fd:\n                  A = l, L = d;\n              }\n\n              var C = L.x - A.x;\n              L = L.y - A.y;\n\n              switch (y) {\n                case w.ed:\n                  q > Math.abs(C) ? (x = Math.abs(C) / q, q = Math.abs(C)) : x = 1;\n                  break;\n\n                case w.Uc:\n                  r > Math.abs(L) ? (x = Math.abs(L) / r, r = Math.abs(L)) : x = 1;\n                  break;\n\n                case w.pd:\n                  p > Math.abs(C) ? (x = Math.abs(C) / p, p = Math.abs(C)) : x = 1;\n                  break;\n\n                default:\n                case w.fd:\n                  n > Math.abs(L) ? (x = Math.abs(L) / n, n = Math.abs(L)) : x = 1;\n              }\n\n              v = 0;\n            }\n\n            var O = t.lq;\n\n            if (e === tr) {\n              u = t.link.computeThickness();\n              u *= x;\n              O.set(A);\n\n              switch (y) {\n                case w.ed:\n                  O.x = A.x + C / 2 + q / 2 - v - u / 2;\n                  break;\n\n                case w.Uc:\n                  O.y = A.y + L / 2 + r / 2 - v - u / 2;\n                  break;\n\n                case w.pd:\n                  O.x = A.x + C / 2 - p / 2 + v + u / 2;\n                  break;\n\n                default:\n                case w.fd:\n                  O.y = A.y + L / 2 - n / 2 + v + u / 2;\n              }\n\n              v += u;\n            } else u = .5, e === qr && (u = (t.bq + 1) / (t.xn + 1)), O.x = A.x + C * u, O.y = A.y + L * u;\n          }\n        }\n\n        w.v(k);\n        w.v(l);\n        w.v(d);\n        w.v(m);\n        A = a.gg;\n\n        for (C = 0; C < A.length; C++) {\n          L = A[C], null !== L && (L.zx = a.computeEndSegmentLength(L));\n        }\n\n        a.nq = c;\n        w.Bb(f);\n      }\n\n      c = a.gg;\n    }\n\n    for (f = 0; f < c.length; f++) {\n      if (A = c[f], null !== A && A.link === b) return A;\n    }\n\n    return null;\n  }\n\n  Tr.prototype.gJ = function (a, b) {\n    return a === b ? 0 : null === a ? -1 : null === b ? 1 : a.ze < b.ze ? -1 : a.ze > b.ze ? 1 : a.angle < b.angle ? -1 : a.angle > b.angle ? 1 : 0;\n  };\n\n  Tr.prototype.computeEndSegmentLength = function (a) {\n    var b = a.link,\n        c = b.computeEndSegmentLength(this.Rc, this.port, yb, b.gc === this.port),\n        d = a.bq;\n    if (0 > d) return c;\n    var e = a.xn;\n    if (1 >= e || !b.ac) return c;\n    var b = a.ey,\n        f = a.lq;\n    if (a.ze === w.Uc || a.ze === w.ed) d = e - 1 - d;\n    return ((a = a.ze === w.Uc || a.ze === w.fd) ? b.y < f.y : b.x < f.x) ? c + 8 * d : (a ? b.y === f.y : b.x === f.x) ? c : c + 8 * (e - 1 - d);\n  };\n\n  function js(a, b, c) {\n    this.link = a;\n    this.angle = b;\n    this.ze = c;\n    this.ey = new z();\n    this.xn = this.bq = 0;\n    this.lq = new z();\n    this.zx = 0;\n  }\n\n  w.ce(js, {\n    link: !0,\n    angle: !0,\n    ze: !0,\n    ey: !0,\n    bq: !0,\n    xn: !0,\n    lq: !0,\n    zx: !0\n  });\n\n  js.prototype.toString = function () {\n    return this.link.toString() + \" \" + this.angle.toString() + \" \" + this.ze.toString() + \":\" + this.bq.toString() + \"/\" + this.xn.toString() + \" \" + this.lq.toString() + \" \" + this.zx.toString() + \" \" + this.ey.toString();\n  };\n\n  function zo() {\n    this.zk = this.$j = qc;\n    this.xk = this.Yj = NaN;\n    this.wk = this.Xj = rr;\n    this.yk = this.Zj = NaN;\n    this.Et = this.Jr = null;\n    this.Ft = this.Kr = Infinity;\n  }\n\n  zo.prototype.copy = function () {\n    var a = new zo();\n    a.$j = this.$j.S();\n    a.zk = this.zk.S();\n    a.Yj = this.Yj;\n    a.xk = this.xk;\n    a.Xj = this.Xj;\n    a.wk = this.wk;\n    a.Zj = this.Zj;\n    a.yk = this.yk;\n    a.Jr = this.Jr;\n    a.Et = this.Et;\n    a.Kr = this.Kr;\n    a.Ft = this.Ft;\n    return a;\n  };\n\n  function V(a) {\n    T.call(this, a);\n    this.ya |= 4608;\n    this.us = new I(R);\n    this.dp = new I(V);\n    this.Nb = this.zt = this.Dl = this.vs = this.ts = null;\n    this.oe = new sg();\n    this.oe.group = this;\n  }\n\n  w.La(V, T);\n  w.ga(\"Group\", V);\n\n  V.prototype.cloneProtected = function (a) {\n    T.prototype.cloneProtected.call(this, a);\n    this.ya &= -32769;\n    a.ts = this.ts;\n    a.vs = this.vs;\n    a.Dl = this.Dl;\n    a.zt = this.zt;\n    var b = a.bu(function (a) {\n      return a instanceof Pj;\n    });\n    a.Nb = b instanceof Pj ? b : null;\n    null !== this.oe ? (a.oe = this.oe.copy(), a.oe.group = a) : (null !== a.oe && (a.oe.group = null), a.oe = null);\n  };\n\n  V.prototype.pi = function (a) {\n    T.prototype.pi.call(this, a);\n    var b = a.Yp();\n\n    for (a = a.hc; a.next();) {\n      var c = a.value;\n      c.H();\n      c.J(8);\n      c.Ut();\n      if (c instanceof T) c.ag(b);else if (c instanceof W) for (c = c.Ff; c.next();) {\n        c.value.ag(b);\n      }\n    }\n  };\n\n  V.prototype.Zn = function (a, b, c, d, e, f, h) {\n    if (a === Ef && \"elements\" === b) {\n      if (e instanceof Pj) {\n        var k = e;\n        null === this.Nb ? this.Nb = k : this.Nb !== k && w.k(\"Cannot insert a second Placeholder into the visual tree of a Group.\");\n      } else e instanceof D && (k = e.bu(function (a) {\n        return a instanceof Pj;\n      }), k instanceof Pj && (null === this.Nb ? this.Nb = k : this.Nb !== k && w.k(\"Cannot insert a second Placeholder into the visual tree of a Group.\")));\n    } else a === Ff && \"elements\" === b && null !== this.Nb && (d === this.Nb ? this.Nb = null : d instanceof D && this.Nb.hm(d) && (this.Nb = null));\n    T.prototype.Zn.call(this, a, b, c, d, e, f, h);\n  };\n\n  V.prototype.pj = function (a, b, c, d) {\n    this.Cl = this.Nb;\n    D.prototype.pj.call(this, a, b, c, d);\n  };\n\n  V.prototype.im = function () {\n    if (!T.prototype.im.call(this)) return !1;\n\n    for (var a = this.hc; a.next();) {\n      var b = a.value;\n\n      if (b instanceof T) {\n        if (b.isVisible() && sm(b)) return !1;\n      } else if (b instanceof W && b.isVisible() && sm(b) && b.V !== this && b.Z !== this) return !1;\n    }\n\n    return !0;\n  };\n\n  w.u(V, {\n    placeholder: \"placeholder\"\n  }, function () {\n    return this.Nb;\n  });\n  w.defineProperty(V, {\n    CH: \"computesBoundsAfterDrag\"\n  }, function () {\n    return 0 !== (this.ya & 2048);\n  }, function (a) {\n    var b = 0 !== (this.ya & 2048);\n    b !== a && (w.j(a, \"boolean\", V, \"computesBoundsAfterDrag\"), this.ya ^= 2048, this.h(\"computesBoundsAfterDrag\", b, a));\n  });\n  w.defineProperty(V, {\n    mx: \"computesBoundsIncludingLinks\"\n  }, function () {\n    return 0 !== (this.ya & 4096);\n  }, function (a) {\n    w.j(a, \"boolean\", V, \"computesBoundsIncludingLinks\");\n    var b = 0 !== (this.ya & 4096);\n    b !== a && (this.ya ^= 4096, this.h(\"computesBoundsIncludingLinks\", b, a));\n  });\n  w.defineProperty(V, {\n    DH: \"computesBoundsIncludingLocation\"\n  }, function () {\n    return 0 !== (this.ya & 8192);\n  }, function (a) {\n    w.j(a, \"boolean\", V, \"computesBoundsIncludingLocation\");\n    var b = 0 !== (this.ya & 8192);\n    b !== a && (this.ya ^= 8192, this.h(\"computesBoundsIncludingLocation\", b, a));\n  });\n  w.defineProperty(V, {\n    nI: \"handlesDragDropForMembers\"\n  }, function () {\n    return 0 !== (this.ya & 16384);\n  }, function (a) {\n    w.j(a, \"boolean\", V, \"handlesDragDropForMembers\");\n    var b = 0 !== (this.ya & 16384);\n    b !== a && (this.ya ^= 16384, this.h(\"handlesDragDropForMembers\", b, a));\n  });\n  w.u(V, {\n    hc: \"memberParts\"\n  }, function () {\n    return this.us.i;\n  });\n\n  function mr(a, b) {\n    if (a.us.add(b)) {\n      b instanceof V && a.dp.add(b);\n      var c = a.XI;\n\n      if (null !== c) {\n        var d = !0,\n            e = a.g;\n        null !== e && (d = e.Ua, e.Ua = !0);\n        c(a, b);\n        null !== e && (e.Ua = d);\n      }\n\n      a.isVisible() && a.ad || b.Ed(!1);\n    }\n\n    b instanceof W && !a.mx || (c = a.Nb, null === c && (c = a), c.H());\n  }\n\n  function lr(a, b) {\n    if (a.us.remove(b)) {\n      b instanceof V && a.dp.remove(b);\n      var c = a.YI;\n\n      if (null !== c) {\n        var d = !0,\n            e = a.g;\n        null !== e && (d = e.Ua, e.Ua = !0);\n        c(a, b);\n        null !== e && (e.Ua = d);\n      }\n\n      a.isVisible() && a.ad || b.Ed(!0);\n    }\n\n    b instanceof W && !a.mx || (c = a.Nb, null === c && (c = a), c.H());\n  }\n\n  V.prototype.zn = function () {\n    if (0 < this.us.count) {\n      var a = this.g;\n      if (null !== a) for (var b = this.us.copy().i; b.next();) {\n        a.remove(b.value);\n      }\n    }\n\n    T.prototype.zn.call(this);\n  };\n\n  w.defineProperty(V, {\n    Ub: \"layout\"\n  }, function () {\n    return this.oe;\n  }, function (a) {\n    var b = this.oe;\n\n    if (b !== a) {\n      null !== a && w.G(a, sg, V, \"layout\");\n      null !== b && (b.g = null, b.group = null);\n      this.oe = a;\n      var c = this.g;\n      null !== a && (a.g = c, a.group = this);\n      null !== c && (c.Pj = !0);\n      this.h(\"layout\", b, a);\n      null !== c && c.ye();\n    }\n  });\n  w.defineProperty(V, {\n    XI: \"memberAdded\"\n  }, function () {\n    return this.ts;\n  }, function (a) {\n    var b = this.ts;\n    b !== a && (null !== a && w.j(a, \"function\", V, \"memberAdded\"), this.ts = a, this.h(\"memberAdded\", b, a));\n  });\n  w.defineProperty(V, {\n    YI: \"memberRemoved\"\n  }, function () {\n    return this.vs;\n  }, function (a) {\n    var b = this.vs;\n    b !== a && (null !== a && w.j(a, \"function\", V, \"memberRemoved\"), this.vs = a, this.h(\"memberRemoved\", b, a));\n  });\n  w.defineProperty(V, {\n    eB: \"memberValidation\"\n  }, function () {\n    return this.Dl;\n  }, function (a) {\n    var b = this.Dl;\n    b !== a && (null !== a && w.j(a, \"function\", V, \"memberValidation\"), this.Dl = a, this.h(\"memberValidation\", b, a));\n  });\n\n  V.prototype.canAddMembers = function (a) {\n    var b = this.g;\n    if (null === b) return !1;\n    b = b.pb;\n\n    for (a = qh(a).i; a.next();) {\n      if (!b.isValidMember(this, a.value)) return !1;\n    }\n\n    return !0;\n  };\n\n  V.prototype.addMembers = function (a, b) {\n    var c = this.g;\n    if (null === c) return !1;\n\n    for (var c = c.pb, d = !0, e = qh(a).i; e.next();) {\n      var f = e.value;\n      !b || c.isValidMember(this, f) ? f.Ca = this : d = !1;\n    }\n\n    return d;\n  };\n\n  w.defineProperty(V, {\n    ZJ: \"ungroupable\"\n  }, function () {\n    return 0 !== (this.ya & 256);\n  }, function (a) {\n    var b = 0 !== (this.ya & 256);\n    b !== a && (w.j(a, \"boolean\", V, \"ungroupable\"), this.ya ^= 256, this.h(\"ungroupable\", b, a));\n  });\n\n  V.prototype.canUngroup = function () {\n    if (!this.ZJ) return !1;\n    var a = this.layer;\n    if (null !== a && !a.jx) return !1;\n    a = a.g;\n    return null === a || a.jx ? !0 : !1;\n  };\n\n  V.prototype.ag = function (a) {\n    void 0 === a && (a = null);\n    var b = 0 !== (this.ya & 65536);\n    T.prototype.ag.call(this, a);\n    if (!b) for (0 !== (this.ya & 65536) !== !0 && (this.ya ^= 65536), b = this.YE(); b.next();) {\n      var c = b.value;\n\n      if (null === a || !a.contains(c)) {\n        var d = c.V;\n        null !== d && d !== this && d.qi(this) && !d.isVisible() ? (wr(d, c.gc), wr(d, c.zc), c.Tb()) : (d = c.Z, null !== d && d !== this && d.qi(this) && !d.isVisible() && (wr(d, c.gc), wr(d, c.zc), c.Tb()));\n      }\n    }\n  };\n\n  V.prototype.findExternalLinksConnected = V.prototype.YE = function () {\n    var a = this.Yp();\n    a.add(this);\n\n    for (var b = new I(W), c = a.i; c.next();) {\n      var d = c.value;\n      if (d instanceof T) for (d = d.je; d.next();) {\n        var e = d.value;\n        a.contains(e) || b.add(e);\n      }\n    }\n\n    return b.i;\n  };\n\n  V.prototype.findExternalNodesConnected = function () {\n    var a = this.Yp();\n    a.add(this);\n\n    for (var b = new I(T), c = a.i; c.next();) {\n      var d = c.value;\n      if (d instanceof T) for (d = d.je; d.next();) {\n        var e = d.value,\n            f = e.V;\n        a.contains(f) && f !== this || b.add(f);\n        e = e.Z;\n        a.contains(e) && e !== this || b.add(e);\n      }\n    }\n\n    return b.i;\n  };\n\n  V.prototype.findContainingGroupChain = function () {\n    function a(b, d) {\n      null !== b && (d.add(b), a(b.Ca, d));\n    }\n\n    var b = new I(V);\n    a(this, b);\n    return b;\n  };\n\n  V.prototype.findSubGraphParts = V.prototype.Yp = function () {\n    var a = new I(R);\n    ih(a, this, !0, 0, !0);\n    a.remove(this);\n    return a;\n  };\n\n  V.prototype.Ed = function (a) {\n    T.prototype.Ed.call(this, a);\n\n    for (var b = this.hc; b.next();) {\n      b.value.Ed(a);\n    }\n  };\n\n  V.prototype.collapseSubGraph = V.prototype.collapseSubGraph = function () {\n    var a = this.g;\n\n    if (null !== a && !a.yh) {\n      a.yh = !0;\n      var b = this.Yp();\n      ks(this, b, a.Ka, this);\n      a.yh = !1;\n    }\n  };\n\n  function ks(a, b, c, d) {\n    for (var e = a.hc; e.next();) {\n      var f = e.value;\n      f.Ed(!1);\n\n      if (f instanceof V) {\n        var h = f;\n        h.ad && (h.Gy = h.ad, ks(h, b, c, d));\n      }\n\n      if (f instanceof T) f.ag(b), hl(c, f, d);else if (f instanceof W) for (f = f.Ff; f.next();) {\n        f.value.ag(b);\n      }\n    }\n\n    a.ad = !1;\n  }\n\n  V.prototype.expandSubGraph = V.prototype.expandSubGraph = function () {\n    var a = this.g;\n\n    if (null !== a && !a.yh) {\n      a.yh = !0;\n      var b = this.Yp();\n      ls(this, b, a.Ka, this);\n      a.yh = !1;\n    }\n  };\n\n  function ls(a, b, c, d) {\n    for (var e = a.hc; e.next();) {\n      var f = e.value;\n      f.Ed(!0);\n\n      if (f instanceof V) {\n        var h = f;\n        h.Gy && (h.Gy = !1, ls(h, b, c, d));\n      }\n\n      if (f instanceof T) f.ag(b), gl(c, f, d);else if (f instanceof W) for (f = f.Ff; f.next();) {\n        f.value.ag(b);\n      }\n    }\n\n    a.ad = !0;\n  }\n\n  w.defineProperty(V, {\n    ad: \"isSubGraphExpanded\"\n  }, function () {\n    return 0 !== (this.ya & 512);\n  }, function (a) {\n    var b = 0 !== (this.ya & 512);\n\n    if (b !== a) {\n      w.j(a, \"boolean\", V, \"isSubGraphExpanded\");\n      this.ya ^= 512;\n      var c = this.g;\n      this.h(\"isSubGraphExpanded\", b, a);\n      b = this.PJ;\n\n      if (null !== b) {\n        var d = !0;\n        null !== c && (d = c.Ua, c.Ua = !0);\n        b(this);\n        null !== c && (c.Ua = d);\n      }\n\n      null !== c && c.ja.lb ? (null !== this.Nb && this.Nb.H(), this.hc.each(function (a) {\n        a.updateAdornments();\n      })) : a ? this.expandSubGraph() : this.collapseSubGraph();\n    }\n  });\n  w.defineProperty(V, {\n    Gy: \"wasSubGraphExpanded\"\n  }, function () {\n    return 0 !== (this.ya & 1024);\n  }, function (a) {\n    var b = 0 !== (this.ya & 1024);\n    b !== a && (w.j(a, \"boolean\", V, \"wasSubGraphExpanded\"), this.ya ^= 1024, this.h(\"wasSubGraphExpanded\", b, a));\n  });\n  w.defineProperty(V, {\n    PJ: \"subGraphExpandedChanged\"\n  }, function () {\n    return this.zt;\n  }, function (a) {\n    var b = this.zt;\n    b !== a && (null !== a && w.j(a, \"function\", V, \"subGraphExpandedChanged\"), this.zt = a, this.h(\"subGraphExpandedChanged\", b, a));\n  });\n\n  V.prototype.move = function (a) {\n    var b = this.position,\n        c = b.x;\n    isNaN(c) && (c = 0);\n    b = b.y;\n    isNaN(b) && (b = 0);\n    var c = a.x - c,\n        b = a.y - b,\n        d = w.wb(c, b);\n    T.prototype.move.call(this, a);\n    a = new I(W);\n\n    for (var e = this.Yp().i; e.next();) {\n      var f = e.value;\n      f instanceof W && (f.vi && a.add(f), f.vi = !0);\n    }\n\n    for (e.reset(); e.next();) {\n      if (f = e.value, !(f instanceof W || f instanceof T && f.Df)) {\n        var h = f.position,\n            k = f.location;\n        h.I() ? (d.x = h.x + c, d.y = h.y + b, f.position = d) : k.I() && (d.x = k.x + c, d.y = k.y + b, f.location = d);\n      }\n    }\n\n    for (e.reset(); e.next();) {\n      if (f = e.value, f instanceof W && (f.vi = a.contains(f), f.Mf || f.V !== this && f.Z !== this)) h = f.position, d.x = h.x + c, d.y = h.y + b, d.I() ? f.move(d) : f.Tb(), gi(f) && f.Tb();\n    }\n\n    w.v(d);\n  };\n\n  w.defineProperty(V, {\n    Wn: null\n  }, function () {\n    return 0 !== (this.ya & 32768);\n  }, function (a) {\n    0 !== (this.ya & 32768) !== a && (this.ya ^= 32768);\n  });\n\n  function Pj() {\n    G.call(this);\n    this.lf = ed;\n    this.jt = new B(NaN, NaN, NaN, NaN);\n  }\n\n  w.La(Pj, G);\n  w.ga(\"Placeholder\", Pj);\n\n  Pj.prototype.cloneProtected = function (a) {\n    G.prototype.cloneProtected.call(this, a);\n    a.lf = this.lf.S();\n    a.jt = this.jt.copy();\n  };\n\n  Pj.prototype.Ek = function (a) {\n    if (null === this.background && null === this.pn) return !1;\n    var b = this.Ja;\n    return db(0, 0, b.width, b.height, a.x, a.y);\n  };\n\n  Pj.prototype.Qn = function () {\n    var a = this.W;\n    null !== a && (a instanceof V || a instanceof jh) || w.k(\"Placeholder is not inside a Group or Adornment.\");\n\n    if (a instanceof V) {\n      var b = this.computeBorder(this.jt),\n          c = this.Nc;\n      Ua(c, b.width || 0, b.height || 0);\n      Eo(this, 0, 0, c.width, c.height);\n\n      for (var d = a.hc, c = !1; d.next();) {\n        if (d.value.isVisible()) {\n          c = !0;\n          break;\n        }\n      }\n\n      d = a.g;\n      !c || null === d || d.Ka.df || isNaN(b.x) || isNaN(b.y) || (c = w.K(), c.ao(b, a.Gf), a.location = new z(c.x, c.y), w.v(c));\n    } else {\n      var b = this.Da,\n          c = this.Nc,\n          d = this.padding,\n          e = d.left + d.right,\n          f = d.top + d.bottom;\n      if (b.I()) Ua(c, b.width + e || 0, b.height + f || 0), Eo(this, -d.left, -d.top, c.width, c.height);else {\n        var h = a.ub,\n            k = h.Ya(zb, w.K()),\n            b = w.lg(k.x, k.y, 0, 0);\n        b.yi(h.Ya(Wb, k));\n        b.yi(h.Ya(Gb, k));\n        b.yi(h.Ya(Qb, k));\n        a.Xi.m(b.x, b.y);\n        Ua(c, b.width + e || 0, b.height + f || 0);\n        Eo(this, -d.left, -d.top, c.width, c.height);\n        w.v(k);\n        w.Bb(b);\n      }\n    }\n  };\n\n  Pj.prototype.pj = function (a, b, c, d) {\n    var e = this.U;\n    e.x = a;\n    e.y = b;\n    e.width = c;\n    e.height = d;\n  };\n\n  Pj.prototype.computeBorder = function (a) {\n    var b = this.W;\n\n    if (b instanceof V) {\n      var c = b;\n\n      if (c.CH && this.jt.I()) {\n        var d = c.g;\n        if (null !== d && !c.layer.Hc && (d = d.Xa, d instanceof nh && !d.Dr && null !== d.$b && !d.$b.contains(c))) return a.assign(this.jt), a;\n      }\n    }\n\n    var c = w.vf(),\n        d = this.computeMemberBounds(c),\n        e = this.padding;\n    a.m(d.x - e.left, d.y - e.top, Math.max(d.width + e.left + e.right, 0), Math.max(d.height + e.top + e.bottom, 0));\n    w.Bb(c);\n    b instanceof V && (c = b, c.DH && c.location.I() && a.yi(c.location));\n    return a;\n  };\n\n  Pj.prototype.computeMemberBounds = function (a) {\n    if (!(this.W instanceof V)) return a.m(0, 0, 0, 0), a;\n\n    for (var b = this.W, c = Infinity, d = Infinity, e = -Infinity, f = -Infinity, h = b.hc; h.next();) {\n      var k = h.value;\n\n      if (k.isVisible()) {\n        if (k instanceof W) {\n          var l = k;\n          if (!b.mx) continue;\n          if (km(l)) continue;\n          if (l.V === b || l.Z === b) continue;\n        }\n\n        k = k.U;\n        k.left < c && (c = k.left);\n        k.top < d && (d = k.top);\n        k.right > e && (e = k.right);\n        k.bottom > f && (f = k.bottom);\n      }\n    }\n\n    isFinite(c) && isFinite(d) ? a.m(c, d, e - c, f - d) : (b = b.location, c = this.padding, a.m(b.x + c.left, b.y + c.top, 0, 0));\n    return a;\n  };\n\n  w.defineProperty(Pj, {\n    padding: \"padding\"\n  }, function () {\n    return this.lf;\n  }, function (a) {\n    \"number\" === typeof a ? a = new hb(a) : w.G(a, hb, Pj, \"padding\");\n    var b = this.lf;\n    b.L(a) || (this.lf = a = a.S(), this.h(\"padding\", b, a));\n  });\n\n  function sg() {\n    0 < arguments.length && w.od(sg);\n    w.oc(this);\n    this.yz = this.aa = null;\n    this.wl = this.$r = !0;\n    this.fs = !1;\n    this.Wq = new z(0, 0).freeze();\n    this.bs = this.cs = !0;\n    this.RC = \"\";\n    this.es = !1;\n    this.Kz = null;\n  }\n\n  w.ga(\"Layout\", sg);\n\n  sg.prototype.cloneProtected = function (a) {\n    a.$r = this.$r;\n    a.wl = this.wl;\n    a.fs = this.fs;\n    a.Wq.assign(this.Wq);\n    a.cs = this.cs;\n    a.bs = this.bs;\n    a.RC = this.RC;\n    a.es = !0;\n  };\n\n  sg.prototype.copy = function () {\n    var a = new this.constructor();\n    this.cloneProtected(a);\n    return a;\n  };\n\n  sg.prototype.ic = function (a) {\n    w.Lj(this, a);\n  };\n\n  sg.prototype.toString = function () {\n    var a = w.pf(Object.getPrototypeOf(this)),\n        a = a + \"(\";\n    null !== this.group && (a += \" in \" + this.group);\n    null !== this.g && (a += \" for \" + this.g);\n    return a + \")\";\n  };\n\n  w.defineProperty(sg, {\n    g: \"diagram\"\n  }, function () {\n    return this.aa;\n  }, function (a) {\n    null !== a && w.G(a, E, sg, \"diagram\");\n    this.aa = a;\n  });\n  w.defineProperty(sg, {\n    group: \"group\"\n  }, function () {\n    return this.yz;\n  }, function (a) {\n    this.yz !== a && (null !== a && w.G(a, V, sg, \"group\"), this.yz = a, null !== a && (this.aa = a.g));\n  });\n  w.defineProperty(sg, {\n    DI: \"isOngoing\"\n  }, function () {\n    return this.$r;\n  }, function (a) {\n    this.$r !== a && (w.j(a, \"boolean\", sg, \"isOngoing\"), this.$r = a);\n  });\n  w.defineProperty(sg, {\n    EF: \"isInitial\"\n  }, function () {\n    return this.wl;\n  }, function (a) {\n    w.j(a, \"boolean\", sg, \"isInitial\");\n    this.wl = a;\n    a || (this.es = !0);\n  });\n  w.defineProperty(sg, {\n    Px: \"isViewportSized\"\n  }, function () {\n    return this.fs;\n  }, function (a) {\n    this.fs !== a && (w.j(a, \"boolean\", sg, \"isViewportSized\"), (this.fs = a) && this.J());\n  });\n  w.defineProperty(sg, {\n    Au: \"isRouting\"\n  }, function () {\n    return this.cs;\n  }, function (a) {\n    this.cs !== a && (w.j(a, \"boolean\", sg, \"isRouting\"), this.cs = a);\n  });\n  w.defineProperty(sg, {\n    HF: \"isRealtime\"\n  }, function () {\n    return this.bs;\n  }, function (a) {\n    this.bs !== a && (w.j(a, \"boolean\", sg, \"isRealtime\"), this.bs = a);\n  });\n  w.defineProperty(sg, {\n    sf: \"isValidLayout\"\n  }, function () {\n    return this.es;\n  }, function (a) {\n    this.es !== a && (w.j(a, \"boolean\", sg, \"isValidLayout\"), this.es = a, a || (a = this.g, null !== a && (a.Pj = !0)));\n  });\n\n  sg.prototype.invalidateLayout = sg.prototype.J = function () {\n    if (this.sf) {\n      var a = this.g;\n\n      if (null !== a && !a.ja.lb) {\n        var b = a.Ka;\n        !b.Uo && (b.df && b.Ih(), this.DI && a.Kn || this.EF && !a.Kn) && (this.sf = !1, a.ye());\n      }\n    }\n  };\n\n  w.defineProperty(sg, {\n    network: \"network\"\n  }, function () {\n    return this.Kz;\n  }, function (a) {\n    var b = this.Kz;\n    b !== a && (null !== a && w.G(a, tg, sg, \"network\"), null !== b && (b.Ub = null), this.Kz = a, null !== a && (a.Ub = this));\n  });\n\n  sg.prototype.createNetwork = function () {\n    return new tg();\n  };\n\n  sg.prototype.makeNetwork = function (a) {\n    var b = this.createNetwork();\n    b.Ub = this;\n    a instanceof E ? (b.Bk(a.ig, !0), b.Bk(a.links, !0)) : a instanceof V ? b.Bk(a.hc) : b.Bk(a.i);\n    return b;\n  };\n\n  sg.prototype.updateParts = function () {\n    var a = this.g;\n    if (null === a && null !== this.network) for (var b = this.network.vertexes.i; b.next();) {\n      var c = b.value.Rc;\n      if (null !== c && (a = c.g, null !== a)) break;\n    }\n    this.sf = !0;\n\n    try {\n      null !== a && a.Kb(\"Layout\"), this.commitLayout();\n    } finally {\n      null !== a && a.Yc(\"Layout\");\n    }\n  };\n\n  sg.prototype.commitLayout = function () {\n    for (var a = this.network.vertexes.i; a.next();) {\n      a.value.commit();\n    }\n\n    if (this.Au) for (a = this.network.edges.i; a.next();) {\n      a.value.commit();\n    }\n  };\n\n  sg.prototype.doLayout = function (a) {\n    null === a && w.k(\"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\");\n    var b = new I(R);\n    a instanceof E ? (ms(this, b, a.ig, !0, this.Wn, !0, !1, !0), ms(this, b, a.Hj, !0, this.Wn, !0, !1, !0)) : a instanceof V ? ms(this, b, a.hc, !1, this.Wn, !0, !1, !0) : b.Pc(a.i);\n    var c = b.count;\n\n    if (0 < c) {\n      a = this.g;\n      null !== a && a.Kb(\"Layout\");\n      c = Math.ceil(Math.sqrt(c));\n      this.Nd = this.initialOrigin(this.Nd);\n\n      for (var d = this.Nd.x, e = d, f = this.Nd.y, h = 0, k = 0, b = b.i; b.next();) {\n        var l = b.value;\n        l.Ne();\n        var m = l.za,\n            n = m.width,\n            m = m.height;\n        l.moveTo(e, f);\n        l instanceof V && (l.Wn = !1);\n        e += Math.max(n, 50) + 20;\n        k = Math.max(k, Math.max(m, 50));\n        h >= c - 1 ? (h = 0, e = d, f += k + 20, k = 0) : h++;\n      }\n\n      null !== a && a.Yc(\"Layout\");\n    }\n\n    this.sf = !0;\n  };\n\n  sg.prototype.Wn = function (a) {\n    return !a.location.I() || a instanceof V && a.Wn ? !0 : !1;\n  };\n\n  function ms(a, b, c, d, e, f, h, k) {\n    for (c = c.i; c.next();) {\n      var l = c.value;\n      d && !l.hq || null !== e && !e(l) || !l.canLayout() || (f && l instanceof T ? l.Df || (l instanceof V ? null === l.Ub ? ms(a, b, l.hc, !1, e, f, h, k) : (ns(l), b.add(l)) : (ns(l), b.add(l))) : h && l instanceof W ? b.add(l) : !k || !l.he() || l instanceof T || (ns(l), b.add(l)));\n    }\n  }\n\n  function ns(a) {\n    var b = a.U;\n    (0 === b.width || 0 === b.height || isNaN(b.width) || isNaN(b.height)) && a.Ne();\n  }\n\n  sg.prototype.collectParts = sg.prototype.xH = function (a) {\n    var b = new I(R);\n    a instanceof E ? (ms(this, b, a.ig, !0, null, !0, !0, !0), ms(this, b, a.links, !0, null, !0, !0, !0), ms(this, b, a.Hj, !0, null, !0, !0, !0)) : a instanceof V ? ms(this, b, a.hc, !1, null, !0, !0, !0) : ms(this, b, a.i, !1, null, !0, !0, !0);\n    return b;\n  };\n\n  w.defineProperty(sg, {\n    Nd: \"arrangementOrigin\"\n  }, function () {\n    return this.Wq;\n  }, function (a) {\n    w.G(a, z, sg, \"arrangementOrigin\");\n    this.Wq.L(a) || (this.Wq.assign(a), this.J());\n  });\n\n  sg.prototype.initialOrigin = function (a) {\n    var b = this.group;\n\n    if (null !== b) {\n      var c = b.position.copy();\n      (isNaN(c.x) || isNaN(c.y)) && c.set(a);\n      b = b.placeholder;\n      null !== b && (c = b.Ya(zb), (isNaN(c.x) || isNaN(c.y)) && c.set(a), c.x += b.padding.left, c.y += b.padding.top);\n      return c;\n    }\n\n    return a;\n  };\n\n  function tg() {\n    w.oc(this);\n    this.oe = null;\n    if (this.vertexes) for (var a = this.vertexes.i; a.next();) {\n      var b = a.value;\n      b.clear();\n      b.network = null;\n    }\n    if (this.edges) for (a = this.edges.i; a.next();) {\n      b = a.value, b.clear(), b.network = null;\n    }\n    this.vertexes = new I(os);\n    this.edges = new I(ps);\n    this.$x = new ma(T, os);\n    this.Vx = new ma(W, ps);\n  }\n\n  w.ga(\"LayoutNetwork\", tg);\n\n  tg.prototype.clear = function () {\n    if (this.vertexes) for (var a = this.vertexes.i; a.next();) {\n      var b = a.value;\n      b.clear();\n      b.network = null;\n    }\n    if (this.edges) for (a = this.edges.i; a.next();) {\n      b = a.value, b.clear(), b.network = null;\n    }\n    this.vertexes = new I(os);\n    this.edges = new I(ps);\n    this.$x = new ma(T, os);\n    this.Vx = new ma(W, ps);\n  };\n\n  tg.prototype.toString = function (a) {\n    void 0 === a && (a = 0);\n    var b = \"LayoutNetwork\" + (null !== this.Ub ? \"(\" + this.Ub.toString() + \")\" : \"\");\n    if (0 >= a) return b;\n    b += \" vertexes: \" + this.vertexes.count + \" edges: \" + this.edges.count;\n\n    if (1 < a) {\n      for (var c = this.vertexes.i; c.next();) {\n        b += \"\\n    \" + c.value.toString(a - 1);\n      }\n\n      for (c = this.edges.i; c.next();) {\n        b += \"\\n    \" + c.value.toString(a - 1);\n      }\n    }\n\n    return b;\n  };\n\n  w.defineProperty(tg, {\n    Ub: \"layout\"\n  }, function () {\n    return this.oe;\n  }, function (a) {\n    this.oe = a;\n  });\n\n  tg.prototype.createVertex = function () {\n    return new os();\n  };\n\n  tg.prototype.createEdge = function () {\n    return new ps();\n  };\n\n  tg.prototype.addParts = tg.prototype.Bk = function (a, b, c) {\n    if (null !== a) {\n      void 0 === b && (b = !1);\n      w.j(b, \"boolean\", tg, \"addParts:toplevelonly\");\n      void 0 === c && (c = null);\n      null === c && (c = function c(a) {\n        if (a instanceof T) return !a.Df;\n\n        if (a instanceof W) {\n          var b = a.V;\n          if (null === b || b.Df) return !1;\n          a = a.Z;\n          return null === a || a.Df ? !1 : !0;\n        }\n\n        return !1;\n      });\n\n      for (a = a.i; a.next();) {\n        var d = a.value;\n        if (d instanceof T && (!b || d.hq) && d.canLayout() && c(d)) if (d instanceof V && null === d.Ub) this.Bk(d.hc, !1);else if (null === this.Cn(d)) {\n          var e = this.createVertex();\n          e.Rc = d;\n          this.Ql(e);\n        }\n      }\n\n      for (a.reset(); a.next();) {\n        if (d = a.value, d instanceof W && (!b || d.hq) && d.canLayout() && c(d) && null === this.Bx(d)) {\n          var f = d.V,\n              e = d.Z;\n          null !== f && null !== e && f !== e && (f = this.findGroupVertex(f), e = this.findGroupVertex(e), null !== f && null !== e && this.mq(f, e, d));\n        }\n      }\n    }\n  };\n\n  tg.prototype.findGroupVertex = function (a) {\n    if (null === a) return null;\n    var b = a.findVisibleNode();\n    if (null === b) return null;\n    a = this.Cn(b);\n    if (null !== a) return a;\n\n    for (b = b.Ca; null !== b;) {\n      a = this.Cn(b);\n      if (null !== a) return a;\n      b = b.Ca;\n    }\n\n    return null;\n  };\n\n  tg.prototype.addVertex = tg.prototype.Ql = function (a) {\n    if (null !== a) {\n      this.vertexes.add(a);\n      var b = a.Rc;\n      null !== b && this.$x.add(b, a);\n      a.network = this;\n    }\n  };\n\n  tg.prototype.addNode = tg.prototype.Pt = function (a) {\n    if (null === a) return null;\n    var b = this.Cn(a);\n    null === b && (b = this.createVertex(), b.Rc = a, this.Ql(b));\n    return b;\n  };\n\n  tg.prototype.deleteVertex = tg.prototype.TE = function (a) {\n    if (null !== a && qs(this, a)) {\n      for (var b = a.Se, c = b.count - 1; 0 <= c; c--) {\n        var d = b.fa(c);\n        this.Up(d);\n      }\n\n      b = a.Me;\n\n      for (c = b.count - 1; 0 <= c; c--) {\n        d = b.fa(c), this.Up(d);\n      }\n    }\n  };\n\n  function qs(a, b) {\n    if (null === b) return !1;\n    var c = a.vertexes.remove(b);\n    c && (a.$x.remove(b.Rc), b.network = null);\n    return c;\n  }\n\n  tg.prototype.deleteNode = function (a) {\n    null !== a && (a = this.Cn(a), null !== a && this.TE(a));\n  };\n\n  tg.prototype.findVertex = tg.prototype.Cn = function (a) {\n    return null === a ? null : this.$x.ka(a);\n  };\n\n  tg.prototype.addEdge = tg.prototype.Gp = function (a) {\n    if (null !== a) {\n      this.edges.add(a);\n      var b = a.link;\n      null !== b && null === this.Bx(b) && this.Vx.add(b, a);\n      b = a.toVertex;\n      null !== b && b.xE(a);\n      b = a.fromVertex;\n      null !== b && b.vE(a);\n      a.network = this;\n    }\n  };\n\n  tg.prototype.addLink = function (a) {\n    if (null === a) return null;\n    var b = a.V,\n        c = a.Z,\n        d = this.Bx(a);\n    null === d ? (d = this.createEdge(), d.link = a, null !== b && (d.fromVertex = this.Pt(b)), null !== c && (d.toVertex = this.Pt(c)), this.Gp(d)) : (d.fromVertex = null !== b ? this.Pt(b) : null, d.toVertex = null !== c ? this.Pt(c) : null);\n    return d;\n  };\n\n  tg.prototype.deleteEdge = tg.prototype.Up = function (a) {\n    if (null !== a) {\n      var b = a.toVertex;\n      null !== b && b.SE(a);\n      b = a.fromVertex;\n      null !== b && b.RE(a);\n      rs(this, a);\n    }\n  };\n\n  function rs(a, b) {\n    null !== b && a.edges.remove(b) && (a.Vx.remove(b.link), b.network = null);\n  }\n\n  tg.prototype.deleteLink = function (a) {\n    null !== a && (a = this.Bx(a), null !== a && this.Up(a));\n  };\n\n  tg.prototype.findEdge = tg.prototype.Bx = function (a) {\n    return null === a ? null : this.Vx.ka(a);\n  };\n\n  tg.prototype.linkVertexes = tg.prototype.mq = function (a, b, c) {\n    if (null === a || null === b) return null;\n\n    if (a.network === this && b.network === this) {\n      var d = this.createEdge();\n      d.link = c;\n      d.fromVertex = a;\n      d.toVertex = b;\n      this.Gp(d);\n      return d;\n    }\n\n    return null;\n  };\n\n  tg.prototype.reverseEdge = tg.prototype.qy = function (a) {\n    if (null !== a) {\n      var b = a.fromVertex,\n          c = a.toVertex;\n      null !== b && null !== c && (b.RE(a), c.SE(a), a.qy(), b.xE(a), c.vE(a));\n    }\n  };\n\n  tg.prototype.deleteSelfEdges = tg.prototype.tx = function () {\n    for (var a = w.Za(), b = this.edges.i; b.next();) {\n      var c = b.value;\n      c.fromVertex === c.toVertex && a.push(c);\n    }\n\n    b = a.length;\n\n    for (c = 0; c < b; c++) {\n      this.Up(a[c]);\n    }\n\n    w.ra(a);\n  };\n\n  tg.prototype.deleteArtificialVertexes = function () {\n    for (var a = w.Za(), b = this.vertexes.i; b.next();) {\n      var c = b.value;\n      null === c.Rc && a.push(c);\n    }\n\n    for (var c = a.length, d = 0; d < c; d++) {\n      this.TE(a[d]);\n    }\n\n    b = w.Za();\n\n    for (c = this.edges.i; c.next();) {\n      d = c.value, null === d.link && b.push(d);\n    }\n\n    c = b.length;\n\n    for (d = 0; d < c; d++) {\n      this.Up(b[d]);\n    }\n\n    w.ra(a);\n    w.ra(b);\n  };\n\n  function ss(a) {\n    for (var b = w.Za(), c = a.edges.i; c.next();) {\n      var d = c.value;\n      null !== d.fromVertex && null !== d.toVertex || b.push(d);\n    }\n\n    c = b.length;\n\n    for (d = 0; d < c; d++) {\n      a.Up(b[d]);\n    }\n\n    w.ra(b);\n  }\n\n  tg.prototype.splitIntoSubNetworks = tg.prototype.OJ = function () {\n    this.deleteArtificialVertexes();\n    ss(this);\n    this.tx();\n\n    for (var a = new H(tg), b = !0; b;) {\n      for (var b = !1, c = this.vertexes.i; c.next();) {\n        var d = c.value;\n\n        if (0 < d.Se.count || 0 < d.Me.count) {\n          b = this.Ub.createNetwork();\n          a.add(b);\n          ts(this, b, d);\n          b = !0;\n          break;\n        }\n      }\n    }\n\n    a.sort(function (a, b) {\n      return null === a || null === b || a === b ? 0 : b.vertexes.count - a.vertexes.count;\n    });\n    return a;\n  };\n\n  function ts(a, b, c) {\n    if (null !== c && c.network !== b) {\n      qs(a, c);\n      b.Ql(c);\n\n      for (var d = c.nc; d.next();) {\n        var e = d.value;\n        e.network !== b && (rs(a, e), b.Gp(e), ts(a, b, e.fromVertex));\n      }\n\n      for (d = c.lc; d.next();) {\n        c = d.value, c.network !== b && (rs(a, c), b.Gp(c), ts(a, b, c.toVertex));\n      }\n    }\n  }\n\n  tg.prototype.findAllParts = function () {\n    for (var a = new I(R), b = this.vertexes.i; b.next();) {\n      a.add(b.value.Rc);\n    }\n\n    for (b = this.edges.i; b.next();) {\n      a.add(b.value.link);\n    }\n\n    return a;\n  };\n\n  function os() {\n    w.oc(this);\n    this.network = null;\n    this.N = new B(0, 0, 10, 10).freeze();\n    this.T = new z(5, 5).freeze();\n    this.wd = this.$d = null;\n    this.Se = new H(ps);\n    this.Me = new H(ps);\n  }\n\n  w.ga(\"LayoutVertex\", os);\n\n  os.prototype.clear = function () {\n    this.wd = this.$d = null;\n    this.Se = new H(ps);\n    this.Me = new H(ps);\n  };\n\n  os.prototype.toString = function (a) {\n    void 0 === a && (a = 0);\n    var b = \"LayoutVertex#\" + w.Qd(this);\n\n    if (0 < a && (b += null !== this.Rc ? \"(\" + this.Rc.toString() + \")\" : \"\", 1 < a)) {\n      a = \"\";\n\n      for (var c = !0, d = this.Se.i; d.next();) {\n        var e = d.value;\n        c ? c = !1 : a += \",\";\n        a += e.toString(0);\n      }\n\n      e = \"\";\n      c = !0;\n\n      for (d = this.Me.i; d.next();) {\n        var f = d.value;\n        c ? c = !1 : e += \",\";\n        e += f.toString(0);\n      }\n\n      b += \" sources: \" + a + \" destinations: \" + e;\n    }\n\n    return b;\n  };\n\n  w.defineProperty(os, {\n    data: \"data\"\n  }, function () {\n    return this.$d;\n  }, function (a) {\n    this.$d = a;\n\n    if (null !== a) {\n      var b = a.bounds;\n      a = b.x;\n      var c = b.y,\n          d = b.width,\n          b = b.height;\n      this.T.m(d / 2, b / 2);\n      this.N.m(a, c, d, b);\n    }\n  });\n  w.defineProperty(os, {\n    Rc: \"node\"\n  }, function () {\n    return this.wd;\n  }, function (a) {\n    if (this.wd !== a) {\n      this.wd = a;\n      a.Ne();\n      var b = a.U,\n          c = b.x,\n          d = b.y,\n          e = b.width,\n          b = b.height;\n      isNaN(c) && (c = 0);\n      isNaN(d) && (d = 0);\n      this.N.m(c, d, e, b);\n\n      if (!(a instanceof V) && (a = a.cg.Ya(Jb), a.I())) {\n        this.T.m(a.x - c, a.y - d);\n        return;\n      }\n\n      this.T.m(e / 2, b / 2);\n    }\n  });\n  w.defineProperty(os, {\n    eb: \"bounds\"\n  }, function () {\n    return this.N;\n  }, function (a) {\n    this.N.L(a) || this.N.assign(a);\n  });\n  w.defineProperty(os, {\n    focus: \"focus\"\n  }, function () {\n    return this.T;\n  }, function (a) {\n    this.T.L(a) || this.T.assign(a);\n  });\n  w.defineProperty(os, {\n    la: \"centerX\"\n  }, function () {\n    return this.N.x + this.T.x;\n  }, function (a) {\n    var b = this.N;\n    b.x + this.T.x !== a && (b.Qa(), b.x = a - this.T.x, b.freeze());\n  });\n  w.defineProperty(os, {\n    sa: \"centerY\"\n  }, function () {\n    return this.N.y + this.T.y;\n  }, function (a) {\n    var b = this.N;\n    b.y + this.T.y !== a && (b.Qa(), b.y = a - this.T.y, b.freeze());\n  });\n  w.defineProperty(os, {\n    ju: \"focusX\"\n  }, function () {\n    return this.T.x;\n  }, function (a) {\n    var b = this.T;\n    b.x !== a && (b.Qa(), b.x = a, b.freeze());\n  });\n  w.defineProperty(os, {\n    ku: \"focusY\"\n  }, function () {\n    return this.T.y;\n  }, function (a) {\n    var b = this.T;\n    b.y !== a && (b.Qa(), b.y = a, b.freeze());\n  });\n  w.defineProperty(os, {\n    x: \"x\"\n  }, function () {\n    return this.N.x;\n  }, function (a) {\n    var b = this.N;\n    b.x !== a && (b.Qa(), b.x = a, b.freeze());\n  });\n  w.defineProperty(os, {\n    y: \"y\"\n  }, function () {\n    return this.N.y;\n  }, function (a) {\n    var b = this.N;\n    b.y !== a && (b.Qa(), b.y = a, b.freeze());\n  });\n  w.defineProperty(os, {\n    width: \"width\"\n  }, function () {\n    return this.N.width;\n  }, function (a) {\n    var b = this.N;\n    b.width !== a && (b.Qa(), b.width = a, b.freeze());\n  });\n  w.defineProperty(os, {\n    height: \"height\"\n  }, function () {\n    return this.N.height;\n  }, function (a) {\n    var b = this.N;\n    b.height !== a && (b.Qa(), b.height = a, b.freeze());\n  });\n\n  os.prototype.commit = function () {\n    var a = this.$d;\n\n    if (null !== a) {\n      var b = this.eb,\n          c = a.bounds;\n      w.Pa(c) ? (c.x = b.x, c.y = b.y, c.width = b.width, c.height = b.height) : a.bounds = b.copy();\n    } else if (a = this.Rc, null !== a) {\n      b = this.eb;\n\n      if (!(a instanceof V)) {\n        var c = a.U,\n            d = a.cg.Ya(Jb);\n\n        if (c.I() && d.I()) {\n          a.moveTo(b.x + this.ju - (d.x - c.x), b.y + this.ku - (d.y - c.y));\n          return;\n        }\n      }\n\n      a.moveTo(b.x, b.y);\n    }\n  };\n\n  os.prototype.addSourceEdge = os.prototype.xE = function (a) {\n    null !== a && (this.Se.contains(a) || this.Se.add(a));\n  };\n\n  os.prototype.deleteSourceEdge = os.prototype.SE = function (a) {\n    null !== a && this.Se.remove(a);\n  };\n\n  os.prototype.addDestinationEdge = os.prototype.vE = function (a) {\n    null !== a && (this.Me.contains(a) || this.Me.add(a));\n  };\n\n  os.prototype.deleteDestinationEdge = os.prototype.RE = function (a) {\n    null !== a && this.Me.remove(a);\n  };\n\n  w.u(os, {\n    NJ: \"sourceVertexes\"\n  }, function () {\n    for (var a = new I(os), b = this.nc; b.next();) {\n      a.add(b.value.fromVertex);\n    }\n\n    return a.i;\n  });\n  w.u(os, {\n    QH: \"destinationVertexes\"\n  }, function () {\n    for (var a = new I(os), b = this.lc; b.next();) {\n      a.add(b.value.toVertex);\n    }\n\n    return a.i;\n  });\n  w.u(os, {\n    vertexes: \"vertexes\"\n  }, function () {\n    for (var a = new I(os), b = this.nc; b.next();) {\n      a.add(b.value.fromVertex);\n    }\n\n    for (b = this.lc; b.next();) {\n      a.add(b.value.toVertex);\n    }\n\n    return a.i;\n  });\n  w.u(os, {\n    nc: \"sourceEdges\"\n  }, function () {\n    return this.Se.i;\n  });\n  w.u(os, {\n    lc: \"destinationEdges\"\n  }, function () {\n    return this.Me.i;\n  });\n  w.u(os, {\n    edges: \"edges\"\n  }, function () {\n    for (var a = new H(ps), b = this.nc; b.next();) {\n      a.add(b.value);\n    }\n\n    for (b = this.lc; b.next();) {\n      a.add(b.value);\n    }\n\n    return a.i;\n  });\n  w.u(os, {\n    VH: \"edgesCount\"\n  }, function () {\n    return this.Se.count + this.Me.count;\n  });\n  var us;\n\n  os.standardComparer = us = function us(a, b) {\n    var c = a.wd,\n        d = b.wd;\n    return c ? d ? (c = c.text, d = d.text, c < d ? -1 : c > d ? 1 : 0) : 1 : null !== d ? -1 : 0;\n  };\n\n  os.smartComparer = function (a, b) {\n    if (null !== a) {\n      if (null !== b) {\n        var c = a.wd,\n            d = b.wd;\n\n        if (null !== c) {\n          if (null !== d) {\n            for (var c = c.text.toLocaleLowerCase().split(/([+\\-]?[\\.]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d+)?)/), d = d.text.toLocaleLowerCase().split(/([+\\-]?[\\.]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d+)?)/), e = 0; e < c.length; e++) {\n              if (\"\" !== d[e] && void 0 !== d[e]) {\n                var f = parseFloat(c[e]),\n                    h = parseFloat(d[e]);\n\n                if (isNaN(f)) {\n                  if (!isNaN(h)) return 1;\n                  if (0 !== c[e].localeCompare(d[e])) return c[e].localeCompare(d[e]);\n                } else {\n                  if (isNaN(h)) return -1;\n                  if (0 !== f - h) return f - h;\n                }\n              } else if (\"\" !== c[e]) return 1;\n            }\n\n            return \"\" !== d[e] && void 0 !== d[e] ? -1 : 0;\n          }\n\n          return 1;\n        }\n\n        return null !== d ? -1 : 0;\n      }\n\n      return 1;\n    }\n\n    return null !== b ? -1 : 0;\n  };\n\n  function ps() {\n    w.oc(this);\n    this.toVertex = this.fromVertex = this.link = this.data = this.network = null;\n  }\n\n  w.ga(\"LayoutEdge\", ps);\n\n  ps.prototype.clear = function () {\n    this.toVertex = this.fromVertex = this.link = this.data = null;\n  };\n\n  ps.prototype.toString = function (a) {\n    void 0 === a && (a = 0);\n    var b = \"LayoutEdge#\" + w.Qd(this);\n    0 < a && (b += null !== this.link ? \"(\" + this.link.toString() + \")\" : \"\", 1 < a && (b += \" \" + (this.fromVertex ? this.fromVertex.toString() : \"null\") + \" --\\x3e \" + (this.toVertex ? this.toVertex.toString() : \"null\")));\n    return b;\n  };\n\n  ps.prototype.qy = function () {\n    var a = this.fromVertex;\n    this.fromVertex = this.toVertex;\n    this.toVertex = a;\n  };\n\n  ps.prototype.commit = function () {};\n\n  ps.prototype.getOtherVertex = ps.prototype.eI = function (a) {\n    return this.toVertex === a ? this.fromVertex : this.fromVertex === a ? this.toVertex : null;\n  };\n\n  function Qn() {\n    0 < arguments.length && w.od(Qn);\n    sg.call(this);\n    this.Px = !0;\n    this.Kt = this.Lt = NaN;\n    this.Rj = new ia(NaN, NaN).freeze();\n    this.ei = new ia(10, 10).freeze();\n    this.me = vs;\n    this.qd = ws;\n    this.di = xs;\n    this.Nh = ys;\n  }\n\n  w.La(Qn, sg);\n  w.ga(\"GridLayout\", Qn);\n\n  Qn.prototype.cloneProtected = function (a) {\n    sg.prototype.cloneProtected.call(this, a);\n    a.Lt = this.Lt;\n    a.Kt = this.Kt;\n    a.Rj.assign(this.Rj);\n    a.ei.assign(this.ei);\n    a.me = this.me;\n    a.qd = this.qd;\n    a.di = this.di;\n    a.Nh = this.Nh;\n  };\n\n  Qn.prototype.ic = function (a) {\n    a.Je === Qn ? a === xs || a === zs || a === As || a === Bs ? this.sorting = a : a === ws || a === Cs ? this.Vf = a : a === vs || a === Ds ? this.alignment = a : w.k(\"Unknown enum value: \" + a) : sg.prototype.ic.call(this, a);\n  };\n\n  Qn.prototype.doLayout = function (a) {\n    null === a && w.k(\"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\");\n    this.Nd = this.initialOrigin(this.Nd);\n    var b = this.g;\n    a = this.xH(a);\n\n    for (var c = a.copy().i; c.next();) {\n      var d = c.value;\n\n      if (d instanceof W) {\n        var e = d;\n\n        if (null !== e.V || null !== e.Z) {\n          a.remove(e);\n          continue;\n        }\n      }\n\n      d.Ne();\n      if (d instanceof V) for (d = d.hc; d.next();) {\n        a.remove(d.value);\n      }\n    }\n\n    e = a.yc();\n\n    if (0 !== e.length) {\n      switch (this.sorting) {\n        case Bs:\n          e.reverse();\n          break;\n\n        case xs:\n          e.sort(this.comparer);\n          break;\n\n        case zs:\n          e.sort(this.comparer), e.reverse();\n      }\n\n      var f = this.cK;\n      isNaN(f) && (f = 0);\n      var h = this.NG,\n          h = isNaN(h) && null !== b ? Math.max(b.sb.width - b.padding.left - b.padding.right, 0) : Math.max(this.NG, 0);\n      0 >= f && 0 >= h && (f = 1);\n      a = this.spacing.width;\n      isFinite(a) || (a = 0);\n      c = this.spacing.height;\n      isFinite(c) || (c = 0);\n      null !== b && b.Kb(\"Layout\");\n      d = [];\n\n      switch (this.alignment) {\n        case Ds:\n          var k = a,\n              l = c,\n              m = Math.max(this.Lp.width, 1);\n          if (!isFinite(m)) for (var n = m = 0; n < e.length; n++) {\n            var p = e[n],\n                q = p.za,\n                m = Math.max(m, q.width);\n          }\n          var m = Math.max(m + k, 1),\n              r = Math.max(this.Lp.height, 1);\n          if (!isFinite(r)) for (n = r = 0; n < e.length; n++) {\n            p = e[n], q = p.za, r = Math.max(r, q.height);\n          }\n\n          for (var r = Math.max(r + l, 1), s = this.Vf, t = this.Nd.x, u = t, y = this.Nd.y, v = 0, x = 0, n = 0; n < e.length; n++) {\n            var p = e[n],\n                q = p.za,\n                A = Math.ceil((q.width + k) / m) * m,\n                L = Math.ceil((q.height + l) / r) * r,\n                C = 0;\n\n            switch (s) {\n              case Cs:\n                C = Math.abs(u - q.width);\n                break;\n\n              default:\n                C = u + q.width;\n            }\n\n            if (0 < f && v > f - 1 || 0 < h && 0 < v && C > h) d.push(new B(0, y, h + k, x)), v = 0, u = t, y += x, x = 0;\n            x = Math.max(x, L);\n            L = 0;\n\n            switch (s) {\n              case Cs:\n                L = -q.width;\n                break;\n\n              default:\n                L = 0;\n            }\n\n            p.moveTo(u + L, y);\n\n            switch (s) {\n              case Cs:\n                u -= A;\n                break;\n\n              default:\n                u += A;\n            }\n\n            v++;\n          }\n\n          d.push(new B(0, y, h + k, x));\n          break;\n\n        case vs:\n          k = f;\n          l = a;\n          m = c;\n          n = Math.max(this.Lp.width, 1);\n          p = y = A = 0;\n          q = w.K();\n\n          for (f = 0; f < e.length; f++) {\n            r = e[f], s = r.za, t = er(r, r.cg, r.Gf, q), A = Math.max(A, t.x), y = Math.max(y, s.width - t.x), p = Math.max(p, t.y);\n          }\n\n          u = this.Vf;\n\n          switch (u) {\n            case Cs:\n              A += l;\n              break;\n\n            default:\n              y += l;\n          }\n\n          var n = isFinite(n) ? Math.max(n + l, 1) : Math.max(A + y, 1),\n              O = y = this.Nd.x,\n              v = this.Nd.y,\n              x = 0;\n          h >= A && (h -= A);\n\n          for (var A = L = 0, C = Math.max(this.Lp.height, 1), X = p = 0, S = !0, ba = w.K(), f = 0; f < e.length; f++) {\n            r = e[f];\n            s = r.za;\n            t = er(r, r.cg, r.Gf, q);\n            if (0 < x) switch (u) {\n              case Cs:\n                O = (O - y - (s.width - t.x)) / n;\n                O = Wa(Math.round(O), O) ? Math.round(O) : Math.floor(O);\n                O = O * n + y;\n                break;\n\n              default:\n                O = (O - y + t.x) / n, O = Wa(Math.round(O), O) ? Math.round(O) : Math.ceil(O), O = O * n + y;\n            } else switch (u) {\n              case Cs:\n                L = O + t.x + s.width;\n                break;\n\n              default:\n                L = O - t.x;\n            }\n            var ha = 0;\n\n            switch (u) {\n              case Cs:\n                ha = -(O + t.x) + L;\n                break;\n\n              default:\n                ha = O + s.width - t.x - L;\n            }\n\n            if (0 < k && x > k - 1 || 0 < h && 0 < x && ha > h) {\n              d.push(new B(0, S ? v - p : v, h + l, X + p + m));\n\n              for (O = 0; O < x && f !== x; O++) {\n                var ha = e[f - x + O],\n                    ya = er(ha, ha.cg, ha.Gf, ba);\n                ha.moveTo(ha.position.x, ha.position.y + p - ya.y);\n              }\n\n              X += m;\n              v = S ? v + X : v + (X + p);\n              x = X = p = 0;\n              O = y;\n              S = !1;\n            }\n\n            O === y && (A = u === Cs ? Math.max(A, s.width - t.x) : Math.min(A, -t.x));\n            p = Math.max(p, t.y);\n            X = Math.max(X, s.height - t.y);\n            isFinite(C) && (X = Math.max(X, Math.max(s.height, C) - t.y));\n            S ? r.moveTo(O - t.x, v - t.y) : r.moveTo(O - t.x, v);\n\n            switch (u) {\n              case Cs:\n                O -= t.x + l;\n                break;\n\n              default:\n                O += s.width - t.x + l;\n            }\n\n            x++;\n          }\n\n          d.push(new B(0, v, h + l, (S ? X : X + p) + m));\n\n          for (O = 0; O < x && f !== x; O++) {\n            ha = e[f - x + O], ya = er(ha, ha.cg, ha.Gf, q), ha.moveTo(ha.position.x, ha.position.y + p - ya.y);\n          }\n\n          w.v(q);\n          w.v(ba);\n          if (u === Cs) for (f = 0; f < d.length; f++) {\n            e = d[f], e.width += A, e.x -= A;\n          } else for (f = 0; f < d.length; f++) {\n            e = d[f], e.x > A && (e.width += e.x - A, e.x = A);\n          }\n      }\n\n      for (k = f = h = e = 0; k < d.length; k++) {\n        l = d[k], e = Math.min(e, l.x), h = Math.min(h, l.y), f = Math.max(f, l.x + l.width);\n      }\n\n      this.Vf === Cs ? this.commitLayers(d, new z(e + a / 2 - (f + e), h - c / 2)) : this.commitLayers(d, new z(e - a / 2, h - c / 2));\n      null !== b && b.Yc(\"Layout\");\n      this.sf = !0;\n    }\n  };\n\n  Qn.prototype.commitLayers = function () {};\n\n  w.defineProperty(Qn, {\n    NG: \"wrappingWidth\"\n  }, function () {\n    return this.Lt;\n  }, function (a) {\n    this.Lt !== a && (w.j(a, \"number\", Qn, \"wrappingWidth\"), 0 < a || isNaN(a)) && (this.Lt = a, this.Px = isNaN(a), this.J());\n  });\n  w.defineProperty(Qn, {\n    cK: \"wrappingColumn\"\n  }, function () {\n    return this.Kt;\n  }, function (a) {\n    this.Kt !== a && (w.j(a, \"number\", Qn, \"wrappingColumn\"), 0 < a || isNaN(a)) && (this.Kt = a, this.J());\n  });\n  w.defineProperty(Qn, {\n    Lp: \"cellSize\"\n  }, function () {\n    return this.Rj;\n  }, function (a) {\n    w.G(a, ia, Qn, \"cellSize\");\n    this.Rj.L(a) || (this.Rj.assign(a), this.J());\n  });\n  w.defineProperty(Qn, {\n    spacing: \"spacing\"\n  }, function () {\n    return this.ei;\n  }, function (a) {\n    w.G(a, ia, Qn, \"spacing\");\n    this.ei.L(a) || (this.ei.assign(a), this.J());\n  });\n  w.defineProperty(Qn, {\n    alignment: \"alignment\"\n  }, function () {\n    return this.me;\n  }, function (a) {\n    this.me !== a && (w.ob(a, Qn, Qn, \"alignment\"), a === vs || a === Ds) && (this.me = a, this.J());\n  });\n  w.defineProperty(Qn, {\n    Vf: \"arrangement\"\n  }, function () {\n    return this.qd;\n  }, function (a) {\n    this.qd !== a && (w.ob(a, Qn, Qn, \"arrangement\"), a === ws || a === Cs) && (this.qd = a, this.J());\n  });\n  w.defineProperty(Qn, {\n    sorting: \"sorting\"\n  }, function () {\n    return this.di;\n  }, function (a) {\n    this.di !== a && (w.ob(a, Qn, Qn, \"sorting\"), a === As || a === Bs || a === xs || a === zs) && (this.di = a, this.J());\n  });\n  w.defineProperty(Qn, {\n    comparer: \"comparer\"\n  }, function () {\n    return this.Nh;\n  }, function (a) {\n    this.Nh !== a && (w.j(a, \"function\", Qn, \"comparer\"), this.Nh = a, this.J());\n  });\n  var ys;\n\n  Qn.standardComparer = ys = function ys(a, b) {\n    var c = a.text,\n        d = b.text;\n    return c < d ? -1 : c > d ? 1 : 0;\n  };\n\n  Qn.smartComparer = function (a, b) {\n    if (null !== a) {\n      if (null !== b) {\n        for (var c = a.text.toLocaleLowerCase().split(/([+\\-]?[\\.]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d+)?)/), d = b.text.toLocaleLowerCase().split(/([+\\-]?[\\.]?\\d+(?:\\.\\d*)?(?:e[+\\-]?\\d+)?)/), e = 0; e < c.length; e++) {\n          if (\"\" !== d[e] && void 0 !== d[e]) {\n            var f = parseFloat(c[e]),\n                h = parseFloat(d[e]);\n\n            if (isNaN(f)) {\n              if (!isNaN(h)) return 1;\n              if (0 !== c[e].localeCompare(d[e])) return c[e].localeCompare(d[e]);\n            } else {\n              if (isNaN(h)) return -1;\n              if (0 !== f - h) return f - h;\n            }\n          } else if (\"\" !== c[e]) return 1;\n        }\n\n        return \"\" !== d[e] && void 0 !== d[e] ? -1 : 0;\n      }\n\n      return 1;\n    }\n\n    return null !== b ? -1 : 0;\n  };\n\n  var Ds;\n  Qn.Position = Ds = w.p(Qn, \"Position\", 0);\n  var vs;\n  Qn.Location = vs = w.p(Qn, \"Location\", 1);\n  var ws;\n  Qn.LeftToRight = ws = w.p(Qn, \"LeftToRight\", 2);\n  var Cs;\n  Qn.RightToLeft = Cs = w.p(Qn, \"RightToLeft\", 3);\n  var As;\n  Qn.Forward = As = w.p(Qn, \"Forward\", 4);\n  var Bs;\n  Qn.Reverse = Bs = w.p(Qn, \"Reverse\", 5);\n  var xs;\n  Qn.Ascending = xs = w.p(Qn, \"Ascending\", 6);\n  var zs;\n  Qn.Descending = zs = w.p(Qn, \"Descending\", 7);\n\n  function Es() {\n    0 < arguments.length && w.od(Es);\n    sg.call(this);\n    this.oz = this.Go = this.Hd = 0;\n    this.Er = 360;\n    this.nz = Fs;\n    this.pl = 0;\n    this.hC = new z();\n    this.XC = Fs;\n    this.zv = this.Uf = this.kE = 0;\n    this.Xw = new Gs();\n    this.Av = this.Xm = 0;\n    this.aH = 600;\n    this.Ys = NaN;\n    this.Yq = 1;\n    this.yt = 0;\n    this.At = 360;\n    this.qd = Fs;\n    this.ba = Hs;\n    this.di = Is;\n    this.Nh = us;\n    this.ei = 6;\n    this.Js = Js;\n  }\n\n  w.La(Es, sg);\n  w.ga(\"CircularLayout\", Es);\n\n  Es.prototype.cloneProtected = function (a) {\n    sg.prototype.cloneProtected.call(this, a);\n    a.Ys = this.Ys;\n    a.Yq = this.Yq;\n    a.yt = this.yt;\n    a.At = this.At;\n    a.qd = this.qd;\n    a.ba = this.ba;\n    a.di = this.di;\n    a.Nh = this.Nh;\n    a.ei = this.ei;\n    a.Js = this.Js;\n  };\n\n  Es.prototype.ic = function (a) {\n    if (a.Je === Es) {\n      if (a === Ks || a === Ls || a === Ms || a === Ns || a === Is) this.sorting = a;else if (a === Os || a === Ps || a === Hs || a === Qs) this.direction = a;else if (a === Rs || a === Ss || a === Fs || a === Ts) this.Vf = a;else {\n        if (a === Us || a === Js) this.Zx = a;\n      }\n    } else sg.prototype.ic.call(this, a);\n  };\n\n  Es.prototype.createNetwork = function () {\n    return new Vs();\n  };\n\n  Es.prototype.doLayout = function (a) {\n    null === a && w.k(\"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\");\n    null === this.network && (this.network = this.makeNetwork(a));\n    this.Nd = this.initialOrigin(this.Nd);\n    a = this.network.vertexes;\n    if (1 >= a.count) 1 === a.count && (a = a.first(), a.la = 0, a.sa = 0);else {\n      var b = new H(Ws);\n      b.Pc(a.i);\n      a = new H(Ws);\n      var c = new H(Ws),\n          d;\n      d = this.sort(b);\n      var e = this.nz,\n          f = this.XC,\n          h = this.Hd,\n          k = this.Go,\n          l = this.oz,\n          m = this.Er,\n          b = this.pl,\n          n = this.kE,\n          p = this.Uf,\n          q = this.zv,\n          e = this.Vf,\n          f = this.Zx,\n          h = this.mJ;\n      if (!isFinite(h) || 0 >= h) h = NaN;\n      k = this.rH;\n      if (!isFinite(k) || 0 >= k) k = 1;\n      l = this.Ae;\n      isFinite(l) || (l = 0);\n      m = this.uf;\n      if (!isFinite(m) || 360 < m || 1 > m) m = 360;\n      b = this.spacing;\n      isFinite(b) || (b = NaN);\n      e === Ts && f === Us ? e = Fs : e === Ts && f !== Us && (f = Us, e = this.Vf);\n\n      if ((this.direction === Os || this.direction === Ps) && this.sorting !== Is) {\n        for (var r = 0; !(r >= d.length); r += 2) {\n          a.add(d.fa(r));\n          if (r + 1 >= d.length) break;\n          c.add(d.fa(r + 1));\n        }\n\n        this.direction === Os ? (this.Vf === Ts && a.reverse(), d = new H(Ws), d.Pc(a), d.Pc(c)) : (this.Vf === Ts && c.reverse(), d = new H(Ws), d.Pc(c), d.Pc(a));\n      }\n\n      for (var s = d.length, t = n = 0, r = 0; r < d.length; r++) {\n        var p = l + m * t * (this.direction === Hs ? 1 : -1) / s,\n            u = d.fa(r).diameter;\n        isNaN(u) && (u = Xs(d.fa(r), p));\n        360 > m && (0 === r || r === d.length - 1) && (u /= 2);\n        n += u;\n        t++;\n      }\n\n      if (isNaN(h) || e === Ts) {\n        isNaN(b) && (b = 6);\n\n        if (e !== Fs && e !== Ts) {\n          u = -Infinity;\n\n          for (r = 0; r < s; r++) {\n            var q = d.fa(r),\n                y = d.fa(r === s - 1 ? 0 : r + 1);\n            isNaN(q.diameter) && Xs(q, 0);\n            isNaN(y.diameter) && Xs(y, 0);\n            u = Math.max(u, (q.diameter + y.diameter) / 2);\n          }\n\n          q = u + b;\n          e === Rs ? (p = 2 * Math.PI / s, h = (u + b) / p) : h = Ys(this, q * (360 <= m ? s : s - 1), k, l * Math.PI / 180, m * Math.PI / 180);\n        } else h = Ys(this, n + (360 <= m ? s : s - 1) * (e !== Ts ? b : 1.6 * b), k, l * Math.PI / 180, m * Math.PI / 180);\n\n        p = h * k;\n      } else if (p = h * k, t = Zs(this, h, p, l * Math.PI / 180, m * Math.PI / 180), isNaN(b)) {\n        if (e === Fs || e === Ts) b = (t - n) / (360 <= m ? s : s - 1);\n      } else if (e === Fs || e === Ts) r = (t - n) / (360 <= m ? s : s - 1), r < b ? (h = Ys(this, n + b * (360 <= m ? s : s - 1), k, l * Math.PI / 180, m * Math.PI / 180), p = h * k) : b = r;else {\n        u = -Infinity;\n\n        for (r = 0; r < s; r++) {\n          q = d.fa(r), y = d.fa(r === s - 1 ? 0 : r + 1), isNaN(q.diameter) && Xs(q, 0), isNaN(y.diameter) && Xs(y, 0), u = Math.max(u, (q.diameter + y.diameter) / 2);\n        }\n\n        q = u + b;\n        r = Ys(this, q * (360 <= m ? s : s - 1), k, l * Math.PI / 180, m * Math.PI / 180);\n        r > h ? (h = r, p = h * k) : q = t / (360 <= m ? s : s - 1);\n      }\n\n      this.nz = e;\n      this.XC = f;\n      this.Hd = h;\n      this.Go = k;\n      this.oz = l;\n      this.Er = m;\n      this.pl = b;\n      this.kE = n;\n      this.Uf = p;\n      this.zv = q;\n      b = d;\n      d = this.nz;\n      e = this.Hd;\n      f = this.oz;\n      k = this.Er;\n      l = this.pl;\n      m = this.Uf;\n      n = this.zv;\n      if (this.direction !== Os && this.direction !== Ps || d !== Ts) {\n        if (this.direction === Os || this.direction === Ps) {\n          h = 0;\n\n          switch (d) {\n            case Ss:\n              h = 180 * $s(this, e, m, f, n) / Math.PI;\n              break;\n\n            case Fs:\n              n = b = 0;\n              h = a.first();\n              null !== h && (b = Xs(h, Math.PI / 2));\n              h = c.first();\n              null !== h && (n = Xs(h, Math.PI / 2));\n              h = 180 * $s(this, e, m, f, l + (b + n) / 2) / Math.PI;\n              break;\n\n            case Rs:\n              h = k / b.length;\n          }\n\n          if (this.direction === Os) {\n            switch (d) {\n              case Ss:\n                at(this, a, f, Qs);\n                break;\n\n              case Fs:\n                bt(this, a, f, Qs);\n                break;\n\n              case Rs:\n                ct(this, a, k / 2, f, Qs);\n            }\n\n            switch (d) {\n              case Ss:\n                at(this, c, f + h, Hs);\n                break;\n\n              case Fs:\n                bt(this, c, f + h, Hs);\n                break;\n\n              case Rs:\n                ct(this, c, k / 2, f + h, Hs);\n            }\n          } else {\n            switch (d) {\n              case Ss:\n                at(this, c, f, Qs);\n                break;\n\n              case Fs:\n                bt(this, c, f, Qs);\n                break;\n\n              case Rs:\n                ct(this, c, k / 2, f, Qs);\n            }\n\n            switch (d) {\n              case Ss:\n                at(this, a, f + h, Hs);\n                break;\n\n              case Fs:\n                bt(this, a, f + h, Hs);\n                break;\n\n              case Rs:\n                ct(this, a, k / 2, f + h, Hs);\n            }\n          }\n        } else switch (d) {\n          case Ss:\n            at(this, b, f, this.direction);\n            break;\n\n          case Fs:\n            bt(this, b, f, this.direction);\n            break;\n\n          case Rs:\n            ct(this, b, k, f, this.direction);\n            break;\n\n          case Ts:\n            dt(this, b, k, f, this.direction);\n        }\n      } else dt(this, b, k, f - k / 2, Hs);\n    }\n    this.updateParts();\n    this.network = null;\n    this.sf = !0;\n  };\n\n  function ct(a, b, c, d, e) {\n    var f = a.Er,\n        h = a.Hd;\n    a = a.Uf;\n    d = d * Math.PI / 180;\n    c = c * Math.PI / 180;\n\n    for (var k = b.length, l = 0; l < k; l++) {\n      var m = d + (e === Hs ? l * c / (360 <= f ? k : k - 1) : -(l * c) / k),\n          n = b.fa(l),\n          p = h * Math.tan(m) / a,\n          p = Math.sqrt((h * h + a * a * p * p) / (1 + p * p));\n      n.la = p * Math.cos(m);\n      n.sa = p * Math.sin(m);\n      n.actualAngle = 180 * m / Math.PI;\n    }\n  }\n\n  function bt(a, b, c, d) {\n    var e = a.Hd,\n        f = a.Uf,\n        h = a.pl;\n    c = c * Math.PI / 180;\n\n    for (var k = b.length, l = 0; l < k; l++) {\n      var m = b.fa(l),\n          n = b.fa(l === k - 1 ? 0 : l + 1),\n          p = f * Math.sin(c);\n      m.la = e * Math.cos(c);\n      m.sa = p;\n      m.actualAngle = 180 * c / Math.PI;\n      isNaN(m.diameter) && Xs(m, 0);\n      isNaN(n.diameter) && Xs(n, 0);\n      m = $s(a, e, f, d === Hs ? c : -c, (m.diameter + n.diameter) / 2 + h);\n      c += d === Hs ? m : -m;\n    }\n  }\n\n  function at(a, b, c, d) {\n    var e = a.Hd,\n        f = a.Uf,\n        h = a.zv;\n    c = c * Math.PI / 180;\n\n    for (var k = b.length, l = 0; l < k; l++) {\n      var m = b.fa(l);\n      m.la = e * Math.cos(c);\n      m.sa = f * Math.sin(c);\n      m.actualAngle = 180 * c / Math.PI;\n      m = $s(a, e, f, d === Hs ? c : -c, h);\n      c += d === Hs ? m : -m;\n    }\n  }\n\n  function dt(a, b, c, d, e) {\n    var f = a.Av,\n        f = a.Er;\n    a.Xm = 0;\n    a.Xw = new Gs();\n\n    if (360 > c) {\n      for (f = d + (e === Hs ? f : -f); 0 > f;) {\n        f += 360;\n      }\n\n      f %= 360;\n      180 < f && (f -= 360);\n      f *= Math.PI / 180;\n      a.Av = f;\n      et(a, b, c, d, e);\n    } else ft(a, b, c, d, e);\n\n    a.Xw.commit(b);\n  }\n\n  function ft(a, b, c, d, e) {\n    var f = a.Hd,\n        h = a.pl,\n        k = a.Go,\n        l = f * Math.cos(d * Math.PI / 180),\n        m = a.Uf * Math.sin(d * Math.PI / 180),\n        n = b.yc();\n    if (3 === n.length) n[0].la = f, n[0].sa = 0, n[1].la = n[0].la - n[0].width / 2 - n[1].width / 2 - h, n[1].y = n[0].y, n[2].la = (n[0].la + n[1].la) / 2, n[2].y = n[0].y - n[2].height - h;else if (4 === n.length) n[0].la = f, n[0].sa = 0, n[2].la = -n[0].la, n[2].sa = n[0].sa, n[1].la = 0, n[1].y = Math.min(n[0].y, n[2].y) - n[1].height - h, n[3].la = 0, n[3].y = Math.max(n[0].y + n[0].height + h, n[2].y + n[2].height + h);else {\n      for (var f = w.K(), p = 0; p < n.length; p++) {\n        n[p].la = l;\n        n[p].sa = m;\n        if (p >= n.length - 1) break;\n        gt(a, l, m, n, p, e, f) || ht(a, l, m, n, p, e, f);\n        l = f.x;\n        m = f.y;\n      }\n\n      w.v(f);\n      a.Xm++;\n\n      if (!(23 < a.Xm)) {\n        var l = n[0].la,\n            m = n[0].sa,\n            f = n[n.length - 1].la,\n            p = n[n.length - 1].sa,\n            q = Math.abs(l - f) - ((n[0].width + n[n.length - 1].width) / 2 + h),\n            r = Math.abs(m - p) - ((n[0].height + n[n.length - 1].height) / 2 + h),\n            h = 0;\n        1 > Math.abs(r) ? Math.abs(l - f) < (n[0].width + n[n.length - 1].width) / 2 && (h = 0) : h = 0 < r ? r : 1 > Math.abs(q) ? 0 : q;\n        q = !1;\n        q = Math.abs(f) > Math.abs(p) ? 0 < f !== m > p : 0 < p !== l < f;\n        if (q = e === Hs ? q : !q) h = -Math.abs(h), h = Math.min(h, -n[n.length - 1].width), h = Math.min(h, -n[n.length - 1].height);\n        a.Xw.compare(h, n);\n        1 < Math.abs(h) && (a.Hd = 8 > a.Xm ? a.Hd - h / (2 * Math.PI) : 5 > n.length && 10 < h ? a.Hd / 2 : a.Hd - (0 < h ? 1.7 : -2.3), a.Uf = a.Hd * k, ft(a, b, c, d, e));\n      }\n    }\n  }\n\n  function et(a, b, c, d, e) {\n    for (var f = a.Hd, h = a.Uf, k = a.Go, l = f * Math.cos(d * Math.PI / 180), m = h * Math.sin(d * Math.PI / 180), n = w.K(), p = b.yc(), q = 0; q < p.length; q++) {\n      p[q].la = l;\n      p[q].sa = m;\n      if (q >= p.length - 1) break;\n      gt(a, l, m, p, q, e, n) || ht(a, l, m, p, q, e, n);\n      l = n.x;\n      m = n.y;\n    }\n\n    w.v(n);\n    a.Xm++;\n\n    if (!(23 < a.Xm)) {\n      l = Math.atan2(m, l);\n      l = e === Hs ? a.Av - l : l - a.Av;\n      l = Math.abs(l) < Math.abs(l - 2 * Math.PI) ? l : l - 2 * Math.PI;\n      f = l * (f + h) / 2;\n      h = a.Xw;\n      if (Math.abs(f) < Math.abs(h.Zp)) for (h.Zp = f, h.ko = [], h.Mq = [], l = 0; l < p.length; l++) {\n        h.ko[l] = p[l].eb.x, h.Mq[l] = p[l].eb.y;\n      }\n      1 < Math.abs(f) && (a.Hd = 8 > a.Xm ? a.Hd - f / (2 * Math.PI) : a.Hd - (0 < f ? 1.7 : -2.3), a.Uf = a.Hd * k, et(a, b, c, d, e));\n    }\n  }\n\n  function gt(a, b, c, d, e, f, h) {\n    var k = a.Hd,\n        l = a.Uf,\n        m = 0,\n        n = 0;\n    a = (d[e].width + d[e + 1].width) / 2 + a.pl;\n    var p = !1;\n\n    if (0 <= c !== (f === Hs)) {\n      if (m = b + a, m > k) {\n        m = b - a;\n        if (m < -k) return h.x = m, h.y = n, !1;\n        p = !0;\n      }\n    } else if (m = b - a, m < -k) {\n      m = b + a;\n      if (m > k) return h.x = m, h.y = n, !1;\n      p = !0;\n    }\n\n    n = Math.sqrt(1 - Math.min(1, m * m / (k * k))) * l;\n    0 > c !== p && (n = -n);\n    if (Math.abs(c - n) > (d[e].height + d[e + 1].height) / 2) return h.x = m, h.y = n, !1;\n    h.x = m;\n    h.y = n;\n    return !0;\n  }\n\n  function ht(a, b, c, d, e, f, h) {\n    var k = a.Hd,\n        l = a.Uf,\n        m = 0,\n        n = 0;\n    a = (d[e].height + d[e + 1].height) / 2 + a.pl;\n    d = !1;\n\n    if (0 <= b !== (f === Hs)) {\n      if (n = c - a, n < -l) {\n        n = c + a;\n\n        if (n > l) {\n          h.x = m;\n          h.y = n;\n          return;\n        }\n\n        d = !0;\n      }\n    } else if (n = c + a, n > l) {\n      n = c - a;\n\n      if (n < -l) {\n        h.x = m;\n        h.y = n;\n        return;\n      }\n\n      d = !0;\n    }\n\n    m = Math.sqrt(1 - Math.min(1, n * n / (l * l))) * k;\n    0 > b !== d && (m = -m);\n    h.x = m;\n    h.y = n;\n  }\n\n  Es.prototype.commitLayout = function () {\n    this.commitNodes();\n    this.Au && this.commitLinks();\n  };\n\n  Es.prototype.commitNodes = function () {\n    var a = this.jH,\n        b = null !== this.group && null !== this.group.placeholder && this.group.ad,\n        c = b ? this.group.location.copy() : null;\n    b ? a = new z(0, 0) : (a.x = this.Nd.x + this.Hd, a.y = this.Nd.y + this.Uf);\n\n    for (var d = this.network.vertexes.i; d.next();) {\n      var e = d.value;\n      e.x += a.x;\n      e.y += a.y;\n      e.commit();\n    }\n\n    b && (this.group.Ne(), a = this.group.position.copy(), b = this.group.location.copy(), c = c.ui(b.ui(a)), this.group.move(c), this.hC = c.ui(a));\n  };\n\n  Es.prototype.commitLinks = function () {\n    for (var a = this.network.edges.i; a.next();) {\n      a.value.commit();\n    }\n  };\n\n  function Zs(a, b, c, d, e) {\n    var f = a.aH;\n    if (.001 > Math.abs(a.Go - 1)) return void 0 !== d && void 0 !== e ? e * b : 2 * Math.PI * b;\n    a = b > c ? Math.sqrt(b * b - c * c) / b : Math.sqrt(c * c - b * b) / c;\n\n    for (var h = 0, k = 0, k = void 0 !== d && void 0 !== e ? e / (f + 1) : Math.PI / (2 * (f + 1)), l = 0, m = 0; m <= f; m++) {\n      l = void 0 !== d && void 0 !== e ? d + m * e / f : m * Math.PI / (2 * f), l = Math.sin(l), h += Math.sqrt(1 - a * a * l * l) * k;\n    }\n\n    return void 0 !== d && void 0 !== e ? (b > c ? b : c) * h : 4 * (b > c ? b : c) * h;\n  }\n\n  function Ys(a, b, c, d, e) {\n    var f = 0,\n        f = void 0 !== d && void 0 !== e ? Zs(a, 1, c, d, e) : Zs(a, 1, c);\n    return b / f;\n  }\n\n  function $s(a, b, c, d, e) {\n    if (.001 > Math.abs(a.Go - 1)) return e / b;\n    var f = b > c ? Math.sqrt(b * b - c * c) / b : Math.sqrt(c * c - b * b) / c,\n        h = 0;\n    a = 2 * Math.PI / (700 * a.network.vertexes.count);\n    b > c && (d += Math.PI / 2);\n\n    for (var k = 0;; k++) {\n      var l = Math.sin(d + k * a),\n          h = h + (b > c ? b : c) * Math.sqrt(1 - f * f * l * l) * a;\n      if (h >= e) return k * a;\n    }\n  }\n\n  Es.prototype.sort = function (a) {\n    switch (this.sorting) {\n      case Ms:\n        break;\n\n      case Ns:\n        a.reverse();\n        break;\n\n      case Ks:\n        a.sort(this.comparer);\n        break;\n\n      case Ls:\n        a.sort(this.comparer);\n        a.reverse();\n        break;\n\n      case Is:\n        for (var b = [], c = 0; c < a.length; c++) {\n          b.push(0);\n        }\n\n        for (var d = new H(Ws), c = 0; c < a.length; c++) {\n          var e = -1,\n              f = -1;\n          if (0 === c) for (var h = 0; h < a.length; h++) {\n            var k = a.fa(h).VH;\n            k > e && (e = k, f = h);\n          } else for (h = 0; h < a.length; h++) {\n            k = b[h], k > e && (e = k, f = h);\n          }\n          d.add(a.fa(f));\n          b[f] = -1;\n          f = a.fa(f);\n          e = 0;\n\n          for (h = f.nc; h.next();) {\n            e = a.indexOf(h.value.fromVertex), 0 > e || 0 <= b[e] && b[e]++;\n          }\n\n          for (f = f.lc; f.next();) {\n            e = a.indexOf(f.value.toVertex), 0 > e || 0 <= b[e] && b[e]++;\n          }\n        }\n\n        a = [];\n\n        for (f = 0; f < d.length; f++) {\n          b = d.fa(f);\n          a[f] = [];\n\n          for (var l = 0, c = b.lc; c.next();) {\n            l = d.indexOf(c.value.toVertex), l !== f && 0 > a[f].indexOf(l) && a[f].push(l);\n          }\n\n          for (b = b.nc; b.next();) {\n            l = d.indexOf(b.value.fromVertex), l !== f && 0 > a[f].indexOf(l) && a[f].push(l);\n          }\n        }\n\n        h = [];\n\n        for (f = 0; f < a.length; f++) {\n          h[f] = 0;\n        }\n\n        for (var b = [], k = [], m = [], c = [], e = new H(Ws), n = 0, f = 0; f < a.length; f++) {\n          var p = a[f].length;\n          if (1 === p) c.push(f);else if (0 === p) e.add(d.fa(f));else {\n            if (0 === n) b.push(f);else {\n              for (var q = Infinity, r = Infinity, s = -1, t = [], p = 0; p < b.length; p++) {\n                0 > a[b[p]].indexOf(b[p === b.length - 1 ? 0 : p + 1]) && t.push(p === b.length - 1 ? 0 : p + 1);\n              }\n\n              if (0 === t.length) for (p = 0; p < b.length; p++) {\n                t.push(p);\n              }\n\n              for (p = 0; p < t.length; p++) {\n                var u = t[p],\n                    y,\n                    l = a[f];\n                y = k;\n\n                for (var v = m, x = h, A = u, L = b, C = 0, O = 0; O < y.length; O++) {\n                  var X = x[y[O]],\n                      S = x[v[O]],\n                      ba = 0,\n                      ha = 0;\n                  X < S ? (ba = X, ha = S) : (ba = S, ha = X);\n                  if (ba < A && A <= ha) for (X = 0; X < l.length; X++) {\n                    S = l[X], 0 > L.indexOf(S) || ba < x[S] && x[S] < ha || ba === x[S] || ha === x[S] || C++;\n                  } else for (X = 0; X < l.length; X++) {\n                    S = l[X], 0 > L.indexOf(S) || ba < x[S] && x[S] < ha && ba !== x[S] && ha !== x[S] && C++;\n                  }\n                }\n\n                y = C;\n\n                for (x = v = 0; x < a[f].length; x++) {\n                  l = b.indexOf(a[f][x]), 0 <= l && (l = Math.abs(u - (l >= u ? l + 1 : l)), v += l < b.length + 1 - l ? l : b.length + 1 - l);\n                }\n\n                for (x = 0; x < k.length; x++) {\n                  l = h[k[x]], A = h[m[x]], l >= u && l++, A >= u && A++, l > A && (L = A, A = l, l = L), A - l < (b.length + 2) / 2 === (l < u && u <= A) && v++;\n                }\n\n                if (y < q || y === q && v < r) q = y, r = v, s = u;\n              }\n\n              b.splice(s, 0, f);\n\n              for (p = 0; p < b.length; p++) {\n                h[b[p]] = p;\n              }\n\n              for (p = 0; p < a[f].length; p++) {\n                q = a[f][p], 0 <= b.indexOf(q) && (k.push(f), m.push(q));\n              }\n            }\n            n++;\n          }\n        }\n\n        f = !1;\n\n        for (h = b.length;;) {\n          f = !0;\n\n          for (k = 0; k < c.length; k++) {\n            if (m = c[k], n = a[m][0], l = b.indexOf(n), 0 <= l) {\n              for (r = p = 0; r < a[n].length; r++) {\n                q = a[n][r], q = b.indexOf(q), 0 > q || q === l || (s = q > l ? q - l : l - q, p += q < l !== s > h - s ? 1 : -1);\n              }\n\n              b.splice(0 > p ? l : l + 1, 0, m);\n              c.splice(k, 1);\n              k--;\n            } else f = !1;\n          }\n\n          if (f) break;else b.push(c[0]), c.splice(0, 1);\n        }\n\n        for (f = 0; f < b.length; f++) {\n          e.add(d.fa(b[f]));\n        }\n\n        return e;\n\n      default:\n        w.k(\"Invalid sorting type.\");\n    }\n\n    return a;\n  };\n\n  w.defineProperty(Es, {\n    mJ: \"radius\"\n  }, function () {\n    return this.Ys;\n  }, function (a) {\n    this.Ys !== a && (w.j(a, \"number\", Es, \"radius\"), 0 < a || isNaN(a)) && (this.Ys = a, this.J());\n  });\n  w.defineProperty(Es, {\n    rH: \"aspectRatio\"\n  }, function () {\n    return this.Yq;\n  }, function (a) {\n    this.Yq !== a && (w.j(a, \"number\", Es, \"aspectRatio\"), 0 < a && (this.Yq = a, this.J()));\n  });\n  w.defineProperty(Es, {\n    Ae: \"startAngle\"\n  }, function () {\n    return this.yt;\n  }, function (a) {\n    this.yt !== a && (w.j(a, \"number\", Es, \"startAngle\"), this.yt = a, this.J());\n  });\n  w.defineProperty(Es, {\n    uf: \"sweepAngle\"\n  }, function () {\n    return this.At;\n  }, function (a) {\n    this.At !== a && (w.j(a, \"number\", Es, \"sweepAngle\"), this.At = 0 < a && 360 >= a ? a : 360, this.J());\n  });\n  w.defineProperty(Es, {\n    Vf: \"arrangement\"\n  }, function () {\n    return this.qd;\n  }, function (a) {\n    this.qd !== a && (w.ob(a, Es, Es, \"arrangement\"), a === Ts || a === Fs || a === Ss || a === Rs) && (this.qd = a, this.J());\n  });\n  w.defineProperty(Es, {\n    direction: \"direction\"\n  }, function () {\n    return this.ba;\n  }, function (a) {\n    this.ba !== a && (w.ob(a, Es, Es, \"direction\"), a === Hs || a === Qs || a === Os || a === Ps) && (this.ba = a, this.J());\n  });\n  w.defineProperty(Es, {\n    sorting: \"sorting\"\n  }, function () {\n    return this.di;\n  }, function (a) {\n    this.di !== a && (w.ob(a, Es, Es, \"sorting\"), a === Ms || a === Ns || a === Ks || Ls || a === Is) && (this.di = a, this.J());\n  });\n  w.defineProperty(Es, {\n    comparer: \"comparer\"\n  }, function () {\n    return this.Nh;\n  }, function (a) {\n    this.Nh !== a && (w.j(a, \"function\", Es, \"comparer\"), this.Nh = a, this.J());\n  });\n  w.defineProperty(Es, {\n    spacing: \"spacing\"\n  }, function () {\n    return this.ei;\n  }, function (a) {\n    this.ei !== a && (w.j(a, \"number\", Es, \"spacing\"), this.ei = a, this.J());\n  });\n  w.defineProperty(Es, {\n    Zx: \"nodeDiameterFormula\"\n  }, function () {\n    return this.Js;\n  }, function (a) {\n    this.Js !== a && (w.ob(a, Es, Es, \"nodeDiameterFormula\"), a === Js || a === Us) && (this.Js = a, this.J());\n  });\n  w.u(Es, {\n    fK: \"actualXRadius\"\n  }, function () {\n    return this.Hd;\n  });\n  w.u(Es, {\n    gK: \"actualYRadius\"\n  }, function () {\n    return this.Uf;\n  });\n  w.u(Es, {\n    eK: \"actualSpacing\"\n  }, function () {\n    return this.pl;\n  });\n  w.u(Es, {\n    jH: \"actualCenter\"\n  }, function () {\n    return this.hC;\n  });\n  var Fs;\n  Es.ConstantSpacing = Fs = w.p(Es, \"ConstantSpacing\", 0);\n  var Ss;\n  Es.ConstantDistance = Ss = w.p(Es, \"ConstantDistance\", 1);\n  var Rs;\n  Es.ConstantAngle = Rs = w.p(Es, \"ConstantAngle\", 2);\n  var Ts;\n  Es.Packed = Ts = w.p(Es, \"Packed\", 3);\n  var Hs;\n  Es.Clockwise = Hs = w.p(Es, \"Clockwise\", 4);\n  var Qs;\n  Es.Counterclockwise = Qs = w.p(Es, \"Counterclockwise\", 5);\n  var Os;\n  Es.BidirectionalLeft = Os = w.p(Es, \"BidirectionalLeft\", 6);\n  var Ps;\n  Es.BidirectionalRight = Ps = w.p(Es, \"BidirectionalRight\", 7);\n  var Ms;\n  Es.Forwards = Ms = w.p(Es, \"Forwards\", 8);\n  var Ns;\n  Es.Reverse = Ns = w.p(Es, \"Reverse\", 9);\n  var Ks;\n  Es.Ascending = Ks = w.p(Es, \"Ascending\", 10);\n  var Ls;\n  Es.Descending = Ls = w.p(Es, \"Descending\", 11);\n  var Is;\n  Es.Optimized = Is = w.p(Es, \"Optimized\", 12);\n  var Js;\n  Es.Pythagorean = Js = w.p(Es, \"Pythagorean\", 13);\n  var Us;\n  Es.Circular = Us = w.p(Es, \"Circular\", 14);\n\n  function Gs() {\n    this.Zp = -Infinity;\n    this.Mq = this.ko = null;\n  }\n\n  Gs.prototype.compare = function (a, b) {\n    if (0 < a && 0 > this.Zp || Math.abs(a) < Math.abs(this.Zp) && !(0 > a && 0 < this.Zp)) {\n      this.Zp = a;\n      this.ko = [];\n      this.Mq = [];\n\n      for (var c = 0; c < b.length; c++) {\n        this.ko[c] = b[c].eb.x, this.Mq[c] = b[c].eb.y;\n      }\n    }\n  };\n\n  Gs.prototype.commit = function (a) {\n    if (null !== this.ko && null !== this.Mq) for (var b = 0; b < this.ko.length; b++) {\n      var c = a.fa(b);\n      c.x = this.ko[b];\n      c.y = this.Mq[b];\n    }\n  };\n\n  function Vs() {\n    tg.call(this);\n  }\n\n  w.La(Vs, tg);\n  w.ga(\"CircularNetwork\", Vs);\n\n  Vs.prototype.createVertex = function () {\n    return new Ws();\n  };\n\n  Vs.prototype.createEdge = function () {\n    return new it();\n  };\n\n  function Ws() {\n    os.call(this);\n    this.actualAngle = this.diameter = NaN;\n  }\n\n  w.La(Ws, os);\n  w.ga(\"CircularVertex\", Ws);\n\n  function Xs(a, b) {\n    var c = a.network;\n    if (null === c) return NaN;\n    c = c.Ub;\n    if (null === c) return NaN;\n    if (c.Vf === Ts) {\n      if (c.Zx === Us) a.diameter = Math.max(a.width, a.height);else {\n        var c = Math.abs(Math.sin(b)),\n            d = Math.abs(Math.cos(b));\n        if (0 === c) return a.width;\n        if (0 === d) return a.height;\n        a.diameter = Math.min(a.height / c, a.width / d);\n      }\n    } else a.diameter = c.Zx === Us ? Math.max(a.width, a.height) : Math.sqrt(a.width * a.width + a.height * a.height);\n    return a.diameter;\n  }\n\n  function it() {\n    ps.call(this);\n  }\n\n  w.La(it, ps);\n  w.ga(\"CircularEdge\", it);\n\n  function jt() {\n    0 < arguments.length && w.od(jt);\n    sg.call(this);\n    this.Ig = null;\n    this.hs = 0;\n    this.ng = new ia(100, 100).freeze();\n    this.Xq = !1;\n    this.ci = !0;\n    this.Mh = !1;\n    this.cp = 100;\n    this.Hr = 1;\n    this.Qi = 1E3;\n    this.Ds = 10;\n    this.Zs = Math;\n    this.Do = .05;\n    this.Co = 50;\n    this.Ao = 150;\n    this.Bo = 0;\n    this.ur = 10;\n    this.tr = 5;\n  }\n\n  w.La(jt, sg);\n  w.ga(\"ForceDirectedLayout\", jt);\n\n  jt.prototype.cloneProtected = function (a) {\n    sg.prototype.cloneProtected.call(this, a);\n    a.ng.assign(this.ng);\n    a.Xq = this.Xq;\n    a.ci = this.ci;\n    a.Mh = this.Mh;\n    a.cp = this.cp;\n    a.Hr = this.Hr;\n    a.Qi = this.Qi;\n    a.Ds = this.Ds;\n    a.Zs = this.Zs;\n    a.Do = this.Do;\n    a.Co = this.Co;\n    a.Ao = this.Ao;\n    a.Bo = this.Bo;\n    a.ur = this.ur;\n    a.tr = this.tr;\n  };\n\n  jt.prototype.createNetwork = function () {\n    return new kt();\n  };\n\n  jt.prototype.doLayout = function (a) {\n    null === a && w.k(\"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\");\n    null === this.network && (this.network = this.makeNetwork(a));\n    a = this.dB;\n\n    if (0 < this.network.vertexes.count) {\n      this.network.tx();\n\n      for (var b = this.network.vertexes.i; b.next();) {\n        var c = b.value;\n        c.charge = this.electricalCharge(c);\n        c.mass = this.gravitationalMass(c);\n      }\n\n      for (b = this.network.edges.i; b.next();) {\n        c = b.value, c.stiffness = this.springStiffness(c), c.length = this.springLength(c);\n      }\n\n      this.jA();\n      this.hs = 0;\n\n      if (this.needsClusterLayout()) {\n        b = this.network;\n\n        for (c = b.OJ().i; c.next();) {\n          this.network = c.value;\n\n          for (var d = this.network.vertexes.i; d.next();) {\n            var e = d.value;\n            e.jg = e.vertexes.count;\n            e.Uk = 1;\n            e.tn = null;\n            e.Hh = null;\n          }\n\n          lt(this, 0, a);\n        }\n\n        this.network = b;\n        c.reset();\n\n        for (var d = this.DE, f = c.count, h = !0, k = e = 0, l = w.Za(), m = 0; m < f + b.vertexes.count + 2; m++) {\n          l[m] = null;\n        }\n\n        f = 0;\n        c.reset();\n\n        for (var n = w.vf(); c.next();) {\n          if (m = c.value, this.computeBounds(m, n), h) h = !1, e = n.x + n.width / 2, k = n.y + n.height / 2, l[0] = new z(n.x + n.width + d.width, n.y), l[1] = new z(n.x, n.y + n.height + d.height), f = 2;else {\n            var p = mt(l, f, e, k, n.width, n.height, d),\n                q = l[p],\n                r = new z(q.x + n.width + d.width, q.y),\n                s = new z(q.x, q.y + n.height + d.height);\n            p + 1 < f && l.splice(p + 1, 0, null);\n            l[p] = r;\n            l[p + 1] = s;\n            f++;\n            p = q.x - n.x;\n            q = q.y - n.y;\n\n            for (m = m.vertexes.i; m.next();) {\n              r = m.value, r.la += p, r.sa += q;\n            }\n          }\n        }\n\n        w.Bb(n);\n\n        for (m = b.vertexes.i; m.next();) {\n          h = m.value, n = h.eb, 2 > f ? (e = n.x + n.width / 2, k = n.y + n.height / 2, l[0] = new z(n.x + n.width + d.width, n.y), l[1] = new z(n.x, n.y + n.height + d.height), f = 2) : (p = mt(l, f, e, k, n.width, n.height, d), q = l[p], r = new z(q.x + n.width + d.width, q.y), s = new z(q.x, q.y + n.height + d.height), p + 1 < f && l.splice(p + 1, 0, null), l[p] = r, l[p + 1] = s, f++, h.la = q.x + h.width / 2, h.sa = q.y + h.height / 2);\n        }\n\n        w.ra(l);\n\n        for (c.reset(); c.next();) {\n          d = c.value;\n\n          for (e = d.vertexes.i; e.next();) {\n            b.Ql(e.value);\n          }\n\n          for (d = d.edges.i; d.next();) {\n            b.Gp(d.value);\n          }\n        }\n      }\n\n      nt(this, a);\n      this.updateParts();\n    }\n\n    this.cp = a;\n    this.network = null;\n    this.sf = !0;\n  };\n\n  jt.prototype.needsClusterLayout = function () {\n    if (3 > this.network.vertexes.count) return !1;\n\n    for (var a = 0, b = 0, c = this.network.vertexes.first().eb, d = this.network.vertexes.i; d.next();) {\n      if (d.value.eb.$f(c) && (a++, 2 < a)) return !0;\n      if (10 < b) break;\n      b++;\n    }\n\n    return !1;\n  };\n\n  jt.prototype.computeBounds = function (a, b) {\n    for (var c = !0, d = a.vertexes.i; d.next();) {\n      var e = d.value;\n      c ? (c = !1, b.set(e.eb)) : b.Zg(e.eb);\n    }\n\n    return b;\n  };\n\n  function lt(a, b, c) {\n    if (xt(a, b)) {\n      var d = a.Qi;\n      a.Qi *= 1 + 1 / (b + 1);\n      var e = eu(a, b),\n          f = Math.max(0, Math.max(Math.min(a.network.vertexes.count, c * (b + 1) / 11), 10));\n      a.dB += f;\n      lt(a, b + 1, c);\n      nt(a, f);\n      fu(a, e);\n      b = a.Ig;\n      null === b ? b = new H(gu) : b.clear();\n      b.Pc(e.vertexes);\n      b.sort(function (a, b) {\n        return null === a || null === b || a === b ? 0 : b.jg - a.jg;\n      });\n\n      for (e = b.i; e.next();) {\n        hu(a, e.value);\n      }\n\n      a.Qi = d;\n    }\n  }\n\n  function xt(a, b) {\n    if (10 < b || 3 > a.network.vertexes.count) return !1;\n    null === a.Ig ? a.Ig = new H(gu) : a.Ig.clear();\n    a.Ig.Pc(a.network.vertexes);\n    var c = a.Ig;\n    c.sort(function (a, b) {\n      return null === a || null === b || a === b ? 0 : b.jg - a.jg;\n    });\n\n    for (var d = c.count - 1; 0 <= d && 1 >= c.fa(d).jg;) {\n      d--;\n    }\n\n    return 1 < c.count - d;\n  }\n\n  function eu(a, b) {\n    for (var c = a.network, d = new kt(), e = a.Ig.i; e.next();) {\n      var f = e.value;\n\n      if (1 < f.jg) {\n        d.Ql(f);\n        var h = new iu();\n        h.Ky = f.jg;\n        h.Ly = f.width;\n        h.Jy = f.height;\n        h.aC = f.T.x;\n        h.bC = f.T.y;\n        null === f.Hh && (f.Hh = new H(iu));\n        f.Hh.add(h);\n        f.wB = f.Hh.count - 1;\n      } else break;\n    }\n\n    for (var k = c.edges.i; k.next();) {\n      if (h = k.value, e = h.fromVertex, f = h.toVertex, e.network === d && f.network === d) d.Gp(h);else if (e.network === d) {\n        var l = e.tn;\n        null === l && (l = new H(gu), e.tn = l);\n        l.add(f);\n        e.jg--;\n        e.Uk += f.Uk;\n      } else f.network === d && (l = f.tn, null === l && (l = new H(gu), f.tn = l), l.add(e), f.jg--, f.Uk += e.Uk);\n    }\n\n    for (e = d.edges.i; e.next();) {\n      f = e.value, f.length *= Math.max(1, Sd((f.fromVertex.Uk + f.toVertex.Uk) / (4 * b + 1)));\n    }\n\n    for (e = d.vertexes.i; e.next();) {\n      if (f = e.value, l = f.tn, null !== l && 0 < l.count && (h = f.Hh.fa(f.Hh.count - 1), h = h.Ky - f.jg, !(0 >= h))) {\n        for (var m = 0, n = 0, p = l.count - h; p < l.count; p++) {\n          for (var q = l.fa(p), r = null, k = q.edges.i; k.next();) {\n            var s = k.value;\n\n            if (s.eI(q) === f) {\n              r = s;\n              break;\n            }\n          }\n\n          null !== r && (n += r.length, m += q.width * q.height);\n        }\n\n        k = f.la;\n        l = f.sa;\n        p = f.width;\n        q = f.height;\n        r = f.T;\n        s = p * q;\n        1 > s && (s = 1);\n        m = Sd((m + s + n * n * 4 / (h * h)) / s);\n        h = (m - 1) * p / 2;\n        m = (m - 1) * q / 2;\n        f.eb = new B(k - r.x - h, l - r.y - m, p + 2 * h, q + 2 * m);\n        f.focus = new z(r.x + h, r.y + m);\n      }\n    }\n\n    a.network = d;\n    return c;\n  }\n\n  function fu(a, b) {\n    for (var c = a.network.vertexes.i; c.next();) {\n      var d = c.value;\n      d.network = b;\n\n      if (null !== d.Hh) {\n        var e = d.Hh.fa(d.wB);\n        d.jg = e.Ky;\n        var f = e.aC,\n            h = e.bC;\n        d.eb = new B(d.la - f, d.sa - h, e.Ly, e.Jy);\n        d.focus = new z(f, h);\n        d.wB--;\n      }\n    }\n\n    for (c = a.network.edges.i; c.next();) {\n      c.value.network = b;\n    }\n\n    a.network = b;\n  }\n\n  function hu(a, b) {\n    var c = b.tn;\n\n    if (null !== c && 0 !== c.count) {\n      var d = b.la,\n          e = b.sa,\n          f = b.width,\n          h = b.height;\n      null !== b.Hh && 0 < b.Hh.count && (h = b.Hh.fa(0), f = h.Ly, h = h.Jy);\n\n      for (var f = Sd(f * f + h * h) / 2, k = !1, l = h = 0, m = 0, n = b.vertexes.i; n.next();) {\n        var p = n.value;\n        1 >= p.jg ? l++ : (k = !0, m++, h += Math.atan2(b.sa - p.sa, b.la - p.la));\n      }\n\n      if (0 !== l) for (0 < m && (h /= m), n = m = 0, m = k ? 2 * Math.PI / (l + 1) : 2 * Math.PI / l, 0 === l % 2 && (n = m / 2), 1 < c.count && c.sort(function (a, b) {\n        return null === a || null === b || a === b ? 0 : b.width * b.height - a.width * a.height;\n      }), k = 0 === l % 2 ? 0 : 1, c = c.i; c.next();) {\n        if (l = c.value, !(1 < l.jg || a.isFixed(l))) {\n          for (var p = null, q = l.edges.i; q.next();) {\n            p = q.value;\n            break;\n          }\n\n          var q = l.width,\n              r = l.height,\n              q = Sd(q * q + r * r) / 2,\n              p = f + p.length + q,\n              q = h + (m * (k / 2 >> 1) + n) * (0 === k % 2 ? 1 : -1);\n          l.la = d + p * Math.cos(q);\n          l.sa = e + p * Math.sin(q);\n          k++;\n        }\n      }\n    }\n  }\n\n  function mt(a, b, c, d, e, f, h) {\n    var k = 9E19,\n        l = -1,\n        m = 0;\n\n    a: for (; m < b; m++) {\n      var n = a[m],\n          p = n.x - c,\n          q = n.y - d,\n          p = p * p + q * q;\n\n      if (p < k) {\n        for (q = m - 1; 0 <= q; q--) {\n          if (a[q].y > n.y && a[q].x - n.x < e + h.width) continue a;\n        }\n\n        for (q = m + 1; q < b; q++) {\n          if (a[q].x > n.x && a[q].y - n.y < f + h.height) continue a;\n        }\n\n        l = m;\n        k = p;\n      }\n    }\n\n    return l;\n  }\n\n  jt.prototype.jA = function () {\n    if (this.comments) for (var a = this.network.vertexes.i; a.next();) {\n      this.addComments(a.value);\n    }\n  };\n\n  jt.prototype.addComments = function (a) {\n    var b = a.Rc;\n    if (null !== b) for (b = b.$E(); b.next();) {\n      var c = b.value;\n\n      if (\"Comment\" === c.ld && c.isVisible()) {\n        var d = this.network.Cn(c);\n        null === d && (d = this.network.Pt(c));\n        d.charge = this.LH;\n\n        for (var c = null, e = d.lc; e.next();) {\n          var f = e.value;\n\n          if (f.toVertex === a) {\n            c = f;\n            break;\n          }\n        }\n\n        if (null === c) for (e = d.nc; e.next();) {\n          if (f = e.value, f.fromVertex === a) {\n            c = f;\n            break;\n          }\n        }\n        null === c && (c = this.network.mq(a, d, null));\n        c.length = this.MH;\n      }\n    }\n  };\n\n  function ju(a, b) {\n    var c = a.N,\n        d = c.x,\n        e = c.y,\n        f = c.width,\n        c = c.height,\n        h = b.N,\n        k = h.x,\n        l = h.y,\n        m = h.width,\n        h = h.height;\n    return d + f < k ? e > l + h ? (d = d + f - k, e = e - l - h, Sd(d * d + e * e)) : e + c < l ? (d = d + f - k, e = e + c - l, Sd(d * d + e * e)) : k - (d + f) : d > k + m ? e > l + h ? (d = d - k - m, e = e - l - h, Sd(d * d + e * e)) : e + c < l ? (d = d - k - m, e = e + c - l, Sd(d * d + e * e)) : d - (k + m) : e > l + h ? e - (l + h) : e + c < l ? l - (e + c) : .1;\n  }\n\n  function nt(a, b) {\n    a.Ig = null;\n\n    for (var c = a.hs + b; a.hs < c && (a.hs++, ku(a));) {\n      ;\n    }\n\n    a.Ig = null;\n  }\n\n  function ku(a) {\n    null === a.Ig && (a.Ig = new H(gu), a.Ig.Pc(a.network.vertexes));\n    var b = a.Ig.n;\n    if (0 >= b.length) return !1;\n    var c = b[0];\n    c.forceX = 0;\n    c.forceY = 0;\n\n    for (var d = c.la, e = d, f = c.sa, h = f, c = 1; c < b.length; c++) {\n      var k = b[c];\n      k.forceX = 0;\n      k.forceY = 0;\n      var l = k.la,\n          k = k.sa,\n          d = Math.min(d, l),\n          e = Math.max(e, l),\n          f = Math.min(f, k),\n          h = Math.max(h, k);\n    }\n\n    (f = e - d > h - f) ? b.sort(function (a, b) {\n      return null === a || null === b || a === b ? 0 : a.la - b.la;\n    }) : b.sort(function (a, b) {\n      return null === a || null === b || a === b ? 0 : a.sa - b.sa;\n    });\n\n    for (var h = a.Qi, m = 0, n = 0, p = 0, c = 0; c < b.length; c++) {\n      var k = b[c],\n          l = k.N,\n          q = k.T,\n          d = l.x + q.x,\n          l = l.y + q.y,\n          n = k.charge * a.electricalFieldX(d, l),\n          p = k.charge * a.electricalFieldY(d, l),\n          n = n + k.mass * a.gravitationalFieldX(d, l),\n          p = p + k.mass * a.gravitationalFieldY(d, l);\n      k.forceX += n;\n      k.forceY += p;\n\n      for (q = c + 1; q < b.length; q++) {\n        if (e = b[q], e !== k) {\n          var r = e.N,\n              n = e.T,\n              p = r.x + n.x,\n              r = r.y + n.y;\n\n          if (d - p > h || p - d > h) {\n            if (f) break;\n          } else if (l - r > h || r - l > h) {\n            if (!f) break;\n          } else {\n            var s = ju(k, e);\n            1 > s ? (n = a.ky, null === n && (a.ky = n = new sa(0)), m = n.random(), s = n.random(), d > p ? (n = Math.abs(e.N.right - k.N.x), n = (1 + n) * m) : d < p ? (n = Math.abs(e.N.x - k.N.right), n = -(1 + n) * m) : (n = Math.max(e.width, k.width), n = (1 + n) * m - n / 2), l > r ? (p = Math.abs(e.N.bottom - k.N.y), p = (1 + p) * s) : d < p ? (p = Math.abs(e.N.y - k.N.bottom), p = -(1 + p) * s) : (p = Math.max(e.height, k.height), p = (1 + p) * s - p / 2)) : (m = -(k.charge * e.charge) / (s * s), n = (p - d) / s * m, p = (r - l) / s * m);\n            k.forceX += n;\n            k.forceY += p;\n            e.forceX -= n;\n            e.forceY -= p;\n          }\n        }\n      }\n    }\n\n    for (c = a.network.edges.i; c.next();) {\n      f = c.value, k = f.fromVertex, e = f.toVertex, l = k.N, q = k.T, d = l.x + q.x, l = l.y + q.y, r = e.N, n = e.T, p = r.x + n.x, r = r.y + n.y, s = ju(k, e), 1 > s ? (n = a.ky, null === n && (a.ky = n = new sa(0)), m = n.random(), s = n.random(), n = (d > p ? 1 : -1) * (1 + (e.width > k.width ? e.width : k.width)) * m, p = (l > r ? 1 : -1) * (1 + (e.height > k.height ? e.height : k.height)) * s) : (m = f.stiffness * (s - f.length), n = (p - d) / s * m, p = (r - l) / s * m), k.forceX += n, k.forceY += p, e.forceX -= n, e.forceY -= p;\n    }\n\n    c = 0;\n    d = a.fJ;\n\n    for (e = 0; e < b.length; e++) {\n      k = b[e], a.isFixed(k) ? a.moveFixedVertex(k) : (f = k.forceX, h = k.forceY, f < -d ? f = -d : f > d && (f = d), h < -d ? h = -d : h > d && (h = d), k.la += f, k.sa += h, c = Math.max(c, f * f + h * h));\n    }\n\n    return c > a.XE * a.XE;\n  }\n\n  jt.prototype.moveFixedVertex = function () {};\n\n  jt.prototype.commitLayout = function () {\n    this.DB();\n    this.commitNodes();\n    this.Au && this.commitLinks();\n  };\n\n  jt.prototype.DB = function () {\n    if (this.Gq) for (var a = this.network.edges.i; a.next();) {\n      var b = a.value.link;\n      null !== b && (b.Cb = qc, b.Db = qc);\n    }\n  };\n\n  jt.prototype.commitNodes = function () {\n    var a = 0,\n        b = 0;\n\n    if (this.qH) {\n      var c = w.vf();\n      this.computeBounds(this.network, c);\n      b = this.Nd;\n      a = b.x - c.x;\n      b = b.y - c.y;\n      w.Bb(c);\n    }\n\n    for (var c = w.vf(), d = this.network.vertexes.i; d.next();) {\n      var e = d.value;\n      if (0 !== a || 0 !== b) c.assign(e.eb), c.x += a, c.y += b, e.eb = c;\n      e.commit();\n    }\n\n    w.Bb(c);\n  };\n\n  jt.prototype.commitLinks = function () {\n    for (var a = this.network.edges.i; a.next();) {\n      a.value.commit();\n    }\n  };\n\n  jt.prototype.springStiffness = function (a) {\n    a = a.stiffness;\n    return isNaN(a) ? this.Do : a;\n  };\n\n  jt.prototype.springLength = function (a) {\n    a = a.length;\n    return isNaN(a) ? this.Co : a;\n  };\n\n  jt.prototype.electricalCharge = function (a) {\n    a = a.charge;\n    return isNaN(a) ? this.Ao : a;\n  };\n\n  jt.prototype.electricalFieldX = function () {\n    return 0;\n  };\n\n  jt.prototype.electricalFieldY = function () {\n    return 0;\n  };\n\n  jt.prototype.gravitationalMass = function (a) {\n    a = a.mass;\n    return isNaN(a) ? this.Bo : a;\n  };\n\n  jt.prototype.gravitationalFieldX = function () {\n    return 0;\n  };\n\n  jt.prototype.gravitationalFieldY = function () {\n    return 0;\n  };\n\n  jt.prototype.isFixed = function (a) {\n    return a.isFixed;\n  };\n\n  w.u(jt, {\n    NK: \"currentIteration\"\n  }, function () {\n    return this.hs;\n  });\n  w.defineProperty(jt, {\n    DE: \"arrangementSpacing\"\n  }, function () {\n    return this.ng;\n  }, function (a) {\n    w.G(a, ia, jt, \"arrangementSpacing\");\n    this.ng.L(a) || (this.ng.assign(a), this.J());\n  });\n  w.defineProperty(jt, {\n    qH: \"arrangesToOrigin\"\n  }, function () {\n    return this.Xq;\n  }, function (a) {\n    this.Xq !== a && (w.j(a, \"boolean\", jt, \"arrangesToOrigin\"), this.Xq = a, this.J());\n  });\n  w.defineProperty(jt, {\n    Gq: \"setsPortSpots\"\n  }, function () {\n    return this.ci;\n  }, function (a) {\n    this.ci !== a && (w.j(a, \"boolean\", jt, \"setsPortSpots\"), this.ci = a, this.J());\n  });\n  w.defineProperty(jt, {\n    comments: \"comments\"\n  }, function () {\n    return this.Mh;\n  }, function (a) {\n    this.Mh !== a && (w.j(a, \"boolean\", jt, \"comments\"), this.Mh = a, this.J());\n  });\n  w.defineProperty(jt, {\n    dB: \"maxIterations\"\n  }, function () {\n    return this.cp;\n  }, function (a) {\n    this.cp !== a && (w.j(a, \"number\", jt, \"maxIterations\"), 0 <= a && (this.cp = a, this.J()));\n  });\n  w.defineProperty(jt, {\n    XE: \"epsilonDistance\"\n  }, function () {\n    return this.Hr;\n  }, function (a) {\n    this.Hr !== a && (w.j(a, \"number\", jt, \"epsilonDistance\"), 0 < a && (this.Hr = a, this.J()));\n  });\n  w.defineProperty(jt, {\n    gL: \"infinityDistance\"\n  }, function () {\n    return this.Qi;\n  }, function (a) {\n    this.Qi !== a && (w.j(a, \"number\", jt, \"infinityDistance\"), 1 < a && (this.Qi = a, this.J()));\n  });\n  w.defineProperty(jt, {\n    fJ: \"moveLimit\"\n  }, function () {\n    return this.Ds;\n  }, function (a) {\n    this.Ds !== a && (w.j(a, \"number\", jt, \"moveLimit\"), 1 < a && (this.Ds = a, this.J()));\n  });\n  w.defineProperty(jt, {\n    ky: \"randomNumberGenerator\"\n  }, function () {\n    return this.Zs;\n  }, function (a) {\n    this.Zs !== a && (null !== a && \"function\" !== typeof a.random && w.k('ForceDirectedLayout.randomNumberGenerator must have a \"random()\" function on it: ' + a), this.Zs = a);\n  });\n  w.defineProperty(jt, {\n    ZK: \"defaultSpringStiffness\"\n  }, function () {\n    return this.Do;\n  }, function (a) {\n    this.Do !== a && (w.j(a, \"number\", jt, \"defaultSpringStiffness\"), this.Do = a, this.J());\n  });\n  w.defineProperty(jt, {\n    YK: \"defaultSpringLength\"\n  }, function () {\n    return this.Co;\n  }, function (a) {\n    this.Co !== a && (w.j(a, \"number\", jt, \"defaultSpringLength\"), this.Co = a, this.J());\n  });\n  w.defineProperty(jt, {\n    SK: \"defaultElectricalCharge\"\n  }, function () {\n    return this.Ao;\n  }, function (a) {\n    this.Ao !== a && (w.j(a, \"number\", jt, \"defaultElectricalCharge\"), this.Ao = a, this.J());\n  });\n  w.defineProperty(jt, {\n    TK: \"defaultGravitationalMass\"\n  }, function () {\n    return this.Bo;\n  }, function (a) {\n    this.Bo !== a && (w.j(a, \"number\", jt, \"defaultGravitationalMass\"), this.Bo = a, this.J());\n  });\n  w.defineProperty(jt, {\n    MH: \"defaultCommentSpringLength\"\n  }, function () {\n    return this.ur;\n  }, function (a) {\n    this.ur !== a && (w.j(a, \"number\", jt, \"defaultCommentSpringLength\"), this.ur = a, this.J());\n  });\n  w.defineProperty(jt, {\n    LH: \"defaultCommentElectricalCharge\"\n  }, function () {\n    return this.tr;\n  }, function (a) {\n    this.tr !== a && (w.j(a, \"number\", jt, \"defaultCommentElectricalCharge\"), this.tr = a, this.J());\n  });\n\n  function iu() {\n    this.bC = this.aC = this.Jy = this.Ly = this.Ky = 0;\n  }\n\n  function kt() {\n    tg.call(this);\n  }\n\n  w.La(kt, tg);\n  w.ga(\"ForceDirectedNetwork\", kt);\n\n  kt.prototype.createVertex = function () {\n    return new gu();\n  };\n\n  kt.prototype.createEdge = function () {\n    return new lu();\n  };\n\n  function gu() {\n    os.call(this);\n    this.isFixed = !1;\n    this.mass = this.charge = NaN;\n    this.Uk = this.jg = this.forceY = this.forceX = 0;\n    this.Hh = this.tn = null;\n    this.wB = 0;\n  }\n\n  w.La(gu, os);\n  w.ga(\"ForceDirectedVertex\", gu);\n\n  function lu() {\n    ps.call(this);\n    this.length = this.stiffness = NaN;\n  }\n\n  w.La(lu, ps);\n  w.ga(\"ForceDirectedEdge\", lu);\n\n  function mu() {\n    0 < arguments.length && w.od(mu);\n    sg.call(this);\n    this.Zd = this.Om = 25;\n    this.ba = 0;\n    this.zo = nu;\n    this.Zo = ou;\n    this.Po = pu;\n    this.Nm = 4;\n    this.oo = qu;\n    this.dj = ru;\n    this.ci = !0;\n    this.ns = 4;\n    this.Mb = this.lw = this.tb = -1;\n    this.Rf = this.ws = 0;\n    this.Pb = this.Pf = this.Qf = this.yg = this.ne = null;\n    this.Fs = 0;\n    this.Es = this.Tm = null;\n    this.Cg = 0;\n    this.Gs = null;\n    this.nC = new z();\n    this.kh = [];\n    this.kh.length = 100;\n  }\n\n  w.La(mu, sg);\n  w.ga(\"LayeredDigraphLayout\", mu);\n\n  mu.prototype.cloneProtected = function (a) {\n    sg.prototype.cloneProtected.call(this, a);\n    a.Om = this.Om;\n    a.Zd = this.Zd;\n    a.ba = this.ba;\n    a.zo = this.zo;\n    a.Zo = this.Zo;\n    a.Po = this.Po;\n    a.Nm = this.Nm;\n    a.oo = this.oo;\n    a.dj = this.dj;\n    a.ci = this.ci;\n    a.ns = this.ns;\n  };\n\n  mu.prototype.ic = function (a) {\n    a.Je === mu ? 0 === a.name.indexOf(\"Aggressive\") ? this.pH = a : 0 === a.name.indexOf(\"Cycle\") ? this.KH = a : 0 === a.name.indexOf(\"Init\") ? this.wI = a : 0 === a.name.indexOf(\"Layer\") ? this.JI = a : w.k(\"Unknown enum value: \" + a) : sg.prototype.ic.call(this, a);\n  };\n\n  mu.prototype.createNetwork = function () {\n    return new su();\n  };\n\n  mu.prototype.doLayout = function (a) {\n    null === a && w.k(\"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\");\n    null === this.network && (this.network = this.makeNetwork(a));\n    this.Nd = this.initialOrigin(this.Nd);\n    this.lw = -1;\n    this.Rf = this.ws = 0;\n    this.Gs = this.Es = this.Tm = null;\n\n    for (a = 0; a < this.kh.length; a++) {\n      this.kh[a] = null;\n    }\n\n    if (0 < this.network.vertexes.count) {\n      this.network.tx();\n\n      for (a = this.network.edges.i; a.next();) {\n        a.value.rev = !1;\n      }\n\n      switch (this.zo) {\n        default:\n        case tu:\n          a = this.network;\n          var b = 0,\n              c = a.vertexes.count - 1,\n              d = [];\n          d.length = c + 1;\n\n          for (var e = a.vertexes.i; e.next();) {\n            e.value.valid = !0;\n          }\n\n          for (; null !== uu(a);) {\n            for (e = vu(a); null !== e;) {\n              d[c] = e, c--, e.valid = !1, e = vu(a);\n            }\n\n            for (e = wu(a); null !== e;) {\n              d[b] = e, b++, e.valid = !1, e = wu(a);\n            }\n\n            for (var e = null, f = 0, h = this.network.vertexes.i; h.next();) {\n              var k = h.value;\n\n              if (k.valid) {\n                for (var l = 0, m = k.lc; m.next();) {\n                  m.value.toVertex.valid && l++;\n                }\n\n                for (var m = 0, n = k.nc; n.next();) {\n                  n.value.fromVertex.valid && m++;\n                }\n\n                if (null === e || f < l - m) e = k, f = l - m;\n              }\n            }\n\n            null !== e && (d[b] = e, b++, e.valid = !1);\n          }\n\n          for (b = 0; b < a.vertexes.count; b++) {\n            d[b].index = b;\n          }\n\n          for (d = a.edges.i; d.next();) {\n            b = d.value, b.fromVertex.index > b.toVertex.index && (a.qy(b), b.rev = !0);\n          }\n\n          break;\n\n        case nu:\n          for (d = this.network.vertexes.i; d.next();) {\n            a = d.value, a.Vp = -1, a.finish = -1;\n          }\n\n          for (a = this.network.edges.i; a.next();) {\n            a.value.forest = !1;\n          }\n\n          this.Fs = 0;\n\n          for (d.reset(); d.next();) {\n            b = d.value, 0 === b.nc.count && xu(this, b);\n          }\n\n          for (d.reset(); d.next();) {\n            b = d.value, -1 === b.Vp && xu(this, b);\n          }\n\n          for (a.reset(); a.next();) {\n            d = a.value, d.forest || (b = d.fromVertex, c = b.finish, e = d.toVertex, f = e.finish, e.Vp < b.Vp && c < f && (this.network.qy(d), d.rev = !0));\n          }\n\n      }\n\n      for (a = this.network.vertexes.i; a.next();) {\n        a.value.layer = -1;\n      }\n\n      this.tb = -1;\n      this.assignLayers();\n\n      for (a.reset(); a.next();) {\n        this.tb = Math.max(this.tb, a.value.layer);\n      }\n\n      a = this.network;\n      d = [];\n\n      for (c = a.edges.i; c.next();) {\n        b = c.value, b.valid = !1, d.push(b);\n      }\n\n      for (c = 0; c < d.length; c++) {\n        if (b = d[c], f = b.fromVertex, e = b.toVertex, !b.valid && (null !== f.wd && null !== e.wd || f.layer !== e.layer)) {\n          m = k = l = h = 0;\n\n          if (null !== b.link) {\n            l = b.link;\n            if (null === l) continue;\n            var p = f.wd,\n                h = e.wd;\n            if (null === p || null === h) continue;\n            var q = l.V,\n                k = l.Z,\n                r = l.gc,\n                l = l.zc;\n            b.rev && (m = q, n = r, q = k, r = l, k = m, l = n);\n            var s = f.T,\n                m = e.T,\n                t = b.rev ? e.N : f.N,\n                n = w.K();\n            p !== q ? t.I() && q.isVisible() && q.U.I() ? (er(q, r, Jb, n), n.x += q.U.x - t.x, n.y += q.U.y - t.y) : n.assign(s) : t.I() ? (er(q, r, Jb, n), n.I() || n.assign(s)) : n.assign(s);\n            q = b.rev ? f.N : e.N;\n            p = w.K();\n            h !== k ? q.I() && k.isVisible() && k.U.I() ? (er(k, l, Jb, p), p.x += k.U.x - q.x, p.y += k.U.y - q.y) : p.assign(m) : q.I() ? (er(k, l, Jb, p), p.I() || p.assign(m)) : p.assign(m);\n            90 === this.ba || 270 === this.ba ? (h = Math.round((n.x - s.x) / this.Zd), k = n.x, l = Math.round((p.x - m.x) / this.Zd), m = p.x) : (h = Math.round((n.y - s.y) / this.Zd), k = n.y, l = Math.round((p.y - m.y) / this.Zd), m = p.y);\n            w.v(n);\n            w.v(p);\n            b.portFromColOffset = h;\n            b.portFromPos = k;\n            b.portToColOffset = l;\n            b.portToPos = m;\n          } else b.portFromColOffset = 0, b.portFromPos = 0, b.portToColOffset = 0, b.portToPos = 0;\n\n          n = f.layer;\n          p = e.layer;\n\n          a: if (q = b, r = 0, t = q.link, null !== t) {\n            var u = t.gc,\n                y = t.zc;\n\n            if (null !== u && null !== y) {\n              var v = t.V,\n                  s = t.Z;\n\n              if (null !== v && null !== s) {\n                var x = u.Cb,\n                    A = y.Db;\n                this.Gq || (t.Cb.Zc() || (x = t.Cb), t.Db.Zc() || (A = t.Db));\n                var L = t.ac,\n                    C = yu(this, !0);\n                if (x.Zc() || x === yb) x = C;\n                var O = yu(this, !1);\n                if (A.Zc() || A === yb) A = O;\n\n                if (x.zj() && x.xj(O) && A.zj() && A.xj(C)) {\n                  r = 0;\n                  break a;\n                }\n\n                C = t.getLinkPoint(v, u, x, !0, L, s, y, w.K());\n                x = t.getLinkDirection(v, u, C, x, !0, L, s, y);\n                w.v(C);\n                x === zu(this, q, !0) ? r += 1 : this.Gq && null !== v && 1 === v.ports.count && q.rev && (r += 1);\n                x = t.getLinkPoint(s, y, A, !1, L, v, u, w.K());\n                t = t.getLinkDirection(s, y, x, A, !1, L, v, u);\n                w.v(x);\n                t === zu(this, q, !1) ? r += 2 : this.Gq && null !== s && 1 === s.ports.count && q.rev && (r += 2);\n              }\n            }\n          }\n\n          q = 1 === r || 3 === r ? !0 : !1;\n          if (r = 2 === r || 3 === r ? !0 : !1) s = a.createVertex(), s.wd = null, s.qn = 1, s.layer = n, s.near = f, a.Ql(s), f = a.mq(f, s, b.link), f.valid = !1, f.rev = b.rev, f.portFromColOffset = h, f.portToColOffset = 0, f.portFromPos = k, f.portToPos = 0, f = s;\n          t = 1;\n          q && t--;\n\n          if (n - p > t && 0 < n) {\n            b.valid = !1;\n            s = a.createVertex();\n            s.wd = null;\n            s.qn = 2;\n            s.layer = n - 1;\n            a.Ql(s);\n            f = a.mq(f, s, b.link);\n            f.valid = !0;\n            f.rev = b.rev;\n            f.portFromColOffset = r ? 0 : h;\n            f.portToColOffset = 0;\n            f.portFromPos = r ? 0 : k;\n            f.portToPos = 0;\n            f = s;\n\n            for (n--; n - p > t && 0 < n;) {\n              s = a.createVertex(), s.wd = null, s.qn = 3, s.layer = n - 1, a.Ql(s), f = a.mq(f, s, b.link), f.valid = !0, f.rev = b.rev, f.portFromColOffset = 0, f.portToColOffset = 0, f.portFromPos = 0, f.portToPos = 0, f = s, n--;\n            }\n\n            f = a.mq(s, e, b.link);\n            f.valid = !q;\n            q && (s.near = e);\n            f.rev = b.rev;\n            f.portFromColOffset = 0;\n            f.portToColOffset = l;\n            f.portFromPos = 0;\n            f.portToPos = m;\n          } else b.valid = !0;\n        }\n      }\n\n      d = this.ne = [];\n\n      for (b = 0; b <= this.tb; b++) {\n        d[b] = 0;\n      }\n\n      for (a = this.network.vertexes.i; a.next();) {\n        a.value.index = -1;\n      }\n\n      this.initializeIndices();\n      this.lw = -1;\n\n      for (b = this.Rf = this.ws = 0; b <= this.tb; b++) {\n        d[b] > d[this.Rf] && (this.lw = d[b] - 1, this.Rf = b), d[b] < d[this.ws] && (this.ws = b);\n      }\n\n      this.Gs = [];\n\n      for (b = 0; b < d.length; b++) {\n        this.Gs[b] = [];\n      }\n\n      for (a.reset(); a.next();) {\n        d = a.value, this.Gs[d.layer][d.index] = d;\n      }\n\n      this.Mb = -1;\n\n      for (a = 0; a <= this.tb; a++) {\n        d = Au(this, a);\n        b = 0;\n        c = this.ne[a];\n\n        for (e = 0; e < c; e++) {\n          f = d[e], b += this.nodeMinColumnSpace(f, !0), f.column = b, b += 1, b += this.nodeMinColumnSpace(f, !1);\n        }\n\n        this.Mb = Math.max(this.Mb, b - 1);\n        Bu(this, a, d);\n      }\n\n      this.reduceCrossings();\n      this.straightenAndPack();\n      this.updateParts();\n    }\n\n    this.network = null;\n    this.sf = !0;\n  };\n\n  mu.prototype.linkMinLength = function () {\n    return 1;\n  };\n\n  function Cu(a) {\n    var b = a.fromVertex.wd;\n    a = a.toVertex.wd;\n    return null === b && null === a ? 8 : null === b || null === a ? 4 : 1;\n  }\n\n  mu.prototype.nodeMinLayerSpace = function (a, b) {\n    return null === a.wd ? 0 : 90 === this.ba || 270 === this.ba ? b ? a.T.y + 10 : a.N.height - a.T.y + 10 : b ? a.T.x + 10 : a.N.width - a.T.x + 10;\n  };\n\n  mu.prototype.nodeMinColumnSpace = function (a, b) {\n    if (null === a.wd) return 0;\n    var c = b ? a.kB : a.jB;\n    if (null !== c) return c;\n    c = this.ba;\n    return 90 === c || 270 === c ? b ? a.kB = a.T.x / this.Zd + 1 | 0 : a.jB = (a.N.width - a.T.x) / this.Zd + 1 | 0 : b ? a.kB = a.T.y / this.Zd + 1 | 0 : a.jB = (a.N.height - a.T.y) / this.Zd + 1 | 0;\n  };\n\n  function Du(a) {\n    null === a.Tm && (a.Tm = []);\n\n    for (var b = 0, c = a.network.vertexes.i; c.next();) {\n      var d = c.value;\n      a.Tm[b] = d.layer;\n      b++;\n      a.Tm[b] = d.column;\n      b++;\n      a.Tm[b] = d.index;\n      b++;\n    }\n\n    return a.Tm;\n  }\n\n  function Eu(a, b) {\n    for (var c = 0, d = a.network.vertexes.i; d.next();) {\n      var e = d.value;\n      e.layer = b[c];\n      c++;\n      e.column = b[c];\n      c++;\n      e.index = b[c];\n      c++;\n    }\n  }\n\n  function Fu(a, b, c) {\n    var d = Au(a, b),\n        e = a.ne[b];\n    if (null === a.Es || a.Es.length < e * e) a.Es = [];\n\n    for (var f = a.Es, h = 0; h < e; h++) {\n      var k = 0,\n          l = d[h],\n          m = l.near,\n          n = 0;\n      if (null !== m && m.layer === l.layer) if (n = m.index, n > h) for (var p = h + 1; p < n; p++) {\n        l = d[p], l.near === m && l.qn === m.qn || k++;\n      } else for (p = h - 1; p > n; p--) {\n        l = d[p], l.near === m && l.qn === m.qn || k++;\n      }\n      var m = 0,\n          q,\n          r = q = p = l = 0,\n          s,\n          t = 0,\n          u = 0;\n      s = 0;\n      var y;\n      if (0 <= c) for (n = d[h].Se, m = 0; m < n.count; m++) {\n        if (q = n.n[m], q.valid && q.fromVertex.layer !== b) for (l = q.fromVertex.index, p = q.portToPos, q = q.portFromPos, r = m + 1; r < n.count; r++) {\n          s = n.n[r], s.valid && s.fromVertex.layer !== b && (t = s.fromVertex.index, u = s.portToPos, s = s.portFromPos, p < u && (l > t || l === t && q > s) && k++, u < p && (t > l || t === l && s > q) && k++);\n        }\n      }\n      if (0 >= c) for (n = d[h].Me, m = 0; m < n.count; m++) {\n        if (q = n.n[m], q.valid && q.toVertex.layer !== b) for (l = q.toVertex.index, p = q.portToPos, q = q.portFromPos, r = m + 1; r < n.count; r++) {\n          s = n.n[r], s.valid && s.toVertex.layer !== b && (t = s.toVertex.index, u = s.portToPos, s = s.portFromPos, q < s && (l > t || l === t && p > u) && k++, s < q && (t > l || t === l && u > p) && k++);\n        }\n      }\n      f[h * e + h] = k;\n\n      for (n = h + 1; n < e; n++) {\n        var v = 0,\n            x = 0;\n        if (0 <= c) for (k = d[h].Se, y = d[n].Se, m = 0; m < k.count; m++) {\n          if (q = k.n[m], q.valid && q.fromVertex.layer !== b) for (l = q.fromVertex.index, q = q.portFromPos, r = 0; r < y.count; r++) {\n            s = y.n[r], s.valid && s.fromVertex.layer !== b && (t = s.fromVertex.index, s = s.portFromPos, (l < t || l === t && q < s) && x++, (t < l || t === l && s < q) && v++);\n          }\n        }\n        if (0 >= c) for (k = d[h].Me, y = d[n].Me, m = 0; m < k.count; m++) {\n          if (q = k.n[m], q.valid && q.toVertex.layer !== b) for (l = q.toVertex.index, p = q.portToPos, r = 0; r < y.count; r++) {\n            s = y.n[r], s.valid && s.toVertex.layer !== b && (t = s.toVertex.index, u = s.portToPos, (l < t || l === t && p < u) && x++, (t < l || t === l && u < p) && v++);\n          }\n        }\n        f[h * e + n] = v;\n        f[n * e + h] = x;\n      }\n    }\n\n    Bu(a, b, d);\n    return f;\n  }\n\n  mu.prototype.countCrossings = function () {\n    for (var a = 0, b = 0; b <= this.tb; b++) {\n      for (var c = Fu(this, b, 1), d = this.ne[b], e = 0; e < d; e++) {\n        for (var f = e; f < d; f++) {\n          a += c[e * d + f];\n        }\n      }\n    }\n\n    return a;\n  };\n\n  function Gu(a) {\n    for (var b = 0, c = 0; c <= a.tb; c++) {\n      for (var d = a, e = c, f = Au(d, e), h = d.ne[e], k = 0, l = 0; l < h; l++) {\n        var m = null,\n            m = f[l].Me,\n            n,\n            p = 0,\n            q = 0;\n        if (null !== m) for (var r = 0; r < m.count; r++) {\n          n = m.n[r], n.valid && n.toVertex.layer !== e && (p = n.fromVertex.column + n.portFromColOffset, q = n.toVertex.column + n.portToColOffset, k += (Math.abs(p - q) + 1) * Cu(n));\n        }\n      }\n\n      Bu(d, e, f);\n      b += k;\n    }\n\n    return b;\n  }\n\n  mu.prototype.normalize = function () {\n    var a = Infinity;\n    this.Mb = -1;\n\n    for (var b = this.network.vertexes.i; b.next();) {\n      var c = b.value,\n          a = Math.min(a, c.column - this.nodeMinColumnSpace(c, !0));\n      this.Mb = Math.max(this.Mb, c.column + this.nodeMinColumnSpace(c, !1));\n    }\n\n    for (b.reset(); b.next();) {\n      b.value.column -= a;\n    }\n\n    this.Mb -= a;\n  };\n\n  function Hu(a, b, c) {\n    for (var d = Au(a, b), e = a.ne[b], f = [], h = 0; h < e; h++) {\n      var k = d[h],\n          l = null;\n      0 >= c && (l = k.Se);\n      var m = null;\n      0 <= c && (m = k.Me);\n      var n = 0,\n          p = 0,\n          q = k.near;\n      null !== q && q.layer === k.layer && (n += q.column - 1, p++);\n      if (null !== l) for (q = 0; q < l.count; q++) {\n        var k = l.n[q],\n            r = k.fromVertex;\n        k.valid && !k.rev && r.layer !== b && (n += r.column, p++);\n      }\n      if (null !== m) for (l = 0; l < m.count; l++) {\n        k = m.n[l], q = k.toVertex, k.valid && !k.rev && q.layer !== b && (n += q.column, p++);\n      }\n      f[h] = 0 === p ? -1 : n / p;\n    }\n\n    Bu(a, b, d);\n    return f;\n  }\n\n  function Iu(a, b, c) {\n    for (var d = Au(a, b), e = a.ne[b], f = [], h = 0; h < e; h++) {\n      var k = d[h],\n          l = null;\n      0 >= c && (l = k.Se);\n      var m = null;\n      0 <= c && (m = k.Me);\n      var n = 0,\n          p = [],\n          q = k.near;\n      null !== q && q.layer === k.layer && (p[n] = q.column - 1, n++);\n      if (null !== l) for (q = 0; q < l.count; q++) {\n        var k = l.n[q],\n            r = k.fromVertex;\n        k.valid && !k.rev && r.layer !== b && (p[n] = r.column + k.portFromColOffset, n++);\n      }\n      if (null !== m) for (l = 0; l < m.count; l++) {\n        k = m.n[l], q = k.toVertex, k.valid && !k.rev && q.layer !== b && (p[n] = q.column + k.portToColOffset, n++);\n      }\n      0 === n ? f[h] = -1 : (p.sort(function (a, b) {\n        return a - b;\n      }), m = n >> 1, f[h] = 0 !== (n & 1) ? p[m] : p[m - 1] + p[m] >> 1);\n    }\n\n    Bu(a, b, d);\n    return f;\n  }\n\n  function Ju(a, b, c, d, e, f) {\n    if (b.component === d) {\n      b.component = c;\n      var h = 0,\n          k = 0;\n      if (e) for (var l = b.lc; l.next();) {\n        var k = l.value,\n            m = k.toVertex,\n            h = b.layer - m.layer,\n            k = a.linkMinLength(k);\n        h === k && Ju(a, m, c, d, e, f);\n      }\n      if (f) for (l = b.nc; l.next();) {\n        k = l.value, m = k.fromVertex, h = m.layer - b.layer, k = a.linkMinLength(k), h === k && Ju(a, m, c, d, e, f);\n      }\n    }\n  }\n\n  function Ku(a, b, c, d, e, f) {\n    if (b.component === d) {\n      b.component = c;\n      if (e) for (var h = b.lc; h.next();) {\n        Ku(a, h.value.toVertex, c, d, e, f);\n      }\n      if (f) for (b = b.nc; b.next();) {\n        Ku(a, b.value.fromVertex, c, d, e, f);\n      }\n    }\n  }\n\n  function uu(a) {\n    for (a = a.vertexes.i; a.next();) {\n      var b = a.value;\n      if (b.valid) return b;\n    }\n\n    return null;\n  }\n\n  function vu(a) {\n    for (a = a.vertexes.i; a.next();) {\n      var b = a.value;\n\n      if (b.valid) {\n        for (var c = !0, d = b.lc; d.next();) {\n          if (d.value.toVertex.valid) {\n            c = !1;\n            break;\n          }\n        }\n\n        if (c) return b;\n      }\n    }\n\n    return null;\n  }\n\n  function wu(a) {\n    for (a = a.vertexes.i; a.next();) {\n      var b = a.value;\n\n      if (b.valid) {\n        for (var c = !0, d = b.nc; d.next();) {\n          if (d.value.fromVertex.valid) {\n            c = !1;\n            break;\n          }\n        }\n\n        if (c) return b;\n      }\n    }\n\n    return null;\n  }\n\n  function xu(a, b) {\n    b.Vp = a.Fs;\n    a.Fs++;\n\n    for (var c = b.lc; c.next();) {\n      var d = c.value,\n          e = d.toVertex;\n      -1 === e.Vp && (d.forest = !0, xu(a, e));\n    }\n\n    b.finish = a.Fs;\n    a.Fs++;\n  }\n\n  mu.prototype.assignLayers = function () {\n    switch (this.Zo) {\n      case Lu:\n        Mu(this);\n        break;\n\n      case Nu:\n        for (var a = 0, b = this.network.vertexes.i; b.next();) {\n          a = Ou(this, b.value), this.tb = Math.max(a, this.tb);\n        }\n\n        for (b.reset(); b.next();) {\n          a = b.value, a.layer = this.tb - a.layer;\n        }\n\n        break;\n\n      default:\n      case ou:\n        Mu(this);\n\n        for (b = this.network.vertexes.i; b.next();) {\n          b.value.valid = !1;\n        }\n\n        for (b.reset(); b.next();) {\n          a = b.value, 0 === a.nc.count && Pu(this, a);\n        }\n\n        a = Infinity;\n\n        for (b.reset(); b.next();) {\n          a = Math.min(a, b.value.layer);\n        }\n\n        this.tb = -1;\n\n        for (b.reset(); b.next();) {\n          var c = b.value;\n          c.layer -= a;\n          this.tb = Math.max(this.tb, c.layer);\n        }\n\n    }\n  };\n\n  function Mu(a) {\n    for (var b = a.network.vertexes.i; b.next();) {\n      var c = Qu(a, b.value);\n      a.tb = Math.max(c, a.tb);\n    }\n  }\n\n  function Qu(a, b) {\n    var c = 0;\n\n    if (-1 === b.layer) {\n      for (var d = b.lc; d.next();) {\n        var e = d.value,\n            f = e.toVertex,\n            e = a.linkMinLength(e),\n            c = Math.max(c, Qu(a, f) + e);\n      }\n\n      b.layer = c;\n    } else c = b.layer;\n\n    return c;\n  }\n\n  function Ou(a, b) {\n    var c = 0;\n\n    if (-1 === b.layer) {\n      for (var d = b.nc; d.next();) {\n        var e = d.value,\n            f = e.fromVertex,\n            e = a.linkMinLength(e),\n            c = Math.max(c, Ou(a, f) + e);\n      }\n\n      b.layer = c;\n    } else c = b.layer;\n\n    return c;\n  }\n\n  function Pu(a, b) {\n    if (!b.valid) {\n      b.valid = !0;\n\n      for (var c = b.lc; c.next();) {\n        Pu(a, c.value.toVertex);\n      }\n\n      for (c = a.network.vertexes.i; c.next();) {\n        c.value.component = -1;\n      }\n\n      for (var d = b.Se.n, e = d.length, f = 0; f < e; f++) {\n        var h = d[f],\n            k = h.fromVertex,\n            l = h.toVertex,\n            h = a.linkMinLength(h);\n        k.layer - l.layer > h && Ju(a, k, 0, -1, !0, !1);\n      }\n\n      for (Ju(a, b, 1, -1, !0, !0); 0 !== b.component;) {\n        for (var k = 0, d = Infinity, l = 0, m = null, n = a.network.vertexes.i; n.next();) {\n          var p = n.value;\n\n          if (1 === p.component) {\n            for (var q = 0, r = !1, s = p.Se.n, e = s.length, f = 0; f < e; f++) {\n              var h = s[f],\n                  t = h.fromVertex,\n                  q = q + 1;\n              1 !== t.component && (k += 1, t = t.layer - p.layer, h = a.linkMinLength(h), d = Math.min(d, t - h));\n            }\n\n            h = p.Me.n;\n            e = h.length;\n\n            for (f = 0; f < e; f++) {\n              s = h[f].toVertex, q -= 1, 1 !== s.component ? k -= 1 : r = !0;\n            }\n\n            (null === m || q < l) && !r && (m = p, l = q);\n          }\n        }\n\n        if (0 < k) {\n          for (c.reset(); c.next();) {\n            e = c.value, 1 === e.component && (e.layer += d);\n          }\n\n          b.component = 0;\n        } else m.component = 0;\n      }\n\n      for (c = a.network.vertexes.i; c.next();) {\n        c.value.component = -1;\n      }\n\n      for (Ju(a, b, 1, -1, !0, !1); 0 !== b.component;) {\n        f = 0;\n        e = Infinity;\n        d = 0;\n        h = null;\n\n        for (k = a.network.vertexes.i; k.next();) {\n          if (l = k.value, 1 === l.component) {\n            m = 0;\n            n = !1;\n            r = l.Se.n;\n            p = r.length;\n\n            for (q = 0; q < p; q++) {\n              s = r[q].fromVertex, m += 1, 1 !== s.component ? f += 1 : n = !0;\n            }\n\n            r = l.Me.n;\n            p = r.length;\n\n            for (q = 0; q < p; q++) {\n              s = r[q], t = s.toVertex, m -= 1, 1 !== t.component && (f -= 1, t = l.layer - t.layer, s = a.linkMinLength(s), e = Math.min(e, t - s));\n            }\n\n            (null === h || m > d) && !n && (h = l, d = m);\n          }\n        }\n\n        if (0 > f) {\n          for (c.reset(); c.next();) {\n            f = c.value, 1 === f.component && (f.layer -= e);\n          }\n\n          b.component = 0;\n        } else h.component = 0;\n      }\n    }\n  }\n\n  function zu(a, b, c) {\n    return 90 === a.ba ? c && !b.rev || !c && b.rev ? 270 : 90 : 180 === a.ba ? c && !b.rev || !c && b.rev ? 0 : 180 : 270 === a.ba ? c && !b.rev || !c && b.rev ? 90 : 270 : c && !b.rev || !c && b.rev ? 180 : 0;\n  }\n\n  mu.prototype.initializeIndices = function () {\n    switch (this.Po) {\n      default:\n      case Ru:\n        for (var a = this.network.vertexes.i; a.next();) {\n          var b = a.value,\n              c = b.layer;\n          b.index = this.ne[c];\n          this.ne[c]++;\n        }\n\n        break;\n\n      case pu:\n        a = this.network.vertexes.i;\n\n        for (b = this.tb; 0 <= b; b--) {\n          for (a.reset(); a.next();) {\n            c = a.value, c.layer === b && -1 === c.index && Su(this, c);\n          }\n        }\n\n        break;\n\n      case Tu:\n        for (a = this.network.vertexes.i, b = 0; b <= this.tb; b++) {\n          for (a.reset(); a.next();) {\n            c = a.value, c.layer === b && -1 === c.index && Uu(this, c);\n          }\n        }\n\n    }\n  };\n\n  function Su(a, b) {\n    var c = b.layer;\n    b.index = a.ne[c];\n    a.ne[c]++;\n\n    for (var c = b.Me.yc(), d = !0; d;) {\n      for (var d = !1, e = 0; e < c.length - 1; e++) {\n        var f = c[e],\n            h = c[e + 1];\n        f.portFromColOffset > h.portFromColOffset && (d = !0, c[e] = h, c[e + 1] = f);\n      }\n    }\n\n    for (e = 0; e < c.length; e++) {\n      d = c[e], d.valid && (d = d.toVertex, -1 === d.index && Su(a, d));\n    }\n  }\n\n  function Uu(a, b) {\n    var c = b.layer;\n    b.index = a.ne[c];\n    a.ne[c]++;\n\n    for (var c = b.Se.yc(), d = !0, e = 0; d;) {\n      for (d = !1, e = 0; e < c.length - 1; e++) {\n        var f = c[e],\n            h = c[e + 1];\n        f.portToColOffset > h.portToColOffset && (d = !0, c[e] = h, c[e + 1] = f);\n      }\n    }\n\n    for (e = 0; e < c.length; e++) {\n      d = c[e], d.valid && (d = d.fromVertex, -1 === d.index && Uu(a, d));\n    }\n  }\n\n  mu.prototype.reduceCrossings = function () {\n    for (var a = this.countCrossings(), b = Du(this), c = 0, d = 0, e = 0, c = 0; c < this.Nm; c++) {\n      for (d = 0; d <= this.tb; d++) {\n        Vu(this, d, 1), Wu(this, d, 1);\n      }\n\n      e = this.countCrossings();\n      e < a && (a = e, b = Du(this));\n\n      for (d = this.tb; 0 <= d; d--) {\n        Vu(this, d, -1), Wu(this, d, -1);\n      }\n\n      e = this.countCrossings();\n      e < a && (a = e, b = Du(this));\n    }\n\n    Eu(this, b);\n\n    for (c = 0; c < this.Nm; c++) {\n      for (d = 0; d <= this.tb; d++) {\n        Vu(this, d, 0), Wu(this, d, 0);\n      }\n\n      e = this.countCrossings();\n      e < a && (a = e, b = Du(this));\n\n      for (d = this.tb; 0 <= d; d--) {\n        Vu(this, d, 0), Wu(this, d, 0);\n      }\n\n      e = this.countCrossings();\n      e < a && (a = e, b = Du(this));\n    }\n\n    Eu(this, b);\n    var f = !1,\n        h = c = 0,\n        k = 0,\n        d = 0;\n\n    switch (this.oo) {\n      case Xu:\n        break;\n\n      case Yu:\n        for (k = a + 1; (d = this.countCrossings()) < k;) {\n          for (k = d, c = this.tb; 0 <= c; c--) {\n            for (h = 0; h <= c; h++) {\n              for (f = !0; f;) {\n                for (f = !1, d = c; d >= h; d--) {\n                  f = Wu(this, d, -1) || f;\n                }\n              }\n\n              e = this.countCrossings();\n              e >= a ? Eu(this, b) : (a = e, b = Du(this));\n\n              for (f = !0; f;) {\n                for (f = !1, d = c; d >= h; d--) {\n                  f = Wu(this, d, 1) || f;\n                }\n              }\n\n              e = this.countCrossings();\n              e >= a ? Eu(this, b) : (a = e, b = Du(this));\n\n              for (f = !0; f;) {\n                for (f = !1, d = h; d <= c; d++) {\n                  f = Wu(this, d, 1) || f;\n                }\n              }\n\n              e >= a ? Eu(this, b) : (a = e, b = Du(this));\n\n              for (f = !0; f;) {\n                for (f = !1, d = h; d <= c; d++) {\n                  f = Wu(this, d, -1) || f;\n                }\n              }\n\n              e >= a ? Eu(this, b) : (a = e, b = Du(this));\n\n              for (f = !0; f;) {\n                for (f = !1, d = c; d >= h; d--) {\n                  f = Wu(this, d, 0) || f;\n                }\n              }\n\n              e >= a ? Eu(this, b) : (a = e, b = Du(this));\n\n              for (f = !0; f;) {\n                for (f = !1, d = h; d <= c; d++) {\n                  f = Wu(this, d, 0) || f;\n                }\n              }\n\n              e >= a ? Eu(this, b) : (a = e, b = Du(this));\n            }\n          }\n        }\n\n        break;\n\n      default:\n      case qu:\n        for (c = this.tb, h = 0, k = a + 1; (d = this.countCrossings()) < k;) {\n          k = d;\n\n          for (f = !0; f;) {\n            for (f = !1, d = c; d >= h; d--) {\n              f = Wu(this, d, -1) || f;\n            }\n          }\n\n          e = this.countCrossings();\n          e >= a ? Eu(this, b) : (a = e, b = Du(this));\n\n          for (f = !0; f;) {\n            for (f = !1, d = c; d >= h; d--) {\n              f = Wu(this, d, 1) || f;\n            }\n          }\n\n          e = this.countCrossings();\n          e >= a ? Eu(this, b) : (a = e, b = Du(this));\n\n          for (f = !0; f;) {\n            for (f = !1, d = h; d <= c; d++) {\n              f = Wu(this, d, 1) || f;\n            }\n          }\n\n          e >= a ? Eu(this, b) : (a = e, b = Du(this));\n\n          for (f = !0; f;) {\n            for (f = !1, d = h; d <= c; d++) {\n              f = Wu(this, d, -1) || f;\n            }\n          }\n\n          e >= a ? Eu(this, b) : (a = e, b = Du(this));\n\n          for (f = !0; f;) {\n            for (f = !1, d = c; d >= h; d--) {\n              f = Wu(this, d, 0) || f;\n            }\n          }\n\n          e >= a ? Eu(this, b) : (a = e, b = Du(this));\n\n          for (f = !0; f;) {\n            for (f = !1, d = h; d <= c; d++) {\n              f = Wu(this, d, 0) || f;\n            }\n          }\n\n          e >= a ? Eu(this, b) : (a = e, b = Du(this));\n        }\n\n    }\n\n    Eu(this, b);\n  };\n\n  function Vu(a, b, c) {\n    var d = 0,\n        e = Au(a, b),\n        f = a.ne[b],\n        h = Iu(a, b, c);\n    c = Hu(a, b, c);\n\n    for (d = 0; d < f; d++) {\n      -1 === c[d] && (c[d] = e[d].column), -1 === h[d] && (h[d] = e[d].column);\n    }\n\n    for (var k = !0, l; k;) {\n      for (k = !1, d = 0; d < f - 1; d++) {\n        if (h[d + 1] < h[d] || h[d + 1] === h[d] && c[d + 1] < c[d]) k = !0, l = h[d], h[d] = h[d + 1], h[d + 1] = l, l = c[d], c[d] = c[d + 1], c[d + 1] = l, l = e[d], e[d] = e[d + 1], e[d + 1] = l;\n      }\n    }\n\n    for (d = h = 0; d < f; d++) {\n      l = e[d], l.index = d, h += a.nodeMinColumnSpace(l, !0), l.column = h, h += 1, h += a.nodeMinColumnSpace(l, !1);\n    }\n\n    Bu(a, b, e);\n  }\n\n  function Wu(a, b, c) {\n    var d = Au(a, b),\n        e = a.ne[b];\n    c = Fu(a, b, c);\n    var f = 0,\n        h;\n    h = [];\n\n    for (f = 0; f < e; f++) {\n      h[f] = -1;\n    }\n\n    var k;\n    k = [];\n\n    for (f = 0; f < e; f++) {\n      k[f] = -1;\n    }\n\n    for (var l = !1, m = !0; m;) {\n      for (m = !1, f = 0; f < e - 1; f++) {\n        var n = c[d[f].index * e + d[f + 1].index],\n            p = c[d[f + 1].index * e + d[f].index],\n            q = 0,\n            r = 0,\n            s = d[f].column,\n            t = d[f + 1].column,\n            u = a.nodeMinColumnSpace(d[f], !0),\n            y = a.nodeMinColumnSpace(d[f], !1),\n            v = a.nodeMinColumnSpace(d[f + 1], !0),\n            x = a.nodeMinColumnSpace(d[f + 1], !1),\n            u = s - u + v,\n            y = t - y + x,\n            v = v = 0,\n            A = d[f].nc.i;\n\n        for (A.reset(); A.next();) {\n          if (v = A.value, x = v.fromVertex, v.valid && x.layer === b) {\n            for (v = 0; d[v] !== x;) {\n              v++;\n            }\n\n            v < f && (q += 2 * (f - v), r += 2 * (f + 1 - v));\n            v === f + 1 && (q += 1);\n            v > f + 1 && (q += 4 * (v - f), r += 4 * (v - (f + 1)));\n          }\n        }\n\n        A = d[f].lc.i;\n\n        for (A.reset(); A.next();) {\n          if (v = A.value, x = v.toVertex, v.valid && x.layer === b) {\n            for (v = 0; d[v] !== x;) {\n              v++;\n            }\n\n            v === f + 1 && (r += 1);\n          }\n        }\n\n        A = d[f + 1].nc.i;\n\n        for (A.reset(); A.next();) {\n          if (v = A.value, x = v.fromVertex, v.valid && x.layer === b) {\n            for (v = 0; d[v] !== x;) {\n              v++;\n            }\n\n            v < f && (q += 2 * (f + 1 - v), r += 2 * (f - v));\n            v === f && (r += 1);\n            v > f + 1 && (q += 4 * (v - (f + 1)), r += 4 * (v - f));\n          }\n        }\n\n        A = d[f + 1].lc.i;\n\n        for (A.reset(); A.next();) {\n          if (v = A.value, x = v.toVertex, v.valid && x.layer === b) {\n            for (v = 0; d[v] !== x;) {\n              v++;\n            }\n\n            v === f && (q += 1);\n          }\n        }\n\n        var v = x = 0,\n            A = h[d[f].index],\n            L = k[d[f].index],\n            C = h[d[f + 1].index],\n            O = k[d[f + 1].index];\n        -1 !== A && (x += Math.abs(A - s), v += Math.abs(A - y));\n        -1 !== L && (x += Math.abs(L - s), v += Math.abs(L - y));\n        -1 !== C && (x += Math.abs(C - t), v += Math.abs(C - u));\n        -1 !== O && (x += Math.abs(O - t), v += Math.abs(O - u));\n        if (r < q - .5 || r === q && p < n - .5 || r === q && p === n && v < x - .5) m = l = !0, d[f].column = y, d[f + 1].column = u, n = d[f], d[f] = d[f + 1], d[f + 1] = n;\n      }\n    }\n\n    for (f = 0; f < e; f++) {\n      d[f].index = f;\n    }\n\n    Bu(a, b, d);\n    return l;\n  }\n\n  mu.prototype.straightenAndPack = function () {\n    var a = 0,\n        b = !1,\n        c = 0 !== (this.dj & Zu),\n        a = this.dj === ru;\n    1E3 < this.network.edges.count && !a && (c = !1);\n\n    if (c) {\n      b = [];\n\n      for (a = a = 0; a <= this.tb; a++) {\n        b[a] = 0;\n      }\n\n      for (var d = 0, e = this.network.vertexes.i; e.next();) {\n        var f = e.value,\n            a = f.layer,\n            d = f.column,\n            f = this.nodeMinColumnSpace(f, !1);\n        b[a] = Math.max(b[a], d + f);\n      }\n\n      for (e.reset(); e.next();) {\n        f = e.value, a = f.layer, d = f.column, f.column = (8 * (this.Mb - b[a]) >> 1) + 8 * d;\n      }\n\n      this.Mb *= 8;\n    }\n\n    if (0 !== (this.dj & $u)) for (b = !0; b;) {\n      b = !1;\n\n      for (a = this.Rf + 1; a <= this.tb; a++) {\n        b = av(this, a, 1) || b;\n      }\n\n      for (a = this.Rf - 1; 0 <= a; a--) {\n        b = av(this, a, -1) || b;\n      }\n\n      b = av(this, this.Rf, 0) || b;\n    }\n\n    if (0 !== (this.dj & bv)) {\n      for (a = this.Rf + 1; a <= this.tb; a++) {\n        cv(this, a, 1);\n      }\n\n      for (a = this.Rf - 1; 0 <= a; a--) {\n        cv(this, a, -1);\n      }\n\n      cv(this, this.Rf, 0);\n    }\n\n    c && (dv(this, -1), dv(this, 1));\n    if (0 !== (this.dj & $u)) for (b = !0; b;) {\n      b = !1;\n      b = av(this, this.Rf, 0) || b;\n\n      for (a = this.Rf + 1; a <= this.tb; a++) {\n        b = av(this, a, 0) || b;\n      }\n\n      for (a = this.Rf - 1; 0 <= a; a--) {\n        b = av(this, a, 0) || b;\n      }\n    }\n  };\n\n  function av(a, b, c) {\n    for (var d = !1; ev(a, b, c);) {\n      d = !0;\n    }\n\n    return d;\n  }\n\n  function ev(a, b, c) {\n    var d = 0,\n        e = Au(a, b),\n        f = a.ne[b],\n        h = Hu(a, b, -1);\n    if (0 < c) for (d = 0; d < f; d++) {\n      h[d] = -1;\n    }\n    var k = Hu(a, b, 1);\n    if (0 > c) for (d = 0; d < f; d++) {\n      k[d] = -1;\n    }\n\n    for (var l = !1, m = !0; m;) {\n      for (m = !1, d = 0; d < f; d++) {\n        var n = e[d].column,\n            p = a.nodeMinColumnSpace(e[d], !0),\n            q = a.nodeMinColumnSpace(e[d], !1),\n            r = 0,\n            r = 0 > d - 1 || n - e[d - 1].column - 1 > p + a.nodeMinColumnSpace(e[d - 1], !1) ? n - 1 : n,\n            p = 0,\n            p = d + 1 >= f || e[d + 1].column - n - 1 > q + a.nodeMinColumnSpace(e[d + 1], !0) ? n + 1 : n,\n            s = q = 0,\n            t = 0,\n            u = 0,\n            y = 0,\n            v = 0;\n        if (0 >= c) for (var x = e[d].nc.i; x.next();) {\n          var v = x.value,\n              A = v.fromVertex;\n          v.valid && A.layer !== b && (u = Cu(v), y = v.portFromColOffset, v = v.portToColOffset, A = A.column, q += (Math.abs(n + v - (A + y)) + 1) * u, s += (Math.abs(r + v - (A + y)) + 1) * u, t += (Math.abs(p + v - (A + y)) + 1) * u);\n        }\n        if (0 <= c) for (x = e[d].lc.i; x.next();) {\n          v = x.value, A = v.toVertex, v.valid && A.layer !== b && (u = Cu(v), y = v.portFromColOffset, v = v.portToColOffset, A = A.column, q += (Math.abs(n + y - (A + v)) + 1) * u, s += (Math.abs(r + y - (A + v)) + 1) * u, t += (Math.abs(p + y - (A + v)) + 1) * u);\n        }\n        v = y = u = 0;\n        x = h[e[d].index];\n        A = k[e[d].index];\n        -1 !== x && (u += Math.abs(x - n), y += Math.abs(x - r), v += Math.abs(x - p));\n        -1 !== A && (u += Math.abs(A - n), y += Math.abs(A - r), v += Math.abs(A - p));\n        if (s < q || s === q && y < u) m = l = !0, e[d].column = r;else if (t < q || t === q && v < u) m = l = !0, e[d].column = p;\n      }\n    }\n\n    Bu(a, b, e);\n    a.normalize();\n    return l;\n  }\n\n  function cv(a, b, c) {\n    var d = 0,\n        e = Au(a, b),\n        f = a.ne[b],\n        h = Iu(a, b, c);\n    c = [];\n\n    for (d = 0; d < f; d++) {\n      c[d] = h[d];\n    }\n\n    for (h = !0; h;) {\n      for (h = !1, d = 0; d < f; d++) {\n        var k = e[d].column,\n            l = a.nodeMinColumnSpace(e[d], !0),\n            m = a.nodeMinColumnSpace(e[d], !1),\n            n = 0,\n            p = 0,\n            q = 0,\n            q = p = 0;\n        -1 === c[d] ? 0 === d && d === f - 1 ? n = k : 0 === d ? (p = e[d + 1].column, n = p - k === m + a.nodeMinColumnSpace(e[d + 1], !0) ? k - 1 : k) : d === f - 1 ? (q = e[d - 1].column, n = k - q === l + a.nodeMinColumnSpace(e[d - 1], !1) ? k + 1 : k) : (q = e[d - 1].column, q = q + a.nodeMinColumnSpace(e[d - 1], !1) + l + 1, p = e[d + 1].column, p = p - a.nodeMinColumnSpace(e[d + 1], !0) - m - 1, n = (q + p) / 2 | 0) : 0 === d && d === f - 1 ? n = c[d] : 0 === d ? (p = e[d + 1].column, p = p - a.nodeMinColumnSpace(e[d + 1], !0) - m - 1, n = Math.min(c[d], p)) : d === f - 1 ? (q = e[d - 1].column, q = q + a.nodeMinColumnSpace(e[d - 1], !1) + l + 1, n = Math.max(c[d], q)) : (q = e[d - 1].column, q = q + a.nodeMinColumnSpace(e[d - 1], !1) + l + 1, p = e[d + 1].column, p = p - a.nodeMinColumnSpace(e[d + 1], !0) - m - 1, q < c[d] && c[d] < p ? n = c[d] : q >= c[d] ? n = q : p <= c[d] && (n = p));\n        n !== k && (h = !0, e[d].column = n);\n      }\n    }\n\n    Bu(a, b, e);\n    a.normalize();\n  }\n\n  function fv(a, b) {\n    for (var c = !0, d = a.network.vertexes.i; d.next();) {\n      var e = d.value,\n          f = a.nodeMinColumnSpace(e, !0),\n          h = a.nodeMinColumnSpace(e, !1);\n\n      if (e.column - f <= b && e.column + h >= b) {\n        c = !1;\n        break;\n      }\n    }\n\n    e = !1;\n    if (c) for (d.reset(); d.next();) {\n      c = d.value, c.column > b && (c.column -= 1, e = !0);\n    }\n    return e;\n  }\n\n  function gv(a, b) {\n    for (var c = b, c = b + 1, d = 0, e = [], f = [], d = 0; d <= a.tb; d++) {\n      e[d] = !1, f[d] = !1;\n    }\n\n    for (var h = a.network.vertexes.i; h.next();) {\n      var d = h.value,\n          k = d.column - a.nodeMinColumnSpace(d, !0),\n          l = d.column + a.nodeMinColumnSpace(d, !1);\n      k <= b && l >= b && (e[d.layer] = !0);\n      k <= c && l >= c && (f[d.layer] = !0);\n    }\n\n    k = !0;\n    c = !1;\n\n    for (d = 0; d <= a.tb; d++) {\n      k = k && !(e[d] && f[d]);\n    }\n\n    if (k) for (h.reset(); h.next();) {\n      e = h.value, e.column > b && (e.column -= 1, c = !0);\n    }\n    return c;\n  }\n\n  function dv(a, b) {\n    for (var c = 0; c <= a.Mb; c++) {\n      for (; fv(a, c);) {\n        ;\n      }\n    }\n\n    a.normalize();\n\n    for (c = 0; c < a.Mb; c++) {\n      for (; gv(a, c);) {\n        ;\n      }\n    }\n\n    a.normalize();\n    var c = 0,\n        d,\n        e = 0,\n        f = 0,\n        h = 0;\n    if (0 < b) for (c = 0; c <= a.Mb; c++) {\n      for (d = Du(a), e = Gu(a), f = e + 1; e < f;) {\n        f = e, hv(a, c, 1), h = Gu(a), h > e ? Eu(a, d) : h < e && (e = h, d = Du(a));\n      }\n    }\n    if (0 > b) for (c = a.Mb; 0 <= c; c--) {\n      for (d = Du(a), e = Gu(a), f = e + 1; e < f;) {\n        f = e, hv(a, c, -1), h = Gu(a), h > e ? Eu(a, d) : h < e && (e = h, d = Du(a));\n      }\n    }\n    a.normalize();\n  }\n\n  function hv(a, b, c) {\n    a.Cg = 0;\n\n    for (var d = a.network.vertexes.i; d.next();) {\n      d.value.component = -1;\n    }\n\n    if (0 < c) for (d.reset(); d.next();) {\n      var e = d.value;\n      e.column - a.nodeMinColumnSpace(e, !0) <= b && (e.component = a.Cg);\n    }\n    if (0 > c) for (d.reset(); d.next();) {\n      e = d.value, e.column + a.nodeMinColumnSpace(e, !1) >= b && (e.component = a.Cg);\n    }\n    a.Cg++;\n\n    for (d.reset(); d.next();) {\n      b = d.value, -1 === b.component && (Ku(a, b, a.Cg, -1, !0, !0), a.Cg++);\n    }\n\n    var f = 0;\n    b = [];\n\n    for (f = 0; f < a.Cg * a.Cg; f++) {\n      b[f] = !1;\n    }\n\n    e = [];\n\n    for (f = 0; f < (a.tb + 1) * (a.Mb + 1); f++) {\n      e[f] = -1;\n    }\n\n    for (d.reset(); d.next();) {\n      for (var f = d.value, h = f.layer, k = Math.max(0, f.column - a.nodeMinColumnSpace(f, !0)), l = Math.min(a.Mb, f.column + a.nodeMinColumnSpace(f, !1)); k <= l; k++) {\n        e[h * (a.Mb + 1) + k] = f.component;\n      }\n    }\n\n    for (f = 0; f <= a.tb; f++) {\n      if (0 < c) for (k = 0; k < a.Mb; k++) {\n        -1 !== e[f * (a.Mb + 1) + k] && -1 !== e[f * (a.Mb + 1) + k + 1] && e[f * (a.Mb + 1) + k] !== e[f * (a.Mb + 1) + k + 1] && (b[e[f * (a.Mb + 1) + k] * a.Cg + e[f * (a.Mb + 1) + k + 1]] = !0);\n      }\n      if (0 > c) for (k = a.Mb; 0 < k; k--) {\n        -1 !== e[f * (a.Mb + 1) + k] && -1 !== e[f * (a.Mb + 1) + k - 1] && e[f * (a.Mb + 1) + k] !== e[f * (a.Mb + 1) + k - 1] && (b[e[f * (a.Mb + 1) + k] * a.Cg + e[f * (a.Mb + 1) + k - 1]] = !0);\n      }\n    }\n\n    e = [];\n\n    for (f = 0; f < a.Cg; f++) {\n      e[f] = !0;\n    }\n\n    h = new H(\"number\");\n    h.add(0);\n\n    for (l = 0; 0 !== h.count;) {\n      if (l = h.n[h.count - 1], h.dd(h.count - 1), e[l]) for (e[l] = !1, f = 0; f < a.Cg; f++) {\n        b[l * a.Cg + f] && h.Sd(0, f);\n      }\n    }\n\n    if (0 < c) for (d.reset(); d.next();) {\n      a = d.value, e[a.component] && (a.column -= 1);\n    }\n    if (0 > c) for (d.reset(); d.next();) {\n      c = d.value, e[c.component] && (c.column += 1);\n    }\n  }\n\n  mu.prototype.commitLayout = function () {\n    if (this.Gq) for (var a = yu(this, !0), b = yu(this, !1), c = this.network.edges.i; c.next();) {\n      var d = c.value.link;\n      null !== d && (d.Cb = a, d.Db = b);\n    }\n    this.commitNodes();\n    this.pA();\n    this.Au && this.commitLinks();\n  };\n\n  function yu(a, b) {\n    return 270 === a.ba ? b ? Gc : Jc : 90 === a.ba ? b ? Jc : Gc : 180 === a.ba ? b ? Hc : Ic : b ? Ic : Hc;\n  }\n\n  mu.prototype.commitNodes = function () {\n    this.yg = [];\n    this.Qf = [];\n    this.Pf = [];\n    this.Pb = [];\n\n    for (var a = 0; a <= this.tb; a++) {\n      this.yg[a] = 0, this.Qf[a] = 0, this.Pf[a] = 0, this.Pb[a] = 0;\n    }\n\n    for (a = this.network.vertexes.i; a.next();) {\n      var b = a.value,\n          c = b.layer;\n      this.yg[c] = Math.max(this.yg[c], this.nodeMinLayerSpace(b, !0));\n      this.Qf[c] = Math.max(this.Qf[c], this.nodeMinLayerSpace(b, !1));\n    }\n\n    for (var b = 0, d = this.Om, c = 0; c <= this.tb; c++) {\n      var e = d;\n      0 >= this.yg[c] + this.Qf[c] && (e = 0);\n      0 < c && (b += e / 2);\n      90 === this.ba || 0 === this.ba ? (b += this.Qf[c], this.Pf[c] = b, b += this.yg[c]) : (b += this.yg[c], this.Pf[c] = b, b += this.Qf[c]);\n      c < this.tb && (b += e / 2);\n      this.Pb[c] = b;\n    }\n\n    d = b;\n    b = this.Nd;\n\n    for (c = 0; c <= this.tb; c++) {\n      270 === this.ba ? this.Pf[c] = b.y + this.Pf[c] : 90 === this.ba ? (this.Pf[c] = b.y + d - this.Pf[c], this.Pb[c] = d - this.Pb[c]) : 180 === this.ba ? this.Pf[c] = b.x + this.Pf[c] : (this.Pf[c] = b.x + d - this.Pf[c], this.Pb[c] = d - this.Pb[c]);\n    }\n\n    a.reset();\n\n    for (d = e = Infinity; a.next();) {\n      var c = a.value,\n          f = c.layer,\n          h = c.column | 0,\n          k = 0,\n          l = 0;\n      270 === this.ba || 90 === this.ba ? (k = b.x + this.Zd * h, l = this.Pf[f]) : (k = this.Pf[f], l = b.y + this.Zd * h);\n      c.la = k;\n      c.sa = l;\n      e = Math.min(c.x, e);\n      d = Math.min(c.y, d);\n    }\n\n    e = b.x - e;\n    b = b.y - d;\n    this.nC = new z(e, b);\n\n    for (a.reset(); a.next();) {\n      c = a.value, c.x += e, c.y += b, c.commit();\n    }\n  };\n\n  mu.prototype.pA = function () {\n    for (var a = 0, b = this.Om, c = 0; c <= this.tb; c++) {\n      a += this.yg[c], a += this.Qf[c];\n    }\n\n    for (var a = a + this.tb * b, b = [], c = this.Zd * this.Mb, d = this.SI; 0 <= d; d--) {\n      270 === this.ba ? 0 === d ? b.push(new B(0, 0, c, Math.abs(this.Pb[0]))) : b.push(new B(0, this.Pb[d - 1], c, Math.abs(this.Pb[d - 1] - this.Pb[d]))) : 90 === this.ba ? 0 === d ? b.push(new B(0, this.Pb[0], c, Math.abs(this.Pb[0] - a))) : b.push(new B(0, this.Pb[d], c, Math.abs(this.Pb[d - 1] - this.Pb[d]))) : 180 === this.ba ? 0 === d ? b.push(new B(0, 0, Math.abs(this.Pb[0]), c)) : b.push(new B(this.Pb[d - 1], 0, Math.abs(this.Pb[d - 1] - this.Pb[d]), c)) : 0 === d ? b.push(new B(this.Pb[0], 0, Math.abs(this.Pb[0] - a), c)) : b.push(new B(this.Pb[d], 0, Math.abs(this.Pb[d - 1] - this.Pb[d]), c));\n    }\n\n    this.commitLayers(b, this.nC);\n  };\n\n  mu.prototype.commitLayers = function () {};\n\n  mu.prototype.commitLinks = function () {\n    for (var a = this.network.edges.i, b; a.next();) {\n      b = a.value.link, null !== b && (b.qm(), b.Np(), b.qj());\n    }\n\n    for (a.reset(); a.next();) {\n      b = a.value.link, null !== b && b.io();\n    }\n\n    for (a.reset(); a.next();) {\n      var c = a.value;\n      b = c.link;\n\n      if (null !== b) {\n        b.qm();\n        var d = b,\n            e = d.V,\n            f = d.Z,\n            h = d.gc,\n            k = d.zc;\n\n        if (null !== e) {\n          var l = e.findVisibleNode();\n          null !== l && l !== e && (e = l, h = l.port);\n        }\n\n        if (null !== f) {\n          var m = f.findVisibleNode();\n          null !== m && m !== f && (f = m, k = m.port);\n        }\n\n        var n = b.computeSpot(!0, h),\n            p = b.computeSpot(!1, k),\n            q = c.fromVertex,\n            r = c.toVertex;\n\n        if (c.valid) {\n          if (b.nf === tj && 4 === b.qa) {\n            if (c.rev) var s = e,\n                e = f,\n                f = s,\n                t = h,\n                h = k,\n                k = t;\n\n            if (q.column === r.column) {\n              var u = b.getLinkPoint(e, h, n, !0, !1, f, k),\n                  y = b.getLinkPoint(f, k, p, !1, !1, e, h);\n              u.I() || u.set(e.U.Ul);\n              y.I() || y.set(f.U.Ul);\n              b.Np();\n              b.oj(u.x, u.y);\n              b.oj((2 * u.x + y.x) / 3, (2 * u.y + y.y) / 3);\n              b.oj((u.x + 2 * y.x) / 3, (u.y + 2 * y.y) / 3);\n              b.oj(y.x, y.y);\n            } else {\n              var v = !1,\n                  x = !1;\n              null !== h && n === yb && (v = !0);\n              null !== k && p === yb && (x = !0);\n\n              if (v || x) {\n                var A = b.l(0).x,\n                    L = b.l(0).y,\n                    C = b.l(1).x,\n                    O = b.l(1).y,\n                    X = b.l(2).x,\n                    S = b.l(2).y,\n                    ba = b.l(3).x,\n                    ha = b.l(3).y;\n\n                if (v) {\n                  90 === this.ba || 270 === this.ba ? (C = A, O = (L + ha) / 2) : (C = (A + ba) / 2, O = L);\n                  b.ca(1, C, O);\n                  var ya = b.getLinkPoint(e, h, n, !0, !1, f, k);\n                  ya.I() || ya.set(e.U.Ul);\n                  b.ca(0, ya.x, ya.y);\n                }\n\n                x && (90 === this.ba || 270 === this.ba ? (X = ba, S = (L + ha) / 2) : (X = (A + ba) / 2, S = ha), b.ca(2, X, S), ya = b.getLinkPoint(f, k, p, !1, !1, e, h), ya.I() || ya.set(f.U.Ul), b.ca(3, ya.x, ya.y));\n              }\n            }\n          }\n\n          b.qj();\n        } else if (q.layer === r.layer) b.qj();else {\n          var Ga = !1,\n              eb = !1,\n              va = 0,\n              U = b.fu + 1;\n          if (b.ac) eb = !0, va = b.qa, 4 < va && b.points.removeRange(2, va - 3);else if (b.nf === tj) Ga = !0, va = b.qa, 4 < va && b.points.removeRange(2, va - 3), U = 2;else {\n            var va = b.qa,\n                sb = n === yb,\n                Kb = p === yb;\n            2 < va && sb && Kb ? b.points.removeRange(1, va - 2) : 3 < va && sb && !Kb ? b.points.removeRange(1, va - 3) : 3 < va && !sb && Kb ? b.points.removeRange(2, va - 2) : 4 < va && !sb && !Kb && b.points.removeRange(2, va - 3);\n          }\n          var Oa, Lc;\n\n          if (c.rev) {\n            for (var Ma = 0; null !== r && q !== r;) {\n              Lc = Oa = null;\n\n              for (var cg = r.nc.i; cg.next();) {\n                var dg = cg.value;\n                if (dg.link === c.link && (Oa = dg.fromVertex, Lc = dg.toVertex, null === Oa.wd)) break;\n              }\n\n              if (Oa !== q) if (fb = b.l(U - 1).x, pb = b.l(U - 1).y, na = Oa.la, ja = Oa.sa, eb) 180 === this.ba || 0 === this.ba ? 2 === U ? (b.w(U++, fb, pb), b.w(U++, fb, ja)) : (Id = null !== Lc ? Lc.sa : pb, Id !== ja && (Za = this.Pb[Oa.layer - 1], b.w(U++, Za, pb), b.w(U++, Za, ja))) : 2 === U ? (b.w(U++, fb, pb), b.w(U++, na, pb)) : (Gf = null !== Lc ? Lc.la : fb, Gf !== na && (Za = this.Pb[Oa.layer - 1], b.w(U++, fb, Za), b.w(U++, na, Za)));else if (2 === U) {\n                if (Ia = Math.max(10, this.yg[r.layer]), kb = Math.max(10, this.Qf[r.layer]), Ga) 180 === this.ba ? na <= r.N.x ? (Ma = r.N.x, b.w(U++, Ma - Ia, ja), b.w(U++, Ma, ja), b.w(U++, Ma + kb, ja)) : (b.w(U++, na - Ia, ja), b.w(U++, na, ja), b.w(U++, na + kb, ja)) : 90 === this.ba ? ja >= r.N.bottom ? (Ma = r.N.y + r.N.height, b.w(U++, na, Ma + kb), b.w(U++, na, Ma), b.w(U++, na, Ma - Ia)) : (b.w(U++, na, ja + kb), b.w(U++, na, ja), b.w(U++, na, ja - Ia)) : 270 === this.ba ? ja <= r.N.y ? (Ma = r.N.y, b.w(U++, na, Ma - Ia), b.w(U++, na, Ma), b.w(U++, na, Ma + kb)) : (b.w(U++, na, ja - Ia), b.w(U++, na, ja), b.w(U++, na, ja + kb)) : 0 === this.ba && (na >= r.N.right ? (Ma = r.N.x + r.N.width, b.w(U++, Ma + kb, ja), b.w(U++, Ma, ja), b.w(U++, Ma - Ia, ja)) : (b.w(U++, na + kb, ja), b.w(U++, na, ja), b.w(U++, na - Ia, ja)));else {\n                  b.w(U++, fb, pb);\n                  var td = 0;\n\n                  if (180 === this.ba || 0 === this.ba) {\n                    if (180 === this.ba ? na >= r.N.right : na <= r.N.x) td = (0 === this.ba ? -Ia : kb) / 2;\n                    b.w(U++, fb + td, ja);\n                  } else {\n                    if (270 === this.ba ? ja >= r.N.bottom : ja <= r.N.y) td = (90 === this.ba ? -Ia : kb) / 2;\n                    b.w(U++, na, pb + td);\n                  }\n\n                  b.w(U++, na, ja);\n                }\n              } else Ia = Math.max(10, this.yg[Oa.layer]), kb = Math.max(10, this.Qf[Oa.layer]), 180 === this.ba ? (Ga && b.w(U++, na - Ia, ja), b.w(U++, na, ja), Ga && b.w(U++, na + kb, ja)) : 90 === this.ba ? (Ga && b.w(U++, na, ja + kb), b.w(U++, na, ja), Ga && b.w(U++, na, ja - Ia)) : 270 === this.ba ? (Ga && b.w(U++, na, ja - Ia), b.w(U++, na, ja), Ga && b.w(U++, na, ja + kb)) : (Ga && b.w(U++, na + kb, ja), b.w(U++, na, ja), Ga && b.w(U++, na - Ia, ja));\n              r = Oa;\n            }\n\n            if (null === k || n !== yb || eb) if (fb = b.l(U - 1).x, pb = b.l(U - 1).y, na = b.l(U).x, ja = b.l(U).y, eb) {\n              var ud = this.Qf[q.layer],\n                  Mc = 0;\n              180 === this.ba || 0 === this.ba ? (Mc = pb, Mc >= q.N.y && Mc <= q.N.bottom && (180 === this.ba ? na >= q.N.x : na <= q.N.right) && (Ma = q.la + (180 === this.ba ? -ud : ud), Mc = Mc < q.N.y + q.N.height / 2 ? q.N.y - this.Zd / 2 : q.N.bottom + this.Zd / 2, b.w(U++, Ma, pb), b.w(U++, Ma, Mc)), b.w(U++, na, Mc)) : (Mc = fb, Mc >= q.N.x && Mc <= q.N.right && (270 === this.ba ? ja >= q.N.y : ja <= q.N.bottom) && (Ma = q.sa + (270 === this.ba ? -ud : ud), Mc = Mc < q.N.x + q.N.width / 2 ? q.N.x - this.Zd / 2 : q.N.right + this.Zd / 2, b.w(U++, fb, Ma), b.w(U++, Mc, Ma)), b.w(U++, Mc, ja));\n              b.w(U++, na, ja);\n            } else if (Ga) Ia = Math.max(10, this.yg[q.layer]), kb = Math.max(10, this.Qf[q.layer]), 180 === this.ba && na >= q.N.x ? (Ma = q.N.x + q.N.width, b.ca(U - 2, Ma, pb), b.ca(U - 1, Ma + kb, pb)) : 90 === this.ba && ja <= q.N.bottom ? (Ma = q.N.y, b.ca(U - 2, fb, Ma), b.ca(U - 1, fb, Ma - Ia)) : 270 === this.ba && ja >= q.N.y ? (Ma = q.N.y + q.N.height, b.ca(U - 2, fb, Ma), b.ca(U - 1, fb, Ma + kb)) : 0 === this.ba && na <= q.N.right && (Ma = q.N.x, b.ca(U - 2, Ma, pb), b.ca(U - 1, Ma - Ia, pb));else {\n              Ia = Math.max(10, this.yg[q.layer]);\n              kb = Math.max(10, this.Qf[q.layer]);\n              td = 0;\n\n              if (180 === this.ba || 0 === this.ba) {\n                if (180 === this.ba ? na <= q.N.x : na >= q.N.right) td = (0 === this.ba ? kb : -Ia) / 2;\n                b.w(U++, na + td, pb);\n              } else {\n                if (270 === this.ba ? ja <= q.N.y : ja >= q.N.bottom) td = (90 === this.ba ? kb : -Ia) / 2;\n                b.w(U++, fb, ja + td);\n              }\n\n              b.w(U++, na, ja);\n            }\n          } else {\n            for (; null !== q && q !== r;) {\n              Lc = Oa = null;\n\n              for (var rh = q.lc.i; rh.next();) {\n                var Xe = rh.value;\n                if (Xe.link === c.link && (Oa = Xe.toVertex, Lc = Xe.fromVertex, null !== Lc.wd && (Lc = null), null === Oa.wd)) break;\n              }\n\n              var fb = 0,\n                  pb = 0,\n                  na = 0,\n                  ja = 0,\n                  Za = 0,\n                  Ia = 0,\n                  kb = 0;\n              if (Oa !== r) if (fb = b.l(U - 1).x, pb = b.l(U - 1).y, na = Oa.la, ja = Oa.sa, eb) {\n                if (180 === this.ba || 0 === this.ba) {\n                  var Id = null !== Lc ? Lc.sa : pb;\n                  Id !== ja && (Za = this.Pb[Oa.layer], 2 === U && (Za = 0 === this.ba ? Math.max(Za, fb) : Math.min(Za, fb)), b.w(U++, Za, pb), b.w(U++, Za, ja));\n                } else {\n                  var Gf = null !== Lc ? Lc.la : fb;\n                  Gf !== na && (Za = this.Pb[Oa.layer], 2 === U && (Za = 90 === this.ba ? Math.max(Za, pb) : Math.min(Za, pb)), b.w(U++, fb, Za), b.w(U++, na, Za));\n                }\n              } else Ia = Math.max(10, this.yg[Oa.layer]), kb = Math.max(10, this.Qf[Oa.layer]), 180 === this.ba ? (b.w(U++, na + kb, ja), Ga && b.w(U++, na, ja), b.w(U++, na - Ia, ja)) : 90 === this.ba ? (b.w(U++, na, ja - Ia), Ga && b.w(U++, na, ja), b.w(U++, na, ja + kb)) : 270 === this.ba ? (b.w(U++, na, ja + kb), Ga && b.w(U++, na, ja), b.w(U++, na, ja - Ia)) : (b.w(U++, na - Ia, ja), Ga && b.w(U++, na, ja), b.w(U++, na + kb, ja));\n              q = Oa;\n            }\n\n            eb && (fb = b.l(U - 1).x, pb = b.l(U - 1).y, na = b.l(U).x, ja = b.l(U).y, 180 === this.ba || 0 === this.ba ? pb !== ja && (Za = 0 === this.ba ? Math.min(Math.max((na + fb) / 2, this.Pb[r.layer]), na) : Math.max(Math.min((na + fb) / 2, this.Pb[r.layer]), na), b.w(U++, Za, pb), b.w(U++, Za, ja)) : fb !== na && (Za = 90 === this.ba ? Math.min(Math.max((ja + pb) / 2, this.Pb[r.layer]), ja) : Math.max(Math.min((ja + pb) / 2, this.Pb[r.layer]), ja), b.w(U++, fb, Za), b.w(U++, na, Za)));\n          }\n\n          if (null !== d && Ga) {\n            if (null !== h) {\n              if (n === yb) {\n                var se = b.l(0),\n                    $d = b.l(2);\n                se.L($d) || b.ca(1, (se.x + $d.x) / 2, (se.y + $d.y) / 2);\n              }\n\n              ya = b.getLinkPoint(e, h, yb, !0, !1, f, k);\n              ya.I() || ya.set(e.U.Ul);\n              b.ca(0, ya.x, ya.y);\n            }\n\n            null !== k && (p === yb && (se = b.l(b.qa - 1), $d = b.l(b.qa - 3), se.L($d) || b.ca(b.qa - 2, (se.x + $d.x) / 2, (se.y + $d.y) / 2)), ya = b.getLinkPoint(f, k, yb, !1, !1, e, h), ya.I() || ya.set(f.U.Ul), b.ca(b.qa - 1, ya.x, ya.y));\n          }\n\n          b.qj();\n          c.commit();\n        }\n      }\n    }\n\n    for (var gd = new H(W), sh = this.network.edges.i; sh.next();) {\n      var Hf = sh.value.link;\n      null !== Hf && Hf.ac && !gd.contains(Hf) && gd.add(Hf);\n    }\n\n    if (0 < gd.count) if (90 === this.ba || 270 === this.ba) {\n      for (var Eg = 0, Cb = new H(iv), Ac, ae, th = gd.i; th.next();) {\n        var qb = th.value;\n        if (null !== qb && qb.ac) for (var Ja = 2; Ja < qb.qa - 3; Ja++) {\n          if (Ac = qb.l(Ja), ae = qb.l(Ja + 1), jv(Ac.y, ae.y) && !jv(Ac.x, ae.x)) {\n            var Lb = new iv();\n            Lb.layer = Math.floor(Ac.y / 2);\n            var If = qb.l(0),\n                Fg = qb.l(qb.qa - 1);\n            Lb.first = If.x * If.x + If.y;\n            Lb.ie = Fg.x * Fg.x + Fg.y;\n            Lb.$e = Math.min(Ac.x, ae.x);\n            Lb.ue = Math.max(Ac.x, ae.x);\n            Lb.index = Ja;\n            Lb.link = qb;\n\n            if (Ja + 2 < qb.qa) {\n              var uh = qb.l(Ja - 1),\n                  gb = qb.l(Ja + 2),\n                  sc = 0;\n              uh.y < Ac.y ? sc = gb.y < Ac.y ? 3 : Ac.x < ae.x ? 2 : 1 : uh.y > Ac.y && (sc = gb.y > Ac.y ? 0 : ae.x < Ac.x ? 2 : 1);\n              Lb.xi = sc;\n            }\n\n            Cb.add(Lb);\n          }\n        }\n      }\n\n      if (1 < Cb.count) {\n        Cb.sort(this.nG);\n\n        for (var Ub = 0; Ub < Cb.count;) {\n          for (var te = Cb.n[Ub].layer, tc = Ub + 1; tc < Cb.count && Cb.n[tc].layer === te;) {\n            tc++;\n          }\n\n          if (1 < tc - Ub) for (var uc = Ub; uc < tc;) {\n            for (var rb = Cb.n[uc].ue, jc = Ub + 1; jc < tc && Cb.n[jc].$e < rb;) {\n              rb = Math.max(rb, Cb.n[jc].ue), jc++;\n            }\n\n            var tb = jc - uc;\n\n            if (1 < tb) {\n              Cb.Iq(this.vy, uc, uc + tb);\n\n              for (var Bc = 1, bb = Cb.n[uc].ie, Ja = uc; Ja < jc; Ja++) {\n                var Qa = Cb.n[Ja];\n                Qa.ie !== bb && (Bc++, bb = Qa.ie);\n              }\n\n              Cb.Iq(this.mG, uc, uc + tb);\n\n              for (var Hb = 1, bb = Cb.n[uc].first, Ja = uc; Ja < jc; Ja++) {\n                Qa = Cb.n[Ja], Qa.first !== bb && (Hb++, bb = Qa.first);\n              }\n\n              var vd = !0,\n                  eg = Hb;\n              Bc < Hb ? (vd = !1, eg = Bc, bb = Cb.n[uc].ie, Cb.Iq(this.vy, uc, uc + tb)) : bb = Cb.n[uc].first;\n\n              for (var Ye = 0, Ja = uc; Ja < jc; Ja++) {\n                Qa = Cb.n[Ja];\n                (vd ? Qa.first : Qa.ie) !== bb && (Ye++, bb = vd ? Qa.first : Qa.ie);\n                qb = Qa.link;\n                Ac = qb.l(Qa.index);\n                ae = qb.l(Qa.index + 1);\n                var fg = this.MF * (Ye - (eg - 1) / 2);\n                Eg++;\n                qb.qm();\n                qb.ca(Qa.index, Ac.x, Ac.y + fg);\n                qb.ca(Qa.index + 1, ae.x, ae.y + fg);\n                qb.qj();\n              }\n            }\n\n            uc = jc;\n          }\n          Ub = tc;\n        }\n      }\n    } else {\n      for (var uj = 0, Mb = new H(iv), Cc, vc, hd = gd.i; hd.next();) {\n        var lb = hd.value;\n        if (null !== lb && lb.ac) for (var Nb = 2; Nb < lb.qa - 3; Nb++) {\n          if (Cc = lb.l(Nb), vc = lb.l(Nb + 1), jv(Cc.x, vc.x) && !jv(Cc.y, vc.y)) {\n            var ue = new iv();\n            ue.layer = Math.floor(Cc.x / 2);\n            var ub = lb.l(0),\n                be = lb.l(lb.qa - 1);\n            ue.first = ub.x + ub.y * ub.y;\n            ue.ie = be.x + be.y * be.y;\n            ue.$e = Math.min(Cc.y, vc.y);\n            ue.ue = Math.max(Cc.y, vc.y);\n            ue.index = Nb;\n            ue.link = lb;\n\n            if (Nb + 2 < lb.qa) {\n              var vh = lb.l(Nb - 1),\n                  wh = lb.l(Nb + 2),\n                  Gg = 0;\n              vh.x < Cc.x ? Gg = wh.x < Cc.x ? 3 : Cc.y < vc.y ? 2 : 1 : vh.x > Cc.x && (Gg = wh.x > Cc.x ? 0 : vc.y < Cc.y ? 2 : 1);\n              ue.xi = Gg;\n            }\n\n            Mb.add(ue);\n          }\n        }\n      }\n\n      if (1 < Mb.count) {\n        Mb.sort(this.nG);\n\n        for (var id = 0; id < Mb.count;) {\n          for (var Jd = Mb.n[id].layer, bc = id + 1; bc < Mb.count && Mb.n[bc].layer === Jd;) {\n            bc++;\n          }\n\n          if (1 < bc - id) for (var vb = id; vb < bc;) {\n            for (var wd = Mb.n[vb].ue, jb = id + 1; jb < bc && Mb.n[jb].$e < wd;) {\n              wd = Math.max(wd, Mb.n[jb].ue), jb++;\n            }\n\n            var cc = jb - vb;\n\n            if (1 < cc) {\n              Mb.Iq(this.vy, vb, vb + cc);\n\n              for (var ii = 1, Yc = Mb.n[vb].ie, Nb = vb; Nb < jb; Nb++) {\n                var Db = Mb.n[Nb];\n                Db.ie !== Yc && (ii++, Yc = Db.ie);\n              }\n\n              Mb.Iq(this.mG, vb, vb + cc);\n\n              for (var ve = 1, Yc = Mb.n[vb].first, Nb = vb; Nb < jb; Nb++) {\n                Db = Mb.n[Nb], Db.first !== Yc && (ve++, Yc = Db.first);\n              }\n\n              var Ze = !0,\n                  Zc = ve;\n              ii < ve ? (Ze = !1, Zc = ii, Yc = Mb.n[vb].ie, Mb.Iq(this.vy, vb, vb + cc)) : Yc = Mb.n[vb].first;\n\n              for (var Jf = 0, Nb = vb; Nb < jb; Nb++) {\n                Db = Mb.n[Nb];\n                (Ze ? Db.first : Db.ie) !== Yc && (Jf++, Yc = Ze ? Db.first : Db.ie);\n                lb = Db.link;\n                Cc = lb.l(Db.index);\n                vc = lb.l(Db.index + 1);\n                var Hg = this.MF * (Jf - (Zc - 1) / 2);\n                uj++;\n                lb.qm();\n                lb.ca(Db.index, Cc.x + Hg, Cc.y);\n                lb.ca(Db.index + 1, vc.x + Hg, vc.y);\n                lb.qj();\n              }\n            }\n\n            vb = jb;\n          }\n          id = bc;\n        }\n      }\n    }\n  };\n\n  mu.prototype.nG = function (a, b) {\n    return a instanceof iv && b instanceof iv && a !== b ? a.layer < b.layer ? -1 : a.layer > b.layer ? 1 : a.$e < b.$e ? -1 : a.$e > b.$e ? 1 : a.ue < b.ue ? -1 : a.ue > b.ue ? 1 : 0 : 0;\n  };\n\n  mu.prototype.mG = function (a, b) {\n    return a instanceof iv && b instanceof iv && a !== b ? a.first < b.first ? -1 : a.first > b.first || a.xi < b.xi ? 1 : a.xi > b.xi || a.$e < b.$e ? -1 : a.$e > b.$e ? 1 : a.ue < b.ue ? -1 : a.ue > b.ue ? 1 : 0 : 0;\n  };\n\n  mu.prototype.vy = function (a, b) {\n    return a instanceof iv && b instanceof iv && a !== b ? a.ie < b.ie ? -1 : a.ie > b.ie || a.xi < b.xi ? 1 : a.xi > b.xi || a.$e < b.$e ? -1 : a.$e > b.$e ? 1 : a.ue < b.ue ? -1 : a.ue > b.ue ? 1 : 0 : 0;\n  };\n\n  function jv(a, b) {\n    var c = a - b;\n    return -1 < c && 1 > c;\n  }\n\n  function Au(a, b) {\n    var c,\n        d = a.ne[b];\n\n    if (d >= a.kh.length) {\n      c = [];\n\n      for (var e = 0; e < a.kh.length; e++) {\n        c[e] = a.kh[e];\n      }\n\n      a.kh = c;\n    }\n\n    void 0 === a.kh[d] || null === a.kh[d] ? c = [] : (c = a.kh[d], a.kh[d] = null);\n    d = a.Gs[b];\n\n    for (e = 0; e < d.length; e++) {\n      var f = d[e];\n      c[f.index] = f;\n    }\n\n    return c;\n  }\n\n  function Bu(a, b, c) {\n    a.kh[a.ne[b]] = c;\n  }\n\n  w.defineProperty(mu, {\n    layerSpacing: \"layerSpacing\"\n  }, function () {\n    return this.Om;\n  }, function (a) {\n    this.Om !== a && (w.j(a, \"number\", mu, \"layerSpacing\"), 0 <= a && (this.Om = a, this.J()));\n  });\n  w.defineProperty(mu, {\n    KK: \"columnSpacing\"\n  }, function () {\n    return this.Zd;\n  }, function (a) {\n    this.Zd !== a && (w.j(a, \"number\", mu, \"columnSpacing\"), 0 < a && (this.Zd = a, this.J()));\n  });\n  w.defineProperty(mu, {\n    direction: \"direction\"\n  }, function () {\n    return this.ba;\n  }, function (a) {\n    this.ba !== a && (w.j(a, \"number\", mu, \"direction\"), 0 === a || 90 === a || 180 === a || 270 === a ? (this.ba = a, this.J()) : w.k(\"LayeredDigraphLayout.direction must be 0, 90, 180, or 270\"));\n  });\n  w.defineProperty(mu, {\n    angle: \"angle\"\n  }, function () {\n    return this.direction;\n  }, function (a) {\n    this.direction = a;\n  });\n  w.defineProperty(mu, {\n    KH: \"cycleRemoveOption\"\n  }, function () {\n    return this.zo;\n  }, function (a) {\n    this.zo !== a && (w.ob(a, mu, mu, \"cycleRemoveOption\"), a === tu || a === nu) && (this.zo = a, this.J());\n  });\n  w.defineProperty(mu, {\n    JI: \"layeringOption\"\n  }, function () {\n    return this.Zo;\n  }, function (a) {\n    this.Zo !== a && (w.ob(a, mu, mu, \"layeringOption\"), a === ou || a === Lu || a === Nu) && (this.Zo = a, this.J());\n  });\n  w.defineProperty(mu, {\n    wI: \"initializeOption\"\n  }, function () {\n    return this.Po;\n  }, function (a) {\n    this.Po !== a && (w.ob(a, mu, mu, \"initializeOption\"), a === pu || a === Tu || a === Ru) && (this.Po = a, this.J());\n  });\n  w.defineProperty(mu, {\n    nL: \"iterations\"\n  }, function () {\n    return this.Nm;\n  }, function (a) {\n    this.Nm !== a && (w.Bd(a, su, \"iterations\"), 0 <= a && (this.Nm = a, this.J()));\n  });\n  w.defineProperty(mu, {\n    pH: \"aggressiveOption\"\n  }, function () {\n    return this.oo;\n  }, function (a) {\n    this.oo !== a && (w.ob(a, mu, mu, \"aggressiveOption\"), a === Xu || a === qu || a === Yu) && (this.oo = a, this.J());\n  });\n  w.defineProperty(mu, {\n    HL: \"packOption\"\n  }, function () {\n    return this.dj;\n  }, function (a) {\n    this.dj !== a && (w.j(a, \"number\", mu, \"packOption\"), 0 <= a && 8 > a && (this.dj = a, this.J()));\n  });\n  w.defineProperty(mu, {\n    Gq: \"setsPortSpots\"\n  }, function () {\n    return this.ci;\n  }, function (a) {\n    this.ci !== a && (w.j(a, \"boolean\", mu, \"setsPortSpots\"), this.ci = a, this.J());\n  });\n  w.defineProperty(mu, {\n    MF: \"linkSpacing\"\n  }, function () {\n    return this.ns;\n  }, function (a) {\n    this.ns !== a && (w.j(a, \"number\", mu, \"linkSpacing\"), 0 <= a && (this.ns = a, this.J()));\n  });\n  w.u(mu, {\n    SI: \"maxLayer\"\n  }, function () {\n    return this.tb;\n  });\n  w.u(mu, {\n    tL: \"maxIndex\"\n  }, function () {\n    return this.lw;\n  });\n  w.u(mu, {\n    sL: \"maxColumn\"\n  }, function () {\n    return this.Mb;\n  });\n  w.u(mu, {\n    yL: \"minIndexLayer\"\n  }, function () {\n    return this.ws;\n  });\n  w.u(mu, {\n    uL: \"maxIndexLayer\"\n  }, function () {\n    return this.Rf;\n  });\n  var nu;\n  mu.CycleDepthFirst = nu = w.p(mu, \"CycleDepthFirst\", 0);\n  var tu;\n  mu.CycleGreedy = tu = w.p(mu, \"CycleGreedy\", 1);\n  var ou;\n  mu.LayerOptimalLinkLength = ou = w.p(mu, \"LayerOptimalLinkLength\", 0);\n  var Lu;\n  mu.LayerLongestPathSink = Lu = w.p(mu, \"LayerLongestPathSink\", 1);\n  var Nu;\n  mu.LayerLongestPathSource = Nu = w.p(mu, \"LayerLongestPathSource\", 2);\n  var pu;\n  mu.InitDepthFirstOut = pu = w.p(mu, \"InitDepthFirstOut\", 0);\n  var Tu;\n  mu.InitDepthFirstIn = Tu = w.p(mu, \"InitDepthFirstIn\", 1);\n  var Ru;\n  mu.InitNaive = Ru = w.p(mu, \"InitNaive\", 2);\n  var Xu;\n  mu.AggressiveNone = Xu = w.p(mu, \"AggressiveNone\", 0);\n  var qu;\n  mu.AggressiveLess = qu = w.p(mu, \"AggressiveLess\", 1);\n  var Yu;\n  mu.AggressiveMore = Yu = w.p(mu, \"AggressiveMore\", 2);\n  mu.PackNone = 0;\n  var Zu;\n  mu.PackExpand = Zu = 1;\n  var $u;\n  mu.PackStraighten = $u = 2;\n  var bv;\n  mu.PackMedian = bv = 4;\n  var ru;\n  mu.PackAll = ru = 7;\n\n  function iv() {\n    this.index = this.ue = this.$e = this.ie = this.first = this.layer = 0;\n    this.link = null;\n    this.xi = 0;\n  }\n\n  w.ce(iv, {\n    layer: !0,\n    first: !0,\n    ie: !0,\n    $e: !0,\n    ue: !0,\n    index: !0,\n    link: !0,\n    xi: !0\n  });\n\n  function su() {\n    tg.call(this);\n  }\n\n  w.La(su, tg);\n  w.ga(\"LayeredDigraphNetwork\", su);\n\n  su.prototype.createVertex = function () {\n    return new kv();\n  };\n\n  su.prototype.createEdge = function () {\n    return new lv();\n  };\n\n  function kv() {\n    os.call(this);\n    this.index = this.column = this.layer = -1;\n    this.component = NaN;\n    this.near = null;\n    this.valid = !1;\n    this.finish = this.Vp = NaN;\n    this.qn = 0;\n    this.jB = this.kB = null;\n  }\n\n  w.La(kv, os);\n  w.ga(\"LayeredDigraphVertex\", kv);\n\n  function lv() {\n    ps.call(this);\n    this.forest = this.rev = this.valid = !1;\n    this.portToPos = this.portFromPos = NaN;\n    this.portToColOffset = this.portFromColOffset = 0;\n  }\n\n  w.La(lv, ps);\n  w.ga(\"LayeredDigraphEdge\", lv);\n\n  function $() {\n    0 < arguments.length && w.od($);\n    sg.call(this);\n    this.zd = new I(Object);\n    this.Ts = mv;\n    this.Of = nv;\n    this.It = ov;\n    this.iw = pv;\n    this.iC = null;\n    this.Mh = !0;\n    this.qd = qv;\n    this.ng = new ia(10, 10).freeze();\n    this.va = new rv();\n    this.wa = new rv();\n    this.Wz = [];\n  }\n\n  w.La($, sg);\n  w.ga(\"TreeLayout\", $);\n\n  $.prototype.cloneProtected = function (a) {\n    sg.prototype.cloneProtected.call(this, a);\n    a.Ts = this.Ts;\n    a.It = this.It;\n    a.iw = this.iw;\n    a.Mh = this.Mh;\n    a.qd = this.qd;\n    a.ng.assign(this.ng);\n    a.va.copyInheritedPropertiesFrom(this.va);\n    a.wa.copyInheritedPropertiesFrom(this.wa);\n  };\n\n  $.prototype.ic = function (a) {\n    a.Je === $ ? 0 === a.name.indexOf(\"Alignment\") ? this.alignment = a : 0 === a.name.indexOf(\"Arrangement\") ? this.Vf = a : 0 === a.name.indexOf(\"Compaction\") ? this.compaction = a : 0 === a.name.indexOf(\"Path\") ? this.path = a : 0 === a.name.indexOf(\"Sorting\") ? this.sorting = a : 0 === a.name.indexOf(\"Style\") ? this.YJ = a : w.k(\"Unknown enum value: \" + a) : sg.prototype.ic.call(this, a);\n  };\n\n  $.prototype.createNetwork = function () {\n    return new sv();\n  };\n\n  $.prototype.makeNetwork = function (a) {\n    function b(a) {\n      if (a instanceof T) return !a.Df && \"Comment\" !== a.ld;\n\n      if (a instanceof W) {\n        var b = a.V;\n        if (null === b || b.Df || \"Comment\" === b.ld) return !1;\n        a = a.Z;\n        return null === a || a.Df || \"Comment\" === a.ld ? !1 : !0;\n      }\n\n      return !1;\n    }\n\n    var c = this.createNetwork();\n    c.Ub = this;\n    a instanceof E ? (c.Bk(a.ig, !0, b), c.Bk(a.links, !0, b)) : a instanceof V ? c.Bk(a.hc, !1, b) : c.Bk(a.i, !1, b);\n    return c;\n  };\n\n  $.prototype.doLayout = function (a) {\n    null === a && w.k(\"Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts\");\n    null === this.network && (this.network = this.makeNetwork(a));\n    this.Vf !== tv && (this.Nd = this.initialOrigin(this.Nd));\n    var b = this.g;\n    null === b && a instanceof E && (b = a);\n    this.Of = this.path === mv && null !== b ? b.Wd ? nv : uv : this.path === mv ? nv : this.path;\n\n    if (0 < this.network.vertexes.count) {\n      this.network.tx();\n\n      for (a = this.network.vertexes.i; a.next();) {\n        b = a.value, b.initialized = !1, b.level = 0, b.parent = null, b.children = [];\n      }\n\n      if (0 < this.zd.count) {\n        a = new I(rv);\n\n        for (b = this.zd.i; b.next();) {\n          var c = b.value;\n          c instanceof T ? (c = this.network.Cn(c), null !== c && a.add(c)) : c instanceof rv && a.add(c);\n        }\n\n        this.zd = a;\n      }\n\n      0 === this.zd.count && this.findRoots();\n\n      for (a = this.zd.copy().i; a.next();) {\n        b = a.value, b.initialized || (b.initialized = !0, vv(this, b));\n      }\n\n      b = this.network.vertexes;\n\n      for (a = null; a = wv(b), 0 < a.count;) {\n        b = xv(this, a), null !== b && this.zd.add(b), b.initialized = !0, vv(this, b), b = a;\n      }\n\n      for (a = this.zd.i; a.next();) {\n        b = a.value, b instanceof rv && yv(this, b);\n      }\n\n      for (a = this.zd.i; a.next();) {\n        b = a.value, b instanceof rv && zv(this, b);\n      }\n\n      for (a = this.zd.i; a.next();) {\n        b = a.value, b instanceof rv && Av(this, b);\n      }\n\n      this.jA();\n\n      if (this.ZA === Bv) {\n        c = [];\n\n        for (a = this.network.vertexes.i; a.next();) {\n          var d = a.value,\n              b = d.parent;\n          null === b && (b = d);\n          var b = 0 === b.angle || 180 === b.angle,\n              e = c[d.level];\n          void 0 === e && (e = 0);\n          c[d.level] = Math.max(e, b ? d.width : d.height);\n        }\n\n        for (d = 0; d < c.length; d++) {\n          void 0 === c[d] && (c[d] = 0);\n        }\n\n        this.iC = c;\n\n        for (a = this.network.vertexes.i; a.next();) {\n          d = a.value, b = d.parent, null === b && (b = d), 0 === b.angle || 180 === b.angle ? (180 === b.angle && (d.ju += c[d.level] - d.width), d.width = c[d.level]) : (270 === b.angle && (d.ku += c[d.level] - d.height), d.height = c[d.level]);\n        }\n      } else if (this.ZA === Cv) for (a = this.network.vertexes.i; a.next();) {\n        c = a.value;\n        b = 0 === c.angle || 180 === c.angle;\n        e = -1;\n\n        for (d = 0; d < c.children.length; d++) {\n          var f = c.children[d],\n              e = Math.max(e, b ? f.width : f.height);\n        }\n\n        if (0 <= e) for (d = 0; d < c.children.length; d++) {\n          f = c.children[d], b ? (180 === c.angle && (f.ju += e - f.width), f.width = e) : (270 === c.angle && (f.ku += e - f.height), f.height = e);\n        }\n      }\n\n      for (a = this.zd.i; a.next();) {\n        b = a.value, b instanceof rv && this.layoutTree(b);\n      }\n\n      this.arrangeTrees();\n      this.updateParts();\n    }\n\n    this.network = null;\n    this.zd = new I(Object);\n    this.sf = !0;\n  };\n\n  function wv(a) {\n    var b = new I(rv);\n\n    for (a = a.i; a.next();) {\n      var c = a.value;\n      c.initialized || b.add(c);\n    }\n\n    return b;\n  }\n\n  $.prototype.findRoots = function () {\n    for (var a = this.network.vertexes, b = a.i; b.next();) {\n      var c = b.value;\n\n      switch (this.Of) {\n        case nv:\n          0 === c.nc.count && this.zd.add(c);\n          break;\n\n        case uv:\n          0 === c.lc.count && this.zd.add(c);\n          break;\n\n        default:\n          w.k(\"Unhandled path value \" + this.Of.toString());\n      }\n    }\n\n    0 === this.zd.count && (a = xv(this, a), null !== a && this.zd.add(a));\n  };\n\n  function xv(a, b) {\n    for (var c = 999999, d = null, e = b.i; e.next();) {\n      var f = e.value;\n\n      switch (a.Of) {\n        case nv:\n          f.nc.count < c && (c = f.nc.count, d = f);\n          break;\n\n        case uv:\n          f.lc.count < c && (c = f.lc.count, d = f);\n          break;\n\n        default:\n          w.k(\"Unhandled path value \" + a.Of.toString());\n      }\n    }\n\n    return d;\n  }\n\n  function vv(a, b) {\n    if (null !== b) {\n      switch (a.Of) {\n        case nv:\n          if (0 < b.lc.count) {\n            for (var c = new H(rv), d = b.QH; d.next();) {\n              var e = d.value;\n              Dv(a, b, e) && c.add(e);\n            }\n\n            0 < c.count && (b.children = c.yc());\n          }\n\n          break;\n\n        case uv:\n          if (0 < b.nc.count) {\n            c = new H(rv);\n\n            for (d = b.NJ; d.next();) {\n              e = d.value, Dv(a, b, e) && c.add(e);\n            }\n\n            0 < c.count && (b.children = c.yc());\n          }\n\n          break;\n\n        default:\n          w.k(\"Unhandled path value\" + a.Of.toString());\n      }\n\n      c = b.children;\n      d = c.length;\n\n      for (e = 0; e < d; e++) {\n        var f = c[e];\n        f.initialized = !0;\n        f.level = b.level + 1;\n        f.parent = b;\n        a.zd.remove(f);\n      }\n\n      for (e = 0; e < d; e++) {\n        f = c[e], vv(a, f);\n      }\n    }\n  }\n\n  function Dv(a, b, c) {\n    if (c.initialized) {\n      var d;\n      if (null === b) d = !1;else {\n        for (d = b.parent; null !== d && d !== c;) {\n          d = d.parent;\n        }\n\n        d = d === c;\n      }\n      if (d || c.level > b.level) return !1;\n      a.removeChild(c.parent, c);\n    }\n\n    return !0;\n  }\n\n  $.prototype.removeChild = function (a, b) {\n    if (null !== a && null !== b) {\n      for (var c = a.children, d = 0, e = 0; e < c.length; e++) {\n        c[e] === b && d++;\n      }\n\n      if (0 < d) {\n        for (var d = Array(c.length - d), f = 0, e = 0; e < c.length; e++) {\n          c[e] !== b && (d[f++] = c[e]);\n        }\n\n        a.children = d;\n      }\n    }\n  };\n\n  function yv(a, b) {\n    if (null !== b) {\n      a.initializeTreeVertexValues(b);\n      b.alignment === Ev && a.sortTreeVertexChildren(b);\n\n      for (var c = 0, d = b.sn, e = 0, f = b.children, h = f.length, k = 0; k < h; k++) {\n        var l = f[k];\n        yv(a, l);\n        c += l.descendantCount + 1;\n        d = Math.max(d, l.maxChildrenCount);\n        e = Math.max(e, l.maxGenerationCount);\n      }\n\n      b.descendantCount = c;\n      b.maxChildrenCount = d;\n      b.maxGenerationCount = 0 < d ? e + 1 : 0;\n    }\n  }\n\n  function Fv(a, b) {\n    switch (a.It) {\n      default:\n      case ov:\n        return null !== b.parent ? b.parent : a.va;\n\n      case Gv:\n        return null === b.parent ? a.va : null === b.parent.parent ? a.wa : b.parent;\n\n      case Hv:\n        return null !== b.parent ? null !== b.parent.parent ? b.parent.parent : a.wa : a.va;\n\n      case Iv:\n        var c = !0;\n        if (0 === b.sn) c = !1;else for (var d = b.children, e = d.length, f = 0; f < e; f++) {\n          if (0 < d[f].sn) {\n            c = !1;\n            break;\n          }\n        }\n        return c && null !== b.parent ? a.wa : null !== b.parent ? b.parent : a.va;\n    }\n  }\n\n  $.prototype.initializeTreeVertexValues = function (a) {\n    var b = Fv(this, a);\n    a.copyInheritedPropertiesFrom(b);\n\n    if (null !== a.parent && a.parent.alignment === Ev) {\n      for (var b = a.angle, c = a.parent.children, d = 0; d < c.length && a !== c[d];) {\n        d++;\n      }\n\n      0 === d % 2 ? d !== c.length - 1 && (b = 90 === b ? 180 : 180 === b ? 270 : 270 === b ? 180 : 270) : b = 90 === b ? 0 : 180 === b ? 90 : 270 === b ? 0 : 90;\n      a.angle = b;\n    }\n\n    a.initialized = !0;\n  };\n\n  function zv(a, b) {\n    if (null !== b) {\n      a.assignTreeVertexValues(b);\n\n      for (var c = b.children, d = c.length, e = 0; e < d; e++) {\n        zv(a, c[e]);\n      }\n    }\n  }\n\n  $.prototype.assignTreeVertexValues = function () {};\n\n  function Av(a, b) {\n    if (null !== b) {\n      b.alignment !== Ev && a.sortTreeVertexChildren(b);\n\n      for (var c = b.children, d = c.length, e = 0; e < d; e++) {\n        Av(a, c[e]);\n      }\n    }\n  }\n\n  $.prototype.sortTreeVertexChildren = function (a) {\n    switch (a.sorting) {\n      case Jv:\n        break;\n\n      case Kv:\n        a.children.reverse();\n        break;\n\n      case Lv:\n        a.children.sort(a.comparer);\n        break;\n\n      case Mv:\n        a.children.sort(a.comparer);\n        a.children.reverse();\n        break;\n\n      default:\n        w.k(\"Unhandled sorting value \" + a.sorting.toString());\n    }\n  };\n\n  $.prototype.jA = function () {\n    if (this.comments) for (var a = this.network.vertexes.i; a.next();) {\n      this.addComments(a.value);\n    }\n  };\n\n  $.prototype.addComments = function (a) {\n    var b = a.angle,\n        c = a.parent,\n        d = 0,\n        e = Nv,\n        e = !1;\n    null !== c && (d = c.angle, e = c.alignment, e = Ov(e));\n    var b = 90 === b || 270 === b,\n        d = 90 === d || 270 === d,\n        c = 0 === a.sn,\n        f = 0,\n        h = 0,\n        k = 0,\n        l = a.commentSpacing;\n    if (null !== a.Rc) for (var m = a.Rc.$E(); m.next();) {\n      var n = m.value;\n      \"Comment\" === n.ld && n.canLayout() && (null === a.comments && (a.comments = []), a.comments.push(n), n.Ne(), n = n.za, b && !c || !e && !d && c || e && d && c ? (f = Math.max(f, n.width), h += n.height + Math.abs(k)) : (f += n.width + Math.abs(k), h = Math.max(h, n.height)), k = l);\n    }\n    null !== a.comments && (b && !c || !e && !d && c || e && d && c ? (f += Math.abs(a.commentMargin), h = Math.max(0, h - a.height)) : (h += Math.abs(a.commentMargin), f = Math.max(0, f - a.width)), e = w.lg(0, 0, a.N.width + f, a.N.height + h), a.eb = e, w.Bb(e));\n  };\n\n  function Ov(a) {\n    return a === Pv || a === Ev || a === Qv || a === Rv;\n  }\n\n  function Sv(a) {\n    return a === Pv || a === Ev;\n  }\n\n  function Tv(a) {\n    var b = a.parent;\n\n    if (null !== b) {\n      var c = b.alignment;\n\n      if (Ov(c)) {\n        if (Sv(c)) {\n          b = b.children;\n\n          for (c = 0; c < b.length && a !== b[c];) {\n            c++;\n          }\n\n          return 0 === c % 2;\n        }\n\n        if (c === Qv) return !0;\n      }\n    }\n\n    return !1;\n  }\n\n  $.prototype.layoutComments = function (a) {\n    if (null !== a.comments) {\n      var b = a.Rc.za,\n          c = a.parent,\n          d = a.angle,\n          e = 0,\n          f = Nv,\n          f = !1;\n      null !== c && (e = c.angle, f = c.alignment, f = Ov(f));\n\n      for (var c = 90 === d || 270 === d, d = 90 === e || 270 === e, h = 0 === a.sn, k = Tv(a), l = 0, m = a.comments, n = m.length, p = w.K(), q = 0; q < n; q++) {\n        var r = m[q],\n            s = r.za;\n\n        if (c && !h || !f && !d && h || f && d && h) {\n          if (135 < e && !f || d && k) {\n            if (0 <= a.commentMargin) for (p.m(a.N.x - a.commentMargin - s.width, a.N.y + l), r.move(p), r = r.Mg(); r.next();) {\n              var t = r.value;\n              t.Cb = Hc;\n              t.Db = Ic;\n            } else for (p.m(a.N.x + 2 * a.T.x - a.commentMargin, a.N.y + l), r.move(p), r = r.Mg(); r.next();) {\n              t = r.value, t.Cb = Ic, t.Db = Hc;\n            }\n          } else if (0 <= a.commentMargin) for (p.m(a.N.x + 2 * a.T.x + a.commentMargin, a.N.y + l), r.move(p), r = r.Mg(); r.next();) {\n            t = r.value, t.Cb = Ic, t.Db = Hc;\n          } else for (p.m(a.N.x + a.commentMargin - s.width, a.N.y + l), r.move(p), r = r.Mg(); r.next();) {\n            t = r.value, t.Cb = Hc, t.Db = Ic;\n          }\n          l = 0 <= a.commentSpacing ? l + (s.height + a.commentSpacing) : l + (a.commentSpacing - s.height);\n        } else {\n          if (135 < e && !f || !d && k) {\n            if (0 <= a.commentMargin) for (p.m(a.N.x + l, a.N.y - a.commentMargin - s.height), r.move(p), r = r.Mg(); r.next();) {\n              t = r.value, t.Cb = Gc, t.Db = Jc;\n            } else for (p.m(a.N.x + l, a.N.y + 2 * a.T.y - a.commentMargin), r.move(p), r = r.Mg(); r.next();) {\n              t = r.value, t.Cb = Jc, t.Db = Gc;\n            }\n          } else if (0 <= a.commentMargin) for (p.m(a.N.x + l, a.N.y + 2 * a.T.y + a.commentMargin), r.move(p), r = r.Mg(); r.next();) {\n            t = r.value, t.Cb = Jc, t.Db = Gc;\n          } else for (p.m(a.N.x + l, a.N.y + a.commentMargin - s.height), r.move(p), r = r.Mg(); r.next();) {\n            t = r.value, t.Cb = Gc, t.Db = Jc;\n          }\n          l = 0 <= a.commentSpacing ? l + (s.width + a.commentSpacing) : l + (a.commentSpacing - s.width);\n        }\n      }\n\n      w.v(p);\n      b = l - a.commentSpacing - (c ? b.height : b.width);\n      if (this.Of === nv) for (e = a.lc; e.next();) {\n        a = e.value.link, null === a || a.fm || (a.am = 0 < b ? b : NaN);\n      } else for (e = a.nc; e.next();) {\n        a = e.value.link, null === a || a.fm || (a.um = 0 < b ? b : NaN);\n      }\n    }\n  };\n\n  $.prototype.layoutTree = function (a) {\n    if (null !== a) {\n      for (var b = a.children, c = b.length, d = 0; d < c; d++) {\n        this.layoutTree(b[d]);\n      }\n\n      switch (a.compaction) {\n        case Uv:\n          Vv(this, a);\n          break;\n\n        case Wv:\n          if (a.alignment === Ev) Vv(this, a);else if (0 === a.sn) {\n            var d = a.parent,\n                b = !1,\n                c = 0,\n                e = Nv;\n            null !== d && (c = d.angle, e = d.alignment, b = Ov(e));\n            d = Tv(a);\n            a.pa.m(0, 0);\n            a.kb.m(a.width, a.height);\n            null === a.parent || null === a.comments || (180 !== c && 270 !== c || b) && !d ? a.Oa.m(0, 0) : 180 === c && !b || (90 === c || 270 === c) && d ? a.Oa.m(a.width - 2 * a.T.x, 0) : a.Oa.m(0, a.height - 2 * a.T.y);\n            a.Cu = null;\n            a.Wu = null;\n          } else {\n            for (var f = Xv(a), b = 90 === f || 270 === f, h = 0, k = a.children, l = k.length, m = 0; m < l; m++) {\n              var n = k[m],\n                  h = Math.max(h, b ? n.kb.width : n.kb.height);\n            }\n\n            var p = a.alignment,\n                d = p === Yv,\n                q = p === Zv,\n                r = Ov(p),\n                s = Math.max(0, a.breadthLimit),\n                c = $v(a),\n                t = a.nodeSpacing,\n                u = aw(a),\n                y = a.rowSpacing,\n                v = 0;\n            if (d || q || a.zq || a.Aq && 1 === a.maxGenerationCount) v = Math.max(0, a.rowIndent);\n            var d = a.width,\n                e = a.height,\n                x = 0,\n                A = 0,\n                L = 0,\n                C = null,\n                O = null,\n                X = 0,\n                S = 0,\n                ba = 0,\n                ha = 0,\n                ya = 0,\n                Ga = 0,\n                eb = 0,\n                va = 0,\n                n = 0;\n            r && !Sv(p) && 135 < f && k.reverse();\n            if (Sv(p)) if (1 < l) for (m = 0; m < l; m++) {\n              0 === m % 2 && m !== l - 1 ? va = Math.max(va, b ? k[m].kb.width : k[m].kb.height) : 0 !== m % 2 && (n = Math.max(n, b ? k[m].kb.width : k[m].kb.height));\n            } else 1 === l && (va = b ? k[0].kb.width : k[0].kb.height);\n\n            if (r) {\n              switch (p) {\n                case Pv:\n                  A = 135 > f ? bw(a, k, va, x, A) : cw(a, k, va, x, A);\n                  va = A.x;\n                  x = A.width;\n                  A = A.height;\n                  break;\n\n                case Qv:\n                  for (m = 0; m < l; m++) {\n                    var n = k[m],\n                        U = n.kb,\n                        C = 0 === Ga ? 0 : y;\n                    b ? (n.pa.m(h - U.width, ha + C), x = Math.max(x, U.width), A = Math.max(A, ha + C + U.height), ha += C + U.height) : (n.pa.m(ba + C, h - U.height), x = Math.max(x, ba + C + U.width), A = Math.max(A, U.height), ba += C + U.width);\n                    Ga++;\n                  }\n\n                  break;\n\n                case Rv:\n                  for (m = 0; m < l; m++) {\n                    n = k[m], U = n.kb, C = 0 === Ga ? 0 : y, b ? (n.pa.m(t / 2 + a.T.x, ha + C), x = Math.max(x, U.width), A = Math.max(A, ha + C + U.height), ha += C + U.height) : (n.pa.m(ba + C, t / 2 + a.T.y), x = Math.max(x, ba + C + U.width), A = Math.max(A, U.height), ba += C + U.width), Ga++;\n                  }\n\n              }\n\n              C = dw(this, 2);\n              O = dw(this, 2);\n              b ? (C[0].m(0, 0), C[1].m(0, A), O[0].m(x, 0)) : (C[0].m(0, 0), C[1].m(x, 0), O[0].m(0, A));\n              O[1].m(x, A);\n            } else for (m = 0; m < l; m++) {\n              n = k[m];\n              U = n.kb;\n\n              if (b) {\n                0 < s && 0 < Ga && ba + t + U.width > s && (ba < h && Jw(a, p, h - ba, 0, eb, m - 1), ya++, Ga = 0, eb = m, L = A, ba = 0, ha = 135 < f ? -A - y : A + y);\n                Kw(this, n, 0, ha);\n                var sb = 0;\n\n                if (0 === Ga) {\n                  if (C = n.Cu, O = n.Wu, X = U.width, S = U.height, null === C || null === O || f !== Xv(n)) C = dw(this, 2), O = dw(this, 2), C[0].m(0, 0), C[1].m(0, S), O[0].m(X, 0), O[1].m(X, S);\n                } else {\n                  var Kb = w.Za(),\n                      S = Lw(this, a, n, C, O, X, S, Kb),\n                      sb = S.x,\n                      C = Kb[0],\n                      O = Kb[1],\n                      X = S.width,\n                      S = S.height;\n                  w.ra(Kb);\n                  ba < U.width && 0 > sb && (Mw(a, -sb, 0, eb, m - 1), Nw(C, -sb, 0), Nw(O, -sb, 0), sb = 0);\n                }\n\n                n.pa.m(sb, ha);\n                x = Math.max(x, X);\n                A = Math.max(A, L + (0 === ya ? 0 : y) + U.height);\n                ba = X;\n              } else {\n                0 < s && 0 < Ga && ha + t + U.height > s && (ha < h && Jw(a, p, 0, h - ha, eb, m - 1), ya++, Ga = 0, eb = m, L = x, ha = 0, ba = 135 < f ? -x - y : x + y);\n                Kw(this, n, ba, 0);\n                sb = 0;\n\n                if (0 === Ga) {\n                  if (C = n.Cu, O = n.Wu, X = U.width, S = U.height, null === C || null === O || f !== Xv(n)) C = dw(this, 2), O = dw(this, 2), C[0].m(0, 0), C[1].m(X, 0), O[0].m(0, S), O[1].m(X, S);\n                } else Kb = w.Za(), S = Lw(this, a, n, C, O, X, S, Kb), sb = S.x, C = Kb[0], O = Kb[1], X = S.width, S = S.height, w.ra(Kb), ha < U.height && 0 > sb && (Mw(a, 0, -sb, eb, m - 1), Nw(C, 0, -sb), Nw(O, 0, -sb), sb = 0);\n\n                n.pa.m(ba, sb);\n                A = Math.max(A, S);\n                x = Math.max(x, L + (0 === ya ? 0 : y) + U.width);\n                ha = S;\n              }\n\n              Ga++;\n            }\n\n            0 < ya && (b ? (A += Math.max(0, c), ba < x && Jw(a, p, x - ba, 0, eb, l - 1), 0 < v && (q || Mw(a, v, 0, 0, l - 1), x += v)) : (x += Math.max(0, c), ha < A && Jw(a, p, 0, A - ha, eb, l - 1), 0 < v && (q || Mw(a, 0, v, 0, l - 1), A += v)));\n            v = q = 0;\n\n            switch (p) {\n              case Ow:\n                b ? q += x / 2 - a.T.x - u / 2 : v += A / 2 - a.T.y - u / 2;\n                break;\n\n              case Nv:\n                0 < ya ? b ? q += x / 2 - a.T.x - u / 2 : v += A / 2 - a.T.y - u / 2 : b ? (va = k[0].pa.x + k[0].Oa.x, m = k[l - 1].pa.x + k[l - 1].Oa.x + 2 * k[l - 1].T.x, q += va + (m - va) / 2 - a.T.x - u / 2) : (va = k[0].pa.y + k[0].Oa.y, m = k[l - 1].pa.y + k[l - 1].Oa.y + 2 * k[l - 1].T.y, v += va + (m - va) / 2 - a.T.y - u / 2);\n                break;\n\n              case Yv:\n                b ? (q -= u, x += u) : (v -= u, A += u);\n                break;\n\n              case Zv:\n                b ? (q += x - a.width + u, x += u) : (v += A - a.height + u, A += u);\n                break;\n\n              case Pv:\n                b ? q = 1 < l ? q + (va + t / 2 - a.T.x) : q + (k[0].T.x - a.T.x + k[0].Oa.x) : v = 1 < l ? v + (va + t / 2 - a.T.y) : v + (k[0].T.y - a.T.y + k[0].Oa.y);\n                break;\n\n              case Qv:\n                b ? q += x + t / 2 - a.T.x : v += A + t / 2 - a.T.y;\n                break;\n\n              case Rv:\n                break;\n\n              default:\n                w.k(\"Unhandled alignment value \" + p.toString());\n            }\n\n            for (m = 0; m < l; m++) {\n              n = k[m], b ? n.pa.m(n.pa.x + n.Oa.x - q, n.pa.y + (135 < f ? (r ? -A : -n.kb.height) + n.Oa.y - c : e + c + n.Oa.y)) : n.pa.m(n.pa.x + (135 < f ? (r ? -x : -n.kb.width) + n.Oa.x - c : d + c + n.Oa.x), n.pa.y + n.Oa.y - v);\n            }\n\n            l = k = 0;\n            r ? b ? (x = Pw(a, x, q), 0 > q && (q = 0), 135 < f && (v += A + c), A += e + c, p === Rv && (k += t / 2 + a.T.x), l += e + c) : (135 < f && (q += x + c), x += d + c, A = Qw(a, A, v), 0 > v && (v = 0), p === Rv && (l += t / 2 + a.T.y), k += d + c) : b ? (null === a.comments ? d > x && (p = Rw(p, d - x, 0), k = p.x, l = p.y, x = d, q = 0) : x = Pw(a, x, q), 0 > q && (k -= q, q = 0), 135 < f && (v += A + c), A = Math.max(Math.max(A, e), A + e + c), l += e + c) : (135 < f && (q += x + c), x = Math.max(Math.max(x, d), x + d + c), null === a.comments ? e > A && (p = Rw(p, 0, e - A), k = p.x, l = p.y, A = e, v = 0) : A = Qw(a, A, v), 0 > v && (l -= v, v = 0), k += d + c);\n            if (0 < ya) f = dw(this, 4), p = dw(this, 4), b ? (f[2].m(0, e + c), f[3].m(f[2].x, A), p[2].m(x, f[2].y), p[3].m(p[2].x, f[3].y)) : (f[2].m(d + c, 0), f[3].m(x, f[2].y), p[2].m(f[2].x, A), p[3].m(f[3].x, p[2].y));else {\n              f = dw(this, C.length + 2);\n              p = dw(this, O.length + 2);\n\n              for (m = 0; m < C.length; m++) {\n                r = C[m], f[m + 2].m(r.x + k, r.y + l);\n              }\n\n              for (m = 0; m < O.length; m++) {\n                r = O[m], p[m + 2].m(r.x + k, r.y + l);\n              }\n            }\n            b ? (f[0].m(q, 0), f[1].m(f[0].x, e), f[2].y < f[1].y && (f[2].x > f[0].x ? f[2].assign(f[1]) : f[1].assign(f[2])), f[3].y < f[2].y && (f[3].x > f[0].x ? f[3].assign(f[2]) : f[2].assign(f[3])), p[0].m(q + d, 0), p[1].m(p[0].x, e), p[2].y < p[1].y && (p[2].x < p[0].x ? p[2].assign(p[1]) : p[1].assign(p[2])), p[3].y < p[2].y && (p[3].x < p[0].x ? p[3].assign(p[2]) : p[2].assign(p[3])), f[2].y -= c / 2, p[2].y -= c / 2) : (f[0].m(0, v), f[1].m(d, f[0].y), f[2].x < f[1].x && (f[2].y > f[0].y ? f[2].assign(f[1]) : f[1].assign(f[2])), f[3].x < f[2].x && (f[3].y > f[0].y ? f[3].assign(f[2]) : f[2].assign(f[3])), p[0].m(0, v + e), p[1].m(d, p[0].y), p[2].x < p[1].x && (p[2].y < p[0].y ? p[2].assign(p[1]) : p[1].assign(p[2])), p[3].x < p[2].x && (p[3].y < p[0].y ? p[3].assign(p[2]) : p[2].assign(p[3])), f[2].x -= c / 2, p[2].x -= c / 2);\n            Sw(this, C);\n            Sw(this, O);\n            a.Cu = f;\n            a.Wu = p;\n            a.Oa.m(q, v);\n            a.kb.m(x, A);\n          }\n          break;\n\n        default:\n          w.k(\"Unhandled compaction value \" + a.compaction.toString());\n      }\n    }\n  };\n\n  function Vv(a, b) {\n    if (0 === b.sn) {\n      var c = !1,\n          d = 0,\n          e = Nv;\n      null !== b.parent && (d = b.parent.angle, e = b.parent.alignment, c = Ov(e));\n      e = Tv(b);\n      b.pa.m(0, 0);\n      b.kb.m(b.width, b.height);\n      null === b.parent || null === b.comments || (180 !== d && 270 !== d || c) && !e ? b.Oa.m(0, 0) : 180 === d && !c || (90 === d || 270 === d) && e ? b.Oa.m(b.width - 2 * b.T.x, 0) : b.Oa.m(0, b.height - 2 * b.T.y);\n    } else {\n      for (var c = Xv(b), d = 90 === c || 270 === c, f = 0, e = b.children, h = e.length, k = 0; k < h; k++) {\n        var l = e[k],\n            f = Math.max(f, d ? l.kb.width : l.kb.height);\n      }\n\n      var m = b.alignment,\n          n = m === Yv,\n          p = m === Zv,\n          q = Ov(m),\n          r = Math.max(0, b.breadthLimit),\n          s = $v(b),\n          t = b.nodeSpacing,\n          u = aw(b),\n          y = n || p ? 0 : u / 2,\n          v = b.rowSpacing,\n          x = 0;\n      if (n || p || b.zq || b.Aq && 1 === b.maxGenerationCount) x = Math.max(0, b.rowIndent);\n      var n = b.width,\n          A = b.height,\n          L = 0,\n          C = 0,\n          O = 0,\n          X = 0,\n          S = 0,\n          ba = 0,\n          ha = 0,\n          ya = 0,\n          Ga = 0,\n          eb = 0;\n      q && !Sv(m) && 135 < c && e.reverse();\n      if (Sv(m)) if (1 < h) for (k = 0; k < h; k++) {\n        var l = e[k],\n            va = l.kb;\n        0 === k % 2 && k !== h - 1 ? Ga = Math.max(Ga, (d ? va.width : va.height) + Tw(l) - t) : 0 !== k % 2 && (eb = Math.max(eb, (d ? va.width : va.height) + Tw(l) - t));\n      } else 1 === h && (Ga = d ? e[0].kb.width : e[0].kb.height);\n      if (q) switch (m) {\n        case Pv:\n        case Ev:\n          C = 135 > c ? bw(b, e, Ga, L, C) : cw(b, e, Ga, L, C);\n          Ga = C.x;\n          L = C.width;\n          C = C.height;\n          break;\n\n        case Qv:\n          for (k = 0; k < h; k++) {\n            l = e[k], va = l.kb, r = 0 === ha ? 0 : v, d ? (l.pa.m(f - va.width, S + r), L = Math.max(L, va.width), C = Math.max(C, S + r + va.height), S += r + va.height) : (l.pa.m(X + r, f - va.height), L = Math.max(L, X + r + va.width), C = Math.max(C, va.height), X += r + va.width), ha++;\n          }\n\n          break;\n\n        case Rv:\n          for (f = 0; f < h; f++) {\n            l = e[f], va = l.kb, r = 0 === ha ? 0 : v, d ? (l.pa.m(t / 2 + b.T.x, S + r), L = Math.max(L, va.width), C = Math.max(C, S + r + va.height), S += r + va.height) : (l.pa.m(X + r, t / 2 + b.T.y), L = Math.max(L, X + r + va.width), C = Math.max(C, va.height), X += r + va.width), ha++;\n          }\n\n      } else for (k = 0; k < h; k++) {\n        l = e[k], va = l.kb, d ? (0 < r && 0 < ha && X + t + va.width > r && (X < f && Jw(b, m, f - X, 0, ya, k - 1), ba++, ha = 0, ya = k, O = C, X = 0, S = 135 < c ? -C - v : C + v), eb = 0 === ha ? y : t, Kw(a, l, 0, S), l.pa.m(X + eb, S), L = Math.max(L, X + eb + va.width), C = Math.max(C, O + (0 === ba ? 0 : v) + va.height), X += eb + va.width) : (0 < r && 0 < ha && S + t + va.height > r && (S < f && Jw(b, m, 0, f - S, ya, k - 1), ba++, ha = 0, ya = k, O = L, S = 0, X = 135 < c ? -L - v : L + v), eb = 0 === ha ? y : t, Kw(a, l, X, 0), l.pa.m(X, S + eb), C = Math.max(C, S + eb + va.height), L = Math.max(L, O + (0 === ba ? 0 : v) + va.width), S += eb + va.height), ha++;\n      }\n      0 < ba && (d ? (C += Math.max(0, s), X < L && Jw(b, m, L - X, 0, ya, h - 1), 0 < x && (p || Mw(b, x, 0, 0, h - 1), L += x)) : (L += Math.max(0, s), S < C && Jw(b, m, 0, C - S, ya, h - 1), 0 < x && (p || Mw(b, 0, x, 0, h - 1), C += x)));\n      x = p = 0;\n\n      switch (m) {\n        case Ow:\n          d ? p += L / 2 - b.T.x - u / 2 : x += C / 2 - b.T.y - u / 2;\n          break;\n\n        case Nv:\n          0 < ba ? d ? p += L / 2 - b.T.x - u / 2 : x += C / 2 - b.T.y - u / 2 : d ? (m = e[0].pa.x + e[0].Oa.x, t = e[h - 1].pa.x + e[h - 1].Oa.x + 2 * e[h - 1].T.x, p += m + (t - m) / 2 - b.T.x - u / 2) : (m = e[0].pa.y + e[0].Oa.y, t = e[h - 1].pa.y + e[h - 1].Oa.y + 2 * e[h - 1].T.y, x += m + (t - m) / 2 - b.T.y - u / 2);\n          break;\n\n        case Yv:\n          d ? (p -= u, L += u) : (x -= u, C += u);\n          break;\n\n        case Zv:\n          d ? (p += L - b.width + u, L += u) : (x += C - b.height + u, C += u);\n          break;\n\n        case Pv:\n        case Ev:\n          d ? p = 1 < h ? p + (Ga + t / 2 - b.T.x) : p + (e[0].T.x - b.T.x + e[0].Oa.x) : x = 1 < h ? x + (Ga + t / 2 - b.T.y) : x + (e[0].T.y - b.T.y + e[0].Oa.y);\n          break;\n\n        case Qv:\n          d ? p += L + t / 2 - b.T.x : x += C + t / 2 - b.T.y;\n          break;\n\n        case Rv:\n          break;\n\n        default:\n          w.k(\"Unhandled alignment value \" + m.toString());\n      }\n\n      for (k = 0; k < h; k++) {\n        l = e[k], d ? l.pa.m(l.pa.x + l.Oa.x - p, l.pa.y + (135 < c ? (q ? -C : -l.kb.height) + l.Oa.y - s : A + s + l.Oa.y)) : l.pa.m(l.pa.x + (135 < c ? (q ? -L : -l.kb.width) + l.Oa.x - s : n + s + l.Oa.x), l.pa.y + l.Oa.y - x);\n      }\n\n      d ? (L = Pw(b, L, p), 0 > p && (p = 0), 135 < c && (x += C + s), C += A + s) : (135 < c && (p += L + s), L += n + s, C = Qw(b, C, x), 0 > x && (x = 0));\n      b.Oa.m(p, x);\n      b.kb.m(L, C);\n    }\n  }\n\n  function bw(a, b, c, d, e) {\n    var f = b.length;\n    if (0 === f) return new B(c, 0, d, e);\n\n    if (1 === f) {\n      var h = b[0];\n      d = h.kb.width;\n      e = h.kb.height;\n      return new B(c, 0, d, e);\n    }\n\n    for (var k = a.nodeSpacing, l = a.rowSpacing, m = 90 === Xv(a), n = 0, p = 0, q = 0, r = 0; r < f; r++) {\n      if (!(0 !== r % 2 || 1 < f && r === f - 1)) {\n        var h = b[r],\n            s = h.kb,\n            t = 0 === n ? 0 : l;\n\n        if (m) {\n          var u = Tw(h) - k;\n          h.pa.m(c - (s.width + u), q + t);\n          d = Math.max(d, s.width + u);\n          e = Math.max(e, q + t + s.height);\n          q += t + s.height;\n        } else u = Tw(h) - k, h.pa.m(p + t, c - (s.height + u)), e = Math.max(e, s.height + u), d = Math.max(d, p + t + s.width), p += t + s.width;\n\n        n++;\n      }\n    }\n\n    var n = 0,\n        y = p,\n        v = q;\n    m ? (p = c + k, q = 0) : (p = 0, q = c + k);\n\n    for (r = 0; r < f; r++) {\n      0 !== r % 2 && (h = b[r], s = h.kb, t = 0 === n ? 0 : l, m ? (u = Tw(h) - k, h.pa.m(p + u, q + t), d = Math.max(d, p + s.width + u), e = Math.max(e, q + t + s.height), q += t + s.height) : (u = Tw(h) - k, h.pa.m(p + t, q + u), d = Math.max(d, p + t + s.width), e = Math.max(e, q + s.height + u), p += t + s.width), n++);\n    }\n\n    1 < f && 1 === f % 2 && (h = b[f - 1], s = h.kb, b = Uw(h, m ? Math.max(Math.abs(v), Math.abs(q)) : Math.max(Math.abs(y), Math.abs(p))), m ? (h.pa.m(c + k / 2 - h.T.x - h.Oa.x, e + b), m = c + k / 2 - h.T.x - h.Oa.x, d = Math.max(d, m + s.width), 0 > m && (d -= m), e = Math.max(e, Math.max(v, q) + b + s.height), 0 > h.pa.x && (c = Vw(a, h.pa.x, !1, c, k))) : (h.pa.m(d + b, c + k / 2 - h.T.y - h.Oa.y), d = Math.max(d, Math.max(y, p) + b + s.width), m = c + k / 2 - h.T.y - h.Oa.y, e = Math.max(e, m + s.height), 0 > m && (e -= m), 0 > h.pa.y && (c = Vw(a, h.pa.y, !0, c, k))));\n    return new B(c, 0, d, e);\n  }\n\n  function cw(a, b, c, d, e) {\n    var f = b.length;\n    if (0 === f) return new B(c, 0, d, e);\n\n    if (1 === f) {\n      var h = b[0];\n      d = h.kb.width;\n      e = h.kb.height;\n      return new B(c, 0, d, e);\n    }\n\n    for (var k = a.nodeSpacing, l = a.rowSpacing, m = 270 === Xv(a), n = 0, p = 0, q = 0, r = 0; r < f; r++) {\n      if (!(0 !== r % 2 || 1 < f && r === f - 1)) {\n        var h = b[r],\n            s = h.kb,\n            t = 0 === n ? 0 : l;\n\n        if (m) {\n          var u = Tw(h) - k,\n              q = q - (t + s.height);\n          h.pa.m(c - (s.width + u), q);\n          d = Math.max(d, s.width + u);\n          e = Math.max(e, Math.abs(q));\n        } else u = Tw(h) - k, p -= t + s.width, h.pa.m(p, c - (s.height + u)), e = Math.max(e, s.height + u), d = Math.max(d, Math.abs(p));\n\n        n++;\n      }\n    }\n\n    var n = 0,\n        y = p,\n        v = q;\n    m ? (p = c + k, q = 0) : (p = 0, q = c + k);\n\n    for (r = 0; r < f; r++) {\n      0 !== r % 2 && (h = b[r], s = h.kb, t = 0 === n ? 0 : l, m ? (u = Tw(h) - k, q -= t + s.height, h.pa.m(p + u, q), d = Math.max(d, p + s.width + u), e = Math.max(e, Math.abs(q))) : (u = Tw(h) - k, p -= t + s.width, h.pa.m(p, q + u), e = Math.max(e, q + s.height + u), d = Math.max(d, Math.abs(p))), n++);\n    }\n\n    1 < f && 1 === f % 2 && (h = b[f - 1], s = h.kb, l = Uw(h, m ? Math.max(Math.abs(v), Math.abs(q)) : Math.max(Math.abs(y), Math.abs(p))), m ? (h.pa.m(c + k / 2 - h.T.x - h.Oa.x, -e - s.height - l), p = c + k / 2 - h.T.x - h.Oa.x, d = Math.max(d, p + s.width), 0 > p && (d -= p), e = Math.max(e, Math.abs(Math.min(v, q)) + l + s.height), 0 > h.pa.x && (c = Vw(a, h.pa.x, !1, c, k))) : (h.pa.m(-d - s.width - l, c + k / 2 - h.T.y - h.Oa.y), d = Math.max(d, Math.abs(Math.min(y, p)) + l + s.width), p = c + k / 2 - h.T.y - h.Oa.y, e = Math.max(e, p + s.height), 0 > p && (e -= p), 0 > h.pa.y && (c = Vw(a, h.pa.y, !0, c, k))));\n\n    for (r = 0; r < f; r++) {\n      h = b[r], m ? h.pa.m(h.pa.x, h.pa.y + e) : h.pa.m(h.pa.x + d, h.pa.y);\n    }\n\n    return new B(c, 0, d, e);\n  }\n\n  function Tw(a) {\n    return null === a.parent ? 0 : a.parent.nodeSpacing;\n  }\n\n  function Uw(a) {\n    return null === a.parent ? 0 : a.parent.rowSpacing;\n  }\n\n  function Vw(a, b, c, d, e) {\n    a = a.children;\n\n    for (var f = a.length, h = 0; h < f; h++) {\n      c ? a[h].pa.m(a[h].pa.x, a[h].pa.y - b) : a[h].pa.m(a[h].pa.x - b, a[h].pa.y);\n    }\n\n    b = a[f - 1];\n    return Math.max(d, c ? b.Oa.y + b.T.y - e / 2 : b.Oa.x + b.T.x - e / 2);\n  }\n\n  function Pw(a, b, c) {\n    switch (a.alignment) {\n      case Nv:\n      case Ow:\n        var d = b;\n        c + a.width > d && (d = c + a.width);\n        0 > c && (d -= c);\n        return d;\n\n      case Yv:\n        return a.width > b ? a.width : b;\n\n      case Zv:\n        return 2 * a.T.x > b ? a.width : b + a.width - 2 * a.T.x;\n\n      case Pv:\n      case Ev:\n        return d = Math.min(0, c), c = Math.max(b, c + a.width), Math.max(a.width, c - d);\n\n      case Qv:\n        return a.width - a.T.x + a.nodeSpacing / 2 + b;\n\n      case Rv:\n        return Math.max(a.width, a.T.x + a.nodeSpacing / 2 + b);\n\n      default:\n        return b;\n    }\n  }\n\n  function Qw(a, b, c) {\n    switch (a.alignment) {\n      case Nv:\n      case Ow:\n        var d = b;\n        c + a.height > d && (d = c + a.height);\n        0 > c && (d -= c);\n        return d;\n\n      case Yv:\n        return a.height > b ? a.height : b;\n\n      case Zv:\n        return 2 * a.T.y > b ? a.height : b + a.height - 2 * a.T.y;\n\n      case Pv:\n      case Ev:\n        return d = Math.min(0, c), c = Math.max(b, c + a.height), Math.max(a.height, c - d);\n\n      case Qv:\n        return a.height - a.T.y + a.nodeSpacing / 2 + b;\n\n      case Rv:\n        return Math.max(a.height, a.T.y + a.nodeSpacing / 2 + b);\n\n      default:\n        return b;\n    }\n  }\n\n  function Rw(a, b, c) {\n    switch (a) {\n      case Ow:\n        b /= 2;\n        c /= 2;\n        break;\n\n      case Nv:\n        b /= 2;\n        c /= 2;\n        break;\n\n      case Yv:\n        c = b = 0;\n        break;\n\n      case Zv:\n        break;\n\n      default:\n        w.k(\"Unhandled alignment value \" + a.toString());\n    }\n\n    return new z(b, c);\n  }\n\n  function Jw(a, b, c, d, e, f) {\n    b = Rw(b, c, d);\n    Mw(a, b.x, b.y, e, f);\n  }\n\n  function Mw(a, b, c, d, e) {\n    if (0 !== b || 0 !== c) for (a = a.children; d <= e; d++) {\n      var f = a[d].pa;\n      f.x += b;\n      f.y += c;\n    }\n  }\n\n  function Kw(a, b, c, d) {\n    var e = b.parent;\n\n    switch (a.Of) {\n      case nv:\n        for (a = b.nc; a.next();) {\n          b = a.value, b.fromVertex === e && b.$s.m(c, d);\n        }\n\n        break;\n\n      case uv:\n        for (a = b.lc; a.next();) {\n          b = a.value, b.toVertex === e && b.$s.m(c, d);\n        }\n\n        break;\n\n      default:\n        w.k(\"Unhandled path value \" + a.Of.toString());\n    }\n  }\n\n  function Nw(a, b, c) {\n    for (var d = 0; d < a.length; d++) {\n      var e = a[d];\n      e.x += b;\n      e.y += c;\n    }\n  }\n\n  function Lw(a, b, c, d, e, f, h, k) {\n    var l = Xv(b),\n        m = 90 === l || 270 === l,\n        n = b.nodeSpacing;\n    b = d;\n    var p = e;\n    d = f;\n    e = h;\n    var q = c.Cu,\n        r = c.Wu;\n    h = c.kb;\n    var s = m ? Math.max(e, h.height) : Math.max(d, h.width);\n    if (null === q || l !== Xv(c)) q = dw(a, 2), r = dw(a, 2), m ? (q[0].m(0, 0), q[1].m(0, h.height), r[0].m(h.width, 0), r[1].m(r[0].x, q[1].y)) : (q[0].m(0, 0), q[1].m(h.width, 0), r[0].m(0, h.height), r[1].m(q[1].x, r[0].y));\n\n    if (m) {\n      c = d;\n      d = 9999999;\n      if (!(null === p || 2 > p.length || null === q || 2 > q.length)) for (m = l = 0; l < p.length && m < q.length;) {\n        e = p[l];\n        var t = q[m];\n        f = t.x;\n        var u = t.y;\n        f += c;\n        var y = e;\n        l + 1 < p.length && (y = p[l + 1]);\n        var v = t,\n            t = v.x,\n            v = v.y;\n        m + 1 < q.length && (v = q[m + 1], t = v.x, v = v.y, t += c);\n        var x = d;\n        e.y === u ? x = f - e.x : e.y > u && e.y < v ? x = f + (e.y - u) / (v - u) * (t - f) - e.x : u > e.y && u < y.y && (x = f - (e.x + (u - e.y) / (y.y - e.y) * (y.x - e.x)));\n        x < d && (d = x);\n        y.y <= e.y ? l++ : v <= u ? m++ : (y.y <= v && l++, v <= y.y && m++);\n      }\n      c -= d;\n      c += n;\n      l = q;\n      m = c;\n      if (null === b || 2 > b.length || null === l || 2 > l.length) d = null;else {\n        n = dw(a, b.length + l.length);\n\n        for (d = f = e = 0; f < l.length && l[f].y < b[0].y;) {\n          u = l[f++], n[d++].m(u.x + m, u.y);\n        }\n\n        for (; e < b.length;) {\n          u = b[e++], n[d++].m(u.x, u.y);\n        }\n\n        for (e = b[b.length - 1].y; f < l.length && l[f].y <= e;) {\n          f++;\n        }\n\n        for (; f < l.length && l[f].y > e;) {\n          u = l[f++], n[d++].m(u.x + m, u.y);\n        }\n\n        l = dw(a, d);\n\n        for (e = 0; e < d; e++) {\n          l[e].assign(n[e]);\n        }\n\n        Sw(a, n);\n        d = l;\n      }\n      f = r;\n      u = c;\n      if (null === p || 2 > p.length || null === f || 2 > f.length) e = null;else {\n        n = dw(a, p.length + f.length);\n\n        for (m = y = l = 0; l < p.length && p[l].y < f[0].y;) {\n          e = p[l++], n[m++].m(e.x, e.y);\n        }\n\n        for (; y < f.length;) {\n          e = f[y++], n[m++].m(e.x + u, e.y);\n        }\n\n        for (f = f[f.length - 1].y; l < p.length && p[l].y <= f;) {\n          l++;\n        }\n\n        for (; l < p.length && p[l].y > f;) {\n          e = p[l++], n[m++].m(e.x, e.y);\n        }\n\n        e = dw(a, m);\n\n        for (l = 0; l < m; l++) {\n          e[l].assign(n[l]);\n        }\n\n        Sw(a, n);\n      }\n      f = Math.max(0, c) + h.width;\n      h = s;\n    } else {\n      c = e;\n      d = 9999999;\n      if (!(null === p || 2 > p.length || null === q || 2 > q.length)) for (m = l = 0; l < p.length && m < q.length;) {\n        e = p[l], t = q[m], f = t.x, u = t.y, u += c, y = e, l + 1 < p.length && (y = p[l + 1]), v = t, t = v.x, v = v.y, m + 1 < q.length && (v = q[m + 1], t = v.x, v = v.y, v += c), x = d, e.x === f ? x = u - e.y : e.x > f && e.x < t ? x = u + (e.x - f) / (t - f) * (v - u) - e.y : f > e.x && f < y.x && (x = u - (e.y + (f - e.x) / (y.x - e.x) * (y.y - e.y))), x < d && (d = x), y.x <= e.x ? l++ : t <= f ? m++ : (y.x <= t && l++, t <= y.x && m++);\n      }\n      c -= d;\n      c += n;\n      l = q;\n      m = c;\n      if (null === b || 2 > b.length || null === l || 2 > l.length) d = null;else {\n        n = dw(a, b.length + l.length);\n\n        for (d = f = e = 0; f < l.length && l[f].x < b[0].x;) {\n          u = l[f++], n[d++].m(u.x, u.y + m);\n        }\n\n        for (; e < b.length;) {\n          u = b[e++], n[d++].m(u.x, u.y);\n        }\n\n        for (e = b[b.length - 1].x; f < l.length && l[f].x <= e;) {\n          f++;\n        }\n\n        for (; f < l.length && l[f].x > e;) {\n          u = l[f++], n[d++].m(u.x, u.y + m);\n        }\n\n        l = dw(a, d);\n\n        for (e = 0; e < d; e++) {\n          l[e].assign(n[e]);\n        }\n\n        Sw(a, n);\n        d = l;\n      }\n      f = r;\n      u = c;\n      if (null === p || 2 > p.length || null === f || 2 > f.length) e = null;else {\n        n = dw(a, p.length + f.length);\n\n        for (m = y = l = 0; l < p.length && p[l].x < f[0].x;) {\n          e = p[l++], n[m++].m(e.x, e.y);\n        }\n\n        for (; y < f.length;) {\n          e = f[y++], n[m++].m(e.x, e.y + u);\n        }\n\n        for (f = f[f.length - 1].x; l < p.length && p[l].x <= f;) {\n          l++;\n        }\n\n        for (; l < p.length && p[l].x > f;) {\n          e = p[l++], n[m++].m(e.x, e.y);\n        }\n\n        e = dw(a, m);\n\n        for (l = 0; l < m; l++) {\n          e[l].assign(n[l]);\n        }\n\n        Sw(a, n);\n      }\n      f = s;\n      h = Math.max(0, c) + h.height;\n    }\n\n    Sw(a, b);\n    Sw(a, q);\n    Sw(a, p);\n    Sw(a, r);\n    k[0] = d;\n    k[1] = e;\n    return new B(c, 0, f, h);\n  }\n\n  function dw(a, b) {\n    var c = a.Wz[b];\n    if (void 0 !== c && (c = c.pop(), void 0 !== c)) return c;\n\n    for (var c = [], d = 0; d < b; d++) {\n      c[d] = new z();\n    }\n\n    return c;\n  }\n\n  function Sw(a, b) {\n    var c = b.length,\n        d = a.Wz[c];\n    void 0 === d && (d = [], a.Wz[c] = d);\n    d.push(b);\n  }\n\n  $.prototype.arrangeTrees = function () {\n    if (this.qd === tv) for (var a = this.zd.i; a.next();) {\n      var b = a.value;\n\n      if (b instanceof rv) {\n        var c = b.Rc;\n\n        if (null !== c) {\n          var d = c.position,\n              c = d.x,\n              d = d.y;\n          isFinite(c) || (c = 0);\n          isFinite(d) || (d = 0);\n          Ww(this, b, c, d);\n        }\n      }\n    } else {\n      c = [];\n\n      for (a = this.zd.i; a.next();) {\n        b = a.value, b instanceof rv && c.push(b);\n      }\n\n      switch (this.sorting) {\n        case Jv:\n          break;\n\n        case Kv:\n          c.reverse();\n          break;\n\n        case Lv:\n          c.sort(this.comparer);\n          break;\n\n        case Mv:\n          c.sort(this.comparer);\n          c.reverse();\n          break;\n\n        default:\n          w.k(\"Unhandled sorting value \" + this.sorting.toString());\n      }\n\n      b = this.Nd;\n      a = b.x;\n      b = b.y;\n\n      for (d = 0; d < c.length; d++) {\n        var e = c[d];\n        Ww(this, e, a + e.Oa.x, b + e.Oa.y);\n\n        switch (this.qd) {\n          case qv:\n            b += e.kb.height + this.ng.height;\n            break;\n\n          case Xw:\n            a += e.kb.width + this.ng.width;\n            break;\n\n          default:\n            w.k(\"Unhandled arrangement value \" + this.qd.toString());\n        }\n      }\n    }\n  };\n\n  function Ww(a, b, c, d) {\n    if (null !== b) {\n      b.x = c;\n      b.y = d;\n      b = b.children;\n\n      for (var e = b.length, f = 0; f < e; f++) {\n        var h = b[f];\n        Ww(a, h, c + h.pa.x, d + h.pa.y);\n      }\n    }\n  }\n\n  $.prototype.commitLayout = function () {\n    this.DB();\n    this.commitNodes();\n    this.pA();\n    this.Au && this.commitLinks();\n  };\n\n  $.prototype.commitNodes = function () {\n    for (var a = this.network.vertexes.i; a.next();) {\n      a.value.commit();\n    }\n\n    for (a.reset(); a.next();) {\n      this.layoutComments(a.value);\n    }\n  };\n\n  $.prototype.pA = function () {\n    if (this.ZA === Bv) {\n      for (var a = this.iC, b = [], c = null, d = this.network.vertexes.i; d.next();) {\n        var e = d.value;\n        null === c ? c = e.eb.copy() : c.Zg(e.eb);\n        var f = b[e.level],\n            f = void 0 === f ? $v(e) : Math.max(f, $v(e));\n        b[e.level] = f;\n      }\n\n      for (d = 0; d < b.length; d++) {\n        void 0 === b[d] && (b[d] = 0);\n      }\n\n      90 === this.angle || 270 === this.angle ? (c.Zf(this.nodeSpacing / 2, this.layerSpacing), e = new z(-this.nodeSpacing / 2, -this.layerSpacing / 2)) : (c.Zf(this.layerSpacing, this.nodeSpacing / 2), e = new z(-this.layerSpacing / 2, -this.nodeSpacing / 2));\n      var f = [],\n          c = 90 === this.angle || 270 === this.angle ? c.width : c.height,\n          h = 0;\n      if (180 === this.angle || 270 === this.angle) for (d = 0; d < a.length; d++) {\n        h += a[d] + b[d];\n      }\n\n      for (d = 0; d < a.length; d++) {\n        var k = a[d] + b[d];\n        270 === this.angle ? (h -= k, f.push(new B(0, h, c, k))) : 90 === this.angle ? (f.push(new B(0, h, c, k)), h += k) : 180 === this.angle ? (h -= k, f.push(new B(h, 0, k, c))) : (f.push(new B(h, 0, k, c)), h += k);\n      }\n\n      this.commitLayers(f, e);\n    }\n  };\n\n  $.prototype.commitLayers = function () {};\n\n  $.prototype.commitLinks = function () {\n    for (var a = this.network.edges.i; a.next();) {\n      a.value.commit();\n    }\n  };\n\n  $.prototype.DB = function () {\n    for (var a = this.zd.i; a.next();) {\n      var b = a.value;\n      b instanceof rv && Yw(this, b);\n    }\n  };\n\n  function Yw(a, b) {\n    if (null !== b) {\n      a.setPortSpots(b);\n\n      for (var c = b.children, d = c.length, e = 0; e < d; e++) {\n        Yw(a, c[e]);\n      }\n    }\n  }\n\n  $.prototype.setPortSpots = function (a) {\n    var b = a.alignment;\n\n    if (Ov(b)) {\n      var c = this.Of === nv,\n          d = Xv(a),\n          e;\n\n      switch (d) {\n        case 0:\n          e = Ic;\n          break;\n\n        case 90:\n          e = Jc;\n          break;\n\n        case 180:\n          e = Hc;\n          break;\n\n        default:\n          e = Gc;\n      }\n\n      var f = a.children,\n          h = f.length;\n\n      switch (b) {\n        case Pv:\n        case Ev:\n          for (b = 0; b < h; b++) {\n            var k = f[b],\n                k = (c ? k.nc : k.lc).first();\n\n            if (null !== k && (k = k.link, null !== k)) {\n              var l = 90 === d || 270 === d ? Hc : Gc;\n              if (1 === h || b === h - 1 && 1 === h % 2) switch (d) {\n                case 0:\n                  l = Hc;\n                  break;\n\n                case 90:\n                  l = Gc;\n                  break;\n\n                case 180:\n                  l = Ic;\n                  break;\n\n                default:\n                  l = Jc;\n              } else 0 === b % 2 && (l = 90 === d || 270 === d ? Ic : Jc);\n              c ? (a.setsPortSpot && (k.Cb = e), a.setsChildPortSpot && (k.Db = l)) : (a.setsPortSpot && (k.Cb = l), a.setsChildPortSpot && (k.Db = e));\n            }\n          }\n\n          break;\n\n        case Qv:\n          l = 90 === d || 270 === d ? Ic : Jc;\n\n          for (d = c ? a.lc : a.nc; d.next();) {\n            k = d.value.link, null !== k && (c ? (a.setsPortSpot && (k.Cb = e), a.setsChildPortSpot && (k.Db = l)) : (a.setsPortSpot && (k.Cb = l), a.setsChildPortSpot && (k.Db = e)));\n          }\n\n          break;\n\n        case Rv:\n          for (l = 90 === d || 270 === d ? Hc : Gc, d = c ? a.lc : a.nc; d.next();) {\n            k = d.value.link, null !== k && (c ? (a.setsPortSpot && (k.Cb = e), a.setsChildPortSpot && (k.Db = l)) : (a.setsPortSpot && (k.Cb = l), a.setsChildPortSpot && (k.Db = e)));\n          }\n\n      }\n    } else if (c = Xv(a), this.Of === nv) for (e = a.lc; e.next();) {\n      if (d = e.value.link, null !== d) {\n        if (a.setsPortSpot) if (a.portSpot.Zc()) switch (c) {\n          case 0:\n            d.Cb = Ic;\n            break;\n\n          case 90:\n            d.Cb = Jc;\n            break;\n\n          case 180:\n            d.Cb = Hc;\n            break;\n\n          default:\n            d.Cb = Gc;\n        } else d.Cb = a.portSpot;\n        if (a.setsChildPortSpot) if (a.childPortSpot.Zc()) switch (c) {\n          case 0:\n            d.Db = Hc;\n            break;\n\n          case 90:\n            d.Db = Gc;\n            break;\n\n          case 180:\n            d.Db = Ic;\n            break;\n\n          default:\n            d.Db = Jc;\n        } else d.Db = a.childPortSpot;\n      }\n    } else for (e = a.nc; e.next();) {\n      if (d = e.value.link, null !== d) {\n        if (a.setsPortSpot) if (a.portSpot.Zc()) switch (c) {\n          case 0:\n            d.Db = Ic;\n            break;\n\n          case 90:\n            d.Db = Jc;\n            break;\n\n          case 180:\n            d.Db = Hc;\n            break;\n\n          default:\n            d.Db = Gc;\n        } else d.Db = a.portSpot;\n        if (a.setsChildPortSpot) if (a.childPortSpot.Zc()) switch (c) {\n          case 0:\n            d.Cb = Hc;\n            break;\n\n          case 90:\n            d.Cb = Gc;\n            break;\n\n          case 180:\n            d.Cb = Ic;\n            break;\n\n          default:\n            d.Cb = Jc;\n        } else d.Cb = a.childPortSpot;\n      }\n    }\n  };\n\n  function Xv(a) {\n    a = a.angle;\n    return 45 >= a ? 0 : 135 >= a ? 90 : 225 >= a ? 180 : 315 >= a ? 270 : 0;\n  }\n\n  function $v(a) {\n    var b = Xv(a),\n        b = 90 === b || 270 === b,\n        c = a.layerSpacing;\n    if (0 < a.layerSpacingParentOverlap) var d = Math.min(1, a.layerSpacingParentOverlap),\n        c = c - (b ? a.height * d : a.width * d);\n    c < (b ? -a.height : -a.width) && (c = b ? -a.height : -a.width);\n    return c;\n  }\n\n  function aw(a) {\n    var b = Xv(a),\n        b = 90 === b || 270 === b,\n        c = a.nodeIndent;\n    if (0 < a.nodeIndentPastParent) var d = Math.min(1, a.nodeIndentPastParent),\n        c = c + (b ? a.width * d : a.height * d);\n    return c = Math.max(0, c);\n  }\n\n  w.defineProperty($, {\n    OL: \"roots\"\n  }, function () {\n    return this.zd;\n  }, function (a) {\n    this.zd !== a && (w.G(a, I, $, \"roots\"), this.zd = a, this.J());\n  });\n  w.defineProperty($, {\n    path: \"path\"\n  }, function () {\n    return this.Ts;\n  }, function (a) {\n    this.Ts !== a && (w.ob(a, $, $, \"path\"), this.Ts = a, this.J());\n  });\n  w.defineProperty($, {\n    YJ: \"treeStyle\"\n  }, function () {\n    return this.It;\n  }, function (a) {\n    this.qd !== a && (w.ob(a, $, $, \"treeStyle\"), a === ov || a === Hv || a === Iv || a === Gv) && (this.It = a, this.J());\n  });\n  w.defineProperty($, {\n    ZA: \"layerStyle\"\n  }, function () {\n    return this.iw;\n  }, function (a) {\n    this.qd !== a && (w.ob(a, $, $, \"layerStyle\"), a === pv || a === Cv || a === Bv) && (this.iw = a, this.J());\n  });\n  w.defineProperty($, {\n    comments: \"comments\"\n  }, function () {\n    return this.Mh;\n  }, function (a) {\n    this.Mh !== a && (w.j(a, \"boolean\", $, \"comments\"), this.Mh = a, this.J());\n  });\n  w.defineProperty($, {\n    Vf: \"arrangement\"\n  }, function () {\n    return this.qd;\n  }, function (a) {\n    this.qd !== a && (w.ob(a, $, $, \"arrangement\"), a === qv || a === Xw || a === tv) && (this.qd = a, this.J());\n  });\n  w.defineProperty($, {\n    DE: \"arrangementSpacing\"\n  }, function () {\n    return this.ng;\n  }, function (a) {\n    w.G(a, ia, $, \"arrangementSpacing\");\n    this.ng.L(a) || (this.ng.assign(a), this.J());\n  });\n  w.defineProperty($, {\n    NL: \"rootDefaults\"\n  }, function () {\n    return this.va;\n  }, function (a) {\n    this.va !== a && (w.G(a, rv, $, \"rootDefaults\"), this.va = a, this.J());\n  });\n  w.defineProperty($, {\n    qK: \"alternateDefaults\"\n  }, function () {\n    return this.wa;\n  }, function (a) {\n    this.wa !== a && (w.G(a, rv, $, \"alternateDefaults\"), this.wa = a, this.J());\n  });\n  w.defineProperty($, {\n    sorting: \"sorting\"\n  }, function () {\n    return this.va.sorting;\n  }, function (a) {\n    this.va.sorting !== a && (w.ob(a, $, $, \"sorting\"), a === Jv || a === Kv || a === Lv || Mv) && (this.va.sorting = a, this.J());\n  });\n  w.defineProperty($, {\n    comparer: \"comparer\"\n  }, function () {\n    return this.va.comparer;\n  }, function (a) {\n    this.va.comparer !== a && (w.j(a, \"function\", $, \"comparer\"), this.va.comparer = a, this.J());\n  });\n  w.defineProperty($, {\n    angle: \"angle\"\n  }, function () {\n    return this.va.angle;\n  }, function (a) {\n    this.va.angle !== a && (w.j(a, \"number\", $, \"angle\"), 0 === a || 90 === a || 180 === a || 270 === a ? (this.va.angle = a, this.J()) : w.k(\"TreeLayout.angle must be 0, 90, 180, or 270\"));\n  });\n  w.defineProperty($, {\n    alignment: \"alignment\"\n  }, function () {\n    return this.va.alignment;\n  }, function (a) {\n    this.va.alignment !== a && (w.ob(a, $, $, \"alignment\"), this.va.alignment = a, this.J());\n  });\n  w.defineProperty($, {\n    nodeIndent: \"nodeIndent\"\n  }, function () {\n    return this.va.nodeIndent;\n  }, function (a) {\n    this.va.nodeIndent !== a && (w.j(a, \"number\", $, \"nodeIndent\"), 0 <= a && (this.va.nodeIndent = a, this.J()));\n  });\n  w.defineProperty($, {\n    nodeIndentPastParent: \"nodeIndentPastParent\"\n  }, function () {\n    return this.va.nodeIndentPastParent;\n  }, function (a) {\n    this.va.nodeIndentPastParent !== a && (w.j(a, \"number\", $, \"nodeIndentPastParent\"), 0 <= a && 1 >= a && (this.va.nodeIndentPastParent = a, this.J()));\n  });\n  w.defineProperty($, {\n    nodeSpacing: \"nodeSpacing\"\n  }, function () {\n    return this.va.nodeSpacing;\n  }, function (a) {\n    this.va.nodeSpacing !== a && (w.j(a, \"number\", $, \"nodeSpacing\"), this.va.nodeSpacing = a, this.J());\n  });\n  w.defineProperty($, {\n    layerSpacing: \"layerSpacing\"\n  }, function () {\n    return this.va.layerSpacing;\n  }, function (a) {\n    this.va.layerSpacing !== a && (w.j(a, \"number\", $, \"layerSpacing\"), this.va.layerSpacing = a, this.J());\n  });\n  w.defineProperty($, {\n    layerSpacingParentOverlap: \"layerSpacingParentOverlap\"\n  }, function () {\n    return this.va.layerSpacingParentOverlap;\n  }, function (a) {\n    this.va.layerSpacingParentOverlap !== a && (w.j(a, \"number\", $, \"layerSpacingParentOverlap\"), 0 <= a && 1 >= a && (this.va.layerSpacingParentOverlap = a, this.J()));\n  });\n  w.defineProperty($, {\n    compaction: \"compaction\"\n  }, function () {\n    return this.va.compaction;\n  }, function (a) {\n    this.va.compaction !== a && (w.ob(a, $, $, \"compaction\"), a === Uv || a === Wv) && (this.va.compaction = a, this.J());\n  });\n  w.defineProperty($, {\n    breadthLimit: \"breadthLimit\"\n  }, function () {\n    return this.va.breadthLimit;\n  }, function (a) {\n    this.va.breadthLimit !== a && (w.j(a, \"number\", $, \"breadthLimit\"), 0 <= a && (this.va.breadthLimit = a, this.J()));\n  });\n  w.defineProperty($, {\n    rowSpacing: \"rowSpacing\"\n  }, function () {\n    return this.va.rowSpacing;\n  }, function (a) {\n    this.va.rowSpacing !== a && (w.j(a, \"number\", $, \"rowSpacing\"), this.va.rowSpacing = a, this.J());\n  });\n  w.defineProperty($, {\n    rowIndent: \"rowIndent\"\n  }, function () {\n    return this.va.rowIndent;\n  }, function (a) {\n    this.va.rowIndent !== a && (w.j(a, \"number\", $, \"rowIndent\"), 0 <= a && (this.va.rowIndent = a, this.J()));\n  });\n  w.defineProperty($, {\n    commentSpacing: \"commentSpacing\"\n  }, function () {\n    return this.va.commentSpacing;\n  }, function (a) {\n    this.va.commentSpacing !== a && (w.j(a, \"number\", $, \"commentSpacing\"), this.va.commentSpacing = a, this.J());\n  });\n  w.defineProperty($, {\n    commentMargin: \"commentMargin\"\n  }, function () {\n    return this.va.commentMargin;\n  }, function (a) {\n    this.va.commentMargin !== a && (w.j(a, \"number\", $, \"commentMargin\"), this.va.commentMargin = a, this.J());\n  });\n  w.defineProperty($, {\n    setsPortSpot: \"setsPortSpot\"\n  }, function () {\n    return this.va.setsPortSpot;\n  }, function (a) {\n    this.va.setsPortSpot !== a && (w.j(a, \"boolean\", $, \"setsPortSpot\"), this.va.setsPortSpot = a, this.J());\n  });\n  w.defineProperty($, {\n    portSpot: \"portSpot\"\n  }, function () {\n    return this.va.portSpot;\n  }, function (a) {\n    w.G(a, K, $, \"portSpot\");\n    this.va.portSpot.L(a) || (this.va.portSpot = a, this.J());\n  });\n  w.defineProperty($, {\n    setsChildPortSpot: \"setsChildPortSpot\"\n  }, function () {\n    return this.va.setsChildPortSpot;\n  }, function (a) {\n    this.va.setsChildPortSpot !== a && (w.j(a, \"boolean\", $, \"setsChildPortSpot\"), this.va.setsChildPortSpot = a, this.J());\n  });\n  w.defineProperty($, {\n    childPortSpot: \"childPortSpot\"\n  }, function () {\n    return this.va.childPortSpot;\n  }, function (a) {\n    w.G(a, K, $, \"childPortSpot\");\n    this.va.childPortSpot.L(a) || (this.va.childPortSpot = a, this.J());\n  });\n  w.defineProperty($, {\n    BK: \"alternateSorting\"\n  }, function () {\n    return this.wa.sorting;\n  }, function (a) {\n    this.wa.sorting !== a && (w.ob(a, $, $, \"alternateSorting\"), a === Jv || a === Kv || a === Lv || Mv) && (this.wa.sorting = a, this.J());\n  });\n  w.defineProperty($, {\n    pK: \"alternateComparer\"\n  }, function () {\n    return this.wa.comparer;\n  }, function (a) {\n    this.wa.comparer !== a && (w.j(a, \"function\", $, \"alternateComparer\"), this.wa.comparer = a, this.J());\n  });\n  w.defineProperty($, {\n    jK: \"alternateAngle\"\n  }, function () {\n    return this.wa.angle;\n  }, function (a) {\n    this.wa.angle !== a && (w.j(a, \"number\", $, \"alternateAngle\"), 0 === a || 90 === a || 180 === a || 270 === a) && (this.wa.angle = a, this.J());\n  });\n  w.defineProperty($, {\n    iK: \"alternateAlignment\"\n  }, function () {\n    return this.wa.alignment;\n  }, function (a) {\n    this.wa.alignment !== a && (w.ob(a, $, $, \"alternateAlignment\"), this.wa.alignment = a, this.J());\n  });\n  w.defineProperty($, {\n    tK: \"alternateNodeIndent\"\n  }, function () {\n    return this.wa.nodeIndent;\n  }, function (a) {\n    this.wa.nodeIndent !== a && (w.j(a, \"number\", $, \"alternateNodeIndent\"), 0 <= a && (this.wa.nodeIndent = a, this.J()));\n  });\n  w.defineProperty($, {\n    uK: \"alternateNodeIndentPastParent\"\n  }, function () {\n    return this.wa.nodeIndentPastParent;\n  }, function (a) {\n    this.wa.nodeIndentPastParent !== a && (w.j(a, \"number\", $, \"alternateNodeIndentPastParent\"), 0 <= a && 1 >= a && (this.wa.nodeIndentPastParent = a, this.J()));\n  });\n  w.defineProperty($, {\n    vK: \"alternateNodeSpacing\"\n  }, function () {\n    return this.wa.nodeSpacing;\n  }, function (a) {\n    this.wa.nodeSpacing !== a && (w.j(a, \"number\", $, \"alternateNodeSpacing\"), this.wa.nodeSpacing = a, this.J());\n  });\n  w.defineProperty($, {\n    rK: \"alternateLayerSpacing\"\n  }, function () {\n    return this.wa.layerSpacing;\n  }, function (a) {\n    this.wa.layerSpacing !== a && (w.j(a, \"number\", $, \"alternateLayerSpacing\"), this.wa.layerSpacing = a, this.J());\n  });\n  w.defineProperty($, {\n    sK: \"alternateLayerSpacingParentOverlap\"\n  }, function () {\n    return this.wa.layerSpacingParentOverlap;\n  }, function (a) {\n    this.wa.layerSpacingParentOverlap !== a && (w.j(a, \"number\", $, \"alternateLayerSpacingParentOverlap\"), 0 <= a && 1 >= a && (this.wa.layerSpacingParentOverlap = a, this.J()));\n  });\n  w.defineProperty($, {\n    oK: \"alternateCompaction\"\n  }, function () {\n    return this.wa.compaction;\n  }, function (a) {\n    this.wa.compaction !== a && (w.ob(a, $, $, \"alternateCompaction\"), a === Uv || a === Wv) && (this.wa.compaction = a, this.J());\n  });\n  w.defineProperty($, {\n    kK: \"alternateBreadthLimit\"\n  }, function () {\n    return this.wa.breadthLimit;\n  }, function (a) {\n    this.wa.breadthLimit !== a && (w.j(a, \"number\", $, \"alternateBreadthLimit\"), 0 <= a && (this.wa.breadthLimit = a, this.J()));\n  });\n  w.defineProperty($, {\n    yK: \"alternateRowSpacing\"\n  }, function () {\n    return this.wa.rowSpacing;\n  }, function (a) {\n    this.wa.rowSpacing !== a && (w.j(a, \"number\", $, \"alternateRowSpacing\"), this.wa.rowSpacing = a, this.J());\n  });\n  w.defineProperty($, {\n    xK: \"alternateRowIndent\"\n  }, function () {\n    return this.wa.rowIndent;\n  }, function (a) {\n    this.wa.rowIndent !== a && (w.j(a, \"number\", $, \"alternateRowIndent\"), 0 <= a && (this.wa.rowIndent = a, this.J()));\n  });\n  w.defineProperty($, {\n    nK: \"alternateCommentSpacing\"\n  }, function () {\n    return this.wa.commentSpacing;\n  }, function (a) {\n    this.wa.commentSpacing !== a && (w.j(a, \"number\", $, \"alternateCommentSpacing\"), this.wa.commentSpacing = a, this.J());\n  });\n  w.defineProperty($, {\n    mK: \"alternateCommentMargin\"\n  }, function () {\n    return this.wa.commentMargin;\n  }, function (a) {\n    this.wa.commentMargin !== a && (w.j(a, \"number\", $, \"alternateCommentMargin\"), this.wa.commentMargin = a, this.J());\n  });\n  w.defineProperty($, {\n    AK: \"alternateSetsPortSpot\"\n  }, function () {\n    return this.wa.setsPortSpot;\n  }, function (a) {\n    this.wa.setsPortSpot !== a && (w.j(a, \"boolean\", $, \"alternateSetsPortSpot\"), this.wa.setsPortSpot = a, this.J());\n  });\n  w.defineProperty($, {\n    wK: \"alternatePortSpot\"\n  }, function () {\n    return this.wa.portSpot;\n  }, function (a) {\n    w.G(a, K, $, \"alternatePortSpot\");\n    this.wa.portSpot.L(a) || (this.wa.portSpot = a, this.J());\n  });\n  w.defineProperty($, {\n    zK: \"alternateSetsChildPortSpot\"\n  }, function () {\n    return this.wa.setsChildPortSpot;\n  }, function (a) {\n    this.wa.setsChildPortSpot !== a && (w.j(a, \"boolean\", $, \"alternateSetsChildPortSpot\"), this.wa.setsChildPortSpot = a, this.J());\n  });\n  w.defineProperty($, {\n    lK: \"alternateChildPortSpot\"\n  }, function () {\n    return this.wa.childPortSpot;\n  }, function (a) {\n    w.G(a, K, $, \"alternateChildPortSpot\");\n    this.wa.childPortSpot.L(a) || (this.wa.childPortSpot = a, this.J());\n  });\n  var mv;\n  $.PathDefault = mv = w.p($, \"PathDefault\", -1);\n  var nv;\n  $.PathDestination = nv = w.p($, \"PathDestination\", 0);\n  var uv;\n  $.PathSource = uv = w.p($, \"PathSource\", 1);\n  var Jv;\n  $.SortingForwards = Jv = w.p($, \"SortingForwards\", 10);\n  var Kv;\n  $.SortingReverse = Kv = w.p($, \"SortingReverse\", 11);\n  var Lv;\n  $.SortingAscending = Lv = w.p($, \"SortingAscending\", 12);\n  var Mv;\n  $.SortingDescending = Mv = w.p($, \"SortingDescending\", 13);\n  var Ow;\n  $.AlignmentCenterSubtrees = Ow = w.p($, \"AlignmentCenterSubtrees\", 20);\n  var Nv;\n  $.AlignmentCenterChildren = Nv = w.p($, \"AlignmentCenterChildren\", 21);\n  var Yv;\n  $.AlignmentStart = Yv = w.p($, \"AlignmentStart\", 22);\n  var Zv;\n  $.AlignmentEnd = Zv = w.p($, \"AlignmentEnd\", 23);\n  var Pv;\n  $.AlignmentBus = Pv = w.p($, \"AlignmentBus\", 24);\n  var Ev;\n  $.AlignmentBusBranching = Ev = w.p($, \"AlignmentBusBranching\", 25);\n  var Qv;\n  $.AlignmentTopLeftBus = Qv = w.p($, \"AlignmentTopLeftBus\", 26);\n  var Rv;\n  $.AlignmentBottomRightBus = Rv = w.p($, \"AlignmentBottomRightBus\", 27);\n  var Uv;\n  $.CompactionNone = Uv = w.p($, \"CompactionNone\", 30);\n  var Wv;\n  $.CompactionBlock = Wv = w.p($, \"CompactionBlock\", 31);\n  var ov;\n  $.StyleLayered = ov = w.p($, \"StyleLayered\", 40);\n  var Iv;\n  $.StyleLastParents = Iv = w.p($, \"StyleLastParents\", 41);\n  var Hv;\n  $.StyleAlternating = Hv = w.p($, \"StyleAlternating\", 42);\n  var Gv;\n  $.StyleRootOnly = Gv = w.p($, \"StyleRootOnly\", 43);\n  var qv;\n  $.ArrangementVertical = qv = w.p($, \"ArrangementVertical\", 50);\n  var Xw;\n  $.ArrangementHorizontal = Xw = w.p($, \"ArrangementHorizontal\", 51);\n  var tv;\n  $.ArrangementFixedRoots = tv = w.p($, \"ArrangementFixedRoots\", 52);\n  var pv;\n  $.LayerIndividual = pv = w.p($, \"LayerIndividual\", 60);\n  var Cv;\n  $.LayerSiblings = Cv = w.p($, \"LayerSiblings\", 61);\n  var Bv;\n  $.LayerUniform = Bv = w.p($, \"LayerUniform\", 62);\n\n  function sv() {\n    tg.call(this);\n  }\n\n  w.La(sv, tg);\n  w.ga(\"TreeNetwork\", sv);\n\n  sv.prototype.createVertex = function () {\n    return new rv();\n  };\n\n  sv.prototype.createEdge = function () {\n    return new Zw();\n  };\n\n  function rv() {\n    os.call(this);\n    this.initialized = !1;\n    this.parent = null;\n    this.children = [];\n    this.maxGenerationCount = this.maxChildrenCount = this.descendantCount = this.level = 0;\n    this.comments = null;\n    this.pa = new z(0, 0);\n    this.kb = new ia(0, 0);\n    this.Oa = new z(0, 0);\n    this.Aq = this.zq = this.AJ = !1;\n    this.Wu = this.Cu = null;\n    this.sorting = Jv;\n    this.comparer = us;\n    this.angle = 0;\n    this.alignment = Nv;\n    this.nodeIndentPastParent = this.nodeIndent = 0;\n    this.nodeSpacing = 20;\n    this.layerSpacing = 50;\n    this.layerSpacingParentOverlap = 0;\n    this.compaction = Wv;\n    this.breadthLimit = 0;\n    this.rowSpacing = 25;\n    this.commentSpacing = this.rowIndent = 10;\n    this.commentMargin = 20;\n    this.setsPortSpot = !0;\n    this.portSpot = qc;\n    this.setsChildPortSpot = !0;\n    this.childPortSpot = qc;\n  }\n\n  w.La(rv, os);\n  w.ga(\"TreeVertex\", rv);\n\n  rv.prototype.copyInheritedPropertiesFrom = function (a) {\n    null !== a && (this.sorting = a.sorting, this.comparer = a.comparer, this.angle = a.angle, this.alignment = a.alignment, this.nodeIndent = a.nodeIndent, this.nodeIndentPastParent = a.nodeIndentPastParent, this.nodeSpacing = a.nodeSpacing, this.layerSpacing = a.layerSpacing, this.layerSpacingParentOverlap = a.layerSpacingParentOverlap, this.compaction = a.compaction, this.breadthLimit = a.breadthLimit, this.rowSpacing = a.rowSpacing, this.rowIndent = a.rowIndent, this.commentSpacing = a.commentSpacing, this.commentMargin = a.commentMargin, this.setsPortSpot = a.setsPortSpot, this.portSpot = a.portSpot, this.setsChildPortSpot = a.setsChildPortSpot, this.childPortSpot = a.childPortSpot);\n  };\n\n  w.u(rv, {\n    sn: \"childrenCount\"\n  }, function () {\n    return this.children.length;\n  });\n  w.defineProperty(rv, {\n    ML: \"relativePosition\"\n  }, function () {\n    return this.pa;\n  }, function (a) {\n    this.pa.set(a);\n  });\n  w.defineProperty(rv, {\n    YL: \"subtreeSize\"\n  }, function () {\n    return this.kb;\n  }, function (a) {\n    this.kb.set(a);\n  });\n  w.defineProperty(rv, {\n    XL: \"subtreeOffset\"\n  }, function () {\n    return this.Oa;\n  }, function (a) {\n    this.Oa.set(a);\n  });\n\n  function Zw() {\n    ps.call(this);\n    this.$s = new z(0, 0);\n  }\n\n  w.La(Zw, ps);\n  w.ga(\"TreeEdge\", Zw);\n\n  Zw.prototype.commit = function () {\n    var a = this.link;\n\n    if (null !== a && !a.fm) {\n      var b = this.network.Ub,\n          c = null,\n          d = null;\n\n      switch (b.Of) {\n        case nv:\n          c = this.fromVertex;\n          d = this.toVertex;\n          break;\n\n        case uv:\n          c = this.toVertex;\n          d = this.fromVertex;\n          break;\n\n        default:\n          w.k(\"Unhandled path value \" + b.Of.toString());\n      }\n\n      if (null !== c && null !== d) if (b = this.$s, 0 !== b.x || 0 !== b.y || c.AJ) {\n        var d = c.eb,\n            e = Xv(c),\n            f = $v(c),\n            h = c.rowSpacing;\n        a.io();\n        var k = a.nf === tj,\n            l = a.ac,\n            m = 0,\n            n,\n            p;\n        a.qm();\n\n        if (l || k) {\n          for (m = 2; 4 < a.qa;) {\n            a.cG(2);\n          }\n\n          n = a.l(1);\n          p = a.l(2);\n        } else {\n          for (m = 1; 3 < a.qa;) {\n            a.cG(1);\n          }\n\n          n = a.l(0);\n          p = a.l(a.qa - 1);\n        }\n\n        var q = a.l(a.qa - 1),\n            r = 0;\n        0 === e ? (c.alignment === Zv ? (r = d.bottom + b.y, 0 === b.y && n.y > q.y + c.rowIndent && (r = Math.min(r, Math.max(n.y, r - aw(c))))) : c.alignment === Yv ? (r = d.top + b.y, 0 === b.y && n.y < q.y - c.rowIndent && (r = Math.max(r, Math.min(n.y, r + aw(c))))) : r = c.zq || c.Aq && 1 === c.maxGenerationCount ? d.top - c.Oa.y + b.y : d.y + d.height / 2 + b.y, k ? (a.w(m, n.x, r), m++, a.w(m, d.right + f, r), m++, a.w(m, d.right + f + (b.x - h) / 3, r), m++, a.w(m, d.right + f + 2 * (b.x - h) / 3, r), m++, a.w(m, d.right + f + (b.x - h), r), m++, a.w(m, p.x, r)) : (l && (a.w(m, d.right + f / 2, n.y), m++), a.w(m, d.right + f / 2, r), m++, a.w(m, d.right + f + b.x - (l ? h / 2 : h), r), m++, l && a.w(m, a.l(m - 1).x, p.y))) : 90 === e ? (c.alignment === Zv ? (r = d.right + b.x, 0 === b.x && n.x > q.x + c.rowIndent && (r = Math.min(r, Math.max(n.x, r - aw(c))))) : c.alignment === Yv ? (r = d.left + b.x, 0 === b.x && n.x < q.x - c.rowIndent && (r = Math.max(r, Math.min(n.x, r + aw(c))))) : r = c.zq || c.Aq && 1 === c.maxGenerationCount ? d.left - c.Oa.x + b.x : d.x + d.width / 2 + b.x, k ? (a.w(m, r, n.y), m++, a.w(m, r, d.bottom + f), m++, a.w(m, r, d.bottom + f + (b.y - h) / 3), m++, a.w(m, r, d.bottom + f + 2 * (b.y - h) / 3), m++, a.w(m, r, d.bottom + f + (b.y - h)), m++, a.w(m, r, p.y)) : (l && (a.w(m, n.x, d.bottom + f / 2), m++), a.w(m, r, d.bottom + f / 2), m++, a.w(m, r, d.bottom + f + b.y - (l ? h / 2 : h)), m++, l && a.w(m, p.x, a.l(m - 1).y))) : 180 === e ? (c.alignment === Zv ? (r = d.bottom + b.y, 0 === b.y && n.y > q.y + c.rowIndent && (r = Math.min(r, Math.max(n.y, r - aw(c))))) : c.alignment === Yv ? (r = d.top + b.y, 0 === b.y && n.y < q.y - c.rowIndent && (r = Math.max(r, Math.min(n.y, r + aw(c))))) : r = c.zq || c.Aq && 1 === c.maxGenerationCount ? d.top - c.Oa.y + b.y : d.y + d.height / 2 + b.y, k ? (a.w(m, n.x, r), m++, a.w(m, d.left - f, r), m++, a.w(m, d.left - f + (b.x + h) / 3, r), m++, a.w(m, d.left - f + 2 * (b.x + h) / 3, r), m++, a.w(m, d.left - f + (b.x + h), r), m++, a.w(m, p.x, r)) : (l && (a.w(m, d.left - f / 2, n.y), m++), a.w(m, d.left - f / 2, r), m++, a.w(m, d.left - f + b.x + (l ? h / 2 : h), r), m++, l && a.w(m, a.l(m - 1).x, p.y))) : 270 === e ? (c.alignment === Zv ? (r = d.right + b.x, 0 === b.x && n.x > q.x + c.rowIndent && (r = Math.min(r, Math.max(n.x, r - aw(c))))) : c.alignment === Yv ? (r = d.left + b.x, 0 === b.x && n.x < q.x - c.rowIndent && (r = Math.max(r, Math.min(n.x, r + aw(c))))) : r = c.zq || c.Aq && 1 === c.maxGenerationCount ? d.left - c.Oa.x + b.x : d.x + d.width / 2 + b.x, k ? (a.w(m, r, n.y), m++, a.w(m, r, d.top - f), m++, a.w(m, r, d.top - f + (b.y + h) / 3), m++, a.w(m, r, d.top - f + 2 * (b.y + h) / 3), m++, a.w(m, r, d.top - f + (b.y + h)), m++, a.w(m, r, p.y)) : (l && (a.w(m, n.x, d.top - f / 2), m++), a.w(m, r, d.top - f / 2), m++, a.w(m, r, d.top - f + b.y + (l ? h / 2 : h)), m++, l && a.w(m, p.x, a.l(m - 1).y))) : w.k(\"Invalid angle \" + e);\n        a.qj();\n      } else e = c, f = d, a = this.link, c = Xv(e), c !== Xv(f) && (b = $v(e), d = e.eb, e = f.eb, 0 === c && e.left - d.right < b + 1 || 90 === c && e.top - d.bottom < b + 1 || 180 === c && d.left - e.right < b + 1 || 270 === c && d.top - e.bottom < b + 1 || (a.io(), e = a.nf === tj, f = a.ac, h = Ov(this.fromVertex.alignment), a.qm(), 0 === c ? (c = d.right + b / 2, e ? 4 === a.qa && (b = a.l(3).y, a.ca(1, c - 20, a.l(1).y), a.w(2, c - 20, b), a.w(3, c, b), a.w(4, c + 20, b), a.ca(5, a.l(5).x, b)) : f ? h ? a.ca(3, a.l(2).x, a.l(4).y) : 6 === a.qa && (a.ca(2, c, a.l(2).y), a.ca(3, c, a.l(3).y)) : 4 === a.qa ? a.w(2, c, a.l(2).y) : 3 === a.qa ? a.ca(1, c, a.l(2).y) : 2 === a.qa && a.w(1, c, a.l(1).y)) : 90 === c ? (b = d.bottom + b / 2, e ? 4 === a.qa && (c = a.l(3).x, a.ca(1, a.l(1).x, b - 20), a.w(2, c, b - 20), a.w(3, c, b), a.w(4, c, b + 20), a.ca(5, c, a.l(5).y)) : f ? h ? a.ca(3, a.l(2).x, a.l(4).y) : 6 === a.qa && (a.ca(2, a.l(2).x, b), a.ca(3, a.l(3).x, b)) : 4 === a.qa ? a.w(2, a.l(2).x, b) : 3 === a.qa ? a.ca(1, a.l(2).x, b) : 2 === a.qa && a.w(1, a.l(1).x, b)) : 180 === c ? (c = d.left - b / 2, e ? 4 === a.qa && (b = a.l(3).y, a.ca(1, c + 20, a.l(1).y), a.w(2, c + 20, b), a.w(3, c, b), a.w(4, c - 20, b), a.ca(5, a.l(5).x, b)) : f ? h ? a.ca(3, a.l(2).x, a.l(4).y) : 6 === a.qa && (a.ca(2, c, a.l(2).y), a.ca(3, c, a.l(3).y)) : 4 === a.qa ? a.w(2, c, a.l(2).y) : 3 === a.qa ? a.ca(1, c, a.l(2).y) : 2 === a.qa && a.w(1, c, a.l(1).y)) : 270 === c && (b = d.top - b / 2, e ? 4 === a.qa && (c = a.l(3).x, a.ca(1, a.l(1).x, b + 20), a.w(2, c, b + 20), a.w(3, c, b), a.w(4, c, b - 20), a.ca(5, c, a.l(5).y)) : f ? h ? a.ca(3, a.l(2).x, a.l(4).y) : 6 === a.qa && (a.ca(2, a.l(2).x, b), a.ca(3, a.l(3).x, b)) : 4 === a.qa ? a.w(2, a.l(2).x, b) : 3 === a.qa ? a.ca(1, a.l(2).x, b) : 2 === a.qa && a.w(1, a.l(1).x, b)), a.qj()));\n    }\n  };\n\n  w.defineProperty(Zw, {\n    LL: \"relativePoint\"\n  }, function () {\n    return this.$s;\n  }, function (a) {\n    this.$s.set(a);\n  });\n\n  function $w() {\n    G.call(this);\n    this.Ve = null;\n  }\n\n  w.La($w, G);\n\n  $w.prototype.cloneProtected = function (a) {\n    G.prototype.cloneProtected.call(this, a);\n    a.element = this.Ve.cloneNode(!0);\n  };\n\n  $w.prototype.toString = function () {\n    return \"HTMLHost(\" + this.Ve.toString() + \")#\" + w.Qd(this);\n  };\n\n  $w.prototype.Ik = function (a, b) {\n    var c = this.Ve;\n\n    if (null !== c) {\n      var d = this.Ya(Jb);\n      d.x -= this.U.width / 2;\n      d.y -= this.U.height / 2;\n      d.x -= this.U.x;\n      d.y -= this.U.y;\n      var d = b.Dy(d),\n          e = b.tj;\n      null === e || e.contains(c) || e.appendChild(c);\n      e = this.transform;\n      c.style.transform = \"matrix(\" + e.m11 + \",\" + e.m12 + \",\" + e.m21 + \",\" + e.m22 + \",\" + e.dx + \",\" + e.dy + \")\";\n      c.style.transformOrigin = \"0 0\";\n      e = d.y;\n      c.style.left = d.x + \"px\";\n      c.style.top = e + \"px\";\n    }\n  };\n\n  $w.prototype.Qn = function (a, b, c, d) {\n    var e = this.Da;\n    isFinite(e.width) && (a = e.width);\n    isFinite(e.height) && (b = e.height);\n    var e = this.Hf,\n        f = this.si;\n    c = Math.max(c, f.width);\n    d = Math.max(d, f.height);\n    a = Math.min(e.width, a);\n    b = Math.min(e.height, b);\n    a = Math.max(c, a);\n    b = Math.max(d, b);\n    c = this.Ve;\n    null !== c && (b = c.getBoundingClientRect(), a = b.width, b = b.height);\n    Ua(this.Nc, a, b);\n    Eo(this, 0, 0, a, b);\n  };\n\n  $w.prototype.pj = function (a, b, c, d) {\n    Lo(this, a, b, c, d);\n  };\n\n  w.u($w, {\n    Ja: \"naturalBounds\"\n  }, function () {\n    return this.Nc;\n  });\n  w.defineProperty($w, {\n    element: \"element\"\n  }, function () {\n    return this.Ve;\n  }, function (a) {\n    var b = this.Ve;\n    b !== a && (a instanceof HTMLElement || w.k(\"HTMLHost.element must be an instance of Element.\"), this.Ve = a, a.className = \"HTMLHost\", this.h(\"element\", b, a), this.oa());\n  });\n  ca.version = \"1.8.34\";\n  window && (window.module && \"object\" === typeof window.module && \"object\" === typeof window.module.exports ? window.module.exports = ca : window.define && \"function\" === typeof window.define && window.define.amd ? (window.go = ca, window.define(ca)) : window.go = ca);\n  \"undefined\" !== typeof module && \"object\" === typeof module.exports && (module.exports = ca);\n})(window);","map":null,"metadata":{},"sourceType":"script"}