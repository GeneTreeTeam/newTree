'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _classnames = _interopRequireDefault(require("classnames"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _reactRouterDom = require("react-router-dom");

var _theComponentUtil = require("the-component-util");

var _theIcon = require("the-icon");

var _url = require("url");

var _TheLinkStyle = _interopRequireDefault(require("./TheLinkStyle"));

/**
 * Link of the-components
 */
var TheLink =
/*#__PURE__*/
function (_React$Component) {
  (0, _inherits2.default)(TheLink, _React$Component);

  function TheLink() {
    (0, _classCallCheck2.default)(this, TheLink);
    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(TheLink).apply(this, arguments));
  }

  (0, _createClass2.default)(TheLink, [{
    key: "render",
    value: function render() {
      var props = this.props;
      var activeClassName = props.activeClassName,
          activeStyle = props.activeStyle,
          children = props.children,
          className = props.className,
          color = props.color,
          exact = props.exact,
          icon = props.icon,
          replace = props.replace,
          strict = props.strict,
          _props$style = props.style,
          style = _props$style === void 0 ? {} : _props$style,
          to = props.to;

      if (color && style) {
        style.color = color;
      }

      return _react.default.createElement(TheLink.Link, (0, _extends2.default)({}, (0, _theComponentUtil.htmlAttributesFor)(props, {
        except: ['className', 'style']
      }), (0, _theComponentUtil.eventHandlersFor)(props, {
        except: []
      }), {
        activeClassName: (0, _classnames.default)('the-link-active', activeClassName),
        className: (0, _classnames.default)('the-link', className)
      }, {
        activeStyle: activeStyle,
        exact: exact,
        replace: replace,
        strict: strict,
        style: style,
        to: to
      }), icon && _react.default.createElement(_theIcon.TheIcon, {
        className: (0, _classnames.default)('the-link-icon', icon)
      }), children);
    }
  }], [{
    key: "Link",
    value: function Link(props) {
      var children = props.children,
          className = props.className,
          to = props.to;

      var _ref = to && (0, _url.parse)(to) || {},
          protocol = _ref.protocol;

      if (protocol) {
        // External link
        return _react.default.createElement("a", (0, _extends2.default)({}, (0, _theComponentUtil.htmlAttributesFor)(props, {
          except: ['className', 'href']
        }), (0, _theComponentUtil.eventHandlersFor)(props, {
          except: []
        }), {
          className: (0, _classnames.default)('the-link-external', className),
          href: to
        }), children);
      }

      return _react.default.createElement(_reactRouterDom.NavLink, props, children);
    }
  }]);
  return TheLink;
}(_react.default.Component);

TheLink.Style = _TheLinkStyle.default;
TheLink.propTypes = {
  /** Class name for active state */
  activeClassName: _propTypes.default.string,

  /** Style for active state */
  activeStyle: _propTypes.default.object,

  /** Color theme */
  color: _propTypes.default.string,

  /** Exact path */
  exact: _propTypes.default.bool,

  /** Icon class name */
  icon: _propTypes.default.string,

  /** String path */
  strict: _propTypes.default.bool,

  /** Link to */
  to: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]).isRequired
};
TheLink.defaultProps = {
  activeClassName: null,
  activeStyle: {},
  color: null,
  exact: false,
  icon: null,
  replace: false,
  role: 'link',
  strict: false,
  to: null
};
TheLink.displayName = 'TheLink';
var _default = TheLink;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRoZUxpbmsuanN4Il0sIm5hbWVzIjpbIlRoZUxpbmsiLCJwcm9wcyIsImFjdGl2ZUNsYXNzTmFtZSIsImFjdGl2ZVN0eWxlIiwiY2hpbGRyZW4iLCJjbGFzc05hbWUiLCJjb2xvciIsImV4YWN0IiwiaWNvbiIsInJlcGxhY2UiLCJzdHJpY3QiLCJzdHlsZSIsInRvIiwiZXhjZXB0IiwicHJvdG9jb2wiLCJSZWFjdCIsIkNvbXBvbmVudCIsIlN0eWxlIiwiVGhlTGlua1N0eWxlIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwib2JqZWN0IiwiYm9vbCIsIm9uZU9mVHlwZSIsImlzUmVxdWlyZWQiLCJkZWZhdWx0UHJvcHMiLCJyb2xlIiwiZGlzcGxheU5hbWUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7O0lBR01BLE87Ozs7Ozs7Ozs7Ozs2QkF1Qk07QUFBQSxVQUNBQyxLQURBLEdBQ1UsSUFEVixDQUNBQSxLQURBO0FBQUEsVUFHTkMsZUFITSxHQWNKRCxLQWRJLENBR05DLGVBSE07QUFBQSxVQUlOQyxXQUpNLEdBY0pGLEtBZEksQ0FJTkUsV0FKTTtBQUFBLFVBS05DLFFBTE0sR0FjSkgsS0FkSSxDQUtORyxRQUxNO0FBQUEsVUFNTkMsU0FOTSxHQWNKSixLQWRJLENBTU5JLFNBTk07QUFBQSxVQU9OQyxLQVBNLEdBY0pMLEtBZEksQ0FPTkssS0FQTTtBQUFBLFVBUU5DLEtBUk0sR0FjSk4sS0FkSSxDQVFOTSxLQVJNO0FBQUEsVUFTTkMsSUFUTSxHQWNKUCxLQWRJLENBU05PLElBVE07QUFBQSxVQVVOQyxPQVZNLEdBY0pSLEtBZEksQ0FVTlEsT0FWTTtBQUFBLFVBV05DLE1BWE0sR0FjSlQsS0FkSSxDQVdOUyxNQVhNO0FBQUEseUJBY0pULEtBZEksQ0FZTlUsS0FaTTtBQUFBLFVBWU5BLEtBWk0sNkJBWUUsRUFa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QUEsS0FBSyxFQUFFLElBSGM7QUFJckJDLEVBQUFBLEtBQUssRUFBRSxLQUpjO0FBS3JCQyxFQUFBQSxJQUFJLEVBQUUsSUFMZTtBQU1yQkMsRUFBQUEsT0FBTyxFQUFFLEtBTlk7QUFPckJrQixFQUFBQSxJQUFJLEVBQUUsTUFQZTtBQVFyQmpCLEVBQUFBLE1BQU0sRUFBRSxLQVJhO0FBU3JCRSxFQUFBQSxFQUFFLEVBQUU7QUFUaUIsQ0FBdkI7QUFZQVosT0FBTyxDQUFDNEIsV0FBUixHQUFzQixTQUF0QjtlQUVlNUIsTyIsInNvdXJjZVJvb3QiOiIuLi9saWIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuaW1wb3J0IGMgZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IE5hdkxpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IHsgZXZlbnRIYW5kbGVyc0ZvciwgaHRtbEF0dHJpYnV0ZXNGb3IgfSBmcm9tICd0aGUtY29tcG9uZW50LXV0aWwnXG5pbXBvcnQgeyBUaGVJY29uIH0gZnJvbSAndGhlLWljb24nXG5pbXBvcnQgeyBwYXJzZSBhcyBwYXJzZVVybCB9IGZyb20gJ3VybCdcbmltcG9ydCBUaGVMaW5rU3R5bGUgZnJvbSAnLi9UaGVMaW5rU3R5bGUnXG5cbi8qKlxuICogTGluayBvZiB0aGUtY29tcG9uZW50c1xuICovXG5jbGFzcyBUaGVMaW5rIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIExpbmsgKHByb3BzKSB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCB0byB9ID0gcHJvcHNcbiAgICBjb25zdCB7IHByb3RvY29sIH0gPSAodG8gJiYgcGFyc2VVcmwodG8pIHx8IHt9KVxuICAgIGlmIChwcm90b2NvbCkge1xuICAgICAgLy8gRXh0ZXJuYWwgbGlua1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGEgey4uLmh0bWxBdHRyaWJ1dGVzRm9yKHByb3BzLCB7IGV4Y2VwdDogWydjbGFzc05hbWUnLCAnaHJlZiddIH0pfVxuICAgICAgICAgICB7Li4uZXZlbnRIYW5kbGVyc0Zvcihwcm9wcywgeyBleGNlcHQ6IFtdIH0pfVxuICAgICAgICAgICBjbGFzc05hbWU9e2MoJ3RoZS1saW5rLWV4dGVybmFsJywgY2xhc3NOYW1lKX1cbiAgICAgICAgICAgaHJlZj17dG99XG4gICAgICAgID57Y2hpbGRyZW59PC9hPlxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPE5hdkxpbmsgey4uLnByb3BzfVxuXG4gICAgICA+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvTmF2TGluaz5cbiAgICApXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXNcbiAgICBjb25zdCB7XG4gICAgICBhY3RpdmVDbGFzc05hbWUsXG4gICAgICBhY3RpdmVTdHlsZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgY29sb3IsXG4gICAgICBleGFjdCxcbiAgICAgIGljb24sXG4gICAgICByZXBsYWNlLFxuICAgICAgc3RyaWN0LFxuICAgICAgc3R5bGUgPSB7fSxcbiAgICAgIHRvLFxuICAgIH0gPSBwcm9wc1xuICAgIGlmIChjb2xvciAmJiBzdHlsZSkge1xuICAgICAgc3R5bGUuY29sb3IgPSBjb2xvclxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPFRoZUxpbmsuTGluayB7Li4uaHRtbEF0dHJpYnV0ZXNGb3IocHJvcHMsIHsgZXhjZXB0OiBbJ2NsYXNzTmFtZScsICdzdHlsZSddIH0pfVxuICAgICAgICAgICAgICAgICAgICB7Li4uZXZlbnRIYW5kbGVyc0Zvcihwcm9wcywgeyBleGNlcHQ6IFtdIH0pfVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDbGFzc05hbWU9e2MoJ3RoZS1saW5rLWFjdGl2ZScsIGFjdGl2ZUNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YygndGhlLWxpbmsnLCBjbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgICAgICB7Li4ueyBhY3RpdmVTdHlsZSwgZXhhY3QsIHJlcGxhY2UsIHN0cmljdCwgc3R5bGUsIHRvIH19XG4gICAgICA+XG4gICAgICAgIHtpY29uICYmIDxUaGVJY29uIGNsYXNzTmFtZT17YygndGhlLWxpbmstaWNvbicsIGljb24pfS8+fVxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L1RoZUxpbmsuTGluaz5cbiAgICApXG4gIH1cbn1cblxuVGhlTGluay5TdHlsZSA9IFRoZUxpbmtTdHlsZVxuXG5UaGVMaW5rLnByb3BUeXBlcyA9IHtcbiAgLyoqIENsYXNzIG5hbWUgZm9yIGFjdGl2ZSBzdGF0ZSAqL1xuICBhY3RpdmVDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKiBTdHlsZSBmb3IgYWN0aXZlIHN0YXRlICovXG4gIGFjdGl2ZVN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAvKiogQ29sb3IgdGhlbWUgKi9cbiAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKiBFeGFjdCBwYXRoICovXG4gIGV4YWN0OiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqIEljb24gY2xhc3MgbmFtZSAqL1xuICBpY29uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvKiogU3RyaW5nIHBhdGggKi9cbiAgc3RyaWN0OiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqIExpbmsgdG8gKi9cbiAgdG86IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKS5pc1JlcXVpcmVkLFxufVxuXG5UaGVMaW5rLmRlZmF1bHRQcm9wcyA9IHtcbiAgYWN0aXZlQ2xhc3NOYW1lOiBudWxsLFxuICBhY3RpdmVTdHlsZToge30sXG4gIGNvbG9yOiBudWxsLFxuICBleGFjdDogZmFsc2UsXG4gIGljb246IG51bGwsXG4gIHJlcGxhY2U6IGZhbHNlLFxuICByb2xlOiAnbGluaycsXG4gIHN0cmljdDogZmFsc2UsXG4gIHRvOiBudWxsLFxufVxuXG5UaGVMaW5rLmRpc3BsYXlOYW1lID0gJ1RoZUxpbmsnXG5cbmV4cG9ydCBkZWZhdWx0IFRoZUxpbmtcbiJdfQ==